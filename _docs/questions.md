---
layout: docs
title: Question blocks
short_title: Question Blocks
---

In the **docassemble** web app, every screen that a user sees is
generated by a [`question`] block, which is a section of [YAML] code
that contains a [`question`] statement.

All blocks in an interview file must either be [initial blocks],
[code blocks], or contain a [`question`].

# <a name="question"></a>The `question` statement

{% include side-by-side.html demo="question" %}

By including the above [YAML] block in your interview file, you are
telling **docassemble** that if it ever needs to know the value of
`swallow_velocity`, it should ask the user the question "What is the
airspeed velocity of an unladen swallow?" and provide the user with an
input box labeled "Velocity" in which the user can type the answer.

Like most things in **docassemble**, the `question` statement can
contain [Markdown] and [Mako].  For example:

{% include side-by-side.html demo="question-markup" %}

In this example, the word "airspeed" is italicized, using the
[Markdown] syntax for italics.  The type of swallow is given by a
variable (`african_or_european`), the value of which (`"African"`) is
incorporated using [Mako].  (One of the features of [Mako] is that
anything enclosed in `${ ... }` is evaluated as [Python] code.)

# <a name="subquestion"></a>The `subquestion` statement

The optional `subquestion` adds text underneath the [`question`].  It is
typically used to explain the question in more detail, if such an
explanation is necessary.

{% include side-by-side.html demo="subquestion" %}

# <a name="under"></a>The `under` statement

The optional `under` adds text underneath the buttons.

{% include side-by-side.html demo="under" %}

# Using questions to set variables

Here is a brief summary of the types of questions that can be asked.
More detail about how these question types work is provided in the
[next section].

## True or false: `yesno` and `noyes`

A [`yesno`] question will set a variable to `True` or `False` when a Yes
or No button is pressed.  [`noyes`] does the opposite.

{% include side-by-side.html demo="yesno" %}

## <a name="choices"></a><a name="buttons"></a>Multiple choice: `choices` or `buttons`

You can ask a multiple-choice question by providing a list of [`choices`]:

{% include side-by-side.html demo="choices" %}

Or, if you would prefer to use one-click buttons instead of "radio
buttons" in combination with a "Continue" button, use can use
[`buttons`] instead of [`choices`].

{% include side-by-side.html demo="buttons" %}

The variable indicated by [`field`] will be set to the value supplied in
the [`choices`]/[`buttons`] list.

## Acknowledgement button: `field`

If you simply want the user to acknowledge something by clicking
"Continue," provide a [`field`] without [`buttons`] or [`choices`].

The variable indicated by [`field`] will be set to `True` when the user
clicks "Continue."

{% include side-by-side.html demo="continue" %}

## One or more fill-in fields: [`fields`]

You can ask the user to fill in multiple fields using [`fields`].

{% include side-by-side.html demo="text-field" %}

There are many other types of input that you can gather with [`fields`],
including large text areas, file uploads, radio buttons, and
checkboxes.

There are a variety of ways you can insert text into the list of
fields to help guide the user.  If you know [HTML], you can insert
arbitrary [HTML], [CSS], and [Javascript].

## User's signature: `signature`

You can ask the user to write his or her signature using [`signature`]:

{% include side-by-side.html demo="signature" %}

The signature will be stored as an image file in the variable
indicated by [`signature`].

## <a name="ending screens"></a>Ending screens

Sometimes, the purpose of your [`question`] is not to gather
information but to present an end screen to the user.  You can create
such "questions" by marking them as [`mandatory`]:

{% include side-by-side.html demo="terminal-screen" %}

If you have more than one possible ending screen in your interview,
use the [`event`](#event) feature described below.

### <a name="special buttons"></a>Special buttons

Using the [`buttons`](#buttons) or [`choices`](#choices) syntax
described above, you can add special buttons to a screen.  These
buttons are special because they do not set a variable.

These buttons are particularly useful on "terminal" screens.

{% include side-by-side.html demo="exit-buttons" %}

The above example allows the user to "exit" the interview (i.e., to be
redirected to a different web site) or "restart" the interview (i.e.,
go back to the beginning, with all of the answers forgotten).

There are six special button functions:

* `restart`
* `exit`
* `logout`
* `leave`
* `continue`
* `refresh`
* `signin`

<a name="restart"></a>`restart` resets the user's variable store,
except that any parameters that were originally passed through as URL
parameters will be used again.  The user is redirected to the first
question of the interview.

<a name="exit"></a>`exit` means that the user's variable store will be
erased and the user will be redirected either to the URL given by the
associated `url` text, or if no `url` is defined, to the `exit` page
defined in the [configuration].  If the user tries to come back to the
interview again, he will start the interview again, as though it had
never been started.  Original URL parameters will be lost.

For example:

{% include side-by-side.html demo="exit-url" %}

[Mako] can be used in the `url` text.

<a name="logout"></a>`logout` does the same thing as `exit`, except
that it also logs the user out, if the user is logged in.

<a name="leave"></a>`leave` works like `exit` except that the user's
variable store will be left intact.  This means that if the user comes
back to the interview again, he will pick up where he left off.

<a name="continue"></a>`continue` means that **docassemble** will move
on from the question without really doing anything.  Here is an
example of when it is useful:

{% include side-by-side.html demo="menu-item" %}

This example uses the [actions] feature to present a special screen
that shows a picture.  This screen does not set any variable, but the
user can click the button to "continue" with the normal course of the
interview.

<a name="refresh"></a>`refresh` re-runs the [interview logic].  It has
much the same effect as refreshing the page in the browser.  It is
useful in multi-user interviews when the user is waiting for another
user to finish entering information.  It can also be useful in
interviews that use external data sources.

{% include side-by-side.html demo="refresh" %}

<a name="signin"></a>`signin` redirects the user to the
**docassemble** sign-in page.

{% include side-by-side.html demo="signin" %}

Instead of using [`buttons`](#buttons), you can use
[`choices`](#choices) to get a radio list instead of a selection of
buttons.

{% include side-by-side.html demo="exit-choices" %}

The functionality is the same.

### <a name="special mixed"></a>Mixing special buttons with buttons that set a variable

Note that since "special" buttons do not set a variable, you should
not include a [`field`] in the [`question`].  If you include a
[`field`] in the [`question`], **docassemble** will assume you are
creating an ordinary [multiple choice question].

If you wish to mix "special" buttons with buttons that set a variable,
you can use the [`command()`] function in [`code`] to trigger the same
effects as clicking on a "special" button.

The following example uses a [`mandatory`]<span></span> [`code`] block
to determine the course of the interview.  Depending on the answer to
an ordinary [multiple choice question], it either exits from the
interview or proceeds to another screen.

{% include side-by-side.html demo="exit-buttons-mixed-code" %}

Another alternative is to use [multiple-choice buttons that run code]:

{% include side-by-side.html demo="exit-buttons-mixed" %}

## <a name="event"></a>Special screens: `event`

Some screens are shown to the user when a special event occurs.

For example, if you have a [multi-user interview] and the interview
reaches a point where the user cannot proceed until the other
interviewee answers a question, the user will see a [`question`] that
explains why he or she needs to wait.

Or, you might want to provide the user with the ability to review his
or her answers on a single screen, using the [`review`] functionality.

The [`event`] directive advertises to the interview logic that the
question should be asked if an special event occurs.

{% include side-by-side.html demo="event-example" %}

This directive can be used to indicate an
[ending screen](#ending screens), where your interview has more than
one possible ending screen and you use [interview logic] to direct the
user to the appropriate screen.

{% include side-by-side.html demo="doors" %}

In this example, `good_luck` and `bad_luck` are actually names of
[Python] variables.  However, they are [Python] variables that will
never be defined.  If a reference to these variables is made, as it is
in the [`mandatory`]<span></span> [`code`] block, **docassemble** will locate the
`good_luck` and `bad_luck` questions, just as it looks for questions
that offer to define any variable.

See [interview logic] for more information about how to
give direction to your interview by adding [`code`] blocks that are
marked with the [`mandatory`] modifier.

The `event` directive is also used to create screens that the user can
reach from the menu or from hyperlinks embedded in question text.  For
more information, see [`event`], [`url_action()`],
[`process_action()`], [`action_menu_item()`], and [`menu_items`].

[`review`]: {{ site.baseurl }}/docs/fields.html#review
[multi-user interview]: {{ site.baseurl }}/docs/roles.html
[role]: {{ site.baseurl }}/docs/roles.html
[Mako]: http://www.makotemplates.org/
[Markdown]: https://daringfireball.net/projects/markdown/
[YAML]: https://en.wikipedia.org/wiki/YAML
[initial blocks]: {{ site.baseurl }}/docs/initial.html
[code blocks]: {{ site.baseurl }}/docs/code.html
[interview logic]: {{ site.baseurl }}/docs/logic.html
[modifier]: {{ site.baseurl }}/docs/modifiers.html
[HTML]: https://en.wikipedia.org/wiki/HTML
[CSS]: https://en.wikipedia.org/wiki/CSS
[Javascript]: https://en.wikipedia.org/wiki/Javascript
[next section]: {{ site.baseurl }}/docs/fields.html
[`url_action()`]: {{ site.baseurl }}/docs/functions.html#url_action
[`process_action()`]: {{ site.baseurl }}/docs/functions.html#process_action
[`action_menu_item()`]: {{ site.baseurl }}/docs/functions.html#action_menu_item
[`menu_items`]: {{ site.baseurl }}/docs/special.html#menu_items
[`yesno`]: {{ site.baseurl }}/docs/fields.html#yesno
[`noyes`]: {{ site.baseurl }}/docs/fields.html#noyes
[`choices`]: {{ site.baseurl }}/docs/fields.html#field with choices
[`buttons`]: {{ site.baseurl }}/docs/fields.html#field with buttons
[`field`]: {{ site.baseurl }}/docs/fields.html#field
[`signature`]: {{ site.baseurl }}/docs/fields.html#signature
[`event`]: {{ site.baseurl }}/docs/fields.html#event
[Python]: https://en.wikipedia.org/wiki/Python_%28programming_language%29
[`question`]: #question
[`fields`]: {{ site.baseurl }}/docs/fields.html#fields
[`mandatory`]: {{ site.baseurl }}/docs/logic.html#mandatory
[`code`]: {{ site.baseurl }}/docs/code.html#code
[configuration]: {{ site.baseurl }}/docs/config.html
[actions]: {{ site.baseurl }}/docs/functions.html#actions
[`command()`]: {{ site.baseurl }}/docs/functions.html#command
[multiple choice question]: #buttons
[multiple-choice buttons that run code]: {{ site.baseurl }}/docs/fields.html#code button
