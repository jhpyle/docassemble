{"version":3,"sources":["docassemble_webapp/docassemble/webapp/static/app/playgroundbundle.js"],"sourcesContent":["/*!\n * jQuery Plugin: Are-You-Sure (Dirty Form Detection)\n * https://github.com/codedance/jquery.AreYouSure/\n *\n * Copyright (c) 2012-2014, Chris Dance and PaperCut Software http://www.papercut.com/\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * Author:  chris.dance@papercut.com\n * Version: 1.9.0\n * Date:    13th August 2014\n */\n(function ($) {\n  $.fn.areYouSure = function (options) {\n    var settings = $.extend(\n      {\n        message: \"You have unsaved changes!\",\n        dirtyClass: \"dirty\",\n        change: null,\n        silent: false,\n        addRemoveFieldsMarksDirty: false,\n        fieldEvents: \"change keyup propertychange input\",\n        fieldSelector: \":input:not(input[type=submit]):not(input[type=button])\",\n      },\n      options,\n    );\n\n    var getValue = function ($field) {\n      if (\n        $field.hasClass(\"ays-ignore\") ||\n        $field.hasClass(\"aysIgnore\") ||\n        $field.attr(\"data-ays-ignore\") ||\n        $field.attr(\"name\") === undefined\n      ) {\n        return null;\n      }\n\n      if ($field.is(\":disabled\")) {\n        return \"ays-disabled\";\n      }\n\n      var val;\n      var type = $field.attr(\"type\");\n      if ($field.is(\"select\")) {\n        type = \"select\";\n      }\n\n      switch (type) {\n        case \"checkbox\":\n        case \"radio\":\n          val = $field.is(\":checked\");\n          break;\n        case \"select\":\n          val = \"\";\n          $field.find(\"option\").each(function (o) {\n            var $option = $(this);\n            if ($option.is(\":selected\")) {\n              val += $option.val();\n            }\n          });\n          break;\n        default:\n          val = $field.val();\n      }\n\n      return val;\n    };\n\n    var storeOrigValue = function ($field) {\n      $field.data(\"ays-orig\", getValue($field));\n    };\n\n    var checkForm = function (evt) {\n      var isFieldDirty = function ($field) {\n        var origValue = $field.data(\"ays-orig\");\n        if (undefined === origValue) {\n          return false;\n        }\n        return getValue($field) != origValue;\n      };\n\n      var $form = $(this).is(\"form\") ? $(this) : $(this).parents(\"form\");\n\n      // Test on the target first as it's the most likely to be dirty\n      if (isFieldDirty($(evt.target))) {\n        setDirtyStatus($form, true);\n        return;\n      }\n\n      $fields = $form.find(settings.fieldSelector);\n\n      if (settings.addRemoveFieldsMarksDirty) {\n        // Check if field count has changed\n        var origCount = $form.data(\"ays-orig-field-count\");\n        if (origCount != $fields.length) {\n          setDirtyStatus($form, true);\n          return;\n        }\n      }\n\n      // Brute force - check each field\n      var isDirty = false;\n      $fields.each(function () {\n        var $field = $(this);\n        if (isFieldDirty($field)) {\n          isDirty = true;\n          return false; // break\n        }\n      });\n\n      setDirtyStatus($form, isDirty);\n    };\n\n    var initForm = function ($form) {\n      var fields = $form.find(settings.fieldSelector);\n      $(fields).each(function () {\n        storeOrigValue($(this));\n      });\n      $(fields).unbind(settings.fieldEvents, checkForm);\n      $(fields).bind(settings.fieldEvents, checkForm);\n      $form.data(\"ays-orig-field-count\", $(fields).length);\n      setDirtyStatus($form, false);\n    };\n\n    var setDirtyStatus = function ($form, isDirty) {\n      var changed = isDirty != $form.hasClass(settings.dirtyClass);\n      $form.toggleClass(settings.dirtyClass, isDirty);\n\n      // Fire change event if required\n      if (changed) {\n        if (settings.change) settings.change.call($form, $form);\n\n        if (isDirty) $form.trigger(\"dirty.areYouSure\", [$form]);\n        if (!isDirty) $form.trigger(\"clean.areYouSure\", [$form]);\n        $form.trigger(\"change.areYouSure\", [$form]);\n      }\n    };\n\n    var rescan = function () {\n      var $form = $(this);\n      var fields = $form.find(settings.fieldSelector);\n      $(fields).each(function () {\n        var $field = $(this);\n        if (!$field.data(\"ays-orig\")) {\n          storeOrigValue($field);\n          $field.bind(settings.fieldEvents, checkForm);\n        }\n      });\n      // Check for changes while we're here\n      $form.trigger(\"checkform.areYouSure\");\n    };\n\n    var reinitialize = function () {\n      initForm($(this));\n    };\n\n    if (!settings.silent && !window.aysUnloadSet) {\n      window.aysUnloadSet = true;\n      $(window).bind(\"beforeunload\", function () {\n        $dirtyForms = $(\"form\").filter(\".\" + settings.dirtyClass);\n        if ($dirtyForms.length == 0) {\n          return;\n        }\n        // Prevent multiple prompts - seen on Chrome and IE\n        if (navigator.userAgent.toLowerCase().match(/msie|chrome/)) {\n          if (window.aysHasPrompted) {\n            return;\n          }\n          window.aysHasPrompted = true;\n          window.setTimeout(function () {\n            window.aysHasPrompted = false;\n          }, 900);\n        }\n        return settings.message;\n      });\n    }\n\n    return this.each(function (elem) {\n      if (!$(this).is(\"form\")) {\n        return;\n      }\n      var $form = $(this);\n\n      $form.submit(function () {\n        $form.removeClass(settings.dirtyClass);\n      });\n      $form.bind(\"reset\", function () {\n        setDirtyStatus($form, false);\n      });\n      // Add a custom events\n      $form.bind(\"rescan.areYouSure\", rescan);\n      $form.bind(\"reinitialize.areYouSure\", reinitialize);\n      $form.bind(\"checkform.areYouSure\", checkForm);\n      initForm($form);\n    });\n  };\n})(jQuery);\n\n/* piexifjs\n\nThe MIT License (MIT)\n\nCopyright (c) 2014, 2015 hMatoba(https://github.com/hMatoba)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n(function () {\n    \"use strict\";\n    var that = {};\n    that.version = \"1.03\";\n\n    that.remove = function (jpeg) {\n        var b64 = false;\n        if (jpeg.slice(0, 2) == \"\\xff\\xd8\") {\n        } else if (jpeg.slice(0, 23) == \"data:image/jpeg;base64,\" || jpeg.slice(0, 22) == \"data:image/jpg;base64,\") {\n            jpeg = atob(jpeg.split(\",\")[1]);\n            b64 = true;\n        } else {\n            throw (\"Given data is not jpeg.\");\n        }\n        \n        var segments = splitIntoSegments(jpeg);\n        if (segments[1].slice(0, 2) == \"\\xff\\xe1\" && \n               segments[1].slice(4, 10) == \"Exif\\x00\\x00\") {\n            segments = [segments[0]].concat(segments.slice(2));\n        } else if (segments[2].slice(0, 2) == \"\\xff\\xe1\" &&\n                   segments[2].slice(4, 10) == \"Exif\\x00\\x00\") {\n            segments = segments.slice(0, 2).concat(segments.slice(3));\n        } else {\n            throw(\"Exif not found.\");\n        }\n        \n        var new_data = segments.join(\"\");\n        if (b64) {\n            new_data = \"data:image/jpeg;base64,\" + btoa(new_data);\n        }\n\n        return new_data;\n    };\n\n\n    that.insert = function (exif, jpeg) {\n        var b64 = false;\n        if (exif.slice(0, 6) != \"\\x45\\x78\\x69\\x66\\x00\\x00\") {\n            throw (\"Given data is not exif.\");\n        }\n        if (jpeg.slice(0, 2) == \"\\xff\\xd8\") {\n        } else if (jpeg.slice(0, 23) == \"data:image/jpeg;base64,\" || jpeg.slice(0, 22) == \"data:image/jpg;base64,\") {\n            jpeg = atob(jpeg.split(\",\")[1]);\n            b64 = true;\n        } else {\n            throw (\"Given data is not jpeg.\");\n        }\n\n        var exifStr = \"\\xff\\xe1\" + pack(\">H\", [exif.length + 2]) + exif;\n        var segments = splitIntoSegments(jpeg);\n        var new_data = mergeSegments(segments, exifStr);\n        if (b64) {\n            new_data = \"data:image/jpeg;base64,\" + btoa(new_data);\n        }\n\n        return new_data;\n    };\n\n\n    that.load = function (data) {\n        var input_data;\n        if (typeof (data) == \"string\") {\n            if (data.slice(0, 2) == \"\\xff\\xd8\") {\n                input_data = data;\n            } else if (data.slice(0, 23) == \"data:image/jpeg;base64,\" || data.slice(0, 22) == \"data:image/jpg;base64,\") {\n                input_data = atob(data.split(\",\")[1]);\n            } else if (data.slice(0, 4) == \"Exif\") {\n                input_data = data.slice(6);\n            } else {\n                throw (\"'load' gots invalid file data.\");\n            }\n        } else {\n            throw (\"'load' gots invalid type argument.\");\n        }\n\n        var exifDict = {};\n        var exif_dict = {\n            \"0th\": {},\n            \"Exif\": {},\n            \"GPS\": {},\n            \"Interop\": {},\n            \"1st\": {},\n            \"thumbnail\": null\n        };\n        var exifReader = new ExifReader(input_data);\n        if (exifReader.tiftag === null) {\n            return exif_dict;\n        }\n\n        if (exifReader.tiftag.slice(0, 2) == \"\\x49\\x49\") {\n            exifReader.endian_mark = \"<\";\n        } else {\n            exifReader.endian_mark = \">\";\n        }\n\n        var pointer = unpack(exifReader.endian_mark + \"L\",\n            exifReader.tiftag.slice(4, 8))[0];\n        exif_dict[\"0th\"] = exifReader.get_ifd(pointer, \"0th\");\n\n        var first_ifd_pointer = exif_dict[\"0th\"][\"first_ifd_pointer\"];\n        delete exif_dict[\"0th\"][\"first_ifd_pointer\"];\n\n        if (34665 in exif_dict[\"0th\"]) {\n            pointer = exif_dict[\"0th\"][34665];\n            exif_dict[\"Exif\"] = exifReader.get_ifd(pointer, \"Exif\");\n        }\n        if (34853 in exif_dict[\"0th\"]) {\n            pointer = exif_dict[\"0th\"][34853];\n            exif_dict[\"GPS\"] = exifReader.get_ifd(pointer, \"GPS\");\n        }\n        if (40965 in exif_dict[\"Exif\"]) {\n            pointer = exif_dict[\"Exif\"][40965];\n            exif_dict[\"Interop\"] = exifReader.get_ifd(pointer, \"Interop\");\n        }\n        if (first_ifd_pointer != \"\\x00\\x00\\x00\\x00\") {\n            pointer = unpack(exifReader.endian_mark + \"L\",\n                first_ifd_pointer)[0];\n            exif_dict[\"1st\"] = exifReader.get_ifd(pointer, \"1st\");\n            if ((513 in exif_dict[\"1st\"]) && (514 in exif_dict[\"1st\"])) {\n                var end = exif_dict[\"1st\"][513] + exif_dict[\"1st\"][514];\n                var thumb = exifReader.tiftag.slice(exif_dict[\"1st\"][513], end);\n                exif_dict[\"thumbnail\"] = thumb;\n            }\n        }\n\n        return exif_dict;\n    };\n\n\n    that.dump = function (exif_dict_original) {\n        var TIFF_HEADER_LENGTH = 8;\n\n        var exif_dict = copy(exif_dict_original);\n        var header = \"Exif\\x00\\x00\\x4d\\x4d\\x00\\x2a\\x00\\x00\\x00\\x08\";\n        var exif_is = false;\n        var gps_is = false;\n        var interop_is = false;\n        var first_is = false;\n\n        var zeroth_ifd,\n            exif_ifd,\n            interop_ifd,\n            gps_ifd,\n            first_ifd;\n        \n        if (\"0th\" in exif_dict) {\n            zeroth_ifd = exif_dict[\"0th\"];\n        } else {\n            zeroth_ifd = {};\n        }\n        \n        if (((\"Exif\" in exif_dict) && (Object.keys(exif_dict[\"Exif\"]).length)) ||\n            ((\"Interop\" in exif_dict) && (Object.keys(exif_dict[\"Interop\"]).length))) {\n            zeroth_ifd[34665] = 1;\n            exif_is = true;\n            exif_ifd = exif_dict[\"Exif\"];\n            if ((\"Interop\" in exif_dict) && Object.keys(exif_dict[\"Interop\"]).length) {\n                exif_ifd[40965] = 1;\n                interop_is = true;\n                interop_ifd = exif_dict[\"Interop\"];\n            } else if (Object.keys(exif_ifd).indexOf(that.ExifIFD.InteroperabilityTag.toString()) > -1) {\n                delete exif_ifd[40965];\n            }\n        } else if (Object.keys(zeroth_ifd).indexOf(that.ImageIFD.ExifTag.toString()) > -1) {\n            delete zeroth_ifd[34665];\n        }\n\n        if ((\"GPS\" in exif_dict) && (Object.keys(exif_dict[\"GPS\"]).length)) {\n            zeroth_ifd[that.ImageIFD.GPSTag] = 1;\n            gps_is = true;\n            gps_ifd = exif_dict[\"GPS\"];\n        } else if (Object.keys(zeroth_ifd).indexOf(that.ImageIFD.GPSTag.toString()) > -1) {\n            delete zeroth_ifd[that.ImageIFD.GPSTag];\n        }\n        \n        if ((\"1st\" in exif_dict) &&\n            (\"thumbnail\" in exif_dict) &&\n            (exif_dict[\"thumbnail\"] != null)) {\n            first_is = true;\n            exif_dict[\"1st\"][513] = 1;\n            exif_dict[\"1st\"][514] = 1;\n            first_ifd = exif_dict[\"1st\"];\n        }\n        \n        var zeroth_set = _dict_to_bytes(zeroth_ifd, \"0th\", 0);\n        var zeroth_length = (zeroth_set[0].length + exif_is * 12 + gps_is * 12 + 4 +\n            zeroth_set[1].length);\n\n        var exif_set,\n            exif_bytes = \"\",\n            exif_length = 0,\n            gps_set,\n            gps_bytes = \"\",\n            gps_length = 0,\n            interop_set,\n            interop_bytes = \"\",\n            interop_length = 0,\n            first_set,\n            first_bytes = \"\",\n            thumbnail;\n        if (exif_is) {\n            exif_set = _dict_to_bytes(exif_ifd, \"Exif\", zeroth_length);\n            exif_length = exif_set[0].length + interop_is * 12 + exif_set[1].length;\n        }\n        if (gps_is) {\n            gps_set = _dict_to_bytes(gps_ifd, \"GPS\", zeroth_length + exif_length);\n            gps_bytes = gps_set.join(\"\");\n            gps_length = gps_bytes.length;\n        }\n        if (interop_is) {\n            var offset = zeroth_length + exif_length + gps_length;\n            interop_set = _dict_to_bytes(interop_ifd, \"Interop\", offset);\n            interop_bytes = interop_set.join(\"\");\n            interop_length = interop_bytes.length;\n        }\n        if (first_is) {\n            var offset = zeroth_length + exif_length + gps_length + interop_length;\n            first_set = _dict_to_bytes(first_ifd, \"1st\", offset);\n            thumbnail = _get_thumbnail(exif_dict[\"thumbnail\"]);\n            if (thumbnail.length > 64000) {\n                throw (\"Given thumbnail is too large. max 64kB\");\n            }\n        }\n\n        var exif_pointer = \"\",\n            gps_pointer = \"\",\n            interop_pointer = \"\",\n            first_ifd_pointer = \"\\x00\\x00\\x00\\x00\";\n        if (exif_is) {\n            var pointer_value = TIFF_HEADER_LENGTH + zeroth_length;\n            var pointer_str = pack(\">L\", [pointer_value]);\n            var key = 34665;\n            var key_str = pack(\">H\", [key]);\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\n            var length_str = pack(\">L\", [1]);\n            exif_pointer = key_str + type_str + length_str + pointer_str;\n        }\n        if (gps_is) {\n            var pointer_value = TIFF_HEADER_LENGTH + zeroth_length + exif_length;\n            var pointer_str = pack(\">L\", [pointer_value]);\n            var key = 34853;\n            var key_str = pack(\">H\", [key]);\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\n            var length_str = pack(\">L\", [1]);\n            gps_pointer = key_str + type_str + length_str + pointer_str;\n        }\n        if (interop_is) {\n            var pointer_value = (TIFF_HEADER_LENGTH +\n                zeroth_length + exif_length + gps_length);\n            var pointer_str = pack(\">L\", [pointer_value]);\n            var key = 40965;\n            var key_str = pack(\">H\", [key]);\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\n            var length_str = pack(\">L\", [1]);\n            interop_pointer = key_str + type_str + length_str + pointer_str;\n        }\n        if (first_is) {\n            var pointer_value = (TIFF_HEADER_LENGTH + zeroth_length +\n                exif_length + gps_length + interop_length);\n            first_ifd_pointer = pack(\">L\", [pointer_value]);\n            var thumbnail_pointer = (pointer_value + first_set[0].length + 24 +\n                4 + first_set[1].length);\n            var thumbnail_p_bytes = (\"\\x02\\x01\\x00\\x04\\x00\\x00\\x00\\x01\" +\n                pack(\">L\", [thumbnail_pointer]));\n            var thumbnail_length_bytes = (\"\\x02\\x02\\x00\\x04\\x00\\x00\\x00\\x01\" +\n                pack(\">L\", [thumbnail.length]));\n            first_bytes = (first_set[0] + thumbnail_p_bytes +\n                thumbnail_length_bytes + \"\\x00\\x00\\x00\\x00\" +\n                first_set[1] + thumbnail);\n        }\n\n        var zeroth_bytes = (zeroth_set[0] + exif_pointer + gps_pointer +\n            first_ifd_pointer + zeroth_set[1]);\n        if (exif_is) {\n            exif_bytes = exif_set[0] + interop_pointer + exif_set[1];\n        }\n\n        return (header + zeroth_bytes + exif_bytes + gps_bytes +\n            interop_bytes + first_bytes);\n    };\n\n\n    function copy(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n\n\n    function _get_thumbnail(jpeg) {\n        var segments = splitIntoSegments(jpeg);\n        while ((\"\\xff\\xe0\" <= segments[1].slice(0, 2)) && (segments[1].slice(0, 2) <= \"\\xff\\xef\")) {\n            segments = [segments[0]].concat(segments.slice(2));\n        }\n        return segments.join(\"\");\n    }\n\n\n    function _pack_byte(array) {\n        return pack(\">\" + nStr(\"B\", array.length), array);\n    }\n\n\n    function _pack_short(array) {\n        return pack(\">\" + nStr(\"H\", array.length), array);\n    }\n\n\n    function _pack_long(array) {\n        return pack(\">\" + nStr(\"L\", array.length), array);\n    }\n\n\n    function _value_to_bytes(raw_value, value_type, offset) {\n        var four_bytes_over = \"\";\n        var value_str = \"\";\n        var length,\n            new_value,\n            num,\n            den;\n\n        if (value_type == \"Byte\") {\n            length = raw_value.length;\n            if (length <= 4) {\n                value_str = (_pack_byte(raw_value) +\n                    nStr(\"\\x00\", 4 - length));\n            } else {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = _pack_byte(raw_value);\n            }\n        } else if (value_type == \"Short\") {\n            length = raw_value.length;\n            if (length <= 2) {\n                value_str = (_pack_short(raw_value) +\n                    nStr(\"\\x00\\x00\", 2 - length));\n            } else {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = _pack_short(raw_value);\n            }\n        } else if (value_type == \"Long\") {\n            length = raw_value.length;\n            if (length <= 1) {\n                value_str = _pack_long(raw_value);\n            } else {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = _pack_long(raw_value);\n            }\n        } else if (value_type == \"Ascii\") {\n            new_value = raw_value + \"\\x00\";\n            length = new_value.length;\n            if (length > 4) {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = new_value;\n            } else {\n                value_str = new_value + nStr(\"\\x00\", 4 - length);\n            }\n        } else if (value_type == \"Rational\") {\n            if (typeof (raw_value[0]) == \"number\") {\n                length = 1;\n                num = raw_value[0];\n                den = raw_value[1];\n                new_value = pack(\">L\", [num]) + pack(\">L\", [den]);\n            } else {\n                length = raw_value.length;\n                new_value = \"\";\n                for (var n = 0; n < length; n++) {\n                    num = raw_value[n][0];\n                    den = raw_value[n][1];\n                    new_value += (pack(\">L\", [num]) +\n                        pack(\">L\", [den]));\n                }\n            }\n            value_str = pack(\">L\", [offset]);\n            four_bytes_over = new_value;\n        } else if (value_type == \"SRational\") {\n            if (typeof (raw_value[0]) == \"number\") {\n                length = 1;\n                num = raw_value[0];\n                den = raw_value[1];\n                new_value = pack(\">l\", [num]) + pack(\">l\", [den]);\n            } else {\n                length = raw_value.length;\n                new_value = \"\";\n                for (var n = 0; n < length; n++) {\n                    num = raw_value[n][0];\n                    den = raw_value[n][1];\n                    new_value += (pack(\">l\", [num]) +\n                        pack(\">l\", [den]));\n                }\n            }\n            value_str = pack(\">L\", [offset]);\n            four_bytes_over = new_value;\n        } else if (value_type == \"Undefined\") {\n            length = raw_value.length;\n            if (length > 4) {\n                value_str = pack(\">L\", [offset]);\n                four_bytes_over = raw_value;\n            } else {\n                value_str = raw_value + nStr(\"\\x00\", 4 - length);\n            }\n        }\n\n        var length_str = pack(\">L\", [length]);\n\n        return [length_str, value_str, four_bytes_over];\n    }\n\n    function _dict_to_bytes(ifd_dict, ifd, ifd_offset) {\n        var TIFF_HEADER_LENGTH = 8;\n        var tag_count = Object.keys(ifd_dict).length;\n        var entry_header = pack(\">H\", [tag_count]);\n        var entries_length;\n        if ([\"0th\", \"1st\"].indexOf(ifd) > -1) {\n            entries_length = 2 + tag_count * 12 + 4;\n        } else {\n            entries_length = 2 + tag_count * 12;\n        }\n        var entries = \"\";\n        var values = \"\";\n        var key;\n\n        for (var key in ifd_dict) {\n            if (typeof (key) == \"string\") {\n                key = parseInt(key);\n            }\n            if ((ifd == \"0th\") && ([34665, 34853].indexOf(key) > -1)) {\n                continue;\n            } else if ((ifd == \"Exif\") && (key == 40965)) {\n                continue;\n            } else if ((ifd == \"1st\") && ([513, 514].indexOf(key) > -1)) {\n                continue;\n            }\n\n            var raw_value = ifd_dict[key];\n            var key_str = pack(\">H\", [key]);\n            var value_type = TAGS[ifd][key][\"type\"];\n            var type_str = pack(\">H\", [TYPES[value_type]]);\n\n            if (typeof (raw_value) == \"number\") {\n                raw_value = [raw_value];\n            }\n            var offset = TIFF_HEADER_LENGTH + entries_length + ifd_offset + values.length;\n            var b = _value_to_bytes(raw_value, value_type, offset);\n            var length_str = b[0];\n            var value_str = b[1];\n            var four_bytes_over = b[2];\n\n            entries += key_str + type_str + length_str + value_str;\n            values += four_bytes_over;\n        }\n\n        return [entry_header + entries, values];\n    }\n\n\n\n    function ExifReader(data) {\n        var segments,\n            app1;\n        if (data.slice(0, 2) == \"\\xff\\xd8\") { // JPEG\n            segments = splitIntoSegments(data);\n            app1 = getExifSeg(segments);\n            if (app1) {\n                this.tiftag = app1.slice(10);\n            } else {\n                this.tiftag = null;\n            }\n        } else if ([\"\\x49\\x49\", \"\\x4d\\x4d\"].indexOf(data.slice(0, 2)) > -1) { // TIFF\n            this.tiftag = data;\n        } else if (data.slice(0, 4) == \"Exif\") { // Exif\n            this.tiftag = data.slice(6);\n        } else {\n            throw (\"Given file is neither JPEG nor TIFF.\");\n        }\n    }\n\n    ExifReader.prototype = {\n        get_ifd: function (pointer, ifd_name) {\n            var ifd_dict = {};\n            var tag_count = unpack(this.endian_mark + \"H\",\n                this.tiftag.slice(pointer, pointer + 2))[0];\n            var offset = pointer + 2;\n            var t;\n            if ([\"0th\", \"1st\"].indexOf(ifd_name) > -1) {\n                t = \"Image\";\n            } else {\n                t = ifd_name;\n            }\n\n            for (var x = 0; x < tag_count; x++) {\n                pointer = offset + 12 * x;\n                var tag = unpack(this.endian_mark + \"H\",\n                    this.tiftag.slice(pointer, pointer + 2))[0];\n                var value_type = unpack(this.endian_mark + \"H\",\n                    this.tiftag.slice(pointer + 2, pointer + 4))[0];\n                var value_num = unpack(this.endian_mark + \"L\",\n                    this.tiftag.slice(pointer + 4, pointer + 8))[0];\n                var value = this.tiftag.slice(pointer + 8, pointer + 12);\n\n                var v_set = [value_type, value_num, value];\n                if (tag in TAGS[t]) {\n                    ifd_dict[tag] = this.convert_value(v_set);\n                }\n            }\n\n            if (ifd_name == \"0th\") {\n                pointer = offset + 12 * tag_count;\n                ifd_dict[\"first_ifd_pointer\"] = this.tiftag.slice(pointer, pointer + 4);\n            }\n\n            return ifd_dict;\n        },\n\n        convert_value: function (val) {\n            var data = null;\n            var t = val[0];\n            var length = val[1];\n            var value = val[2];\n            var pointer;\n\n            if (t == 1) { // BYTE\n                if (length > 4) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = unpack(this.endian_mark + nStr(\"B\", length),\n                        this.tiftag.slice(pointer, pointer + length));\n                } else {\n                    data = unpack(this.endian_mark + nStr(\"B\", length), value.slice(0, length));\n                }\n            } else if (t == 2) { // ASCII\n                if (length > 4) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = this.tiftag.slice(pointer, pointer + length - 1);\n                } else {\n                    data = value.slice(0, length - 1);\n                }\n            } else if (t == 3) { // SHORT\n                if (length > 2) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = unpack(this.endian_mark + nStr(\"H\", length),\n                        this.tiftag.slice(pointer, pointer + length * 2));\n                } else {\n                    data = unpack(this.endian_mark + nStr(\"H\", length),\n                        value.slice(0, length * 2));\n                }\n            } else if (t == 4) { // LONG\n                if (length > 1) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = unpack(this.endian_mark + nStr(\"L\", length),\n                        this.tiftag.slice(pointer, pointer + length * 4));\n                } else {\n                    data = unpack(this.endian_mark + nStr(\"L\", length),\n                        value);\n                }\n            } else if (t == 5) { // RATIONAL\n                pointer = unpack(this.endian_mark + \"L\", value)[0];\n                if (length > 1) {\n                    data = [];\n                    for (var x = 0; x < length; x++) {\n                        data.push([unpack(this.endian_mark + \"L\",\n                                this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\n                                   unpack(this.endian_mark + \"L\",\n                                this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\n                                   ]);\n                    }\n                } else {\n                    data = [unpack(this.endian_mark + \"L\",\n                            this.tiftag.slice(pointer, pointer + 4))[0],\n                            unpack(this.endian_mark + \"L\",\n                            this.tiftag.slice(pointer + 4, pointer + 8))[0]\n                            ];\n                }\n            } else if (t == 7) { // UNDEFINED BYTES\n                if (length > 4) {\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\n                    data = this.tiftag.slice(pointer, pointer + length);\n                } else {\n                    data = value.slice(0, length);\n                }\n            } else if (t == 10) { // SRATIONAL\n                pointer = unpack(this.endian_mark + \"L\", value)[0];\n                if (length > 1) {\n                    data = [];\n                    for (var x = 0; x < length; x++) {\n                        data.push([unpack(this.endian_mark + \"l\",\n                                this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\n                                   unpack(this.endian_mark + \"l\",\n                                this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\n                                  ]);\n                    }\n                } else {\n                    data = [unpack(this.endian_mark + \"l\",\n                            this.tiftag.slice(pointer, pointer + 4))[0],\n                            unpack(this.endian_mark + \"l\",\n                            this.tiftag.slice(pointer + 4, pointer + 8))[0]\n                           ];\n                }\n            } else {\n                throw (\"Exif might be wrong. Got incorrect value \" +\n                    \"type to decode. type:\" + t);\n            }\n\n            if ((data instanceof Array) && (data.length == 1)) {\n                return data[0];\n            } else {\n                return data;\n            }\n        },\n    };\n\n\n    if (typeof window !== \"undefined\" && typeof window.btoa === \"function\") {\n        var btoa = window.btoa;\n    }\n    if (typeof btoa === \"undefined\") {\n        var btoa = function (input) {        var output = \"\";\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n            while (i < input.length) {\n\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n\n                enc1 = chr1 >> 2;\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n                enc4 = chr3 & 63;\n\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n\n                output = output +\n                keyStr.charAt(enc1) + keyStr.charAt(enc2) +\n                keyStr.charAt(enc3) + keyStr.charAt(enc4);\n\n            }\n\n            return output;\n        };\n    }\n    \n    \n    if (typeof window !== \"undefined\" && typeof window.atob === \"function\") {\n        var atob = window.atob;\n    }\n    if (typeof atob === \"undefined\") {\n        var atob = function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3;\n            var enc1, enc2, enc3, enc4;\n            var i = 0;\n            var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n            while (i < input.length) {\n\n                enc1 = keyStr.indexOf(input.charAt(i++));\n                enc2 = keyStr.indexOf(input.charAt(i++));\n                enc3 = keyStr.indexOf(input.charAt(i++));\n                enc4 = keyStr.indexOf(input.charAt(i++));\n\n                chr1 = (enc1 << 2) | (enc2 >> 4);\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n                chr3 = ((enc3 & 3) << 6) | enc4;\n\n                output = output + String.fromCharCode(chr1);\n\n                if (enc3 != 64) {\n                    output = output + String.fromCharCode(chr2);\n                }\n                if (enc4 != 64) {\n                    output = output + String.fromCharCode(chr3);\n                }\n\n            }\n\n            return output;\n        };\n    }\n\n\n    function getImageSize(imageArray) {\n        var segments = slice2Segments(imageArray);\n        var seg,\n            width,\n            height,\n            SOF = [192, 193, 194, 195, 197, 198, 199, 201, 202, 203, 205, 206, 207];\n\n        for (var x = 0; x < segments.length; x++) {\n            seg = segments[x];\n            if (SOF.indexOf(seg[1]) >= 0) {\n                height = seg[5] * 256 + seg[6];\n                width = seg[7] * 256 + seg[8];\n                break;\n            }\n        }\n        return [width, height];\n    }\n\n\n    function pack(mark, array) {\n        if (!(array instanceof Array)) {\n            throw (\"'pack' error. Got invalid type argument.\");\n        }\n        if ((mark.length - 1) != array.length) {\n            throw (\"'pack' error. \" + (mark.length - 1) + \" marks, \" + array.length + \" elements.\");\n        }\n\n        var littleEndian;\n        if (mark[0] == \"<\") {\n            littleEndian = true;\n        } else if (mark[0] == \">\") {\n            littleEndian = false;\n        } else {\n            throw (\"\");\n        }\n        var packed = \"\";\n        var p = 1;\n        var val = null;\n        var c = null;\n        var valStr = null;\n\n        while (c = mark[p]) {\n            if (c.toLowerCase() == \"b\") {\n                val = array[p - 1];\n                if ((c == \"b\") && (val < 0)) {\n                    val += 0x100;\n                }\n                if ((val > 0xff) || (val < 0)) {\n                    throw (\"'pack' error.\");\n                } else {\n                    valStr = String.fromCharCode(val);\n                }\n            } else if (c == \"H\") {\n                val = array[p - 1];\n                if ((val > 0xffff) || (val < 0)) {\n                    throw (\"'pack' error.\");\n                } else {\n                    valStr = String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\n                        String.fromCharCode(val % 0x100);\n                    if (littleEndian) {\n                        valStr = valStr.split(\"\").reverse().join(\"\");\n                    }\n                }\n            } else if (c.toLowerCase() == \"l\") {\n                val = array[p - 1];\n                if ((c == \"l\") && (val < 0)) {\n                    val += 0x100000000;\n                }\n                if ((val > 0xffffffff) || (val < 0)) {\n                    throw (\"'pack' error.\");\n                } else {\n                    valStr = String.fromCharCode(Math.floor(val / 0x1000000)) +\n                        String.fromCharCode(Math.floor((val % 0x1000000) / 0x10000)) +\n                        String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\n                        String.fromCharCode(val % 0x100);\n                    if (littleEndian) {\n                        valStr = valStr.split(\"\").reverse().join(\"\");\n                    }\n                }\n            } else {\n                throw (\"'pack' error.\");\n            }\n\n            packed += valStr;\n            p += 1;\n        }\n\n        return packed;\n    }\n\n    function unpack(mark, str) {\n        if (typeof (str) != \"string\") {\n            throw (\"'unpack' error. Got invalid type argument.\");\n        }\n        var l = 0;\n        for (var markPointer = 1; markPointer < mark.length; markPointer++) {\n            if (mark[markPointer].toLowerCase() == \"b\") {\n                l += 1;\n            } else if (mark[markPointer].toLowerCase() == \"h\") {\n                l += 2;\n            } else if (mark[markPointer].toLowerCase() == \"l\") {\n                l += 4;\n            } else {\n                throw (\"'unpack' error. Got invalid mark.\");\n            }\n        }\n\n        if (l != str.length) {\n            throw (\"'unpack' error. Mismatch between symbol and string length. \" + l + \":\" + str.length);\n        }\n\n        var littleEndian;\n        if (mark[0] == \"<\") {\n            littleEndian = true;\n        } else if (mark[0] == \">\") {\n            littleEndian = false;\n        } else {\n            throw (\"'unpack' error.\");\n        }\n        var unpacked = [];\n        var strPointer = 0;\n        var p = 1;\n        var val = null;\n        var c = null;\n        var length = null;\n        var sliced = \"\";\n\n        while (c = mark[p]) {\n            if (c.toLowerCase() == \"b\") {\n                length = 1;\n                sliced = str.slice(strPointer, strPointer + length);\n                val = sliced.charCodeAt(0);\n                if ((c == \"b\") && (val >= 0x80)) {\n                    val -= 0x100;\n                }\n            } else if (c == \"H\") {\n                length = 2;\n                sliced = str.slice(strPointer, strPointer + length);\n                if (littleEndian) {\n                    sliced = sliced.split(\"\").reverse().join(\"\");\n                }\n                val = sliced.charCodeAt(0) * 0x100 +\n                    sliced.charCodeAt(1);\n            } else if (c.toLowerCase() == \"l\") {\n                length = 4;\n                sliced = str.slice(strPointer, strPointer + length);\n                if (littleEndian) {\n                    sliced = sliced.split(\"\").reverse().join(\"\");\n                }\n                val = sliced.charCodeAt(0) * 0x1000000 +\n                    sliced.charCodeAt(1) * 0x10000 +\n                    sliced.charCodeAt(2) * 0x100 +\n                    sliced.charCodeAt(3);\n                if ((c == \"l\") && (val >= 0x80000000)) {\n                    val -= 0x100000000;\n                }\n            } else {\n                throw (\"'unpack' error. \" + c);\n            }\n\n            unpacked.push(val);\n            strPointer += length;\n            p += 1;\n        }\n\n        return unpacked;\n    }\n\n    function nStr(ch, num) {\n        var str = \"\";\n        for (var i = 0; i < num; i++) {\n            str += ch;\n        }\n        return str;\n    }\n\n    function splitIntoSegments(data) {\n        if (data.slice(0, 2) != \"\\xff\\xd8\") {\n            throw (\"Given data isn't JPEG.\");\n        }\n\n        var head = 2;\n        var segments = [\"\\xff\\xd8\"];\n        while (true) {\n            if (data.slice(head, head + 2) == \"\\xff\\xda\") {\n                segments.push(data.slice(head));\n                break;\n            } else {\n                var length = unpack(\">H\", data.slice(head + 2, head + 4))[0];\n                var endPoint = head + length + 2;\n                segments.push(data.slice(head, endPoint));\n                head = endPoint;\n            }\n\n            if (head >= data.length) {\n                throw (\"Wrong JPEG data.\");\n            }\n        }\n        return segments;\n    }\n\n\n    function getExifSeg(segments) {\n        var seg;\n        for (var i = 0; i < segments.length; i++) {\n            seg = segments[i];\n            if (seg.slice(0, 2) == \"\\xff\\xe1\" &&\n                   seg.slice(4, 10) == \"Exif\\x00\\x00\") {\n                return seg;\n            }\n        }\n        return null;\n    }\n\n\n    function mergeSegments(segments, exif) {\n        \n        if (segments[1].slice(0, 2) == \"\\xff\\xe0\" &&\n            (segments[2].slice(0, 2) == \"\\xff\\xe1\" &&\n             segments[2].slice(4, 10) == \"Exif\\x00\\x00\")) {\n            if (exif) {\n                segments[2] = exif;\n                segments = [\"\\xff\\xd8\"].concat(segments.slice(2));\n            } else if (exif == null) {\n                segments = segments.slice(0, 2).concat(segments.slice(3));\n            } else {\n                segments = segments.slice(0).concat(segments.slice(2));\n            }\n        } else if (segments[1].slice(0, 2) == \"\\xff\\xe0\") {\n            if (exif) {\n                segments[1] = exif;\n            }\n        } else if (segments[1].slice(0, 2) == \"\\xff\\xe1\" &&\n                   segments[1].slice(4, 10) == \"Exif\\x00\\x00\") {\n            if (exif) {\n                segments[1] = exif;\n            } else if (exif == null) {\n                segments = segments.slice(0).concat(segments.slice(2));\n            }\n        } else {\n            if (exif) {\n                segments = [segments[0], exif].concat(segments.slice(1));\n            }\n        }\n        \n        return segments.join(\"\");\n    }\n\n\n    function toHex(str) {\n        var hexStr = \"\";\n        for (var i = 0; i < str.length; i++) {\n            var h = str.charCodeAt(i);\n            var hex = ((h < 10) ? \"0\" : \"\") + h.toString(16);\n            hexStr += hex + \" \";\n        }\n        return hexStr;\n    }\n\n\n    var TYPES = {\n        \"Byte\": 1,\n        \"Ascii\": 2,\n        \"Short\": 3,\n        \"Long\": 4,\n        \"Rational\": 5,\n        \"Undefined\": 7,\n        \"SLong\": 9,\n        \"SRational\": 10\n    };\n\n\n    var TAGS = {\n        'Image': {\n            11: {\n                'name': 'ProcessingSoftware',\n                'type': 'Ascii'\n            },\n            254: {\n                'name': 'NewSubfileType',\n                'type': 'Long'\n            },\n            255: {\n                'name': 'SubfileType',\n                'type': 'Short'\n            },\n            256: {\n                'name': 'ImageWidth',\n                'type': 'Long'\n            },\n            257: {\n                'name': 'ImageLength',\n                'type': 'Long'\n            },\n            258: {\n                'name': 'BitsPerSample',\n                'type': 'Short'\n            },\n            259: {\n                'name': 'Compression',\n                'type': 'Short'\n            },\n            262: {\n                'name': 'PhotometricInterpretation',\n                'type': 'Short'\n            },\n            263: {\n                'name': 'Threshholding',\n                'type': 'Short'\n            },\n            264: {\n                'name': 'CellWidth',\n                'type': 'Short'\n            },\n            265: {\n                'name': 'CellLength',\n                'type': 'Short'\n            },\n            266: {\n                'name': 'FillOrder',\n                'type': 'Short'\n            },\n            269: {\n                'name': 'DocumentName',\n                'type': 'Ascii'\n            },\n            270: {\n                'name': 'ImageDescription',\n                'type': 'Ascii'\n            },\n            271: {\n                'name': 'Make',\n                'type': 'Ascii'\n            },\n            272: {\n                'name': 'Model',\n                'type': 'Ascii'\n            },\n            273: {\n                'name': 'StripOffsets',\n                'type': 'Long'\n            },\n            274: {\n                'name': 'Orientation',\n                'type': 'Short'\n            },\n            277: {\n                'name': 'SamplesPerPixel',\n                'type': 'Short'\n            },\n            278: {\n                'name': 'RowsPerStrip',\n                'type': 'Long'\n            },\n            279: {\n                'name': 'StripByteCounts',\n                'type': 'Long'\n            },\n            282: {\n                'name': 'XResolution',\n                'type': 'Rational'\n            },\n            283: {\n                'name': 'YResolution',\n                'type': 'Rational'\n            },\n            284: {\n                'name': 'PlanarConfiguration',\n                'type': 'Short'\n            },\n            290: {\n                'name': 'GrayResponseUnit',\n                'type': 'Short'\n            },\n            291: {\n                'name': 'GrayResponseCurve',\n                'type': 'Short'\n            },\n            292: {\n                'name': 'T4Options',\n                'type': 'Long'\n            },\n            293: {\n                'name': 'T6Options',\n                'type': 'Long'\n            },\n            296: {\n                'name': 'ResolutionUnit',\n                'type': 'Short'\n            },\n            301: {\n                'name': 'TransferFunction',\n                'type': 'Short'\n            },\n            305: {\n                'name': 'Software',\n                'type': 'Ascii'\n            },\n            306: {\n                'name': 'DateTime',\n                'type': 'Ascii'\n            },\n            315: {\n                'name': 'Artist',\n                'type': 'Ascii'\n            },\n            316: {\n                'name': 'HostComputer',\n                'type': 'Ascii'\n            },\n            317: {\n                'name': 'Predictor',\n                'type': 'Short'\n            },\n            318: {\n                'name': 'WhitePoint',\n                'type': 'Rational'\n            },\n            319: {\n                'name': 'PrimaryChromaticities',\n                'type': 'Rational'\n            },\n            320: {\n                'name': 'ColorMap',\n                'type': 'Short'\n            },\n            321: {\n                'name': 'HalftoneHints',\n                'type': 'Short'\n            },\n            322: {\n                'name': 'TileWidth',\n                'type': 'Short'\n            },\n            323: {\n                'name': 'TileLength',\n                'type': 'Short'\n            },\n            324: {\n                'name': 'TileOffsets',\n                'type': 'Short'\n            },\n            325: {\n                'name': 'TileByteCounts',\n                'type': 'Short'\n            },\n            330: {\n                'name': 'SubIFDs',\n                'type': 'Long'\n            },\n            332: {\n                'name': 'InkSet',\n                'type': 'Short'\n            },\n            333: {\n                'name': 'InkNames',\n                'type': 'Ascii'\n            },\n            334: {\n                'name': 'NumberOfInks',\n                'type': 'Short'\n            },\n            336: {\n                'name': 'DotRange',\n                'type': 'Byte'\n            },\n            337: {\n                'name': 'TargetPrinter',\n                'type': 'Ascii'\n            },\n            338: {\n                'name': 'ExtraSamples',\n                'type': 'Short'\n            },\n            339: {\n                'name': 'SampleFormat',\n                'type': 'Short'\n            },\n            340: {\n                'name': 'SMinSampleValue',\n                'type': 'Short'\n            },\n            341: {\n                'name': 'SMaxSampleValue',\n                'type': 'Short'\n            },\n            342: {\n                'name': 'TransferRange',\n                'type': 'Short'\n            },\n            343: {\n                'name': 'ClipPath',\n                'type': 'Byte'\n            },\n            344: {\n                'name': 'XClipPathUnits',\n                'type': 'Long'\n            },\n            345: {\n                'name': 'YClipPathUnits',\n                'type': 'Long'\n            },\n            346: {\n                'name': 'Indexed',\n                'type': 'Short'\n            },\n            347: {\n                'name': 'JPEGTables',\n                'type': 'Undefined'\n            },\n            351: {\n                'name': 'OPIProxy',\n                'type': 'Short'\n            },\n            512: {\n                'name': 'JPEGProc',\n                'type': 'Long'\n            },\n            513: {\n                'name': 'JPEGInterchangeFormat',\n                'type': 'Long'\n            },\n            514: {\n                'name': 'JPEGInterchangeFormatLength',\n                'type': 'Long'\n            },\n            515: {\n                'name': 'JPEGRestartInterval',\n                'type': 'Short'\n            },\n            517: {\n                'name': 'JPEGLosslessPredictors',\n                'type': 'Short'\n            },\n            518: {\n                'name': 'JPEGPointTransforms',\n                'type': 'Short'\n            },\n            519: {\n                'name': 'JPEGQTables',\n                'type': 'Long'\n            },\n            520: {\n                'name': 'JPEGDCTables',\n                'type': 'Long'\n            },\n            521: {\n                'name': 'JPEGACTables',\n                'type': 'Long'\n            },\n            529: {\n                'name': 'YCbCrCoefficients',\n                'type': 'Rational'\n            },\n            530: {\n                'name': 'YCbCrSubSampling',\n                'type': 'Short'\n            },\n            531: {\n                'name': 'YCbCrPositioning',\n                'type': 'Short'\n            },\n            532: {\n                'name': 'ReferenceBlackWhite',\n                'type': 'Rational'\n            },\n            700: {\n                'name': 'XMLPacket',\n                'type': 'Byte'\n            },\n            18246: {\n                'name': 'Rating',\n                'type': 'Short'\n            },\n            18249: {\n                'name': 'RatingPercent',\n                'type': 'Short'\n            },\n            32781: {\n                'name': 'ImageID',\n                'type': 'Ascii'\n            },\n            33421: {\n                'name': 'CFARepeatPatternDim',\n                'type': 'Short'\n            },\n            33422: {\n                'name': 'CFAPattern',\n                'type': 'Byte'\n            },\n            33423: {\n                'name': 'BatteryLevel',\n                'type': 'Rational'\n            },\n            33432: {\n                'name': 'Copyright',\n                'type': 'Ascii'\n            },\n            33434: {\n                'name': 'ExposureTime',\n                'type': 'Rational'\n            },\n            34377: {\n                'name': 'ImageResources',\n                'type': 'Byte'\n            },\n            34665: {\n                'name': 'ExifTag',\n                'type': 'Long'\n            },\n            34675: {\n                'name': 'InterColorProfile',\n                'type': 'Undefined'\n            },\n            34853: {\n                'name': 'GPSTag',\n                'type': 'Long'\n            },\n            34857: {\n                'name': 'Interlace',\n                'type': 'Short'\n            },\n            34858: {\n                'name': 'TimeZoneOffset',\n                'type': 'Long'\n            },\n            34859: {\n                'name': 'SelfTimerMode',\n                'type': 'Short'\n            },\n            37387: {\n                'name': 'FlashEnergy',\n                'type': 'Rational'\n            },\n            37388: {\n                'name': 'SpatialFrequencyResponse',\n                'type': 'Undefined'\n            },\n            37389: {\n                'name': 'Noise',\n                'type': 'Undefined'\n            },\n            37390: {\n                'name': 'FocalPlaneXResolution',\n                'type': 'Rational'\n            },\n            37391: {\n                'name': 'FocalPlaneYResolution',\n                'type': 'Rational'\n            },\n            37392: {\n                'name': 'FocalPlaneResolutionUnit',\n                'type': 'Short'\n            },\n            37393: {\n                'name': 'ImageNumber',\n                'type': 'Long'\n            },\n            37394: {\n                'name': 'SecurityClassification',\n                'type': 'Ascii'\n            },\n            37395: {\n                'name': 'ImageHistory',\n                'type': 'Ascii'\n            },\n            37397: {\n                'name': 'ExposureIndex',\n                'type': 'Rational'\n            },\n            37398: {\n                'name': 'TIFFEPStandardID',\n                'type': 'Byte'\n            },\n            37399: {\n                'name': 'SensingMethod',\n                'type': 'Short'\n            },\n            40091: {\n                'name': 'XPTitle',\n                'type': 'Byte'\n            },\n            40092: {\n                'name': 'XPComment',\n                'type': 'Byte'\n            },\n            40093: {\n                'name': 'XPAuthor',\n                'type': 'Byte'\n            },\n            40094: {\n                'name': 'XPKeywords',\n                'type': 'Byte'\n            },\n            40095: {\n                'name': 'XPSubject',\n                'type': 'Byte'\n            },\n            50341: {\n                'name': 'PrintImageMatching',\n                'type': 'Undefined'\n            },\n            50706: {\n                'name': 'DNGVersion',\n                'type': 'Byte'\n            },\n            50707: {\n                'name': 'DNGBackwardVersion',\n                'type': 'Byte'\n            },\n            50708: {\n                'name': 'UniqueCameraModel',\n                'type': 'Ascii'\n            },\n            50709: {\n                'name': 'LocalizedCameraModel',\n                'type': 'Byte'\n            },\n            50710: {\n                'name': 'CFAPlaneColor',\n                'type': 'Byte'\n            },\n            50711: {\n                'name': 'CFALayout',\n                'type': 'Short'\n            },\n            50712: {\n                'name': 'LinearizationTable',\n                'type': 'Short'\n            },\n            50713: {\n                'name': 'BlackLevelRepeatDim',\n                'type': 'Short'\n            },\n            50714: {\n                'name': 'BlackLevel',\n                'type': 'Rational'\n            },\n            50715: {\n                'name': 'BlackLevelDeltaH',\n                'type': 'SRational'\n            },\n            50716: {\n                'name': 'BlackLevelDeltaV',\n                'type': 'SRational'\n            },\n            50717: {\n                'name': 'WhiteLevel',\n                'type': 'Short'\n            },\n            50718: {\n                'name': 'DefaultScale',\n                'type': 'Rational'\n            },\n            50719: {\n                'name': 'DefaultCropOrigin',\n                'type': 'Short'\n            },\n            50720: {\n                'name': 'DefaultCropSize',\n                'type': 'Short'\n            },\n            50721: {\n                'name': 'ColorMatrix1',\n                'type': 'SRational'\n            },\n            50722: {\n                'name': 'ColorMatrix2',\n                'type': 'SRational'\n            },\n            50723: {\n                'name': 'CameraCalibration1',\n                'type': 'SRational'\n            },\n            50724: {\n                'name': 'CameraCalibration2',\n                'type': 'SRational'\n            },\n            50725: {\n                'name': 'ReductionMatrix1',\n                'type': 'SRational'\n            },\n            50726: {\n                'name': 'ReductionMatrix2',\n                'type': 'SRational'\n            },\n            50727: {\n                'name': 'AnalogBalance',\n                'type': 'Rational'\n            },\n            50728: {\n                'name': 'AsShotNeutral',\n                'type': 'Short'\n            },\n            50729: {\n                'name': 'AsShotWhiteXY',\n                'type': 'Rational'\n            },\n            50730: {\n                'name': 'BaselineExposure',\n                'type': 'SRational'\n            },\n            50731: {\n                'name': 'BaselineNoise',\n                'type': 'Rational'\n            },\n            50732: {\n                'name': 'BaselineSharpness',\n                'type': 'Rational'\n            },\n            50733: {\n                'name': 'BayerGreenSplit',\n                'type': 'Long'\n            },\n            50734: {\n                'name': 'LinearResponseLimit',\n                'type': 'Rational'\n            },\n            50735: {\n                'name': 'CameraSerialNumber',\n                'type': 'Ascii'\n            },\n            50736: {\n                'name': 'LensInfo',\n                'type': 'Rational'\n            },\n            50737: {\n                'name': 'ChromaBlurRadius',\n                'type': 'Rational'\n            },\n            50738: {\n                'name': 'AntiAliasStrength',\n                'type': 'Rational'\n            },\n            50739: {\n                'name': 'ShadowScale',\n                'type': 'SRational'\n            },\n            50740: {\n                'name': 'DNGPrivateData',\n                'type': 'Byte'\n            },\n            50741: {\n                'name': 'MakerNoteSafety',\n                'type': 'Short'\n            },\n            50778: {\n                'name': 'CalibrationIlluminant1',\n                'type': 'Short'\n            },\n            50779: {\n                'name': 'CalibrationIlluminant2',\n                'type': 'Short'\n            },\n            50780: {\n                'name': 'BestQualityScale',\n                'type': 'Rational'\n            },\n            50781: {\n                'name': 'RawDataUniqueID',\n                'type': 'Byte'\n            },\n            50827: {\n                'name': 'OriginalRawFileName',\n                'type': 'Byte'\n            },\n            50828: {\n                'name': 'OriginalRawFileData',\n                'type': 'Undefined'\n            },\n            50829: {\n                'name': 'ActiveArea',\n                'type': 'Short'\n            },\n            50830: {\n                'name': 'MaskedAreas',\n                'type': 'Short'\n            },\n            50831: {\n                'name': 'AsShotICCProfile',\n                'type': 'Undefined'\n            },\n            50832: {\n                'name': 'AsShotPreProfileMatrix',\n                'type': 'SRational'\n            },\n            50833: {\n                'name': 'CurrentICCProfile',\n                'type': 'Undefined'\n            },\n            50834: {\n                'name': 'CurrentPreProfileMatrix',\n                'type': 'SRational'\n            },\n            50879: {\n                'name': 'ColorimetricReference',\n                'type': 'Short'\n            },\n            50931: {\n                'name': 'CameraCalibrationSignature',\n                'type': 'Byte'\n            },\n            50932: {\n                'name': 'ProfileCalibrationSignature',\n                'type': 'Byte'\n            },\n            50934: {\n                'name': 'AsShotProfileName',\n                'type': 'Byte'\n            },\n            50935: {\n                'name': 'NoiseReductionApplied',\n                'type': 'Rational'\n            },\n            50936: {\n                'name': 'ProfileName',\n                'type': 'Byte'\n            },\n            50937: {\n                'name': 'ProfileHueSatMapDims',\n                'type': 'Long'\n            },\n            50938: {\n                'name': 'ProfileHueSatMapData1',\n                'type': 'Float'\n            },\n            50939: {\n                'name': 'ProfileHueSatMapData2',\n                'type': 'Float'\n            },\n            50940: {\n                'name': 'ProfileToneCurve',\n                'type': 'Float'\n            },\n            50941: {\n                'name': 'ProfileEmbedPolicy',\n                'type': 'Long'\n            },\n            50942: {\n                'name': 'ProfileCopyright',\n                'type': 'Byte'\n            },\n            50964: {\n                'name': 'ForwardMatrix1',\n                'type': 'SRational'\n            },\n            50965: {\n                'name': 'ForwardMatrix2',\n                'type': 'SRational'\n            },\n            50966: {\n                'name': 'PreviewApplicationName',\n                'type': 'Byte'\n            },\n            50967: {\n                'name': 'PreviewApplicationVersion',\n                'type': 'Byte'\n            },\n            50968: {\n                'name': 'PreviewSettingsName',\n                'type': 'Byte'\n            },\n            50969: {\n                'name': 'PreviewSettingsDigest',\n                'type': 'Byte'\n            },\n            50970: {\n                'name': 'PreviewColorSpace',\n                'type': 'Long'\n            },\n            50971: {\n                'name': 'PreviewDateTime',\n                'type': 'Ascii'\n            },\n            50972: {\n                'name': 'RawImageDigest',\n                'type': 'Undefined'\n            },\n            50973: {\n                'name': 'OriginalRawFileDigest',\n                'type': 'Undefined'\n            },\n            50974: {\n                'name': 'SubTileBlockSize',\n                'type': 'Long'\n            },\n            50975: {\n                'name': 'RowInterleaveFactor',\n                'type': 'Long'\n            },\n            50981: {\n                'name': 'ProfileLookTableDims',\n                'type': 'Long'\n            },\n            50982: {\n                'name': 'ProfileLookTableData',\n                'type': 'Float'\n            },\n            51008: {\n                'name': 'OpcodeList1',\n                'type': 'Undefined'\n            },\n            51009: {\n                'name': 'OpcodeList2',\n                'type': 'Undefined'\n            },\n            51022: {\n                'name': 'OpcodeList3',\n                'type': 'Undefined'\n            }\n        },\n        'Exif': {\n            33434: {\n                'name': 'ExposureTime',\n                'type': 'Rational'\n            },\n            33437: {\n                'name': 'FNumber',\n                'type': 'Rational'\n            },\n            34850: {\n                'name': 'ExposureProgram',\n                'type': 'Short'\n            },\n            34852: {\n                'name': 'SpectralSensitivity',\n                'type': 'Ascii'\n            },\n            34855: {\n                'name': 'ISOSpeedRatings',\n                'type': 'Short'\n            },\n            34856: {\n                'name': 'OECF',\n                'type': 'Undefined'\n            },\n            34864: {\n                'name': 'SensitivityType',\n                'type': 'Short'\n            },\n            34865: {\n                'name': 'StandardOutputSensitivity',\n                'type': 'Long'\n            },\n            34866: {\n                'name': 'RecommendedExposureIndex',\n                'type': 'Long'\n            },\n            34867: {\n                'name': 'ISOSpeed',\n                'type': 'Long'\n            },\n            34868: {\n                'name': 'ISOSpeedLatitudeyyy',\n                'type': 'Long'\n            },\n            34869: {\n                'name': 'ISOSpeedLatitudezzz',\n                'type': 'Long'\n            },\n            36864: {\n                'name': 'ExifVersion',\n                'type': 'Undefined'\n            },\n            36867: {\n                'name': 'DateTimeOriginal',\n                'type': 'Ascii'\n            },\n            36868: {\n                'name': 'DateTimeDigitized',\n                'type': 'Ascii'\n            },\n            37121: {\n                'name': 'ComponentsConfiguration',\n                'type': 'Undefined'\n            },\n            37122: {\n                'name': 'CompressedBitsPerPixel',\n                'type': 'Rational'\n            },\n            37377: {\n                'name': 'ShutterSpeedValue',\n                'type': 'SRational'\n            },\n            37378: {\n                'name': 'ApertureValue',\n                'type': 'Rational'\n            },\n            37379: {\n                'name': 'BrightnessValue',\n                'type': 'SRational'\n            },\n            37380: {\n                'name': 'ExposureBiasValue',\n                'type': 'SRational'\n            },\n            37381: {\n                'name': 'MaxApertureValue',\n                'type': 'Rational'\n            },\n            37382: {\n                'name': 'SubjectDistance',\n                'type': 'Rational'\n            },\n            37383: {\n                'name': 'MeteringMode',\n                'type': 'Short'\n            },\n            37384: {\n                'name': 'LightSource',\n                'type': 'Short'\n            },\n            37385: {\n                'name': 'Flash',\n                'type': 'Short'\n            },\n            37386: {\n                'name': 'FocalLength',\n                'type': 'Rational'\n            },\n            37396: {\n                'name': 'SubjectArea',\n                'type': 'Short'\n            },\n            37500: {\n                'name': 'MakerNote',\n                'type': 'Undefined'\n            },\n            37510: {\n                'name': 'UserComment',\n                'type': 'Ascii'\n            },\n            37520: {\n                'name': 'SubSecTime',\n                'type': 'Ascii'\n            },\n            37521: {\n                'name': 'SubSecTimeOriginal',\n                'type': 'Ascii'\n            },\n            37522: {\n                'name': 'SubSecTimeDigitized',\n                'type': 'Ascii'\n            },\n            40960: {\n                'name': 'FlashpixVersion',\n                'type': 'Undefined'\n            },\n            40961: {\n                'name': 'ColorSpace',\n                'type': 'Short'\n            },\n            40962: {\n                'name': 'PixelXDimension',\n                'type': 'Long'\n            },\n            40963: {\n                'name': 'PixelYDimension',\n                'type': 'Long'\n            },\n            40964: {\n                'name': 'RelatedSoundFile',\n                'type': 'Ascii'\n            },\n            40965: {\n                'name': 'InteroperabilityTag',\n                'type': 'Long'\n            },\n            41483: {\n                'name': 'FlashEnergy',\n                'type': 'Rational'\n            },\n            41484: {\n                'name': 'SpatialFrequencyResponse',\n                'type': 'Undefined'\n            },\n            41486: {\n                'name': 'FocalPlaneXResolution',\n                'type': 'Rational'\n            },\n            41487: {\n                'name': 'FocalPlaneYResolution',\n                'type': 'Rational'\n            },\n            41488: {\n                'name': 'FocalPlaneResolutionUnit',\n                'type': 'Short'\n            },\n            41492: {\n                'name': 'SubjectLocation',\n                'type': 'Short'\n            },\n            41493: {\n                'name': 'ExposureIndex',\n                'type': 'Rational'\n            },\n            41495: {\n                'name': 'SensingMethod',\n                'type': 'Short'\n            },\n            41728: {\n                'name': 'FileSource',\n                'type': 'Undefined'\n            },\n            41729: {\n                'name': 'SceneType',\n                'type': 'Undefined'\n            },\n            41730: {\n                'name': 'CFAPattern',\n                'type': 'Undefined'\n            },\n            41985: {\n                'name': 'CustomRendered',\n                'type': 'Short'\n            },\n            41986: {\n                'name': 'ExposureMode',\n                'type': 'Short'\n            },\n            41987: {\n                'name': 'WhiteBalance',\n                'type': 'Short'\n            },\n            41988: {\n                'name': 'DigitalZoomRatio',\n                'type': 'Rational'\n            },\n            41989: {\n                'name': 'FocalLengthIn35mmFilm',\n                'type': 'Short'\n            },\n            41990: {\n                'name': 'SceneCaptureType',\n                'type': 'Short'\n            },\n            41991: {\n                'name': 'GainControl',\n                'type': 'Short'\n            },\n            41992: {\n                'name': 'Contrast',\n                'type': 'Short'\n            },\n            41993: {\n                'name': 'Saturation',\n                'type': 'Short'\n            },\n            41994: {\n                'name': 'Sharpness',\n                'type': 'Short'\n            },\n            41995: {\n                'name': 'DeviceSettingDescription',\n                'type': 'Undefined'\n            },\n            41996: {\n                'name': 'SubjectDistanceRange',\n                'type': 'Short'\n            },\n            42016: {\n                'name': 'ImageUniqueID',\n                'type': 'Ascii'\n            },\n            42032: {\n                'name': 'CameraOwnerName',\n                'type': 'Ascii'\n            },\n            42033: {\n                'name': 'BodySerialNumber',\n                'type': 'Ascii'\n            },\n            42034: {\n                'name': 'LensSpecification',\n                'type': 'Rational'\n            },\n            42035: {\n                'name': 'LensMake',\n                'type': 'Ascii'\n            },\n            42036: {\n                'name': 'LensModel',\n                'type': 'Ascii'\n            },\n            42037: {\n                'name': 'LensSerialNumber',\n                'type': 'Ascii'\n            },\n            42240: {\n                'name': 'Gamma',\n                'type': 'Rational'\n            }\n        },\n        'GPS': {\n            0: {\n                'name': 'GPSVersionID',\n                'type': 'Byte'\n            },\n            1: {\n                'name': 'GPSLatitudeRef',\n                'type': 'Ascii'\n            },\n            2: {\n                'name': 'GPSLatitude',\n                'type': 'Rational'\n            },\n            3: {\n                'name': 'GPSLongitudeRef',\n                'type': 'Ascii'\n            },\n            4: {\n                'name': 'GPSLongitude',\n                'type': 'Rational'\n            },\n            5: {\n                'name': 'GPSAltitudeRef',\n                'type': 'Byte'\n            },\n            6: {\n                'name': 'GPSAltitude',\n                'type': 'Rational'\n            },\n            7: {\n                'name': 'GPSTimeStamp',\n                'type': 'Rational'\n            },\n            8: {\n                'name': 'GPSSatellites',\n                'type': 'Ascii'\n            },\n            9: {\n                'name': 'GPSStatus',\n                'type': 'Ascii'\n            },\n            10: {\n                'name': 'GPSMeasureMode',\n                'type': 'Ascii'\n            },\n            11: {\n                'name': 'GPSDOP',\n                'type': 'Rational'\n            },\n            12: {\n                'name': 'GPSSpeedRef',\n                'type': 'Ascii'\n            },\n            13: {\n                'name': 'GPSSpeed',\n                'type': 'Rational'\n            },\n            14: {\n                'name': 'GPSTrackRef',\n                'type': 'Ascii'\n            },\n            15: {\n                'name': 'GPSTrack',\n                'type': 'Rational'\n            },\n            16: {\n                'name': 'GPSImgDirectionRef',\n                'type': 'Ascii'\n            },\n            17: {\n                'name': 'GPSImgDirection',\n                'type': 'Rational'\n            },\n            18: {\n                'name': 'GPSMapDatum',\n                'type': 'Ascii'\n            },\n            19: {\n                'name': 'GPSDestLatitudeRef',\n                'type': 'Ascii'\n            },\n            20: {\n                'name': 'GPSDestLatitude',\n                'type': 'Rational'\n            },\n            21: {\n                'name': 'GPSDestLongitudeRef',\n                'type': 'Ascii'\n            },\n            22: {\n                'name': 'GPSDestLongitude',\n                'type': 'Rational'\n            },\n            23: {\n                'name': 'GPSDestBearingRef',\n                'type': 'Ascii'\n            },\n            24: {\n                'name': 'GPSDestBearing',\n                'type': 'Rational'\n            },\n            25: {\n                'name': 'GPSDestDistanceRef',\n                'type': 'Ascii'\n            },\n            26: {\n                'name': 'GPSDestDistance',\n                'type': 'Rational'\n            },\n            27: {\n                'name': 'GPSProcessingMethod',\n                'type': 'Undefined'\n            },\n            28: {\n                'name': 'GPSAreaInformation',\n                'type': 'Undefined'\n            },\n            29: {\n                'name': 'GPSDateStamp',\n                'type': 'Ascii'\n            },\n            30: {\n                'name': 'GPSDifferential',\n                'type': 'Short'\n            },\n            31: {\n                'name': 'GPSHPositioningError',\n                'type': 'Rational'\n            }\n        },\n        'Interop': {\n            1: {\n                'name': 'InteroperabilityIndex',\n                'type': 'Ascii'\n            }\n        },\n    };\n    TAGS[\"0th\"] = TAGS[\"Image\"];\n    TAGS[\"1st\"] = TAGS[\"Image\"];\n    that.TAGS = TAGS;\n\n    \n    that.ImageIFD = {\n        ProcessingSoftware:11,\n        NewSubfileType:254,\n        SubfileType:255,\n        ImageWidth:256,\n        ImageLength:257,\n        BitsPerSample:258,\n        Compression:259,\n        PhotometricInterpretation:262,\n        Threshholding:263,\n        CellWidth:264,\n        CellLength:265,\n        FillOrder:266,\n        DocumentName:269,\n        ImageDescription:270,\n        Make:271,\n        Model:272,\n        StripOffsets:273,\n        Orientation:274,\n        SamplesPerPixel:277,\n        RowsPerStrip:278,\n        StripByteCounts:279,\n        XResolution:282,\n        YResolution:283,\n        PlanarConfiguration:284,\n        GrayResponseUnit:290,\n        GrayResponseCurve:291,\n        T4Options:292,\n        T6Options:293,\n        ResolutionUnit:296,\n        TransferFunction:301,\n        Software:305,\n        DateTime:306,\n        Artist:315,\n        HostComputer:316,\n        Predictor:317,\n        WhitePoint:318,\n        PrimaryChromaticities:319,\n        ColorMap:320,\n        HalftoneHints:321,\n        TileWidth:322,\n        TileLength:323,\n        TileOffsets:324,\n        TileByteCounts:325,\n        SubIFDs:330,\n        InkSet:332,\n        InkNames:333,\n        NumberOfInks:334,\n        DotRange:336,\n        TargetPrinter:337,\n        ExtraSamples:338,\n        SampleFormat:339,\n        SMinSampleValue:340,\n        SMaxSampleValue:341,\n        TransferRange:342,\n        ClipPath:343,\n        XClipPathUnits:344,\n        YClipPathUnits:345,\n        Indexed:346,\n        JPEGTables:347,\n        OPIProxy:351,\n        JPEGProc:512,\n        JPEGInterchangeFormat:513,\n        JPEGInterchangeFormatLength:514,\n        JPEGRestartInterval:515,\n        JPEGLosslessPredictors:517,\n        JPEGPointTransforms:518,\n        JPEGQTables:519,\n        JPEGDCTables:520,\n        JPEGACTables:521,\n        YCbCrCoefficients:529,\n        YCbCrSubSampling:530,\n        YCbCrPositioning:531,\n        ReferenceBlackWhite:532,\n        XMLPacket:700,\n        Rating:18246,\n        RatingPercent:18249,\n        ImageID:32781,\n        CFARepeatPatternDim:33421,\n        CFAPattern:33422,\n        BatteryLevel:33423,\n        Copyright:33432,\n        ExposureTime:33434,\n        ImageResources:34377,\n        ExifTag:34665,\n        InterColorProfile:34675,\n        GPSTag:34853,\n        Interlace:34857,\n        TimeZoneOffset:34858,\n        SelfTimerMode:34859,\n        FlashEnergy:37387,\n        SpatialFrequencyResponse:37388,\n        Noise:37389,\n        FocalPlaneXResolution:37390,\n        FocalPlaneYResolution:37391,\n        FocalPlaneResolutionUnit:37392,\n        ImageNumber:37393,\n        SecurityClassification:37394,\n        ImageHistory:37395,\n        ExposureIndex:37397,\n        TIFFEPStandardID:37398,\n        SensingMethod:37399,\n        XPTitle:40091,\n        XPComment:40092,\n        XPAuthor:40093,\n        XPKeywords:40094,\n        XPSubject:40095,\n        PrintImageMatching:50341,\n        DNGVersion:50706,\n        DNGBackwardVersion:50707,\n        UniqueCameraModel:50708,\n        LocalizedCameraModel:50709,\n        CFAPlaneColor:50710,\n        CFALayout:50711,\n        LinearizationTable:50712,\n        BlackLevelRepeatDim:50713,\n        BlackLevel:50714,\n        BlackLevelDeltaH:50715,\n        BlackLevelDeltaV:50716,\n        WhiteLevel:50717,\n        DefaultScale:50718,\n        DefaultCropOrigin:50719,\n        DefaultCropSize:50720,\n        ColorMatrix1:50721,\n        ColorMatrix2:50722,\n        CameraCalibration1:50723,\n        CameraCalibration2:50724,\n        ReductionMatrix1:50725,\n        ReductionMatrix2:50726,\n        AnalogBalance:50727,\n        AsShotNeutral:50728,\n        AsShotWhiteXY:50729,\n        BaselineExposure:50730,\n        BaselineNoise:50731,\n        BaselineSharpness:50732,\n        BayerGreenSplit:50733,\n        LinearResponseLimit:50734,\n        CameraSerialNumber:50735,\n        LensInfo:50736,\n        ChromaBlurRadius:50737,\n        AntiAliasStrength:50738,\n        ShadowScale:50739,\n        DNGPrivateData:50740,\n        MakerNoteSafety:50741,\n        CalibrationIlluminant1:50778,\n        CalibrationIlluminant2:50779,\n        BestQualityScale:50780,\n        RawDataUniqueID:50781,\n        OriginalRawFileName:50827,\n        OriginalRawFileData:50828,\n        ActiveArea:50829,\n        MaskedAreas:50830,\n        AsShotICCProfile:50831,\n        AsShotPreProfileMatrix:50832,\n        CurrentICCProfile:50833,\n        CurrentPreProfileMatrix:50834,\n        ColorimetricReference:50879,\n        CameraCalibrationSignature:50931,\n        ProfileCalibrationSignature:50932,\n        AsShotProfileName:50934,\n        NoiseReductionApplied:50935,\n        ProfileName:50936,\n        ProfileHueSatMapDims:50937,\n        ProfileHueSatMapData1:50938,\n        ProfileHueSatMapData2:50939,\n        ProfileToneCurve:50940,\n        ProfileEmbedPolicy:50941,\n        ProfileCopyright:50942,\n        ForwardMatrix1:50964,\n        ForwardMatrix2:50965,\n        PreviewApplicationName:50966,\n        PreviewApplicationVersion:50967,\n        PreviewSettingsName:50968,\n        PreviewSettingsDigest:50969,\n        PreviewColorSpace:50970,\n        PreviewDateTime:50971,\n        RawImageDigest:50972,\n        OriginalRawFileDigest:50973,\n        SubTileBlockSize:50974,\n        RowInterleaveFactor:50975,\n        ProfileLookTableDims:50981,\n        ProfileLookTableData:50982,\n        OpcodeList1:51008,\n        OpcodeList2:51009,\n        OpcodeList3:51022,\n        NoiseProfile:51041,\n    };\n\n    \n    that.ExifIFD = {\n        ExposureTime:33434,\n        FNumber:33437,\n        ExposureProgram:34850,\n        SpectralSensitivity:34852,\n        ISOSpeedRatings:34855,\n        OECF:34856,\n        SensitivityType:34864,\n        StandardOutputSensitivity:34865,\n        RecommendedExposureIndex:34866,\n        ISOSpeed:34867,\n        ISOSpeedLatitudeyyy:34868,\n        ISOSpeedLatitudezzz:34869,\n        ExifVersion:36864,\n        DateTimeOriginal:36867,\n        DateTimeDigitized:36868,\n        ComponentsConfiguration:37121,\n        CompressedBitsPerPixel:37122,\n        ShutterSpeedValue:37377,\n        ApertureValue:37378,\n        BrightnessValue:37379,\n        ExposureBiasValue:37380,\n        MaxApertureValue:37381,\n        SubjectDistance:37382,\n        MeteringMode:37383,\n        LightSource:37384,\n        Flash:37385,\n        FocalLength:37386,\n        SubjectArea:37396,\n        MakerNote:37500,\n        UserComment:37510,\n        SubSecTime:37520,\n        SubSecTimeOriginal:37521,\n        SubSecTimeDigitized:37522,\n        FlashpixVersion:40960,\n        ColorSpace:40961,\n        PixelXDimension:40962,\n        PixelYDimension:40963,\n        RelatedSoundFile:40964,\n        InteroperabilityTag:40965,\n        FlashEnergy:41483,\n        SpatialFrequencyResponse:41484,\n        FocalPlaneXResolution:41486,\n        FocalPlaneYResolution:41487,\n        FocalPlaneResolutionUnit:41488,\n        SubjectLocation:41492,\n        ExposureIndex:41493,\n        SensingMethod:41495,\n        FileSource:41728,\n        SceneType:41729,\n        CFAPattern:41730,\n        CustomRendered:41985,\n        ExposureMode:41986,\n        WhiteBalance:41987,\n        DigitalZoomRatio:41988,\n        FocalLengthIn35mmFilm:41989,\n        SceneCaptureType:41990,\n        GainControl:41991,\n        Contrast:41992,\n        Saturation:41993,\n        Sharpness:41994,\n        DeviceSettingDescription:41995,\n        SubjectDistanceRange:41996,\n        ImageUniqueID:42016,\n        CameraOwnerName:42032,\n        BodySerialNumber:42033,\n        LensSpecification:42034,\n        LensMake:42035,\n        LensModel:42036,\n        LensSerialNumber:42037,\n        Gamma:42240,\n    };\n\n\n    that.GPSIFD = {\n        GPSVersionID:0,\n        GPSLatitudeRef:1,\n        GPSLatitude:2,\n        GPSLongitudeRef:3,\n        GPSLongitude:4,\n        GPSAltitudeRef:5,\n        GPSAltitude:6,\n        GPSTimeStamp:7,\n        GPSSatellites:8,\n        GPSStatus:9,\n        GPSMeasureMode:10,\n        GPSDOP:11,\n        GPSSpeedRef:12,\n        GPSSpeed:13,\n        GPSTrackRef:14,\n        GPSTrack:15,\n        GPSImgDirectionRef:16,\n        GPSImgDirection:17,\n        GPSMapDatum:18,\n        GPSDestLatitudeRef:19,\n        GPSDestLatitude:20,\n        GPSDestLongitudeRef:21,\n        GPSDestLongitude:22,\n        GPSDestBearingRef:23,\n        GPSDestBearing:24,\n        GPSDestDistanceRef:25,\n        GPSDestDistance:26,\n        GPSProcessingMethod:27,\n        GPSAreaInformation:28,\n        GPSDateStamp:29,\n        GPSDifferential:30,\n        GPSHPositioningError:31,\n    };\n\n\n    that.InteropIFD = {\n        InteroperabilityIndex:1,\n    };\n\n    that.GPSHelper = {\n        degToDmsRational:function (degFloat) {\n            var minFloat = degFloat % 1 * 60;\n            var secFloat = minFloat % 1 * 60;\n            var deg = Math.floor(degFloat);\n            var min = Math.floor(minFloat);\n            var sec = Math.round(secFloat * 100);\n\n            return [[deg, 1], [min, 1], [sec, 100]];\n        }\n    };\n    \n    \n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = that;\n        }\n        exports.piexif = that;\n    } else {\n        window.piexif = that;\n    }\n\n})();\n\n/*!\n * bootstrap-fileinput v5.1.3\n * http://plugins.krajee.com/file-input\n *\n * Author: Kartik Visweswaran\n * Copyright: 2014 - 2020, Kartik Visweswaran, Krajee.com\n *\n * Licensed under the BSD-3-Clause\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\n */\n(function (factory) {\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n    define([\"jquery\"], factory);\n  } else {\n    if (typeof module === \"object\" && module.exports) {\n      //noinspection NpmUsedModulesInstalled\n      module.exports = factory(require(\"jquery\"));\n    } else {\n      factory(window.jQuery);\n    }\n  }\n})(function ($) {\n  \"use strict\";\n\n  $.fn.fileinputLocales = {};\n  $.fn.fileinputThemes = {};\n\n  String.prototype.setTokens = function (replacePairs) {\n    var str = this.toString(),\n      key,\n      re;\n    for (key in replacePairs) {\n      if (replacePairs.hasOwnProperty(key)) {\n        re = new RegExp(\"{\" + key + \"}\", \"g\");\n        str = str.replace(re, replacePairs[key]);\n      }\n    }\n    return str;\n  };\n\n  if (!Array.prototype.flatMap) {\n    // polyfill flatMap\n    Array.prototype.flatMap = function (lambda) {\n      return [].concat(this.map(lambda));\n    };\n  }\n\n  var $h, FileInput;\n\n  // fileinput helper object for all global variables and internal helper methods\n  $h = {\n    FRAMES: \".kv-preview-thumb\",\n    SORT_CSS: \"file-sortable\",\n    INIT_FLAG: \"init-\",\n    OBJECT_PARAMS:\n      '<param name=\"controller\" value=\"true\" />\\n' +\n      '<param name=\"allowFullScreen\" value=\"true\" />\\n' +\n      '<param name=\"allowScriptAccess\" value=\"always\" />\\n' +\n      '<param name=\"autoPlay\" value=\"false\" />\\n' +\n      '<param name=\"autoStart\" value=\"false\" />\\n' +\n      '<param name=\"quality\" value=\"high\" />\\n',\n    DEFAULT_PREVIEW:\n      '<div class=\"file-preview-other\">\\n' +\n      '<span class=\"{previewFileIconClass}\">{previewFileIcon}</span>\\n' +\n      \"</div>\",\n    MODAL_ID: \"kvFileinputModal\",\n    MODAL_EVENTS: [\"show\", \"shown\", \"hide\", \"hidden\", \"loaded\"],\n    logMessages: {\n      ajaxError: \"{status}: {error}. Error Details: {text}.\",\n      badDroppedFiles: \"Error scanning dropped files!\",\n      badExifParser: \"Error loading the piexif.js library. {details}\",\n      badInputType:\n        'The input \"type\" must be set to \"file\" for initializing the \"bootstrap-fileinput\" plugin.',\n      exifWarning:\n        'To avoid this warning, either set \"autoOrientImage\" to \"false\" OR ensure you have loaded ' +\n        'the \"piexif.js\" library correctly on your page before the \"fileinput.js\" script.',\n      invalidChunkSize:\n        'Invalid upload chunk size: \"{chunkSize}\". Resumable uploads are disabled.',\n      invalidThumb: 'Invalid thumb frame with id: \"{id}\".',\n      noResumableSupport:\n        \"The browser does not support resumable or chunk uploads.\",\n      noUploadUrl:\n        'The \"uploadUrl\" is not set. Ajax uploads and resumable uploads have been disabled.',\n      retryStatus:\n        \"Retrying upload for chunk # {chunk} for {filename}... retry # {retry}.\",\n      chunkQueueError:\n        \"Could not push task to ajax pool for chunk index # {index}.\",\n      resumableMaxRetriesReached:\n        \"Maximum resumable ajax retries ({n}) reached.\",\n      resumableRetryError:\n        \"Could not retry the resumable request (try # {n})... aborting.\",\n      resumableAborting: \"Aborting / cancelling the resumable request.\",\n    },\n    objUrl: window.URL || window.webkitURL,\n    now: function () {\n      return new Date().getTime();\n    },\n    round: function (num) {\n      num = parseFloat(num);\n      return isNaN(num) ? 0 : Math.floor(Math.round(num));\n    },\n    getArray: function (obj) {\n      var i,\n        arr = [],\n        len = (obj && obj.length) || 0;\n      for (i = 0; i < len; i++) {\n        arr.push(obj[i]);\n      }\n      return arr;\n    },\n    getFileRelativePath: function (file) {\n      /** @namespace file.relativePath */\n      /** @namespace file.webkitRelativePath */\n      return String(\n        file.newPath ||\n          file.relativePath ||\n          file.webkitRelativePath ||\n          $h.getFileName(file) ||\n          null\n      );\n    },\n    getFileId: function (file, generateFileId) {\n      var relativePath = $h.getFileRelativePath(file);\n      if (typeof generateFileId === \"function\") {\n        return generateFileId(file);\n      }\n      if (!file) {\n        return null;\n      }\n      if (!relativePath) {\n        return null;\n      }\n      return (\n        file.size + \"_\" + encodeURIComponent(relativePath).replace(/%/g, \"_\")\n      );\n    },\n    getFrameSelector: function (id, selector) {\n      selector = selector || \"\";\n      return '[id=\"' + id + '\"]' + selector;\n    },\n    getZoomSelector: function (id, selector) {\n      return $h.getFrameSelector(\"zoom-\" + id, selector);\n    },\n    getFrameElement: function ($element, id, selector) {\n      return $element.find($h.getFrameSelector(id, selector));\n    },\n    getZoomElement: function ($element, id, selector) {\n      return $element.find($h.getZoomSelector(id, selector));\n    },\n    getElapsed: function (seconds) {\n      var delta = seconds,\n        out = \"\",\n        result = {},\n        structure = {\n          year: 31536000,\n          month: 2592000,\n          week: 604800, // uncomment row to ignore\n          day: 86400, // feel free to add your own row\n          hour: 3600,\n          minute: 60,\n          second: 1,\n        };\n      $h.getObjectKeys(structure).forEach(function (key) {\n        result[key] = Math.floor(delta / structure[key]);\n        delta -= result[key] * structure[key];\n      });\n      $.each(result, function (key, value) {\n        if (value > 0) {\n          out += (out ? \" \" : \"\") + value + key.substring(0, 1);\n        }\n      });\n      return out;\n    },\n    debounce: function (func, delay) {\n      var inDebounce;\n      return function () {\n        var args = arguments,\n          context = this;\n        clearTimeout(inDebounce);\n        inDebounce = setTimeout(function () {\n          func.apply(context, args);\n        }, delay);\n      };\n    },\n    stopEvent: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n    getFileName: function (file) {\n      /** @namespace file.fileName */\n      return file ? file.fileName || file.name || \"\" : \"\"; // some confusion in different versions of Firefox\n    },\n    createObjectURL: function (data) {\n      if ($h.objUrl && $h.objUrl.createObjectURL && data) {\n        return $h.objUrl.createObjectURL(data);\n      }\n      return \"\";\n    },\n    revokeObjectURL: function (data) {\n      if ($h.objUrl && $h.objUrl.revokeObjectURL && data) {\n        $h.objUrl.revokeObjectURL(data);\n      }\n    },\n    compare: function (input, str, exact) {\n      return input !== undefined && (exact ? input === str : input.match(str));\n    },\n    isIE: function (ver) {\n      var div, status;\n      // check for IE versions < 11\n      if (navigator.appName !== \"Microsoft Internet Explorer\") {\n        return false;\n      }\n      if (ver === 10) {\n        return new RegExp(\"msie\\\\s\" + ver, \"i\").test(navigator.userAgent);\n      }\n      div = document.createElement(\"div\");\n      div.innerHTML = \"<!--[if IE \" + ver + \"]> <i></i> <![endif]-->\";\n      status = div.getElementsByTagName(\"i\").length;\n      document.body.appendChild(div);\n      div.parentNode.removeChild(div);\n      return status;\n    },\n    canOrientImage: function ($el) {\n      var $img = $(document.createElement(\"img\"))\n          .css({ width: \"1px\", height: \"1px\" })\n          .insertAfter($el),\n        flag = $img.css(\"image-orientation\");\n      $img.remove();\n      return !!flag;\n    },\n    canAssignFilesToInput: function () {\n      var input = document.createElement(\"input\");\n      try {\n        input.type = \"file\";\n        input.files = null;\n        return true;\n      } catch (err) {\n        return false;\n      }\n    },\n    getDragDropFolders: function (items) {\n      var i,\n        item,\n        len = items ? items.length : 0,\n        folders = 0;\n      if (len > 0 && items[0].webkitGetAsEntry()) {\n        for (i = 0; i < len; i++) {\n          item = items[i].webkitGetAsEntry();\n          if (item && item.isDirectory) {\n            folders++;\n          }\n        }\n      }\n      return folders;\n    },\n    initModal: function ($modal) {\n      var $body = $(\"body\");\n      if ($body.length) {\n        $modal.appendTo($body);\n      }\n    },\n    isFunction: function (v) {\n      return typeof v === \"function\";\n    },\n    isEmpty: function (value, trim) {\n      return (\n        value === undefined ||\n        value === null ||\n        (!$h.isFunction(value) &&\n          (value.length === 0 || (trim && $.trim(value) === \"\")))\n      );\n    },\n    isArray: function (a) {\n      return (\n        Array.isArray(a) ||\n        Object.prototype.toString.call(a) === \"[object Array]\"\n      );\n    },\n    ifSet: function (needle, haystack, def) {\n      def = def || \"\";\n      return haystack && typeof haystack === \"object\" && needle in haystack\n        ? haystack[needle]\n        : def;\n    },\n    cleanArray: function (arr) {\n      if (!(arr instanceof Array)) {\n        arr = [];\n      }\n      return arr.filter(function (e) {\n        return e !== undefined && e !== null;\n      });\n    },\n    spliceArray: function (arr, index, reverseOrder) {\n      var i,\n        j = 0,\n        out = [],\n        newArr;\n      if (!(arr instanceof Array)) {\n        return [];\n      }\n      newArr = $.extend(true, [], arr);\n      if (reverseOrder) {\n        newArr.reverse();\n      }\n      for (i = 0; i < newArr.length; i++) {\n        if (i !== index) {\n          out[j] = newArr[i];\n          j++;\n        }\n      }\n      if (reverseOrder) {\n        out.reverse();\n      }\n      return out;\n    },\n    getNum: function (num, def) {\n      def = def || 0;\n      if (typeof num === \"number\") {\n        return num;\n      }\n      if (typeof num === \"string\") {\n        num = parseFloat(num);\n      }\n      return isNaN(num) ? def : num;\n    },\n    hasFileAPISupport: function () {\n      return !!(window.File && window.FileReader);\n    },\n    hasDragDropSupport: function () {\n      var div = document.createElement(\"div\");\n      /** @namespace div.draggable */\n      /** @namespace div.ondragstart */\n      /** @namespace div.ondrop */\n      return (\n        !$h.isIE(9) &&\n        (div.draggable !== undefined ||\n          (div.ondragstart !== undefined && div.ondrop !== undefined))\n      );\n    },\n    hasFileUploadSupport: function () {\n      return $h.hasFileAPISupport() && window.FormData;\n    },\n    hasBlobSupport: function () {\n      try {\n        return !!window.Blob && Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    },\n    hasArrayBufferViewSupport: function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    },\n    hasResumableUploadSupport: function () {\n      /** @namespace Blob.prototype.webkitSlice */\n      /** @namespace Blob.prototype.mozSlice */\n      return (\n        $h.hasFileUploadSupport() &&\n        $h.hasBlobSupport() &&\n        $h.hasArrayBufferViewSupport() &&\n        (!!Blob.prototype.webkitSlice ||\n          !!Blob.prototype.mozSlice ||\n          !!Blob.prototype.slice ||\n          false)\n      );\n    },\n    dataURI2Blob: function (dataURI) {\n      var BlobBuilder =\n          window.BlobBuilder ||\n          window.WebKitBlobBuilder ||\n          window.MozBlobBuilder ||\n          window.MSBlobBuilder,\n        canBlob = $h.hasBlobSupport(),\n        byteStr,\n        arrayBuffer,\n        intArray,\n        i,\n        mimeStr,\n        bb,\n        canProceed =\n          (canBlob || BlobBuilder) &&\n          window.atob &&\n          window.ArrayBuffer &&\n          window.Uint8Array;\n      if (!canProceed) {\n        return null;\n      }\n      if (dataURI.split(\",\")[0].indexOf(\"base64\") >= 0) {\n        byteStr = atob(dataURI.split(\",\")[1]);\n      } else {\n        byteStr = decodeURIComponent(dataURI.split(\",\")[1]);\n      }\n      arrayBuffer = new ArrayBuffer(byteStr.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteStr.length; i += 1) {\n        intArray[i] = byteStr.charCodeAt(i);\n      }\n      mimeStr = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n      if (canBlob) {\n        return new Blob(\n          [$h.hasArrayBufferViewSupport() ? intArray : arrayBuffer],\n          { type: mimeStr }\n        );\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mimeStr);\n    },\n    arrayBuffer2String: function (buffer) {\n      if (window.TextDecoder) {\n        return new TextDecoder(\"utf-8\").decode(buffer);\n      }\n      var array = Array.prototype.slice.apply(new Uint8Array(buffer)),\n        out = \"\",\n        i = 0,\n        len,\n        c,\n        char2,\n        char3;\n      len = array.length;\n      while (i < len) {\n        c = array[i++];\n        switch (\n          c >> 4 // jshint ignore:line\n        ) {\n          case 0:\n          case 1:\n          case 2:\n          case 3:\n          case 4:\n          case 5:\n          case 6:\n          case 7:\n            // 0xxxxxxx\n            out += String.fromCharCode(c);\n            break;\n          case 12:\n          case 13:\n            // 110x xxxx   10xx xxxx\n            char2 = array[i++];\n            out += String.fromCharCode(((c & 0x1f) << 6) | (char2 & 0x3f)); // jshint ignore:line\n            break;\n          case 14:\n            // 1110 xxxx  10xx xxxx  10xx xxxx\n            char2 = array[i++];\n            char3 = array[i++];\n            out += String.fromCharCode(\n              ((c & 0x0f) << 12) | // jshint ignore:line\n                ((char2 & 0x3f) << 6) | // jshint ignore:line\n                ((char3 & 0x3f) << 0)\n            ); // jshint ignore:line\n            break;\n        }\n      }\n      return out;\n    },\n    isHtml: function (str) {\n      var a = document.createElement(\"div\");\n      a.innerHTML = str;\n      for (var c = a.childNodes, i = c.length; i--; ) {\n        if (c[i].nodeType === 1) {\n          return true;\n        }\n      }\n      return false;\n    },\n    isSvg: function (str) {\n      return (\n        str.match(/^\\s*<\\?xml/i) &&\n        (str.match(/<!DOCTYPE svg/i) || str.match(/<svg/i))\n      );\n    },\n    getMimeType: function (signature, contents, type) {\n      switch (signature) {\n        case \"ffd8ffe0\":\n        case \"ffd8ffe1\":\n        case \"ffd8ffe2\":\n          return \"image/jpeg\";\n        case \"89504e47\":\n          return \"image/png\";\n        case \"47494638\":\n          return \"image/gif\";\n        case \"49492a00\":\n          return \"image/tiff\";\n        case \"52494646\":\n          return \"image/webp\";\n        case \"66747970\":\n          return \"video/3gp\";\n        case \"4f676753\":\n          return \"video/ogg\";\n        case \"1a45dfa3\":\n          return \"video/mkv\";\n        case \"000001ba\":\n        case \"000001b3\":\n          return \"video/mpeg\";\n        case \"3026b275\":\n          return \"video/wmv\";\n        case \"25504446\":\n          return \"application/pdf\";\n        case \"25215053\":\n          return \"application/ps\";\n        case \"504b0304\":\n        case \"504b0506\":\n        case \"504b0508\":\n          return \"application/zip\";\n        case \"377abcaf\":\n          return \"application/7z\";\n        case \"75737461\":\n          return \"application/tar\";\n        case \"7801730d\":\n          return \"application/dmg\";\n        default:\n          switch (signature.substring(0, 6)) {\n            case \"435753\":\n              return \"application/x-shockwave-flash\";\n            case \"494433\":\n              return \"audio/mp3\";\n            case \"425a68\":\n              return \"application/bzip\";\n            default:\n              switch (signature.substring(0, 4)) {\n                case \"424d\":\n                  return \"image/bmp\";\n                case \"fffb\":\n                  return \"audio/mp3\";\n                case \"4d5a\":\n                  return \"application/exe\";\n                case \"1f9d\":\n                case \"1fa0\":\n                  return \"application/zip\";\n                case \"1f8b\":\n                  return \"application/gzip\";\n                default:\n                  return contents && !contents.match(/[^\\u0000-\\u007f]/)\n                    ? \"application/text-plain\"\n                    : type;\n              }\n          }\n      }\n    },\n    addCss: function ($el, css) {\n      $el.removeClass(css).addClass(css);\n    },\n    getElement: function (options, param, value) {\n      return $h.isEmpty(options) || $h.isEmpty(options[param])\n        ? value\n        : $(options[param]);\n    },\n    createElement: function (str, tag) {\n      tag = tag || \"div\";\n      return $($.parseHTML(\"<\" + tag + \">\" + str + \"</\" + tag + \">\"));\n    },\n    uniqId: function () {\n      return (\n        new Date().getTime() + Math.floor(Math.random() * Math.pow(10, 15))\n      ).toString(36);\n    },\n    cspBuffer: {\n      CSP_ATTRIB: \"data-csp-01928735\", // a randomly named temporary attribute to store the CSP elem id\n      domElementsStyles: {},\n      stash: function (htmlString) {\n        var self = this,\n          outerDom = $.parseHTML(\"<div>\" + htmlString + \"</div>\"),\n          $el = $(outerDom);\n        $el.find(\"[style]\").each(function (key, elem) {\n          var $elem = $(elem),\n            styleString = $elem.attr(\"style\"),\n            id = $h.uniqId(),\n            styles = {};\n          if (styleString && styleString.length) {\n            if (styleString.indexOf(\";\") === -1) {\n              styleString += \";\";\n            }\n            styleString\n              .slice(0, styleString.length - 1)\n              .split(\";\")\n              .map(function (str) {\n                str = str.split(\":\");\n                if (str[0]) {\n                  styles[str[0]] = str[1] ? str[1] : \"\";\n                }\n              });\n            self.domElementsStyles[id] = styles;\n            $elem.removeAttr(\"style\").attr(self.CSP_ATTRIB, id);\n          }\n        });\n        $el.filter(\"*\").removeAttr(\"style\"); // make sure all style attr are removed\n        var values = Object.values\n          ? Object.values(outerDom)\n          : Object.keys(outerDom).map(function (itm) {\n              return outerDom[itm];\n            });\n        return values\n          .flatMap(function (elem) {\n            return elem.innerHTML;\n          })\n          .join(\"\");\n      },\n      apply: function (domElement) {\n        var self = this,\n          $el = $(domElement);\n        $el.find(\"[\" + self.CSP_ATTRIB + \"]\").each(function (key, elem) {\n          var $elem = $(elem),\n            id = $elem.attr(self.CSP_ATTRIB),\n            styles = self.domElementsStyles[id];\n          if (styles) {\n            $elem.css(styles);\n          }\n          $elem.removeAttr(self.CSP_ATTRIB);\n        });\n        self.domElementsStyles = {};\n      },\n    },\n    setHtml: function ($elem, htmlString) {\n      var buf = $h.cspBuffer;\n      $elem.html(buf.stash(htmlString));\n      buf.apply($elem);\n      return $elem;\n    },\n    htmlEncode: function (str, undefVal) {\n      if (str === undefined) {\n        return undefVal || null;\n      }\n      return str\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&apos;\");\n    },\n    replaceTags: function (str, tags) {\n      var out = str;\n      if (!tags) {\n        return out;\n      }\n      $.each(tags, function (key, value) {\n        if (typeof value === \"function\") {\n          value = value();\n        }\n        out = out.split(key).join(value);\n      });\n      return out;\n    },\n    cleanMemory: function ($thumb) {\n      var data = $thumb.is(\"img\")\n        ? $thumb.attr(\"src\")\n        : $thumb.find(\"source\").attr(\"src\");\n      $h.revokeObjectURL(data);\n    },\n    findFileName: function (filePath) {\n      var sepIndex = filePath.lastIndexOf(\"/\");\n      if (sepIndex === -1) {\n        sepIndex = filePath.lastIndexOf(\"\\\\\");\n      }\n      return filePath.split(filePath.substring(sepIndex, sepIndex + 1)).pop();\n    },\n    checkFullScreen: function () {\n      return (\n        document.fullscreenElement ||\n        document.mozFullScreenElement ||\n        document.webkitFullscreenElement ||\n        document.msFullscreenElement\n      );\n    },\n    toggleFullScreen: function (maximize) {\n      var doc = document,\n        de = doc.documentElement,\n        isFullScreen = $h.checkFullScreen();\n      if (de && maximize && !isFullScreen) {\n        if (de.requestFullscreen) {\n          de.requestFullscreen();\n        } else {\n          if (de.msRequestFullscreen) {\n            de.msRequestFullscreen();\n          } else {\n            if (de.mozRequestFullScreen) {\n              de.mozRequestFullScreen();\n            } else {\n              if (de.webkitRequestFullscreen) {\n                de.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n              }\n            }\n          }\n        }\n      } else {\n        if (isFullScreen) {\n          if (doc.exitFullscreen) {\n            doc.exitFullscreen();\n          } else {\n            if (doc.msExitFullscreen) {\n              doc.msExitFullscreen();\n            } else {\n              if (doc.mozCancelFullScreen) {\n                doc.mozCancelFullScreen();\n              } else {\n                if (doc.webkitExitFullscreen) {\n                  doc.webkitExitFullscreen();\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    moveArray: function (arr, oldIndex, newIndex, reverseOrder) {\n      var newArr = $.extend(true, [], arr);\n      if (reverseOrder) {\n        newArr.reverse();\n      }\n      if (newIndex >= newArr.length) {\n        var k = newIndex - newArr.length;\n        while (k-- + 1) {\n          newArr.push(undefined);\n        }\n      }\n      newArr.splice(newIndex, 0, newArr.splice(oldIndex, 1)[0]);\n      if (reverseOrder) {\n        newArr.reverse();\n      }\n      return newArr;\n    },\n    closeButton: function (css) {\n      css = css ? \"btn-close \" + css : \"btn-close\";\n      return (\n        '<button type=\"button\" class=\"' + css + '\" aria-label=\"Close\"></button>'\n      );\n    },\n    getRotation: function (value) {\n      switch (value) {\n        case 2:\n          return \"rotateY(180deg)\";\n        case 3:\n          return \"rotate(180deg)\";\n        case 4:\n          return \"rotate(180deg) rotateY(180deg)\";\n        case 5:\n          return \"rotate(270deg) rotateY(180deg)\";\n        case 6:\n          return \"rotate(90deg)\";\n        case 7:\n          return \"rotate(90deg) rotateY(180deg)\";\n        case 8:\n          return \"rotate(270deg)\";\n        default:\n          return \"\";\n      }\n    },\n    setTransform: function (el, val) {\n      if (!el) {\n        return;\n      }\n      el.style.transform = val;\n      el.style.webkitTransform = val;\n      el.style[\"-moz-transform\"] = val;\n      el.style[\"-ms-transform\"] = val;\n      el.style[\"-o-transform\"] = val;\n    },\n    getObjectKeys: function (obj) {\n      var keys = [];\n      if (obj) {\n        $.each(obj, function (key) {\n          keys.push(key);\n        });\n      }\n      return keys;\n    },\n    getObjectSize: function (obj) {\n      return $h.getObjectKeys(obj).length;\n    },\n    /**\n     * Small dependency injection for the task manager\n     * https://gist.github.com/fearphage/4341799\n     */\n    whenAll: function (array) {\n      var s = [].slice,\n        resolveValues =\n          arguments.length === 1 && $h.isArray(array)\n            ? array\n            : s.call(arguments),\n        deferred = $.Deferred(),\n        i,\n        failed = 0,\n        value,\n        length = resolveValues.length,\n        remaining = length,\n        rejectContexts,\n        rejectValues,\n        resolveContexts,\n        updateFunc;\n      rejectContexts = rejectValues = resolveContexts = Array(length);\n      updateFunc = function (index, contexts, values) {\n        return function () {\n          if (values !== resolveValues) {\n            failed++;\n          }\n          deferred.notifyWith(\n            (contexts[index] = this),\n            (values[index] = s.call(arguments))\n          );\n          if (!--remaining) {\n            deferred[(!failed ? \"resolve\" : \"reject\") + \"With\"](\n              contexts,\n              values\n            );\n          }\n        };\n      };\n      for (i = 0; i < length; i++) {\n        if ((value = resolveValues[i]) && $.isFunction(value.promise)) {\n          value\n            .promise()\n            .done(updateFunc(i, resolveContexts, resolveValues))\n            .fail(updateFunc(i, rejectContexts, rejectValues));\n        } else {\n          deferred.notifyWith(this, value);\n          --remaining;\n        }\n      }\n      if (!remaining) {\n        deferred.resolveWith(resolveContexts, resolveValues);\n      }\n      return deferred.promise();\n    },\n  };\n  FileInput = function (element, options) {\n    var self = this;\n    self.$element = $(element);\n    self.$parent = self.$element.parent();\n    if (!self._validate()) {\n      return;\n    }\n    self.isPreviewable = $h.hasFileAPISupport();\n    self.isIE9 = $h.isIE(9);\n    self.isIE10 = $h.isIE(10);\n    if (self.isPreviewable || self.isIE9) {\n      self._init(options);\n      self._listen();\n    }\n    self.$element.removeClass(\"file-loading\");\n  };\n\n  FileInput.prototype = {\n    constructor: FileInput,\n    _cleanup: function () {\n      var self = this;\n      self.reader = null;\n      self.clearFileStack();\n      self.fileBatchCompleted = true;\n      self.isError = false;\n      self.isDuplicateError = false;\n      self.isPersistentError = false;\n      self.cancelling = false;\n      self.paused = false;\n      self.lastProgress = 0;\n      self._initAjax();\n    },\n    _isAborted: function () {\n      var self = this;\n      return self.cancelling || self.paused;\n    },\n    _initAjax: function () {\n      var self = this,\n        tm = (self.taskManager = {\n          pool: {},\n          addPool: function (id) {\n            return (tm.pool[id] = new tm.TasksPool(id));\n          },\n          getPool: function (id) {\n            return tm.pool[id];\n          },\n          addTask: function (id, logic) {\n            // add standalone task directly from task manager\n            return new tm.Task(id, logic);\n          },\n          TasksPool: function (id) {\n            var tp = this;\n            tp.id = id;\n            tp.cancelled = false;\n            tp.cancelledDeferrer = $.Deferred();\n            tp.tasks = {};\n            tp.addTask = function (id, logic) {\n              return (tp.tasks[id] = new tm.Task(id, logic));\n            };\n            tp.size = function () {\n              return $h.getObjectSize(tp.tasks);\n            };\n            tp.run = function (maxThreads) {\n              var i = 0,\n                failed = false,\n                task,\n                tasksList = $h.getObjectKeys(tp.tasks).map(function (key) {\n                  return tp.tasks[key];\n                }),\n                tasksDone = [],\n                deferred = $.Deferred(),\n                enqueue,\n                callback;\n\n              if (tp.cancelled) {\n                tp.cancelledDeferrer.resolve();\n                return deferred.reject();\n              }\n              // if run all at once\n              if (!maxThreads) {\n                var tasksDeferredList = $h\n                  .getObjectKeys(tp.tasks)\n                  .map(function (key) {\n                    return tp.tasks[key].deferred;\n                  });\n                // when all are done\n                $h.whenAll(tasksDeferredList)\n                  .done(function () {\n                    var argv = $h.getArray(arguments);\n                    if (!tp.cancelled) {\n                      deferred.resolve.apply(null, argv);\n                      tp.cancelledDeferrer.reject();\n                    } else {\n                      deferred.reject.apply(null, argv);\n                      tp.cancelledDeferrer.resolve();\n                    }\n                  })\n                  .fail(function () {\n                    var argv = $h.getArray(arguments);\n                    deferred.reject.apply(null, argv);\n                    if (!tp.cancelled) {\n                      tp.cancelledDeferrer.reject();\n                    } else {\n                      tp.cancelledDeferrer.resolve();\n                    }\n                  });\n                // run all tasks\n                $.each(tp.tasks, function (id) {\n                  task = tp.tasks[id];\n                  task.run();\n                });\n                return deferred;\n              }\n              enqueue = function (task) {\n                $.when(task.deferred)\n                  .fail(function () {\n                    failed = true;\n                    callback.apply(null, arguments);\n                  })\n                  .always(callback);\n              };\n              callback = function () {\n                var argv = $h.getArray(arguments);\n                // notify a task just ended\n                deferred.notify(argv);\n                tasksDone.push(argv);\n                if (tp.cancelled) {\n                  deferred.reject.apply(null, tasksDone);\n                  tp.cancelledDeferrer.resolve();\n                  return;\n                }\n                if (tasksDone.length === tp.size()) {\n                  if (failed) {\n                    deferred.reject.apply(null, tasksDone);\n                  } else {\n                    deferred.resolve.apply(null, tasksDone);\n                  }\n                }\n                // if there are any tasks remaining\n                if (tasksList.length) {\n                  task = tasksList.shift();\n                  enqueue(task);\n                  task.run();\n                }\n              };\n              // run the first \"maxThreads\" tasks\n              while (tasksList.length && i++ < maxThreads) {\n                task = tasksList.shift();\n                enqueue(task);\n                task.run();\n              }\n              return deferred;\n            };\n            tp.cancel = function () {\n              tp.cancelled = true;\n              return tp.cancelledDeferrer;\n            };\n          },\n          Task: function (id, logic) {\n            var tk = this;\n            tk.id = id;\n            tk.deferred = $.Deferred();\n            tk.logic = logic;\n            tk.context = null;\n            tk.run = function () {\n              var argv = $h.getArray(arguments);\n              argv.unshift(tk.deferred); // add deferrer as first argument\n              logic.apply(tk.context, argv); // run task\n              return tk.deferred; // return deferrer\n            };\n            tk.runWithContext = function (context) {\n              tk.context = context;\n              return tk.run();\n            };\n          },\n        });\n      self.ajaxQueue = [];\n      self.ajaxRequests = [];\n      self.ajaxAborted = false;\n    },\n    _init: function (options, refreshMode) {\n      var self = this,\n        f,\n        $el = self.$element,\n        $cont,\n        t,\n        tmp;\n      self.options = options;\n      self.canOrientImage = $h.canOrientImage($el);\n      $.each(options, function (key, value) {\n        switch (key) {\n          case \"minFileCount\":\n          case \"maxFileCount\":\n          case \"maxTotalFileCount\":\n          case \"minFileSize\":\n          case \"maxFileSize\":\n          case \"maxFilePreviewSize\":\n          case \"resizeImageQuality\":\n          case \"resizeIfSizeMoreThan\":\n          case \"progressUploadThreshold\":\n          case \"initialPreviewCount\":\n          case \"zoomModalHeight\":\n          case \"minImageHeight\":\n          case \"maxImageHeight\":\n          case \"minImageWidth\":\n          case \"maxImageWidth\":\n            self[key] = $h.getNum(value);\n            break;\n          default:\n            self[key] = value;\n            break;\n        }\n      });\n      if (\n        self.maxTotalFileCount > 0 &&\n        self.maxTotalFileCount < self.maxFileCount\n      ) {\n        self.maxTotalFileCount = self.maxFileCount;\n      }\n      if (self.rtl) {\n        // swap buttons for rtl\n        tmp = self.previewZoomButtonIcons.prev;\n        self.previewZoomButtonIcons.prev = self.previewZoomButtonIcons.next;\n        self.previewZoomButtonIcons.next = tmp;\n      }\n      // validate chunk threads to not exceed maxAjaxThreads\n      if (\n        !isNaN(self.maxAjaxThreads) &&\n        self.maxAjaxThreads < self.resumableUploadOptions.maxThreads\n      ) {\n        self.resumableUploadOptions.maxThreads = self.maxAjaxThreads;\n      }\n      self._initFileManager();\n      if (typeof self.autoOrientImage === \"function\") {\n        self.autoOrientImage = self.autoOrientImage();\n      }\n      if (typeof self.autoOrientImageInitial === \"function\") {\n        self.autoOrientImageInitial = self.autoOrientImageInitial();\n      }\n      if (!refreshMode) {\n        self._cleanup();\n      }\n      self.duplicateErrors = [];\n      self.$form = $el.closest(\"form\");\n      self._initTemplateDefaults();\n      self.uploadFileAttr = !$h.isEmpty($el.attr(\"name\"))\n        ? $el.attr(\"name\")\n        : \"file_data\";\n      t = self._getLayoutTemplate(\"progress\");\n      self.progressTemplate = t.replace(\"{class}\", self.progressClass);\n      self.progressInfoTemplate = t.replace(\"{class}\", self.progressInfoClass);\n      self.progressPauseTemplate = t.replace(\n        \"{class}\",\n        self.progressPauseClass\n      );\n      self.progressCompleteTemplate = t.replace(\n        \"{class}\",\n        self.progressCompleteClass\n      );\n      self.progressErrorTemplate = t.replace(\n        \"{class}\",\n        self.progressErrorClass\n      );\n      self.isDisabled = $el.attr(\"disabled\") || $el.attr(\"readonly\");\n      if (self.isDisabled) {\n        $el.attr(\"disabled\", true);\n      }\n      self.isClickable =\n        self.browseOnZoneClick &&\n        self.showPreview &&\n        (self.dropZoneEnabled || !$h.isEmpty(self.defaultPreviewContent));\n      self.isAjaxUpload =\n        $h.hasFileUploadSupport() && !$h.isEmpty(self.uploadUrl);\n      self.dropZoneEnabled = $h.hasDragDropSupport() && self.dropZoneEnabled;\n      if (!self.isAjaxUpload) {\n        self.dropZoneEnabled =\n          self.dropZoneEnabled && $h.canAssignFilesToInput();\n      }\n      self.slug =\n        typeof options.slugCallback === \"function\"\n          ? options.slugCallback\n          : self._slugDefault;\n      self.mainTemplate = self.showCaption\n        ? self._getLayoutTemplate(\"main1\")\n        : self._getLayoutTemplate(\"main2\");\n      self.captionTemplate = self._getLayoutTemplate(\"caption\");\n      self.previewGenericTemplate = self._getPreviewTemplate(\"generic\");\n      if (\n        !self.imageCanvas &&\n        self.resizeImage &&\n        (self.maxImageWidth || self.maxImageHeight)\n      ) {\n        self.imageCanvas = document.createElement(\"canvas\");\n        self.imageCanvasContext = self.imageCanvas.getContext(\"2d\");\n      }\n      if ($h.isEmpty($el.attr(\"id\"))) {\n        $el.attr(\"id\", $h.uniqId());\n      }\n      self.namespace = \".fileinput_\" + $el.attr(\"id\").replace(/-/g, \"_\");\n      if (self.$container === undefined) {\n        self.$container = self._createContainer();\n      } else {\n        self._refreshContainer();\n      }\n      $cont = self.$container;\n      self.$dropZone = $cont.find(\".file-drop-zone\");\n      self.$progress = $cont.find(\".kv-upload-progress\");\n      self.$btnUpload = $cont.find(\".fileinput-upload\");\n      self.$captionContainer = $h.getElement(\n        options,\n        \"elCaptionContainer\",\n        $cont.find(\".file-caption\")\n      );\n      self.$caption = $h.getElement(\n        options,\n        \"elCaptionText\",\n        $cont.find(\".file-caption-name\")\n      );\n      self.$captionLabel = $h.getElement(\n        options,\n        \"elCaptionLabelText\",\n        $cont.find(\".file-caption-label\")\n      );\n      if (!$h.isEmpty(self.msgPlaceholder)) {\n        f = $el.attr(\"multiple\") ? self.filePlural : self.fileSingle;\n        self.$caption.attr(\n          \"placeholder\",\n          self.msgPlaceholder.replace(\"{files}\", f)\n        );\n      }\n      self.$caption.attr(\"id\", \"fileinput-\" + $el.attr(\"id\"));\n      var origLabel = document.querySelector(\n        'label[for=\"' + $el.attr(\"id\") + '\"]'\n      );\n      if (origLabel !== null) {\n        self.$captionLabel.html(origLabel.innerHTML);\n      }\n      self.$captionLabel.attr(\"for\", \"fileinput-\" + $el.attr(\"id\"));\n      self.$captionIcon = self.$captionContainer.find(\".file-caption-icon\");\n      self.$previewContainer = $h.getElement(\n        options,\n        \"elPreviewContainer\",\n        $cont.find(\".file-preview\")\n      );\n      self.$preview = $h.getElement(\n        options,\n        \"elPreviewImage\",\n        $cont.find(\".file-preview-thumbnails\")\n      );\n      self.$previewStatus = $h.getElement(\n        options,\n        \"elPreviewStatus\",\n        $cont.find(\".file-preview-status\")\n      );\n      self.$errorContainer = $h.getElement(\n        options,\n        \"elErrorContainer\",\n        self.$previewContainer.find(\".kv-fileinput-error\")\n      );\n      self._validateDisabled();\n      if (!$h.isEmpty(self.msgErrorClass)) {\n        $h.addCss(self.$errorContainer, self.msgErrorClass);\n      }\n      if (!refreshMode) {\n        self._resetErrors();\n        self.$errorContainer.hide();\n        self.previewInitId = \"thumb-\" + $el.attr(\"id\");\n        self._initPreviewCache();\n        self._initPreview(true);\n        self._initPreviewActions();\n        if (self.$parent.hasClass(\"file-loading\")) {\n          self.$container.insertBefore(self.$parent);\n          self.$parent.remove();\n        }\n      } else {\n        if (!self._errorsExist()) {\n          self.$errorContainer.hide();\n        }\n      }\n      self._setFileDropZoneTitle();\n      if ($el.attr(\"disabled\")) {\n        self.disable();\n      }\n      self._initZoom();\n      if (self.hideThumbnailContent) {\n        $h.addCss(self.$preview, \"hide-content\");\n      }\n    },\n    _initFileManager: function () {\n      var self = this;\n      self.uploadStartTime = $h.now();\n      self.fileManager = {\n        stack: {},\n        filesProcessed: [],\n        errors: [],\n        loadedImages: {},\n        totalImages: 0,\n        totalFiles: null,\n        totalSize: null,\n        uploadedSize: 0,\n        stats: {},\n        initStats: function (id) {\n          var data = { started: $h.now() };\n          if (id) {\n            self.fileManager.stats[id] = data;\n          } else {\n            self.fileManager.stats = data;\n          }\n        },\n        getUploadStats: function (id, loaded, total) {\n          var fm = self.fileManager,\n            started = id\n              ? (fm.stats[id] && fm.stats[id].started) || $h.now()\n              : self.uploadStartTime;\n          var elapsed = ($h.now() - started) / 1000,\n            speeds = [\n              \"B/s\",\n              \"KB/s\",\n              \"MB/s\",\n              \"GB/s\",\n              \"TB/s\",\n              \"PB/s\",\n              \"EB/s\",\n              \"ZB/s\",\n              \"YB/s\",\n            ],\n            bps = elapsed ? loaded / elapsed : 0,\n            bitrate = self._getSize(bps, speeds),\n            pendingBytes = total - loaded,\n            out = {\n              fileId: id,\n              started: started,\n              elapsed: elapsed,\n              loaded: loaded,\n              total: total,\n              bps: bps,\n              bitrate: bitrate,\n              pendingBytes: pendingBytes,\n            };\n          if (id) {\n            fm.stats[id] = out;\n          } else {\n            fm.stats = out;\n          }\n          return out;\n        },\n        exists: function (id) {\n          return $.inArray(id, self.fileManager.getIdList()) !== -1;\n        },\n        count: function () {\n          return self.fileManager.getIdList().length;\n        },\n        total: function () {\n          var fm = self.fileManager;\n          if (!fm.totalFiles) {\n            fm.totalFiles = fm.count();\n          }\n          return fm.totalFiles;\n        },\n        getTotalSize: function () {\n          var fm = self.fileManager;\n          if (fm.totalSize) {\n            return fm.totalSize;\n          }\n          fm.totalSize = 0;\n          $.each(self.fileManager.stack, function (id, f) {\n            var size = parseFloat(f.size);\n            fm.totalSize += isNaN(size) ? 0 : size;\n          });\n          return fm.totalSize;\n        },\n        add: function (file, id) {\n          if (!id) {\n            id = self.fileManager.getId(file);\n          }\n          if (!id) {\n            return;\n          }\n          self.fileManager.stack[id] = {\n            file: file,\n            name: $h.getFileName(file),\n            relativePath: $h.getFileRelativePath(file),\n            size: file.size,\n            nameFmt: self._getFileName(file, \"\"),\n            sizeFmt: self._getSize(file.size),\n          };\n        },\n        remove: function ($thumb) {\n          var id = $thumb.attr(\"data-fileid\");\n          if (id) {\n            self.fileManager.removeFile(id);\n          }\n        },\n        removeFile: function (id) {\n          delete self.fileManager.stack[id];\n          delete self.fileManager.loadedImages[id];\n        },\n        move: function (idFrom, idTo) {\n          var result = {},\n            stack = self.fileManager.stack;\n          if ((!idFrom && !idTo) || idFrom === idTo) {\n            return;\n          }\n          $.each(stack, function (k, v) {\n            if (k !== idFrom) {\n              result[k] = v;\n            }\n            if (k === idTo) {\n              result[idFrom] = stack[idFrom];\n            }\n          });\n          self.fileManager.stack = result;\n        },\n        list: function () {\n          var files = [];\n          $.each(self.fileManager.stack, function (k, v) {\n            if (v && v.file) {\n              files.push(v.file);\n            }\n          });\n          return files;\n        },\n        isPending: function (id) {\n          return (\n            $.inArray(id, self.fileManager.filesProcessed) === -1 &&\n            self.fileManager.exists(id)\n          );\n        },\n        isProcessed: function () {\n          var filesProcessed = true,\n            fm = self.fileManager;\n          $.each(fm.stack, function (id) {\n            if (fm.isPending(id)) {\n              filesProcessed = false;\n            }\n          });\n          return filesProcessed;\n        },\n        clear: function () {\n          var fm = self.fileManager;\n          self.isDuplicateError = false;\n          self.isPersistentError = false;\n          fm.totalFiles = null;\n          fm.totalSize = null;\n          fm.uploadedSize = 0;\n          fm.stack = {};\n          fm.errors = [];\n          fm.filesProcessed = [];\n          fm.stats = {};\n          fm.clearImages();\n        },\n        clearImages: function () {\n          self.fileManager.loadedImages = {};\n          self.fileManager.totalImages = 0;\n        },\n        addImage: function (id, config) {\n          self.fileManager.loadedImages[id] = config;\n        },\n        removeImage: function (id) {\n          delete self.fileManager.loadedImages[id];\n        },\n        getImageIdList: function () {\n          return $h.getObjectKeys(self.fileManager.loadedImages);\n        },\n        getImageCount: function () {\n          return self.fileManager.getImageIdList().length;\n        },\n        getId: function (file) {\n          return self._getFileId(file);\n        },\n        getIndex: function (id) {\n          return self.fileManager.getIdList().indexOf(id);\n        },\n        getThumb: function (id) {\n          var $thumb = null;\n          self._getThumbs().each(function () {\n            var $t = $(this);\n            if ($t.attr(\"data-fileid\") === id) {\n              $thumb = $t;\n            }\n          });\n          return $thumb;\n        },\n        getThumbIndex: function ($thumb) {\n          var id = $thumb.attr(\"data-fileid\");\n          return self.fileManager.getIndex(id);\n        },\n        getIdList: function () {\n          return $h.getObjectKeys(self.fileManager.stack);\n        },\n        getFile: function (id) {\n          return self.fileManager.stack[id] || null;\n        },\n        getFileName: function (id, fmt) {\n          var file = self.fileManager.getFile(id);\n          if (!file) {\n            return \"\";\n          }\n          return fmt ? file.nameFmt || \"\" : file.name || \"\";\n        },\n        getFirstFile: function () {\n          var ids = self.fileManager.getIdList(),\n            id = ids && ids.length ? ids[0] : null;\n          return self.fileManager.getFile(id);\n        },\n        setFile: function (id, file) {\n          if (self.fileManager.getFile(id)) {\n            self.fileManager.stack[id].file = file;\n          } else {\n            self.fileManager.add(file, id);\n          }\n        },\n        setProcessed: function (id) {\n          self.fileManager.filesProcessed.push(id);\n        },\n        getProgress: function () {\n          var total = self.fileManager.total(),\n            filesProcessed = self.fileManager.filesProcessed.length;\n          if (!total) {\n            return 0;\n          }\n          return Math.ceil((filesProcessed / total) * 100);\n        },\n        setProgress: function (id, pct) {\n          var f = self.fileManager.getFile(id);\n          if (!isNaN(pct) && f) {\n            f.progress = pct;\n          }\n        },\n      };\n    },\n    _setUploadData: function (fd, config) {\n      var self = this;\n      $.each(config, function (key, value) {\n        var param = self.uploadParamNames[key] || key;\n        if ($h.isArray(value)) {\n          fd.append(param, value[0], value[1]);\n        } else {\n          fd.append(param, value);\n        }\n      });\n    },\n    _initResumableUpload: function () {\n      var self = this,\n        opts = self.resumableUploadOptions,\n        logs = $h.logMessages,\n        rm,\n        fm = self.fileManager;\n      if (!self.enableResumableUpload) {\n        return;\n      }\n      if (opts.fallback !== false && typeof opts.fallback !== \"function\") {\n        opts.fallback = function (s) {\n          s._log(logs.noResumableSupport);\n          s.enableResumableUpload = false;\n        };\n      }\n      if (!$h.hasResumableUploadSupport() && opts.fallback !== false) {\n        opts.fallback(self);\n        return;\n      }\n      if (!self.uploadUrl && self.enableResumableUpload) {\n        self._log(logs.noUploadUrl);\n        self.enableResumableUpload = false;\n        return;\n      }\n      opts.chunkSize = parseFloat(opts.chunkSize);\n      if (opts.chunkSize <= 0 || isNaN(opts.chunkSize)) {\n        self._log(logs.invalidChunkSize, { chunkSize: opts.chunkSize });\n        self.enableResumableUpload = false;\n        return;\n      }\n      rm = self.resumableManager = {\n        init: function (id, f, index) {\n          rm.logs = [];\n          rm.stack = [];\n          rm.error = \"\";\n          rm.id = id;\n          rm.file = f.file;\n          rm.fileName = f.name;\n          rm.fileIndex = index;\n          rm.completed = false;\n          rm.lastProgress = 0;\n          if (self.showPreview) {\n            rm.$thumb = fm.getThumb(id) || null;\n            rm.$progress = rm.$btnDelete = null;\n            if (rm.$thumb && rm.$thumb.length) {\n              rm.$progress = rm.$thumb.find(\".file-thumb-progress\");\n              rm.$btnDelete = rm.$thumb.find(\".kv-file-remove\");\n            }\n          }\n          rm.chunkSize = opts.chunkSize * 1024;\n          rm.chunkCount = rm.getTotalChunks();\n        },\n        setAjaxError: function (jqXHR, textStatus, errorThrown, isTest) {\n          if (jqXHR.responseJSON && jqXHR.responseJSON.error) {\n            errorThrown = jqXHR.responseJSON.error.toString();\n          }\n          if (!isTest) {\n            rm.error = errorThrown;\n          }\n          if (opts.showErrorLog) {\n            self._log(logs.ajaxError, {\n              status: jqXHR.status,\n              error: errorThrown,\n              text: jqXHR.responseText || \"\",\n            });\n          }\n        },\n        reset: function () {\n          rm.stack = [];\n          rm.chunksProcessed = {};\n        },\n        setProcessed: function (status) {\n          var id = rm.id,\n            msg,\n            $thumb = rm.$thumb,\n            $prog = rm.$progress,\n            hasThumb = $thumb && $thumb.length,\n            params = {\n              id: hasThumb ? $thumb.attr(\"id\") : \"\",\n              index: fm.getIndex(id),\n              fileId: id,\n            };\n          rm.completed = true;\n          rm.lastProgress = 0;\n          if (hasThumb) {\n            $thumb.removeClass(\"file-uploading\");\n          }\n          if (status === \"success\") {\n            fm.uploadedSize += rm.file.size;\n            if (self.showPreview) {\n              self._setProgress(101, $prog);\n              self._setThumbStatus($thumb, \"Success\");\n              self._initUploadSuccess(rm.chunksProcessed[id].data, $thumb);\n            }\n            fm.removeFile(id);\n            delete rm.chunksProcessed[id];\n            self._raise(\"fileuploaded\", [\n              params.id,\n              params.index,\n              params.fileId,\n            ]);\n            if (fm.isProcessed()) {\n              self._setProgress(101);\n            }\n          } else {\n            if (status !== \"cancel\") {\n              if (self.showPreview) {\n                self._setThumbStatus($thumb, \"Error\");\n                self._setPreviewError($thumb, true);\n                self._setProgress(101, $prog, self.msgProgressError);\n                self._setProgress(101, self.$progress, self.msgProgressError);\n                self.cancelling = true;\n              }\n              if (\n                !self.$errorContainer.find(\n                  'li[data-file-id=\"' + params.fileId + '\"]'\n                ).length\n              ) {\n                msg = self.msgResumableUploadRetriesExceeded.setTokens({\n                  file: rm.fileName,\n                  max: opts.maxRetries,\n                  error: rm.error,\n                });\n                self._showFileError(msg, params);\n              }\n            }\n          }\n          if (fm.isProcessed()) {\n            rm.reset();\n          }\n        },\n        check: function () {\n          var status = true;\n          $.each(rm.logs, function (index, value) {\n            if (!value) {\n              status = false;\n              return false;\n            }\n          });\n        },\n        processedResumables: function () {\n          var logs = rm.logs,\n            i,\n            count = 0;\n          if (!logs || !logs.length) {\n            return 0;\n          }\n          for (i = 0; i < logs.length; i++) {\n            if (logs[i] === true) {\n              count++;\n            }\n          }\n          return count;\n        },\n        getUploadedSize: function () {\n          var size = rm.processedResumables() * rm.chunkSize;\n          return size > rm.file.size ? rm.file.size : size;\n        },\n        getTotalChunks: function () {\n          var chunkSize = parseFloat(rm.chunkSize);\n          if (!isNaN(chunkSize) && chunkSize > 0) {\n            return Math.ceil(rm.file.size / chunkSize);\n          }\n          return 0;\n        },\n        getProgress: function () {\n          var chunksProcessed = rm.processedResumables(),\n            total = rm.chunkCount;\n          if (total === 0) {\n            return 0;\n          }\n          return Math.ceil((chunksProcessed / total) * 100);\n        },\n        checkAborted: function (intervalId) {\n          if (self._isAborted()) {\n            clearInterval(intervalId);\n            self.unlock();\n          }\n        },\n        upload: function () {\n          var ids = fm.getIdList(),\n            flag = \"new\",\n            intervalId;\n          intervalId = setInterval(function () {\n            var id;\n            rm.checkAborted(intervalId);\n            if (flag === \"new\") {\n              self.lock();\n              flag = \"processing\";\n              id = ids.shift();\n              fm.initStats(id);\n              if (fm.stack[id]) {\n                rm.init(id, fm.stack[id], fm.getIndex(id));\n                rm.processUpload();\n              }\n            }\n            if (!fm.isPending(id) && rm.completed) {\n              flag = \"new\";\n            }\n            if (fm.isProcessed()) {\n              var $initThumbs = self.$preview.find(\".file-preview-initial\");\n              if ($initThumbs.length) {\n                $h.addCss($initThumbs, $h.SORT_CSS);\n                self._initSortable();\n              }\n              clearInterval(intervalId);\n              self._clearFileInput();\n              self.unlock();\n              setTimeout(function () {\n                var data = self.previewCache.data;\n                if (data) {\n                  self.initialPreview = data.content;\n                  self.initialPreviewConfig = data.config;\n                  self.initialPreviewThumbTags = data.tags;\n                }\n                self._raise(\"filebatchuploadcomplete\", [\n                  self.initialPreview,\n                  self.initialPreviewConfig,\n                  self.initialPreviewThumbTags,\n                  self._getExtraData(),\n                ]);\n              }, self.processDelay);\n            }\n          }, self.processDelay);\n        },\n        uploadResumable: function () {\n          var i,\n            pool,\n            tm = self.taskManager,\n            total = rm.chunkCount;\n          pool = tm.addPool(rm.id);\n          for (i = 0; i < total; i++) {\n            rm.logs[i] = !!(\n              rm.chunksProcessed[rm.id] && rm.chunksProcessed[rm.id][i]\n            );\n            if (!rm.logs[i]) {\n              rm.pushAjax(i, 0);\n            }\n          }\n          pool\n            .run(opts.maxThreads)\n            .done(function () {\n              rm.setProcessed(\"success\");\n            })\n            .fail(function () {\n              rm.setProcessed(pool.cancelled ? \"cancel\" : \"error\");\n            });\n        },\n        processUpload: function () {\n          var fd,\n            f,\n            id = rm.id,\n            fnBefore,\n            fnSuccess,\n            fnError,\n            fnComplete,\n            outData;\n          if (!opts.testUrl) {\n            rm.uploadResumable();\n            return;\n          }\n          fd = new FormData();\n          f = fm.stack[id];\n          self._setUploadData(fd, {\n            fileId: id,\n            fileName: f.fileName,\n            fileSize: f.size,\n            fileRelativePath: f.relativePath,\n            chunkSize: rm.chunkSize,\n            chunkCount: rm.chunkCount,\n          });\n          fnBefore = function (jqXHR) {\n            outData = self._getOutData(fd, jqXHR);\n            self._raise(\"filetestbeforesend\", [id, fm, rm, outData]);\n          };\n          fnSuccess = function (data, textStatus, jqXHR) {\n            outData = self._getOutData(fd, jqXHR, data);\n            var pNames = self.uploadParamNames,\n              chunksUploaded = pNames.chunksUploaded || \"chunksUploaded\",\n              params = [id, fm, rm, outData];\n            if (!data[chunksUploaded] || !$h.isArray(data[chunksUploaded])) {\n              self._raise(\"filetesterror\", params);\n            } else {\n              if (!rm.chunksProcessed[id]) {\n                rm.chunksProcessed[id] = {};\n              }\n              $.each(data[chunksUploaded], function (key, index) {\n                rm.logs[index] = true;\n                rm.chunksProcessed[id][index] = true;\n              });\n              rm.chunksProcessed[id].data = data;\n              self._raise(\"filetestsuccess\", params);\n            }\n            rm.uploadResumable();\n          };\n          fnError = function (jqXHR, textStatus, errorThrown) {\n            outData = self._getOutData(fd, jqXHR);\n            self._raise(\"filetestajaxerror\", [id, fm, rm, outData]);\n            rm.setAjaxError(jqXHR, textStatus, errorThrown, true);\n            rm.uploadResumable();\n          };\n          fnComplete = function () {\n            self._raise(\"filetestcomplete\", [id, fm, rm, self._getOutData(fd)]);\n          };\n          self._ajaxSubmit(\n            fnBefore,\n            fnSuccess,\n            fnComplete,\n            fnError,\n            fd,\n            id,\n            rm.fileIndex,\n            opts.testUrl\n          );\n        },\n        pushAjax: function (index, retry) {\n          var tm = self.taskManager,\n            pool = tm.getPool(rm.id);\n          pool.addTask(pool.size() + 1, function (deferrer) {\n            // use fifo chunk stack\n            var arr = rm.stack.shift(),\n              index;\n            index = arr[0];\n            if (\n              !rm.chunksProcessed[rm.id] ||\n              !rm.chunksProcessed[rm.id][index]\n            ) {\n              rm.sendAjax(index, arr[1], deferrer);\n            } else {\n              self._log(logs.chunkQueueError, { index: index });\n            }\n          });\n          rm.stack.push([index, retry]);\n        },\n        sendAjax: function (index, retry, deferrer) {\n          var f,\n            chunkSize = rm.chunkSize,\n            id = rm.id,\n            file = rm.file,\n            $thumb = rm.$thumb,\n            msgs = $h.logMessages,\n            $btnDelete = rm.$btnDelete,\n            logError = function (msg, tokens) {\n              if (tokens) {\n                msg = msg.setTokens(tokens);\n              }\n              msg = \"Error processing resumable ajax request. \" + msg;\n              self._log(msg);\n              deferrer.reject(msg);\n            };\n          if (rm.chunksProcessed[id] && rm.chunksProcessed[id][index]) {\n            return;\n          }\n          if (retry > opts.maxRetries) {\n            logError(msgs.resumableMaxRetriesReached, { n: opts.maxRetries });\n            rm.setProcessed(\"error\");\n            return;\n          }\n          var fd,\n            outData,\n            fnBefore,\n            fnSuccess,\n            fnError,\n            fnComplete,\n            slice = file.slice\n              ? \"slice\"\n              : file.mozSlice\n              ? \"mozSlice\"\n              : file.webkitSlice\n              ? \"webkitSlice\"\n              : \"slice\",\n            blob = file[slice](chunkSize * index, chunkSize * (index + 1));\n          fd = new FormData();\n          f = fm.stack[id];\n          self._setUploadData(fd, {\n            chunkCount: rm.chunkCount,\n            chunkIndex: index,\n            chunkSize: chunkSize,\n            chunkSizeStart: chunkSize * index,\n            fileBlob: [blob, rm.fileName],\n            fileId: id,\n            fileName: rm.fileName,\n            fileRelativePath: f.relativePath,\n            fileSize: file.size,\n            retryCount: retry,\n          });\n          if (rm.$progress && rm.$progress.length) {\n            rm.$progress.show();\n          }\n          fnBefore = function (jqXHR) {\n            outData = self._getOutData(fd, jqXHR);\n            if (self.showPreview) {\n              if (!$thumb.hasClass(\"file-preview-success\")) {\n                self._setThumbStatus($thumb, \"Loading\");\n                $h.addCss($thumb, \"file-uploading\");\n              }\n              $btnDelete.attr(\"disabled\", true);\n            }\n            self._raise(\"filechunkbeforesend\", [\n              id,\n              index,\n              retry,\n              fm,\n              rm,\n              outData,\n            ]);\n          };\n          fnSuccess = function (data, textStatus, jqXHR) {\n            if (self._isAborted()) {\n              logError(msgs.resumableAborting);\n              return;\n            }\n            outData = self._getOutData(fd, jqXHR, data);\n            var paramNames = self.uploadParamNames,\n              chunkIndex = paramNames.chunkIndex || \"chunkIndex\",\n              params = [id, index, retry, fm, rm, outData];\n            if (data.error) {\n              if (opts.showErrorLog) {\n                self._log(logs.retryStatus, {\n                  retry: retry + 1,\n                  filename: rm.fileName,\n                  chunk: index,\n                });\n              }\n              rm.pushAjax(index, retry + 1);\n              rm.error = data.error;\n              self._raise(\"filechunkerror\", params);\n            } else {\n              rm.logs[data[chunkIndex]] = true;\n              if (!rm.chunksProcessed[id]) {\n                rm.chunksProcessed[id] = {};\n              }\n              rm.chunksProcessed[id][data[chunkIndex]] = true;\n              rm.chunksProcessed[id].data = data;\n              deferrer.resolve.call(null, data);\n              self._raise(\"filechunksuccess\", params);\n              rm.check();\n            }\n          };\n          fnError = function (jqXHR, textStatus, errorThrown) {\n            if (self._isAborted()) {\n              logError(msgs.resumableAborting);\n              return;\n            }\n            outData = self._getOutData(fd, jqXHR);\n            rm.setAjaxError(jqXHR, textStatus, errorThrown);\n            self._raise(\"filechunkajaxerror\", [\n              id,\n              index,\n              retry,\n              fm,\n              rm,\n              outData,\n            ]);\n            rm.pushAjax(index, retry + 1); // push another task\n            logError(msgs.resumableRetryError, { n: retry - 1 }); // resolve the current task\n          };\n          fnComplete = function () {\n            if (!self._isAborted()) {\n              self._raise(\"filechunkcomplete\", [\n                id,\n                index,\n                retry,\n                fm,\n                rm,\n                self._getOutData(fd),\n              ]);\n            }\n          };\n          self._ajaxSubmit(\n            fnBefore,\n            fnSuccess,\n            fnComplete,\n            fnError,\n            fd,\n            id,\n            rm.fileIndex\n          );\n        },\n      };\n      rm.reset();\n    },\n    _initTemplateDefaults: function () {\n      var self = this,\n        tMain1,\n        tMain2,\n        tPreview,\n        tFileIcon,\n        tClose,\n        tCaption,\n        tBtnDefault,\n        tBtnLink,\n        tBtnBrowse,\n        tModalMain,\n        tModal,\n        tProgress,\n        tSize,\n        tFooter,\n        tActions,\n        tActionDelete,\n        tActionUpload,\n        tActionDownload,\n        tActionZoom,\n        tActionDrag,\n        tIndicator,\n        tTagBef,\n        tTagBef1,\n        tTagBef2,\n        tTagAft,\n        tGeneric,\n        tHtml,\n        tImage,\n        tText,\n        tOffice,\n        tGdocs,\n        tVideo,\n        tAudio,\n        tFlash,\n        tObject,\n        tPdf,\n        tOther,\n        tStyle,\n        tZoomCache,\n        vDefaultDim,\n        tStats,\n        tModalLabel,\n        renderObject = function (type, mime) {\n          return (\n            '<object class=\"kv-preview-data file-preview-' +\n            type +\n            '\" title=\"{caption}\" ' +\n            'data=\"{data}\" type=\"' +\n            mime +\n            '\"' +\n            tStyle +\n            \">\\n\" +\n            $h.DEFAULT_PREVIEW +\n            \"\\n</object>\\n\"\n          );\n        };\n      tMain1 =\n        \"{preview}\\n\" +\n        '<div class=\"kv-upload-progress kv-hidden\"></div><div class=\"clearfix\"></div>\\n' +\n        '<div class=\"input-group {class}\">\\n' +\n        \"  {caption}\\n\" +\n        \"  {remove}\\n\" +\n        \"  {cancel}\\n\" +\n        \"  {pause}\\n\" +\n        \"  {upload}\\n\" +\n        \"  {browse}\\n\" +\n        \"</div>\";\n      tMain2 =\n        '{preview}\\n<div class=\"kv-upload-progress kv-hidden\"></div>\\n<div class=\"clearfix\"></div>\\n' +\n        \"{remove}\\n{cancel}\\n{upload}\\n{browse}\\n\";\n      tPreview =\n        '<div class=\"file-preview {class}\">\\n' +\n        \"  {close}\" +\n        '  <div class=\"{dropClass} clearfix\">\\n' +\n        '    <div class=\"file-preview-thumbnails clearfix\">\\n' +\n        \"    </div>\\n\" +\n        '    <div class=\"file-preview-status text-center text-success\"></div>\\n' +\n        '    <div class=\"kv-fileinput-error\"></div>\\n' +\n        \"  </div>\\n\" +\n        \"</div>\";\n      tClose = $h.closeButton(\"fileinput-remove\");\n      tFileIcon = '<i class=\"glyphicon glyphicon-file\"></i>';\n      // noinspection HtmlUnknownAttribute\n      tCaption =\n        '<div class=\"file-caption form-control {class}\">\\n' +\n        '  <span class=\"file-caption-icon\"></span>\\n' +\n        '  <label class=\"visually-hidden file-caption-label\"></label>\\n' +\n        '  <input class=\"file-caption-name\">\\n' +\n        \"</div>\";\n      //noinspection HtmlUnknownAttribute\n      tBtnDefault =\n        '<button type=\"{type}\" tabindex=\"0\" title=\"{title}\" class=\"{css}\" ' +\n        \"{status}>{icon} {label}</button>\";\n      //noinspection HtmlUnknownTarget,HtmlUnknownAttribute\n      tBtnLink =\n        '<a href=\"{href}\" tabindex=\"0\" title=\"{title}\" class=\"{css}\" {status}>{icon} {label}</a>';\n      //noinspection HtmlUnknownAttribute\n      tBtnBrowse =\n        '<div tabindex=\"0\" class=\"{css}\" {status}>{icon} {label}</div>';\n      tModalLabel = $h.MODAL_ID + \"Label\";\n      tModalMain =\n        '<div id=\"' +\n        $h.MODAL_ID +\n        '\" class=\"file-zoom-dialog modal fade\" ' +\n        'tabindex=\"-1\" aria-labelledby=\"' +\n        tModalLabel +\n        '\"></div>';\n      tModal =\n        '<div class=\"modal-dialog modal-lg{rtl}\" role=\"document\">\\n' +\n        '  <div class=\"modal-content\">\\n' +\n        '    <div class=\"modal-header\">\\n' +\n        '      <h5 class=\"modal-title\" id=\"' +\n        tModalLabel +\n        '\">{heading}</h5>\\n' +\n        '      <span class=\"kv-zoom-title\"></span>\\n' +\n        '      <div class=\"kv-zoom-actions\">{toggleheader}{fullscreen}{borderless}{close}</div>\\n' +\n        \"    </div>\\n\" +\n        '    <div class=\"modal-body\">\\n' +\n        '      <div class=\"floating-buttons\"></div>\\n' +\n        '      <div class=\"kv-zoom-body file-zoom-content {zoomFrameClass}\"></div>\\n' +\n        \"{prev} {next}\\n\" +\n        \"    </div>\\n\" +\n        \"  </div>\\n\" +\n        \"</div>\\n\";\n      tProgress =\n        '<div class=\"progress\">\\n' +\n        '    <div class=\"{class}\" role=\"progressbar\"' +\n        ' aria-valuenow=\"{percent}\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{percent}%;\">\\n' +\n        \"        {status}\\n\" +\n        \"     </div>\\n\" +\n        \"</div>{stats}\";\n      tStats =\n        '<div class=\"text-info file-upload-stats\">' +\n        '<span class=\"pending-time\">{pendingTime}</span> ' +\n        '<span class=\"upload-speed\">{uploadSpeed}</span>' +\n        \"</div>\";\n      tSize = \" <samp>({sizeText})</samp>\";\n      tFooter =\n        '<div class=\"file-thumbnail-footer\">\\n' +\n        '    <div class=\"file-footer-caption\" title=\"{caption}\">\\n' +\n        '        <div class=\"file-caption-info\">{caption}</div>\\n' +\n        '        <div class=\"file-size-info\">{size}</div>\\n' +\n        \"    </div>\\n\" +\n        \"    {progress}\\n{indicator}\\n{actions}\\n\" +\n        \"</div>\";\n      tActions =\n        '<div class=\"file-actions\">\\n' +\n        '    <div class=\"file-footer-buttons\">\\n' +\n        \"        {download} {upload} {delete} {zoom} {other}\" +\n        \"    </div>\\n\" +\n        \"</div>\\n\" +\n        \"{drag}\\n\" +\n        '<div class=\"clearfix\"></div>';\n      //noinspection HtmlUnknownAttribute\n      tActionDelete =\n        '<button type=\"button\" class=\"kv-file-remove {removeClass}\" ' +\n        'title=\"{removeTitle}\" {dataUrl}{dataKey}>{removeIcon}</button>\\n';\n      tActionUpload =\n        '<button type=\"button\" class=\"kv-file-upload {uploadClass}\" title=\"{uploadTitle}\">' +\n        \"{uploadIcon}</button>\";\n      tActionDownload =\n        '<a class=\"kv-file-download {downloadClass}\" title=\"{downloadTitle}\" ' +\n        'href=\"{downloadUrl}\" download=\"{caption}\" target=\"_blank\">{downloadIcon}</a>';\n      tActionZoom =\n        '<button type=\"button\" class=\"kv-file-zoom {zoomClass}\" ' +\n        'title=\"{zoomTitle}\">{zoomIcon}</button>';\n      tActionDrag =\n        '<span class=\"file-drag-handle {dragClass}\" title=\"{dragTitle}\">{dragIcon}</span>';\n      tIndicator =\n        '<div class=\"file-upload-indicator\" title=\"{indicatorTitle}\">{indicator}</div>';\n      tTagBef =\n        '<div class=\"file-preview-frame {frameClass}\" id=\"{previewId}\" data-fileindex=\"{fileindex}\"' +\n        ' data-fileid=\"{fileid}\" data-template=\"{template}\"';\n      tTagBef1 = tTagBef + '><div class=\"kv-file-content\">\\n';\n      tTagBef2 = tTagBef + ' title=\"{caption}\"><div class=\"kv-file-content\">\\n';\n      tTagAft = \"</div>{footer}\\n{zoomCache}</div>\\n\";\n      tGeneric = \"{content}\\n\";\n      tStyle = \" {style}\";\n      tHtml = renderObject(\"html\", \"text/html\");\n      tText = renderObject(\"text\", \"text/plain;charset=UTF-8\");\n      tPdf = renderObject(\"pdf\", \"application/pdf\");\n      tImage =\n        '<img src=\"{data}\" class=\"file-preview-image kv-preview-data\" title=\"{title}\" alt=\"{alt}\"' +\n        tStyle +\n        \">\\n\";\n      tOffice =\n        '<iframe class=\"kv-preview-data file-preview-office\" ' +\n        'src=\"https://view.officeapps.live.com/op/embed.aspx?src={data}\"' +\n        tStyle +\n        \"></iframe>\";\n      tGdocs =\n        '<iframe class=\"kv-preview-data file-preview-gdocs\" ' +\n        'src=\"https://docs.google.com/gview?url={data}&embedded=true\"' +\n        tStyle +\n        \"></iframe>\";\n      tVideo =\n        '<video class=\"kv-preview-data file-preview-video\" controls' +\n        tStyle +\n        \">\\n\" +\n        '<source src=\"{data}\" type=\"{type}\">\\n' +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</video>\\n\";\n      tAudio =\n        '<!--suppress ALL --><audio class=\"kv-preview-data file-preview-audio\" controls' +\n        tStyle +\n        '>\\n<source src=\"{data}\" ' +\n        'type=\"{type}\">\\n' +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</audio>\\n\";\n      tFlash =\n        '<embed class=\"kv-preview-data file-preview-flash\" src=\"{data}\" type=\"application/x-shockwave-flash\"' +\n        tStyle +\n        \">\\n\";\n      tObject =\n        '<object class=\"kv-preview-data file-preview-object file-object {typeCss}\" ' +\n        'data=\"{data}\" type=\"{type}\"' +\n        tStyle +\n        \">\\n\" +\n        '<param name=\"movie\" value=\"{caption}\" />\\n' +\n        $h.OBJECT_PARAMS +\n        \" \" +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</object>\\n\";\n      tOther =\n        '<div class=\"kv-preview-data file-preview-other-frame\"' +\n        tStyle +\n        \">\\n\" +\n        $h.DEFAULT_PREVIEW +\n        \"\\n</div>\\n\";\n      tZoomCache = '<div class=\"kv-zoom-cache\">{zoomContent}</div>';\n      vDefaultDim = { width: \"100%\", height: \"100%\", \"min-height\": \"480px\" };\n      if (self._isPdfRendered()) {\n        tPdf = self.pdfRendererTemplate.replace(\n          \"{renderer}\",\n          self._encodeURI(self.pdfRendererUrl)\n        );\n      }\n      self.defaults = {\n        layoutTemplates: {\n          main1: tMain1,\n          main2: tMain2,\n          preview: tPreview,\n          close: tClose,\n          fileIcon: tFileIcon,\n          caption: tCaption,\n          modalMain: tModalMain,\n          modal: tModal,\n          progress: tProgress,\n          stats: tStats,\n          size: tSize,\n          footer: tFooter,\n          indicator: tIndicator,\n          actions: tActions,\n          actionDelete: tActionDelete,\n          actionUpload: tActionUpload,\n          actionDownload: tActionDownload,\n          actionZoom: tActionZoom,\n          actionDrag: tActionDrag,\n          btnDefault: tBtnDefault,\n          btnLink: tBtnLink,\n          btnBrowse: tBtnBrowse,\n          zoomCache: tZoomCache,\n        },\n        previewMarkupTags: {\n          tagBefore1: tTagBef1,\n          tagBefore2: tTagBef2,\n          tagAfter: tTagAft,\n        },\n        previewContentTemplates: {\n          generic: tGeneric,\n          html: tHtml,\n          image: tImage,\n          text: tText,\n          office: tOffice,\n          gdocs: tGdocs,\n          video: tVideo,\n          audio: tAudio,\n          flash: tFlash,\n          object: tObject,\n          pdf: tPdf,\n          other: tOther,\n        },\n        allowedPreviewTypes: [\n          \"image\",\n          \"html\",\n          \"text\",\n          \"video\",\n          \"audio\",\n          \"flash\",\n          \"pdf\",\n          \"object\",\n        ],\n        previewTemplates: {},\n        previewSettings: {\n          image: {\n            width: \"auto\",\n            height: \"auto\",\n            \"max-width\": \"100%\",\n            \"max-height\": \"100%\",\n          },\n          html: { width: \"213px\", height: \"160px\" },\n          text: { width: \"213px\", height: \"160px\" },\n          office: { width: \"213px\", height: \"160px\" },\n          gdocs: { width: \"213px\", height: \"160px\" },\n          video: { width: \"213px\", height: \"160px\" },\n          audio: { width: \"100%\", height: \"30px\" },\n          flash: { width: \"213px\", height: \"160px\" },\n          object: { width: \"213px\", height: \"160px\" },\n          pdf: { width: \"100%\", height: \"160px\", position: \"relative\" },\n          other: { width: \"213px\", height: \"160px\" },\n        },\n        previewSettingsSmall: {\n          image: {\n            width: \"auto\",\n            height: \"auto\",\n            \"max-width\": \"100%\",\n            \"max-height\": \"100%\",\n          },\n          html: { width: \"100%\", height: \"160px\" },\n          text: { width: \"100%\", height: \"160px\" },\n          office: { width: \"100%\", height: \"160px\" },\n          gdocs: { width: \"100%\", height: \"160px\" },\n          video: { width: \"100%\", height: \"auto\" },\n          audio: { width: \"100%\", height: \"30px\" },\n          flash: { width: \"100%\", height: \"auto\" },\n          object: { width: \"100%\", height: \"auto\" },\n          pdf: { width: \"100%\", height: \"160px\" },\n          other: { width: \"100%\", height: \"160px\" },\n        },\n        previewZoomSettings: {\n          image: {\n            width: \"auto\",\n            height: \"auto\",\n            \"max-width\": \"100%\",\n            \"max-height\": \"100%\",\n          },\n          html: vDefaultDim,\n          text: vDefaultDim,\n          office: {\n            width: \"100%\",\n            height: \"100%\",\n            \"max-width\": \"100%\",\n            \"min-height\": \"480px\",\n          },\n          gdocs: {\n            width: \"100%\",\n            height: \"100%\",\n            \"max-width\": \"100%\",\n            \"min-height\": \"480px\",\n          },\n          video: { width: \"auto\", height: \"100%\", \"max-width\": \"100%\" },\n          audio: { width: \"100%\", height: \"30px\" },\n          flash: { width: \"auto\", height: \"480px\" },\n          object: {\n            width: \"auto\",\n            height: \"100%\",\n            \"max-width\": \"100%\",\n            \"min-height\": \"480px\",\n          },\n          pdf: vDefaultDim,\n          other: { width: \"auto\", height: \"100%\", \"min-height\": \"480px\" },\n        },\n        mimeTypeAliases: {\n          \"video/quicktime\": \"video/mp4\",\n        },\n        fileTypeSettings: {\n          image: function (vType, vName) {\n            return (\n              ($h.compare(vType, \"image.*\") &&\n                !$h.compare(vType, /(tiff?|wmf)$/i)) ||\n              $h.compare(vName, /\\.(gif|png|jpe?g)$/i)\n            );\n          },\n          html: function (vType, vName) {\n            return (\n              $h.compare(vType, \"text/html\") ||\n              $h.compare(vName, /\\.(htm|html)$/i)\n            );\n          },\n          office: function (vType, vName) {\n            return (\n              $h.compare(vType, /(word|excel|powerpoint|office)$/i) ||\n              $h.compare(vName, /\\.(docx?|xlsx?|pptx?|pps|potx?)$/i)\n            );\n          },\n          gdocs: function (vType, vName) {\n            return (\n              $h.compare(\n                vType,\n                /(word|excel|powerpoint|office|iwork-pages|tiff?)$/i\n              ) ||\n              $h.compare(\n                vName,\n                /\\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i\n              )\n            );\n          },\n          text: function (vType, vName) {\n            return (\n              $h.compare(vType, \"text.*\") ||\n              $h.compare(vName, /\\.(xml|javascript)$/i) ||\n              $h.compare(vName, /\\.(txt|md|nfo|ini|json|php|js|css)$/i)\n            );\n          },\n          video: function (vType, vName) {\n            return (\n              $h.compare(vType, \"video.*\") &&\n              ($h.compare(vType, /(ogg|mp4|mp?g|mov|webm|3gp)$/i) ||\n                $h.compare(vName, /\\.(og?|mp4|webm|mp?g|mov|3gp)$/i))\n            );\n          },\n          audio: function (vType, vName) {\n            return (\n              $h.compare(vType, \"audio.*\") &&\n              ($h.compare(vName, /(ogg|mp3|mp?g|wav)$/i) ||\n                $h.compare(vName, /\\.(og?|mp3|mp?g|wav)$/i))\n            );\n          },\n          flash: function (vType, vName) {\n            return (\n              $h.compare(vType, \"application/x-shockwave-flash\", true) ||\n              $h.compare(vName, /\\.(swf)$/i)\n            );\n          },\n          pdf: function (vType, vName) {\n            return (\n              $h.compare(vType, \"application/pdf\", true) ||\n              $h.compare(vName, /\\.(pdf)$/i)\n            );\n          },\n          object: function () {\n            return true;\n          },\n          other: function () {\n            return true;\n          },\n        },\n        fileActionSettings: {\n          showRemove: true,\n          showUpload: true,\n          showDownload: true,\n          showZoom: true,\n          showDrag: true,\n          removeIcon: '<i class=\"glyphicon glyphicon-trash\"></i>',\n          removeClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          removeErrorClass: \"btn btn-sm btn-kv btn-danger\",\n          removeTitle: \"Remove file\",\n          uploadIcon: '<i class=\"glyphicon glyphicon-upload\"></i>',\n          uploadClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          uploadTitle: \"Upload file\",\n          uploadRetryIcon: '<i class=\"glyphicon glyphicon-repeat\"></i>',\n          uploadRetryTitle: \"Retry upload\",\n          downloadIcon: '<i class=\"glyphicon glyphicon-download\"></i>',\n          downloadClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          downloadTitle: \"Download file\",\n          zoomIcon: '<i class=\"glyphicon glyphicon-zoom-in\"></i>',\n          zoomClass: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n          zoomTitle: \"View Details\",\n          dragIcon: '<i class=\"glyphicon glyphicon-move\"></i>',\n          dragClass: \"text-info\",\n          dragTitle: \"Move / Rearrange\",\n          dragSettings: {},\n          indicatorNew:\n            '<i class=\"glyphicon glyphicon-plus-sign text-warning\"></i>',\n          indicatorSuccess:\n            '<i class=\"glyphicon glyphicon-ok-sign text-success\"></i>',\n          indicatorError:\n            '<i class=\"glyphicon glyphicon-exclamation-sign text-danger\"></i>',\n          indicatorLoading:\n            '<i class=\"glyphicon glyphicon-hourglass text-body-secondary\"></i>',\n          indicatorPaused:\n            '<i class=\"glyphicon glyphicon-pause text-primary\"></i>',\n          indicatorNewTitle: \"Not uploaded yet\",\n          indicatorSuccessTitle: \"Uploaded\",\n          indicatorErrorTitle: \"Upload Error\",\n          indicatorLoadingTitle: \"Uploading &hellip;\",\n          indicatorPausedTitle: \"Upload Paused\",\n        },\n      };\n      $.each(self.defaults, function (key, setting) {\n        if (key === \"allowedPreviewTypes\") {\n          if (self.allowedPreviewTypes === undefined) {\n            self.allowedPreviewTypes = setting;\n          }\n          return;\n        }\n        self[key] = $.extend(true, {}, setting, self[key]);\n      });\n      self._initPreviewTemplates();\n    },\n    _initPreviewTemplates: function () {\n      var self = this,\n        tags = self.previewMarkupTags,\n        tagBef,\n        tagAft = tags.tagAfter;\n      $.each(self.previewContentTemplates, function (key, value) {\n        if ($h.isEmpty(self.previewTemplates[key])) {\n          tagBef = tags.tagBefore2;\n          if (key === \"generic\" || key === \"image\") {\n            tagBef = tags.tagBefore1;\n          }\n          if (self._isPdfRendered() && key === \"pdf\") {\n            tagBef = tagBef.replace(\n              \"kv-file-content\",\n              \"kv-file-content kv-pdf-rendered\"\n            );\n          }\n          self.previewTemplates[key] = tagBef + value + tagAft;\n        }\n      });\n    },\n    _initPreviewCache: function () {\n      var self = this;\n      self.previewCache = {\n        data: {},\n        init: function () {\n          var content = self.initialPreview;\n          if (content.length > 0 && !$h.isArray(content)) {\n            content = content.split(self.initialPreviewDelimiter);\n          }\n          self.previewCache.data = {\n            content: content,\n            config: self.initialPreviewConfig,\n            tags: self.initialPreviewThumbTags,\n          };\n        },\n        count: function (skipNull) {\n          if (!self.previewCache.data || !self.previewCache.data.content) {\n            return 0;\n          }\n          if (skipNull) {\n            var chk = self.previewCache.data.content.filter(function (n) {\n              return n !== null;\n            });\n            return chk.length;\n          }\n          return self.previewCache.data.content.length;\n        },\n        get: function (i, isDisabled) {\n          var ind = $h.INIT_FLAG + i,\n            data = self.previewCache.data,\n            config = data.config[i],\n            content = data.content[i],\n            out,\n            $tmp,\n            cat,\n            ftr,\n            fname,\n            ftype,\n            frameClass,\n            asData = $h.ifSet(\n              \"previewAsData\",\n              config,\n              self.initialPreviewAsData\n            ),\n            a = config\n              ? { title: config.title || null, alt: config.alt || null }\n              : { title: null, alt: null },\n            parseTemplate = function (\n              cat,\n              dat,\n              fname,\n              ftype,\n              ftr,\n              ind,\n              fclass,\n              t\n            ) {\n              var fc =\n                  \" file-preview-initial \" +\n                  $h.SORT_CSS +\n                  (fclass ? \" \" + fclass : \"\"),\n                id = self.previewInitId + \"-\" + ind,\n                fileId = (config && config.fileId) || id;\n              /** @namespace config.zoomData */\n              return self._generatePreviewTemplate(\n                cat,\n                dat,\n                fname,\n                ftype,\n                id,\n                fileId,\n                false,\n                null,\n                fc,\n                ftr,\n                ind,\n                t,\n                a,\n                (config && config.zoomData) || dat\n              );\n            };\n          if (!content || !content.length) {\n            return \"\";\n          }\n          isDisabled = isDisabled === undefined ? true : isDisabled;\n          cat = $h.ifSet(\n            \"type\",\n            config,\n            self.initialPreviewFileType || \"generic\"\n          );\n          fname = $h.ifSet(\"filename\", config, $h.ifSet(\"caption\", config));\n          ftype = $h.ifSet(\"filetype\", config, cat);\n          ftr = self.previewCache.footer(\n            i,\n            isDisabled,\n            (config && config.size) || null\n          );\n          frameClass = $h.ifSet(\"frameClass\", config);\n          if (asData) {\n            out = parseTemplate(\n              cat,\n              content,\n              fname,\n              ftype,\n              ftr,\n              ind,\n              frameClass\n            );\n          } else {\n            out = parseTemplate(\n              \"generic\",\n              content,\n              fname,\n              ftype,\n              ftr,\n              ind,\n              frameClass,\n              cat\n            ).setTokens({ content: data.content[i] });\n          }\n          if (data.tags.length && data.tags[i]) {\n            out = $h.replaceTags(out, data.tags[i]);\n          }\n          /** @namespace config.frameAttr */\n          if (!$h.isEmpty(config) && !$h.isEmpty(config.frameAttr)) {\n            $tmp = $h.createElement(out);\n            $tmp.find(\".file-preview-initial\").attr(config.frameAttr);\n            out = $tmp.html();\n            $tmp.remove();\n          }\n          return out;\n        },\n        clean: function (data) {\n          data.content = $h.cleanArray(data.content);\n          data.config = $h.cleanArray(data.config);\n          data.tags = $h.cleanArray(data.tags);\n          self.previewCache.data = data;\n        },\n        add: function (content, config, tags, append) {\n          var data = self.previewCache.data,\n            index;\n          if (!content || !content.length) {\n            return 0;\n          }\n          index = content.length - 1;\n          if (!$h.isArray(content)) {\n            content = content.split(self.initialPreviewDelimiter);\n          }\n          if (append && data.content) {\n            index = data.content.push(content[0]) - 1;\n            data.config[index] = config;\n            data.tags[index] = tags;\n          } else {\n            data.content = content;\n            data.config = config;\n            data.tags = tags;\n          }\n          self.previewCache.clean(data);\n          return index;\n        },\n        set: function (content, config, tags, append) {\n          var data = self.previewCache.data,\n            i,\n            chk;\n          if (!content || !content.length) {\n            return;\n          }\n          if (!$h.isArray(content)) {\n            content = content.split(self.initialPreviewDelimiter);\n          }\n          chk = content.filter(function (n) {\n            return n !== null;\n          });\n          if (!chk.length) {\n            return;\n          }\n          if (data.content === undefined) {\n            data.content = [];\n          }\n          if (data.config === undefined) {\n            data.config = [];\n          }\n          if (data.tags === undefined) {\n            data.tags = [];\n          }\n          if (append) {\n            for (i = 0; i < content.length; i++) {\n              if (content[i]) {\n                data.content.push(content[i]);\n              }\n            }\n            for (i = 0; i < config.length; i++) {\n              if (config[i]) {\n                data.config.push(config[i]);\n              }\n            }\n            for (i = 0; i < tags.length; i++) {\n              if (tags[i]) {\n                data.tags.push(tags[i]);\n              }\n            }\n          } else {\n            data.content = content;\n            data.config = config;\n            data.tags = tags;\n          }\n          self.previewCache.clean(data);\n        },\n        unset: function (index) {\n          var chk = self.previewCache.count(),\n            rev = self.reversePreviewOrder;\n          if (!chk) {\n            return;\n          }\n          if (chk === 1) {\n            self.previewCache.data.content = [];\n            self.previewCache.data.config = [];\n            self.previewCache.data.tags = [];\n            self.initialPreview = [];\n            self.initialPreviewConfig = [];\n            self.initialPreviewThumbTags = [];\n            return;\n          }\n          self.previewCache.data.content = $h.spliceArray(\n            self.previewCache.data.content,\n            index,\n            rev\n          );\n          self.previewCache.data.config = $h.spliceArray(\n            self.previewCache.data.config,\n            index,\n            rev\n          );\n          self.previewCache.data.tags = $h.spliceArray(\n            self.previewCache.data.tags,\n            index,\n            rev\n          );\n          var data = $.extend(true, {}, self.previewCache.data);\n          self.previewCache.clean(data);\n        },\n        out: function () {\n          var html = \"\",\n            caption,\n            len = self.previewCache.count(),\n            i,\n            content;\n          if (len === 0) {\n            return { content: \"\", caption: \"\" };\n          }\n          for (i = 0; i < len; i++) {\n            content = self.previewCache.get(i);\n            html = self.reversePreviewOrder ? content + html : html + content;\n          }\n          caption = self._getMsgSelected(len);\n          return { content: html, caption: caption };\n        },\n        footer: function (i, isDisabled, size) {\n          var data = self.previewCache.data || {};\n          if ($h.isEmpty(data.content)) {\n            return \"\";\n          }\n          if ($h.isEmpty(data.config) || $h.isEmpty(data.config[i])) {\n            data.config[i] = {};\n          }\n          isDisabled = isDisabled === undefined ? true : isDisabled;\n          var config = data.config[i],\n            caption = $h.ifSet(\"caption\", config),\n            a,\n            width = $h.ifSet(\"width\", config, \"auto\"),\n            url = $h.ifSet(\"url\", config, false),\n            key = $h.ifSet(\"key\", config, null),\n            fileId = $h.ifSet(\"fileId\", config, null),\n            fs = self.fileActionSettings,\n            initPreviewShowDel = self.initialPreviewShowDelete || false,\n            downloadInitialUrl = !self.initialPreviewDownloadUrl\n              ? \"\"\n              : self.initialPreviewDownloadUrl +\n                \"?key=\" +\n                key +\n                (fileId ? \"&fileId=\" + fileId : \"\"),\n            dUrl = config.downloadUrl || downloadInitialUrl,\n            dFil = config.filename || config.caption || \"\",\n            initPreviewShowDwl = !!dUrl,\n            sDel = $h.ifSet(\"showRemove\", config, initPreviewShowDel),\n            sDwl = $h.ifSet(\n              \"showDownload\",\n              config,\n              $h.ifSet(\"showDownload\", fs, initPreviewShowDwl)\n            ),\n            sZm = $h.ifSet(\"showZoom\", config, $h.ifSet(\"showZoom\", fs, true)),\n            sDrg = $h.ifSet(\"showDrag\", config, $h.ifSet(\"showDrag\", fs, true)),\n            dis = url === false && isDisabled;\n          sDwl = sDwl && config.downloadUrl !== false && !!dUrl;\n          a = self._renderFileActions(\n            config,\n            false,\n            sDwl,\n            sDel,\n            sZm,\n            sDrg,\n            dis,\n            url,\n            key,\n            true,\n            dUrl,\n            dFil\n          );\n          return self._getLayoutTemplate(\"footer\").setTokens({\n            progress: self._renderThumbProgress(),\n            actions: a,\n            caption: caption,\n            size: self._getSize(size),\n            width: width,\n            indicator: \"\",\n          });\n        },\n      };\n      self.previewCache.init();\n    },\n    _isPdfRendered: function () {\n      var self = this,\n        useLib = self.usePdfRenderer,\n        flag = typeof useLib === \"function\" ? useLib() : !!useLib;\n      return flag && self.pdfRendererUrl;\n    },\n    _handler: function ($el, event, callback) {\n      var self = this,\n        ns = self.namespace,\n        ev = event.split(\" \").join(ns + \" \") + ns;\n      if (!$el || !$el.length) {\n        return;\n      }\n      $el.off(ev).on(ev, callback);\n    },\n    _encodeURI: function (vUrl) {\n      var self = this;\n      return self.encodeUrl ? encodeURI(vUrl) : vUrl;\n    },\n    _log: function (msg, tokens) {\n      var self = this,\n        id = self.$element.attr(\"id\");\n      if (!self.showConsoleLogs) {\n        return;\n      }\n      if (id) {\n        msg = '\"' + id + '\": ' + msg;\n      }\n      msg = \"bootstrap-fileinput: \" + msg;\n      if (typeof tokens === \"object\") {\n        msg = msg.setTokens(tokens);\n      }\n      if (window.console && typeof window.console.log !== \"undefined\") {\n        window.console.log(msg);\n      } else {\n        window.alert(msg);\n      }\n    },\n    _validate: function () {\n      var self = this,\n        status = self.$element.attr(\"type\") === \"file\";\n      if (!status) {\n        self._log($h.logMessages.badInputType);\n      }\n      return status;\n    },\n    _errorsExist: function () {\n      var self = this,\n        $err,\n        $errList = self.$errorContainer.find(\"li\");\n      if ($errList.length) {\n        return true;\n      }\n      $err = $h.createElement(self.$errorContainer.html());\n      $err.find(\".kv-error-close\").remove();\n      $err.find(\"ul\").remove();\n      return !!$.trim($err.text()).length;\n    },\n    _errorHandler: function (evt, caption) {\n      var self = this,\n        err = evt.target.error,\n        showError = function (msg) {\n          self._showError(msg.replace(\"{name}\", caption));\n        };\n      /** @namespace err.NOT_FOUND_ERR */\n      /** @namespace err.SECURITY_ERR */\n      /** @namespace err.NOT_READABLE_ERR */\n      if (err.code === err.NOT_FOUND_ERR) {\n        showError(self.msgFileNotFound);\n      } else {\n        if (err.code === err.SECURITY_ERR) {\n          showError(self.msgFileSecured);\n        } else {\n          if (err.code === err.NOT_READABLE_ERR) {\n            showError(self.msgFileNotReadable);\n          } else {\n            if (err.code === err.ABORT_ERR) {\n              showError(self.msgFilePreviewAborted);\n            } else {\n              showError(self.msgFilePreviewError);\n            }\n          }\n        }\n      }\n    },\n    _addError: function (msg) {\n      var self = this,\n        $error = self.$errorContainer;\n      if (msg && $error.length) {\n        $h.setHtml($error, self.errorCloseButton + msg);\n        self._handler($error.find(\".kv-error-close\"), \"click\", function () {\n          setTimeout(function () {\n            if (self.showPreview && !self.getFrames().length) {\n              self.clear();\n            }\n            $error.fadeOut(\"slow\");\n          }, self.processDelay);\n        });\n      }\n    },\n    _setValidationError: function (css) {\n      var self = this;\n      css = (css ? css + \" \" : \"\") + \"has-error\";\n      self.$container.removeClass(css).addClass(\"has-error\");\n      $h.addCss(self.$captionContainer, \"is-invalid\");\n    },\n    _resetErrors: function (fade) {\n      var self = this,\n        $error = self.$errorContainer;\n      if (self.isPersistentError) {\n        return;\n      }\n      self.isError = false;\n      self.$container.removeClass(\"has-error\");\n      self.$captionContainer.removeClass(\"is-invalid\");\n      $error.html(\"\");\n      if (fade) {\n        $error.fadeOut(\"slow\");\n      } else {\n        $error.hide();\n      }\n    },\n    _showFolderError: function (folders) {\n      var self = this,\n        $error = self.$errorContainer,\n        msg;\n      if (!folders) {\n        return;\n      }\n      if (!self.isAjaxUpload) {\n        self._clearFileInput();\n      }\n      msg = self.msgFoldersNotAllowed.replace(\"{n}\", folders);\n      self._addError(msg);\n      self._setValidationError();\n      $error.fadeIn(self.fadeDelay);\n      self._raise(\"filefoldererror\", [folders, msg]);\n    },\n    _showFileError: function (msg, params, event) {\n      var self = this,\n        $error = self.$errorContainer,\n        ev = event || \"fileuploaderror\",\n        fId = (params && params.fileId) || \"\",\n        e =\n          params && params.id\n            ? '<li data-thumb-id=\"' +\n              params.id +\n              '\" data-file-id=\"' +\n              fId +\n              '\">' +\n              msg +\n              \"</li>\"\n            : \"<li>\" + msg + \"</li>\";\n\n      if ($error.find(\"ul\").length === 0) {\n        self._addError(\"<ul>\" + e + \"</ul>\");\n      } else {\n        $error.find(\"ul\").append(e);\n      }\n      $error.fadeIn(self.fadeDelay);\n      self._raise(ev, [params, msg]);\n      self._setValidationError(\"file-input-new\");\n      return true;\n    },\n    _showError: function (msg, params, event) {\n      var self = this,\n        $error = self.$errorContainer,\n        ev = event || \"fileerror\";\n      params = params || {};\n      params.reader = self.reader;\n      self._addError(msg);\n      $error.fadeIn(self.fadeDelay);\n      self._raise(ev, [params, msg]);\n      if (!self.isAjaxUpload) {\n        self._clearFileInput();\n      }\n      self._setValidationError(\"file-input-new\");\n      self.$btnUpload.attr(\"disabled\", true);\n      return true;\n    },\n    _noFilesError: function (params) {\n      var self = this,\n        label = self.minFileCount > 1 ? self.filePlural : self.fileSingle,\n        msg = self.msgFilesTooLess\n          .replace(\"{n}\", self.minFileCount)\n          .replace(\"{files}\", label),\n        $error = self.$errorContainer;\n      msg = \"<li>\" + msg + \"</li>\";\n      if ($error.find(\"ul\").length === 0) {\n        self._addError(\"<ul>\" + msg + \"</ul>\");\n      } else {\n        $error.find(\"ul\").append(msg);\n      }\n      self.isError = true;\n      self._updateFileDetails(0);\n      $error.fadeIn(self.fadeDelay);\n      self._raise(\"fileerror\", [params, msg]);\n      self._clearFileInput();\n      self._setValidationError();\n    },\n    _parseError: function (operation, jqXHR, errorThrown, fileName) {\n      /** @namespace jqXHR.responseJSON */\n      var self = this,\n        errMsg = $.trim(errorThrown + \"\"),\n        textPre,\n        errText,\n        text;\n      errText =\n        jqXHR.responseJSON && jqXHR.responseJSON.error\n          ? jqXHR.responseJSON.error.toString()\n          : \"\";\n      text = errText ? errText : jqXHR.responseText;\n      if (self.cancelling && self.msgUploadAborted) {\n        errMsg = self.msgUploadAborted;\n      }\n      if (self.showAjaxErrorDetails && text) {\n        if (errText) {\n          errMsg = $.trim(errText + \"\");\n        } else {\n          text = $.trim(text.replace(/\\n\\s*\\n/g, \"\\n\"));\n          textPre = text.length ? \"<pre>\" + text + \"</pre>\" : \"\";\n          errMsg += errMsg ? textPre : text;\n        }\n      }\n      if (!errMsg) {\n        errMsg = self.msgAjaxError.replace(\"{operation}\", operation);\n      }\n      self.cancelling = false;\n      return fileName ? \"<b>\" + fileName + \": </b>\" + errMsg : errMsg;\n    },\n    _parseFileType: function (type, name) {\n      var self = this,\n        isValid,\n        vType,\n        cat,\n        i,\n        types = self.allowedPreviewTypes || [];\n      if (type === \"application/text-plain\") {\n        return \"text\";\n      }\n      for (i = 0; i < types.length; i++) {\n        cat = types[i];\n        isValid = self.fileTypeSettings[cat];\n        vType = isValid(type, name) ? cat : \"\";\n        if (!$h.isEmpty(vType)) {\n          return vType;\n        }\n      }\n      return \"other\";\n    },\n    _getPreviewIcon: function (fname) {\n      var self = this,\n        ext,\n        out = null;\n      if (fname && fname.indexOf(\".\") > -1) {\n        ext = fname.split(\".\").pop();\n        if (self.previewFileIconSettings) {\n          out =\n            self.previewFileIconSettings[ext] ||\n            self.previewFileIconSettings[ext.toLowerCase()] ||\n            null;\n        }\n        if (self.previewFileExtSettings) {\n          $.each(self.previewFileExtSettings, function (key, func) {\n            if (self.previewFileIconSettings[key] && func(ext)) {\n              out = self.previewFileIconSettings[key];\n              //noinspection UnnecessaryReturnStatementJS\n              return;\n            }\n          });\n        }\n      }\n      return out || self.previewFileIcon;\n    },\n    _parseFilePreviewIcon: function (content, fname) {\n      var self = this,\n        icn = self._getPreviewIcon(fname),\n        out = content;\n      if (out.indexOf(\"{previewFileIcon}\") > -1) {\n        out = out.setTokens({\n          previewFileIconClass: self.previewFileIconClass,\n          previewFileIcon: icn,\n        });\n      }\n      return out;\n    },\n    _raise: function (event, params) {\n      var self = this,\n        e = $.Event(event);\n      if (params !== undefined) {\n        self.$element.trigger(e, params);\n      } else {\n        self.$element.trigger(e);\n      }\n      if (e.isDefaultPrevented() || e.result === false) {\n        return false;\n      }\n      switch (event) {\n        // ignore these events\n        case \"filebatchuploadcomplete\":\n        case \"filebatchuploadsuccess\":\n        case \"fileuploaded\":\n        case \"fileclear\":\n        case \"filecleared\":\n        case \"filereset\":\n        case \"fileerror\":\n        case \"filefoldererror\":\n        case \"fileuploaderror\":\n        case \"filebatchuploaderror\":\n        case \"filedeleteerror\":\n        case \"filecustomerror\":\n        case \"filesuccessremove\":\n          break;\n        // receive data response via `filecustomerror` event`\n        default:\n          if (!self.ajaxAborted) {\n            self.ajaxAborted = e.result;\n          }\n          break;\n      }\n      return true;\n    },\n    _listenFullScreen: function (isFullScreen) {\n      var self = this,\n        $modal = self.$modal,\n        $btnFull,\n        $btnBord;\n      if (!$modal || !$modal.length) {\n        return;\n      }\n      $btnFull = $modal && $modal.find(\".btn-fullscreen\");\n      $btnBord = $modal && $modal.find(\".btn-borderless\");\n      if (!$btnFull.length || !$btnBord.length) {\n        return;\n      }\n      $btnFull.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n      $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n      if (isFullScreen) {\n        $btnFull.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n      } else {\n        $btnBord.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n      }\n      if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n        self._maximizeZoomDialog();\n      } else {\n        if (isFullScreen) {\n          self._maximizeZoomDialog();\n        } else {\n          $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n        }\n      }\n    },\n    _listen: function () {\n      var self = this,\n        $el = self.$element,\n        $form = self.$form,\n        $cont = self.$container,\n        fullScreenEv,\n        $cap,\n        fn,\n        pastefn;\n      self._handler($el, \"click\", function (e) {\n        if ($el.hasClass(\"file-no-browse\")) {\n          if ($el.data(\"zoneClicked\")) {\n            $el.data(\"zoneClicked\", false);\n          } else {\n            e.preventDefault();\n          }\n        }\n      });\n      self._handler($el, \"change\", $.proxy(self._change, self));\n      if (self.showBrowse) {\n        self._handler(self.$btnFile, \"click\", $.proxy(self._browse, self));\n      }\n      $cap = $cont.find(\".file-caption-name\");\n      fn = function (event) {\n        return daIgnoreAllButTab(event);\n      };\n      pastefn = function () {\n        return false;\n      };\n      self._handler(\n        $cont.find(\".fileinput-remove:not([disabled])\"),\n        \"click\",\n        $.proxy(self.clear, self)\n      );\n      self._handler(\n        $cont.find(\".fileinput-cancel\"),\n        \"click\",\n        $.proxy(self.cancel, self)\n      );\n      self._handler(\n        $cont.find(\".fileinput-pause\"),\n        \"click\",\n        $.proxy(self.pause, self)\n      );\n      self._handler($cap, \"keydown\", fn);\n      self._handler($cap, \"paste\", pastefn);\n      self._initDragDrop();\n      self._handler($form, \"reset\", $.proxy(self.clear, self));\n      if (!self.isAjaxUpload) {\n        self._handler($form, \"submit\", $.proxy(self._submitForm, self));\n      }\n      self._handler(\n        self.$container.find(\".fileinput-upload\"),\n        \"click\",\n        $.proxy(self._uploadClick, self)\n      );\n      self._handler($(window), \"resize\", function () {\n        self._listenFullScreen(\n          screen.width === window.innerWidth &&\n            screen.height === window.innerHeight\n        );\n      });\n      fullScreenEv =\n        \"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange\";\n      self._handler($(document), fullScreenEv, function () {\n        self._listenFullScreen($h.checkFullScreen());\n      });\n      self._autoFitContent();\n      self._initClickable();\n      self._refreshPreview();\n    },\n    _autoFitContent: function () {\n      var width =\n          window.innerWidth ||\n          document.documentElement.clientWidth ||\n          document.body.clientWidth,\n        self = this,\n        config =\n          width < 400\n            ? self.previewSettingsSmall || self.defaults.previewSettingsSmall\n            : self.previewSettings || self.defaults.previewSettings,\n        sel;\n      $.each(config, function (cat, settings) {\n        sel = \".file-preview-frame .file-preview-\" + cat;\n        self.$preview\n          .find(sel + \".kv-preview-data,\" + sel + \" .kv-preview-data\")\n          .css(settings);\n      });\n    },\n    _scanDroppedItems: function (item, files, path) {\n      path = path || \"\";\n      var self = this,\n        i,\n        dirReader,\n        readDir,\n        errorHandler = function (e) {\n          self._log($h.logMessages.badDroppedFiles);\n          self._log(e);\n        };\n      if (item.isFile) {\n        item.file(function (file) {\n          if (path) {\n            file.newPath = path + file.name;\n          }\n          files.push(file);\n        }, errorHandler);\n      } else {\n        if (item.isDirectory) {\n          dirReader = item.createReader();\n          readDir = function () {\n            dirReader.readEntries(function (entries) {\n              if (entries && entries.length > 0) {\n                for (i = 0; i < entries.length; i++) {\n                  self._scanDroppedItems(\n                    entries[i],\n                    files,\n                    path + item.name + \"/\"\n                  );\n                }\n                // recursively call readDir() again, since browser can only handle first 100 entries.\n                readDir();\n              }\n              return null;\n            }, errorHandler);\n          };\n          readDir();\n        }\n      }\n    },\n    _initDragDrop: function () {\n      var self = this,\n        $zone = self.$dropZone;\n      if (self.dropZoneEnabled && self.showPreview) {\n        self._handler(\n          $zone,\n          \"dragenter dragover\",\n          $.proxy(self._zoneDragEnter, self)\n        );\n        self._handler($zone, \"dragleave\", $.proxy(self._zoneDragLeave, self));\n        self._handler($zone, \"drop\", $.proxy(self._zoneDrop, self));\n        self._handler(\n          $(document),\n          \"dragenter dragover drop\",\n          self._zoneDragDropInit\n        );\n      }\n    },\n    _zoneDragDropInit: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n    _zoneDragEnter: function (e) {\n      var self = this,\n        dt = e.originalEvent.dataTransfer,\n        hasFiles = $.inArray(\"Files\", dt.types) > -1;\n      self._zoneDragDropInit(e);\n      if (self.isDisabled || !hasFiles) {\n        dt.effectAllowed = \"none\";\n        dt.dropEffect = \"none\";\n        return;\n      }\n      dt.dropEffect = \"copy\";\n      if (\n        self._raise(\"fileDragEnter\", { sourceEvent: e, files: dt.types.Files })\n      ) {\n        $h.addCss(self.$dropZone, \"file-highlighted\");\n      }\n    },\n    _zoneDragLeave: function (e) {\n      var self = this;\n      self._zoneDragDropInit(e);\n      if (self.isDisabled) {\n        return;\n      }\n      if (self._raise(\"fileDragLeave\", { sourceEvent: e })) {\n        self.$dropZone.removeClass(\"file-highlighted\");\n      }\n    },\n    _zoneDrop: function (e) {\n      /** @namespace e.originalEvent.dataTransfer */\n      var self = this,\n        i,\n        $el = self.$element,\n        dt = e.originalEvent.dataTransfer,\n        files = dt.files,\n        items = dt.items,\n        folders = $h.getDragDropFolders(items),\n        processFiles = function () {\n          if (!self.isAjaxUpload) {\n            self.changeTriggered = true;\n            $el.get(0).files = files;\n            setTimeout(function () {\n              self.changeTriggered = false;\n              $el.trigger(\"change\" + self.namespace);\n            }, self.processDelay);\n          } else {\n            self._change(e, files);\n          }\n          self.$dropZone.removeClass(\"file-highlighted\");\n        };\n      e.preventDefault();\n      if (self.isDisabled || $h.isEmpty(files)) {\n        return;\n      }\n      if (!self._raise(\"fileDragDrop\", { sourceEvent: e, files: files })) {\n        return;\n      }\n      if (folders > 0) {\n        if (!self.isAjaxUpload) {\n          self._showFolderError(folders);\n          return;\n        }\n        files = [];\n        for (i = 0; i < items.length; i++) {\n          var item = items[i].webkitGetAsEntry();\n          if (item) {\n            self._scanDroppedItems(item, files);\n          }\n        }\n        setTimeout(function () {\n          processFiles();\n        }, 500);\n      } else {\n        processFiles();\n      }\n    },\n    _uploadClick: function (e) {\n      var self = this,\n        $btn = self.$container.find(\".fileinput-upload\"),\n        $form,\n        isEnabled =\n          !$btn.hasClass(\"disabled\") && $h.isEmpty($btn.attr(\"disabled\"));\n      if (e && e.isDefaultPrevented()) {\n        return;\n      }\n      if (!self.isAjaxUpload) {\n        if (isEnabled && $btn.attr(\"type\") !== \"submit\") {\n          $form = $btn.closest(\"form\");\n          // downgrade to normal form submit if possible\n          if ($form.length) {\n            $form.trigger(\"submit\");\n          }\n          e.preventDefault();\n        }\n        return;\n      }\n      e.preventDefault();\n      if (isEnabled) {\n        self.upload();\n      }\n    },\n    _submitForm: function () {\n      var self = this;\n      return self._isFileSelectionValid() && !self._abort({});\n    },\n    _clearPreview: function () {\n      var self = this,\n        $thumbs = self.showUploadedThumbs\n          ? self.getFrames(\":not(.file-preview-success)\")\n          : self.getFrames();\n      $thumbs.each(function () {\n        var $thumb = $(this);\n        $thumb.remove();\n      });\n      if (!self.getFrames().length || !self.showPreview) {\n        self._resetUpload();\n      }\n      self._validateDefaultPreview();\n    },\n    _initSortable: function () {\n      var self = this,\n        $el = self.$preview,\n        settings,\n        selector = \".\" + $h.SORT_CSS,\n        $cont,\n        $body = $(\"body\"),\n        $html = $(\"html\"),\n        rev = self.reversePreviewOrder,\n        Sortable = window.Sortable,\n        beginGrab,\n        endGrab;\n      if (!Sortable || $el.find(selector).length === 0) {\n        return;\n      }\n      $cont = $body.length ? $body : $html.length ? $html : self.$container;\n      beginGrab = function () {\n        $cont.addClass(\"file-grabbing\");\n      };\n      endGrab = function () {\n        $cont.removeClass(\"file-grabbing\");\n      };\n      settings = {\n        handle: \".drag-handle-init\",\n        dataIdAttr: \"data-fileid\",\n        animation: 600,\n        draggable: selector,\n        scroll: false,\n        forceFallback: true,\n        onChoose: beginGrab,\n        onStart: beginGrab,\n        onUnchoose: endGrab,\n        onEnd: endGrab,\n        onSort: function (e) {\n          var oldIndex = e.oldIndex,\n            newIndex = e.newIndex,\n            i = 0,\n            len = self.initialPreviewConfig.length,\n            exceedsLast = len > 0 && newIndex >= len,\n            $item = $(e.item),\n            $first;\n          if (exceedsLast) {\n            newIndex = len - 1;\n          }\n          self.initialPreview = $h.moveArray(\n            self.initialPreview,\n            oldIndex,\n            newIndex,\n            rev\n          );\n          self.initialPreviewConfig = $h.moveArray(\n            self.initialPreviewConfig,\n            oldIndex,\n            newIndex,\n            rev\n          );\n          self.previewCache.init();\n          self.getFrames(\".file-preview-initial\").each(function () {\n            $(this).attr(\"data-fileindex\", $h.INIT_FLAG + i);\n            i++;\n          });\n          if (exceedsLast) {\n            $first = self.getFrames(\":not(.file-preview-initial):first\");\n            if ($first.length) {\n              $item.slideUp(function () {\n                $item.insertBefore($first).slideDown();\n              });\n            }\n          }\n          self._raise(\"filesorted\", {\n            previewId: $item.attr(\"id\"),\n            oldIndex: oldIndex,\n            newIndex: newIndex,\n            stack: self.initialPreviewConfig,\n          });\n        },\n      };\n      $.extend(true, settings, self.fileActionSettings.dragSettings);\n      if (self.sortable) {\n        self.sortable.destroy();\n      }\n      self.sortable = Sortable.create($el[0], settings);\n    },\n    _setPreviewContent: function (content) {\n      var self = this;\n      $h.setHtml(self.$preview, content);\n      self._autoFitContent();\n    },\n    _initPreviewImageOrientations: function () {\n      var self = this,\n        i = 0,\n        canOrientImage = self.canOrientImage;\n      if (!self.autoOrientImageInitial && !canOrientImage) {\n        return;\n      }\n      self.getFrames(\".file-preview-initial\").each(function () {\n        var $thumb = $(this),\n          $img,\n          $zoomImg,\n          id,\n          config = self.initialPreviewConfig[i];\n        /** @namespace config.exif */\n        if (config && config.exif && config.exif.Orientation) {\n          id = $thumb.attr(\"id\");\n          $img = $thumb.find(\">.kv-file-content img\");\n          $zoomImg = self._getZoom(id, \" >.kv-file-content img\");\n          if (canOrientImage) {\n            $img.css(\n              \"image-orientation\",\n              self.autoOrientImageInitial ? \"from-image\" : \"none\"\n            );\n          } else {\n            self.setImageOrientation(\n              $img,\n              $zoomImg,\n              config.exif.Orientation,\n              $thumb\n            );\n          }\n        }\n        i++;\n      });\n    },\n    _initPreview: function (isInit) {\n      var self = this,\n        cap = self.initialCaption || \"\",\n        out;\n      if (!self.previewCache.count(true)) {\n        self._clearPreview();\n        if (isInit) {\n          self._setCaption(cap);\n        } else {\n          self._initCaption();\n        }\n        return;\n      }\n      out = self.previewCache.out();\n      cap = isInit && self.initialCaption ? self.initialCaption : out.caption;\n      self._setPreviewContent(out.content);\n      self._setInitThumbAttr();\n      self._setCaption(cap);\n      self._initSortable();\n      if (!$h.isEmpty(out.content)) {\n        self.$container.removeClass(\"file-input-new\");\n      }\n      self._initPreviewImageOrientations();\n    },\n    _getZoomButton: function (type) {\n      var self = this,\n        label = self.previewZoomButtonIcons[type],\n        css = self.previewZoomButtonClasses[type],\n        title = ' title=\"' + (self.previewZoomButtonTitles[type] || \"\") + '\" ',\n        params =\n          title +\n          (type === \"close\" ? ' data-dismiss=\"modal\" aria-hidden=\"true\"' : \"\");\n      if (\n        type === \"fullscreen\" ||\n        type === \"borderless\" ||\n        type === \"toggleheader\"\n      ) {\n        params +=\n          ' data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\"';\n      }\n      return (\n        '<button type=\"button\" class=\"' +\n        css +\n        \" btn-\" +\n        type +\n        '\"' +\n        params +\n        \">\" +\n        label +\n        \"</button>\"\n      );\n    },\n    _getModalContent: function () {\n      var self = this;\n      return self._getLayoutTemplate(\"modal\").setTokens({\n        rtl: self.rtl ? \" kv-rtl\" : \"\",\n        zoomFrameClass: self.frameClass,\n        heading: self.msgZoomModalHeading,\n        prev: self._getZoomButton(\"prev\"),\n        next: self._getZoomButton(\"next\"),\n        toggleheader: self._getZoomButton(\"toggleheader\"),\n        fullscreen: self._getZoomButton(\"fullscreen\"),\n        borderless: self._getZoomButton(\"borderless\"),\n        close: self._getZoomButton(\"close\"),\n      });\n    },\n    _listenModalEvent: function (event) {\n      var self = this,\n        $modal = self.$modal,\n        getParams = function (e) {\n          return {\n            sourceEvent: e,\n            previewId: $modal.data(\"previewId\"),\n            modal: $modal,\n          };\n        };\n      $modal.on(event + \".bs.modal\", function (e) {\n        var $btnFull = $modal.find(\".btn-fullscreen\"),\n          $btnBord = $modal.find(\".btn-borderless\");\n        if ($modal.data(\"fileinputPluginId\") === self.$element.attr(\"id\")) {\n          self._raise(\"filezoom\" + event, getParams(e));\n        }\n        if (event === \"shown\") {\n          $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n          $btnFull.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n          if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n            self._maximizeZoomDialog();\n            if ($h.checkFullScreen()) {\n              $btnFull.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n            } else {\n              $btnBord.addClass(\"active\").attr(\"aria-pressed\", \"true\");\n            }\n          }\n        }\n      });\n    },\n    _initZoom: function () {\n      var self = this,\n        $dialog,\n        modalMain = self._getLayoutTemplate(\"modalMain\"),\n        modalId = \"#\" + $h.MODAL_ID;\n      if (!self.showPreview) {\n        return;\n      }\n      self.$modal = $(modalId);\n      if (!self.$modal || !self.$modal.length) {\n        $dialog = $h\n          .createElement($h.cspBuffer.stash(modalMain))\n          .insertAfter(self.$container);\n        self.$modal = $(modalId).insertBefore($dialog);\n        $h.cspBuffer.apply(self.$modal);\n        $dialog.remove();\n      }\n      $h.initModal(self.$modal);\n      self.$modal.html($h.cspBuffer.stash(self._getModalContent()));\n      $h.cspBuffer.apply(self.$modal);\n      $.each($h.MODAL_EVENTS, function (key, event) {\n        self._listenModalEvent(event);\n      });\n    },\n    _initZoomButtons: function () {\n      var self = this,\n        previewId = self.$modal.data(\"previewId\") || \"\",\n        $first,\n        $last,\n        thumbs = self.getFrames().toArray(),\n        len = thumbs.length,\n        $prev = self.$modal.find(\".btn-prev\"),\n        $next = self.$modal.find(\".btn-next\");\n      if (thumbs.length < 2) {\n        $prev.hide();\n        $next.hide();\n        return;\n      } else {\n        $prev.show();\n        $next.show();\n      }\n      if (!len) {\n        return;\n      }\n      $first = $(thumbs[0]);\n      $last = $(thumbs[len - 1]);\n      $prev.removeAttr(\"disabled\");\n      $next.removeAttr(\"disabled\");\n      if ($first.length && $first.attr(\"id\") === previewId) {\n        $prev.attr(\"disabled\", true);\n      }\n      if ($last.length && $last.attr(\"id\") === previewId) {\n        $next.attr(\"disabled\", true);\n      }\n    },\n    _maximizeZoomDialog: function () {\n      var self = this,\n        $modal = self.$modal,\n        $head = $modal.find(\".modal-header:visible\"),\n        $foot = $modal.find(\".modal-footer:visible\"),\n        $body = $modal.find(\".modal-body\"),\n        h = $(window).height(),\n        diff = 0;\n      $modal.addClass(\"file-zoom-fullscreen\");\n      if ($head && $head.length) {\n        h -= $head.outerHeight(true);\n      }\n      if ($foot && $foot.length) {\n        h -= $foot.outerHeight(true);\n      }\n      if ($body && $body.length) {\n        diff = $body.outerHeight(true) - $body.height();\n        h -= diff;\n      }\n      $modal.find(\".kv-zoom-body\").height(h);\n    },\n    _resizeZoomDialog: function (fullScreen) {\n      var self = this,\n        $modal = self.$modal,\n        $btnFull = $modal.find(\".btn-fullscreen\"),\n        $btnBord = $modal.find(\".btn-borderless\");\n      if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n        $h.toggleFullScreen(false);\n        if (!fullScreen) {\n          if (!$btnFull.hasClass(\"active\")) {\n            $modal.removeClass(\"file-zoom-fullscreen\");\n            self.$modal\n              .find(\".kv-zoom-body\")\n              .css(\"height\", self.zoomModalHeight);\n          } else {\n            $btnFull.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n          }\n        } else {\n          if (!$btnFull.hasClass(\"active\")) {\n            $modal.removeClass(\"file-zoom-fullscreen\");\n            self._resizeZoomDialog(true);\n            if ($btnBord.hasClass(\"active\")) {\n              $btnBord.removeClass(\"active\").attr(\"aria-pressed\", \"false\");\n            }\n          }\n        }\n      } else {\n        if (!fullScreen) {\n          self._maximizeZoomDialog();\n          return;\n        }\n        $h.toggleFullScreen(true);\n      }\n      $modal.focus();\n    },\n    _setZoomContent: function ($frame, animate) {\n      var self = this,\n        $content,\n        tmplt,\n        body,\n        title,\n        $body,\n        $dataEl,\n        config,\n        previewId = $frame.attr(\"id\"),\n        $zoomPreview = self._getZoom(previewId),\n        $modal = self.$modal,\n        $tmp,\n        $btnFull = $modal.find(\".btn-fullscreen\"),\n        $btnBord = $modal.find(\".btn-borderless\"),\n        cap,\n        size,\n        $btnTogh = $modal.find(\".btn-toggleheader\");\n      tmplt = $zoomPreview.attr(\"data-template\") || \"generic\";\n      $content = $zoomPreview.find(\".kv-file-content\");\n      body = $content.length ? $content.html() : \"\";\n      cap = $frame.data(\"caption\") || \"\";\n      size = $frame.data(\"size\") || \"\";\n      title = cap + \" \" + size;\n      $modal\n        .find(\".kv-zoom-title\")\n        .attr(\"title\", $(\"<div/>\").html(title).text())\n        .html(title);\n      $body = $modal.find(\".kv-zoom-body\");\n      $modal.removeClass(\"kv-single-content\");\n      if (animate) {\n        $tmp = $body.addClass(\"file-thumb-loading\").clone().insertAfter($body);\n        $h.setHtml($body, body).hide();\n        $tmp.fadeOut(\"fast\", function () {\n          $body.fadeIn(\"fast\", function () {\n            $body.removeClass(\"file-thumb-loading\");\n          });\n          $tmp.remove();\n        });\n      } else {\n        $h.setHtml($body, body);\n      }\n      config = self.previewZoomSettings[tmplt];\n      if (config) {\n        $dataEl = $body.find(\".kv-preview-data\");\n        $h.addCss($dataEl, \"file-zoom-detail\");\n        $.each(config, function (key, value) {\n          $dataEl.css(key, value);\n          if (\n            ($dataEl.attr(\"width\") && key === \"width\") ||\n            ($dataEl.attr(\"height\") && key === \"height\")\n          ) {\n            $dataEl.removeAttr(key);\n          }\n        });\n      }\n      $modal.data(\"previewId\", previewId);\n      self._handler($modal.find(\".btn-prev\"), \"click\", function () {\n        self._zoomSlideShow(\"prev\", previewId);\n      });\n      self._handler($modal.find(\".btn-next\"), \"click\", function () {\n        self._zoomSlideShow(\"next\", previewId);\n      });\n      self._handler($btnFull, \"click\", function () {\n        self._resizeZoomDialog(true);\n      });\n      self._handler($btnBord, \"click\", function () {\n        self._resizeZoomDialog(false);\n      });\n      self._handler($btnTogh, \"click\", function () {\n        var $header = $modal.find(\".modal-header\"),\n          $floatBar = $modal.find(\".modal-body .floating-buttons\"),\n          ht,\n          $actions = $header.find(\".kv-zoom-actions\"),\n          resize = function (height) {\n            var $body = self.$modal.find(\".kv-zoom-body\"),\n              h = self.zoomModalHeight;\n            if ($modal.hasClass(\"file-zoom-fullscreen\")) {\n              h = $body.outerHeight(true);\n              if (!height) {\n                h = h - $header.outerHeight(true);\n              }\n            }\n            $body.css(\"height\", height ? h + height : h);\n          };\n        if ($header.is(\":visible\")) {\n          ht = $header.outerHeight(true);\n          $header.slideUp(\"slow\", function () {\n            $actions.find(\".btn\").appendTo($floatBar);\n            resize(ht);\n          });\n        } else {\n          $floatBar.find(\".btn\").appendTo($actions);\n          $header.slideDown(\"slow\", function () {\n            resize();\n          });\n        }\n        $modal.focus();\n      });\n      self._handler($modal, \"keydown\", function (e) {\n        var key = e.which || e.keyCode,\n          $prev = $(this).find(\".btn-prev\"),\n          $next = $(this).find(\".btn-next\"),\n          vId = $(this).data(\"previewId\"),\n          vPrevKey = self.rtl ? 39 : 37,\n          vNextKey = self.rtl ? 37 : 39;\n        if (key === vPrevKey && $prev.length && !$prev.attr(\"disabled\")) {\n          self._zoomSlideShow(\"prev\", vId);\n        }\n        if (key === vNextKey && $next.length && !$next.attr(\"disabled\")) {\n          self._zoomSlideShow(\"next\", vId);\n        }\n      });\n    },\n    _showModal: function ($frame) {\n      var self = this,\n        $modal = self.$modal;\n      if (!$frame || !$frame.length) {\n        return;\n      }\n      $h.initModal($modal);\n      $h.setHtml($modal, self._getModalContent());\n      self._setZoomContent($frame);\n      $modal.data(\"fileinputPluginId\", self.$element.attr(\"id\"));\n      $modal.modal(\"show\");\n      self._initZoomButtons();\n    },\n    _zoomPreview: function ($btn) {\n      var self = this,\n        $frame;\n      if (!$btn.length) {\n        throw \"Cannot zoom to detailed preview!\";\n      }\n      $frame = $btn.closest($h.FRAMES);\n      self._showModal($frame);\n    },\n    _zoomSlideShow: function (dir, previewId) {\n      var self = this,\n        $btn = self.$modal.find(\".kv-zoom-actions .btn-\" + dir),\n        $targFrame,\n        i,\n        $thumb,\n        thumbsData = self.getFrames().toArray(),\n        thumbs = [],\n        len = thumbsData.length,\n        out;\n      if ($btn.attr(\"disabled\")) {\n        return;\n      }\n      for (i = 0; i < len; i++) {\n        $thumb = $(thumbsData[i]);\n        if (\n          $thumb &&\n          $thumb.length &&\n          $thumb.find(\".kv-file-zoom:visible\").length\n        ) {\n          thumbs.push(thumbsData[i]);\n        }\n      }\n      len = thumbs.length;\n      for (i = 0; i < len; i++) {\n        if ($(thumbs[i]).attr(\"id\") === previewId) {\n          out = dir === \"prev\" ? i - 1 : i + 1;\n          break;\n        }\n      }\n      if (out < 0 || out >= len || !thumbs[out]) {\n        return;\n      }\n      $targFrame = $(thumbs[out]);\n      if ($targFrame.length) {\n        self._setZoomContent($targFrame, true);\n      }\n      self._initZoomButtons();\n      self._raise(\"filezoom\" + dir, {\n        previewId: previewId,\n        modal: self.$modal,\n      });\n    },\n    _initZoomButton: function () {\n      var self = this;\n      self.$preview.find(\".kv-file-zoom\").each(function () {\n        var $el = $(this);\n        self._handler($el, \"click\", function () {\n          self._zoomPreview($el);\n        });\n      });\n    },\n    _inputFileCount: function () {\n      return this.$element[0].files.length;\n    },\n    _refreshPreview: function () {\n      var self = this,\n        files;\n      if (\n        (!self._inputFileCount() && !self.isAjaxUpload) ||\n        !self.showPreview ||\n        !self.isPreviewable\n      ) {\n        return;\n      }\n      if (self.isAjaxUpload) {\n        if (self.fileManager.count() > 0) {\n          files = $.extend(true, {}, self.fileManager.stack);\n          self.fileManager.clear();\n          self._clearFileInput();\n        } else {\n          files = self.$element[0].files;\n        }\n      } else {\n        files = self.$element[0].files;\n      }\n      if (files && files.length) {\n        self.readFiles(files);\n        self._setFileDropZoneTitle();\n      }\n    },\n    _clearObjects: function ($el) {\n      $el.find(\"video audio\").each(function () {\n        this.pause();\n        $(this).remove();\n      });\n      $el.find(\"img object div\").each(function () {\n        $(this).remove();\n      });\n    },\n    _clearFileInput: function () {\n      var self = this,\n        $el = self.$element,\n        $srcFrm,\n        $tmpFrm,\n        $tmpEl;\n      if (!self._inputFileCount()) {\n        return;\n      }\n      $srcFrm = $el.closest(\"form\");\n      $tmpFrm = $(document.createElement(\"form\"));\n      $tmpEl = $(document.createElement(\"div\"));\n      $el.before($tmpEl);\n      if ($srcFrm.length) {\n        $srcFrm.after($tmpFrm);\n      } else {\n        $tmpEl.after($tmpFrm);\n      }\n      $tmpFrm.append($el).trigger(\"reset\");\n      $tmpEl.before($el).remove();\n      $tmpFrm.remove();\n    },\n    _resetUpload: function () {\n      var self = this;\n      self.uploadStartTime = $h.now();\n      self.uploadCache = [];\n      self.$btnUpload.removeAttr(\"disabled\");\n      self._setProgress(0);\n      self._hideProgress();\n      self._resetErrors(false);\n      self._initAjax();\n      self.fileManager.clearImages();\n      self._resetCanvas();\n      if (self.overwriteInitial) {\n        self.initialPreview = [];\n        self.initialPreviewConfig = [];\n        self.initialPreviewThumbTags = [];\n        self.previewCache.data = {\n          content: [],\n          config: [],\n          tags: [],\n        };\n      }\n    },\n    _resetCanvas: function () {\n      var self = this;\n      if (self.canvas && self.imageCanvasContext) {\n        self.imageCanvasContext.clearRect(\n          0,\n          0,\n          self.canvas.width,\n          self.canvas.height\n        );\n      }\n    },\n    _hasInitialPreview: function () {\n      var self = this;\n      return !self.overwriteInitial && self.previewCache.count(true);\n    },\n    _resetPreview: function () {\n      var self = this,\n        out,\n        cap,\n        $div,\n        hasSuc = self.showUploadedThumbs,\n        hasErr = !self.removeFromPreviewOnError,\n        includeProcessed = (hasSuc || hasErr) && self.isDuplicateError;\n      if (self.previewCache.count(true)) {\n        out = self.previewCache.out();\n        if (includeProcessed) {\n          $div = $h.createElement(\"\").insertAfter(self.$container);\n          self.getFrames().each(function () {\n            var $thumb = $(this);\n            if (\n              (hasSuc && $thumb.hasClass(\"file-preview-success\")) ||\n              (hasErr && $thumb.hasClass(\"file-preview-error\"))\n            ) {\n              $div.append($thumb);\n            }\n          });\n        }\n        self._setPreviewContent(out.content);\n        self._setInitThumbAttr();\n        cap = self.initialCaption ? self.initialCaption : out.caption;\n        self._setCaption(cap);\n        if (includeProcessed) {\n          $div.contents().appendTo(self.$preview);\n          $div.remove();\n        }\n      } else {\n        self._clearPreview();\n        self._initCaption();\n      }\n      if (self.showPreview) {\n        self._initZoom();\n        self._initSortable();\n      }\n      self.isDuplicateError = false;\n    },\n    _clearDefaultPreview: function () {\n      var self = this;\n      self.$preview.find(\".file-default-preview\").remove();\n    },\n    _validateDefaultPreview: function () {\n      var self = this;\n      if (!self.showPreview || $h.isEmpty(self.defaultPreviewContent)) {\n        return;\n      }\n      self._setPreviewContent(\n        '<div class=\"file-default-preview\">' +\n          self.defaultPreviewContent +\n          \"</div>\"\n      );\n      self.$container.removeClass(\"file-input-new\");\n      self._initClickable();\n    },\n    _resetPreviewThumbs: function (isAjax) {\n      var self = this,\n        out;\n      if (isAjax) {\n        self._clearPreview();\n        self.clearFileStack();\n        return;\n      }\n      if (self._hasInitialPreview()) {\n        out = self.previewCache.out();\n        self._setPreviewContent(out.content);\n        self._setInitThumbAttr();\n        self._setCaption(out.caption);\n        self._initPreviewActions();\n      } else {\n        self._clearPreview();\n      }\n    },\n    _getLayoutTemplate: function (t) {\n      var self = this,\n        template = self.layoutTemplates[t];\n      if ($h.isEmpty(self.customLayoutTags)) {\n        return template;\n      }\n      return $h.replaceTags(template, self.customLayoutTags);\n    },\n    _getPreviewTemplate: function (t) {\n      var self = this,\n        templates = self.previewTemplates,\n        template = templates[t] || templates.other;\n      if ($h.isEmpty(self.customPreviewTags)) {\n        return template;\n      }\n      return $h.replaceTags(template, self.customPreviewTags);\n    },\n    _getOutData: function (formdata, jqXHR, responseData, filesData) {\n      var self = this;\n      jqXHR = jqXHR || {};\n      responseData = responseData || {};\n      filesData = filesData || self.fileManager.list();\n      return {\n        formdata: formdata,\n        files: filesData,\n        filenames: self.filenames,\n        filescount: self.getFilesCount(),\n        extra: self._getExtraData(),\n        response: responseData,\n        reader: self.reader,\n        jqXHR: jqXHR,\n      };\n    },\n    _getMsgSelected: function (n) {\n      var self = this,\n        strFiles = n === 1 ? self.fileSingle : self.filePlural;\n      return n > 0\n        ? self.msgSelected.replace(\"{n}\", n).replace(\"{files}\", strFiles)\n        : self.msgNoFilesSelected;\n    },\n    _getFrame: function (id, skipWarning) {\n      var self = this,\n        $frame = $h.getFrameElement(self.$preview, id);\n      if (self.showPreview && !skipWarning && !$frame.length) {\n        self._log($h.logMessages.invalidThumb, { id: id });\n      }\n      return $frame;\n    },\n    _getZoom: function (id, selector) {\n      var self = this,\n        $frame = $h.getZoomElement(self.$preview, id, selector);\n      if (self.showPreview && !$frame.length) {\n        self._log($h.logMessages.invalidThumb, { id: id });\n      }\n      return $frame;\n    },\n    _getThumbs: function (css) {\n      css = css || \"\";\n      return this.getFrames(\":not(.file-preview-initial)\" + css);\n    },\n    _getThumbId: function (fileId) {\n      var self = this;\n      return self.previewInitId + \"-\" + fileId;\n    },\n    _getExtraData: function (fileId, index) {\n      var self = this,\n        data = self.uploadExtraData;\n      if (typeof self.uploadExtraData === \"function\") {\n        data = self.uploadExtraData(fileId, index);\n      }\n      return data;\n    },\n    _initXhr: function (xhrobj, fileId) {\n      var self = this,\n        fm = self.fileManager,\n        func = function (event) {\n          var pct = 0,\n            total = event.total,\n            loaded = event.loaded || event.position,\n            stats = fm.getUploadStats(fileId, loaded, total);\n          /** @namespace event.lengthComputable */\n          if (event.lengthComputable && !self.enableResumableUpload) {\n            pct = $h.round((loaded / total) * 100);\n          }\n          if (fileId) {\n            self._setFileUploadStats(fileId, pct, stats);\n          } else {\n            self._setProgress(pct, null, null, self._getStats(stats));\n          }\n          self._raise(\"fileajaxprogress\", [stats]);\n        };\n      if (xhrobj.upload) {\n        if (self.progressDelay) {\n          func = $h.debounce(func, self.progressDelay);\n        }\n        xhrobj.upload.addEventListener(\"progress\", func, false);\n      }\n      return xhrobj;\n    },\n    _initAjaxSettings: function () {\n      var self = this;\n      self._ajaxSettings = $.extend(true, {}, self.ajaxSettings);\n      self._ajaxDeleteSettings = $.extend(true, {}, self.ajaxDeleteSettings);\n    },\n    _mergeAjaxCallback: function (funcName, srcFunc, type) {\n      var self = this,\n        settings = self._ajaxSettings,\n        flag = self.mergeAjaxCallbacks,\n        targFunc;\n      if (type === \"delete\") {\n        settings = self._ajaxDeleteSettings;\n        flag = self.mergeAjaxDeleteCallbacks;\n      }\n      targFunc = settings[funcName];\n      if (flag && typeof targFunc === \"function\") {\n        if (flag === \"before\") {\n          settings[funcName] = function () {\n            targFunc.apply(this, arguments);\n            srcFunc.apply(this, arguments);\n          };\n        } else {\n          settings[funcName] = function () {\n            srcFunc.apply(this, arguments);\n            targFunc.apply(this, arguments);\n          };\n        }\n      } else {\n        settings[funcName] = srcFunc;\n      }\n    },\n    _ajaxSubmit: function (\n      fnBefore,\n      fnSuccess,\n      fnComplete,\n      fnError,\n      formdata,\n      fileId,\n      index,\n      vUrl\n    ) {\n      var self = this,\n        settings,\n        defaults,\n        data,\n        ajaxTask;\n      if (!self._raise(\"filepreajax\", [formdata, fileId, index])) {\n        return;\n      }\n      formdata.append(\"initialPreview\", JSON.stringify(self.initialPreview));\n      formdata.append(\n        \"initialPreviewConfig\",\n        JSON.stringify(self.initialPreviewConfig)\n      );\n      formdata.append(\n        \"initialPreviewThumbTags\",\n        JSON.stringify(self.initialPreviewThumbTags)\n      );\n      self._initAjaxSettings();\n      self._mergeAjaxCallback(\"beforeSend\", fnBefore);\n      self._mergeAjaxCallback(\"success\", fnSuccess);\n      self._mergeAjaxCallback(\"complete\", fnComplete);\n      self._mergeAjaxCallback(\"error\", fnError);\n      vUrl = vUrl || self.uploadUrlThumb || self.uploadUrl;\n      if (typeof vUrl === \"function\") {\n        vUrl = vUrl();\n      }\n      data = self._getExtraData(fileId, index) || {};\n      if (typeof data === \"object\") {\n        $.each(data, function (key, value) {\n          formdata.append(key, value);\n        });\n      }\n      defaults = {\n        xhr: function () {\n          var xhrobj = $.ajaxSettings.xhr();\n          return self._initXhr(xhrobj, fileId);\n        },\n        url: self._encodeURI(vUrl),\n        type: \"POST\",\n        dataType: \"json\",\n        data: formdata,\n        cache: false,\n        processData: false,\n        contentType: false,\n      };\n      settings = $.extend(true, {}, defaults, self._ajaxSettings);\n      ajaxTask = self.taskManager.addTask(fileId + \"-\" + index, function () {\n        var self = this.self,\n          config,\n          xhr;\n        config = self.ajaxQueue.shift();\n        xhr = $.ajax(config);\n        self.ajaxRequests.push(xhr);\n      });\n      self.ajaxQueue.push(settings);\n      ajaxTask.runWithContext({ self: self });\n    },\n    _mergeArray: function (prop, content) {\n      var self = this,\n        arr1 = $h.cleanArray(self[prop]),\n        arr2 = $h.cleanArray(content);\n      self[prop] = arr1.concat(arr2);\n    },\n    _initUploadSuccess: function (out, $thumb, allFiles) {\n      var self = this,\n        append,\n        data,\n        index,\n        $div,\n        $newCache,\n        content,\n        config,\n        tags,\n        id,\n        i;\n      if (\n        !self.showPreview ||\n        typeof out !== \"object\" ||\n        $.isEmptyObject(out)\n      ) {\n        self._resetCaption();\n        return;\n      }\n      if (out.initialPreview !== undefined && out.initialPreview.length > 0) {\n        self.hasInitData = true;\n        content = out.initialPreview || [];\n        config = out.initialPreviewConfig || [];\n        tags = out.initialPreviewThumbTags || [];\n        append = out.append === undefined || out.append;\n        if (content.length > 0 && !$h.isArray(content)) {\n          content = content.split(self.initialPreviewDelimiter);\n        }\n        if (content.length) {\n          self._mergeArray(\"initialPreview\", content);\n          self._mergeArray(\"initialPreviewConfig\", config);\n          self._mergeArray(\"initialPreviewThumbTags\", tags);\n        }\n        if ($thumb !== undefined) {\n          if (!allFiles) {\n            index = self.previewCache.add(\n              content[0],\n              config[0],\n              tags[0],\n              append\n            );\n            data = self.previewCache.get(index, false);\n            $div = $h.createElement(data).hide().appendTo($thumb);\n            $newCache = $div.find(\".kv-zoom-cache\");\n            if ($newCache && $newCache.length) {\n              $newCache.appendTo($thumb);\n            }\n            $thumb.fadeOut(\"slow\", function () {\n              var $newThumb = $div.find(\".file-preview-frame\");\n              if ($newThumb && $newThumb.length) {\n                $newThumb\n                  .insertBefore($thumb)\n                  .fadeIn(\"slow\")\n                  .css(\"display:inline-block\");\n              }\n              self._initPreviewActions();\n              self._clearFileInput();\n              $thumb.remove();\n              $div.remove();\n              self._initSortable();\n            });\n          } else {\n            id = $thumb.attr(\"id\");\n            i = self._getUploadCacheIndex(id);\n            if (i !== null) {\n              self.uploadCache[i] = {\n                id: id,\n                content: content[0],\n                config: config[0] || [],\n                tags: tags[0] || [],\n                append: append,\n              };\n            }\n          }\n        } else {\n          self.previewCache.set(content, config, tags, append);\n          self._initPreview();\n          self._initPreviewActions();\n        }\n      }\n      self._resetCaption();\n    },\n    _getUploadCacheIndex: function (id) {\n      var self = this,\n        i,\n        len = self.uploadCache.length,\n        config;\n      for (i = 0; i < len; i++) {\n        config = self.uploadCache[i];\n        if (config.id === id) {\n          return i;\n        }\n      }\n      return null;\n    },\n    _initSuccessThumbs: function () {\n      var self = this;\n      if (!self.showPreview) {\n        return;\n      }\n      self._getThumbs($h.FRAMES + \".file-preview-success\").each(function () {\n        var $thumb = $(this),\n          $remove = $thumb.find(\".kv-file-remove\");\n        $remove.removeAttr(\"disabled\");\n        self._handler($remove, \"click\", function () {\n          var id = $thumb.attr(\"id\"),\n            out = self._raise(\"filesuccessremove\", [\n              id,\n              $thumb.attr(\"data-fileindex\"),\n            ]);\n          $h.cleanMemory($thumb);\n          if (out === false) {\n            return;\n          }\n          $thumb.fadeOut(\"slow\", function () {\n            $thumb.remove();\n            if (!self.getFrames().length) {\n              self.reset();\n            }\n          });\n        });\n      });\n    },\n    _updateInitialPreview: function () {\n      var self = this,\n        u = self.uploadCache;\n      if (self.showPreview) {\n        $.each(u, function (key, setting) {\n          self.previewCache.add(\n            setting.content,\n            setting.config,\n            setting.tags,\n            setting.append\n          );\n        });\n        if (self.hasInitData) {\n          self._initPreview();\n          self._initPreviewActions();\n        }\n      }\n    },\n    _uploadSingle: function (i, id, isBatch) {\n      var self = this,\n        fm = self.fileManager,\n        count = fm.count(),\n        formdata = new FormData(),\n        outData,\n        previewId = self._getThumbId(id),\n        $thumb,\n        chkComplete,\n        $btnUpload,\n        $btnDelete,\n        hasPostData = count > 0 || !$.isEmptyObject(self.uploadExtraData),\n        uploadFailed,\n        $prog,\n        fnBefore,\n        errMsg,\n        fnSuccess,\n        fnComplete,\n        fnError,\n        updateUploadLog,\n        op = self.ajaxOperations.uploadThumb,\n        fileObj = fm.getFile(id),\n        params = { id: previewId, index: i, fileId: id },\n        fileName = self.fileManager.getFileName(id, true);\n      if (self.enableResumableUpload) {\n        // not enabled for resumable uploads\n        return;\n      }\n      if (self.showPreview) {\n        $thumb = self.fileManager.getThumb(id);\n        $prog = $thumb.find(\".file-thumb-progress\");\n        $btnUpload = $thumb.find(\".kv-file-upload\");\n        $btnDelete = $thumb.find(\".kv-file-remove\");\n        $prog.show();\n      }\n      if (\n        count === 0 ||\n        !hasPostData ||\n        (self.showPreview && $btnUpload && $btnUpload.hasClass(\"disabled\")) ||\n        self._abort(params)\n      ) {\n        return;\n      }\n      updateUploadLog = function () {\n        if (!uploadFailed) {\n          fm.removeFile(id);\n        } else {\n          fm.errors.push(id);\n        }\n        fm.setProcessed(id);\n        if (fm.isProcessed()) {\n          self.fileBatchCompleted = true;\n          chkComplete();\n        }\n      };\n      chkComplete = function () {\n        var $initThumbs;\n        if (!self.fileBatchCompleted) {\n          return;\n        }\n        setTimeout(function () {\n          var triggerReset = fm.count() === 0,\n            errCount = fm.errors.length;\n          self._updateInitialPreview();\n          self.unlock(triggerReset);\n          if (triggerReset) {\n            self._clearFileInput();\n          }\n          $initThumbs = self.$preview.find(\".file-preview-initial\");\n          if (self.uploadAsync && $initThumbs.length) {\n            $h.addCss($initThumbs, $h.SORT_CSS);\n            self._initSortable();\n          }\n          self._raise(\"filebatchuploadcomplete\", [\n            fm.stack,\n            self._getExtraData(),\n          ]);\n          if (!self.retryErrorUploads || errCount === 0) {\n            fm.clear();\n          }\n          self._setProgress(101);\n          self.ajaxAborted = false;\n        }, self.processDelay);\n      };\n      fnBefore = function (jqXHR) {\n        outData = self._getOutData(formdata, jqXHR);\n        fm.initStats(id);\n        self.fileBatchCompleted = false;\n        if (!isBatch) {\n          self.ajaxAborted = false;\n        }\n        if (self.showPreview) {\n          if (!$thumb.hasClass(\"file-preview-success\")) {\n            self._setThumbStatus($thumb, \"Loading\");\n            $h.addCss($thumb, \"file-uploading\");\n          }\n          $btnUpload.attr(\"disabled\", true);\n          $btnDelete.attr(\"disabled\", true);\n        }\n        if (!isBatch) {\n          self.lock();\n        }\n        if (fm.errors.indexOf(id) !== -1) {\n          delete fm.errors[id];\n        }\n        self._raise(\"filepreupload\", [outData, previewId, i]);\n        $.extend(true, params, outData);\n        if (self._abort(params)) {\n          jqXHR.abort();\n          if (!isBatch) {\n            self._setThumbStatus($thumb, \"New\");\n            $thumb.removeClass(\"file-uploading\");\n            $btnUpload.removeAttr(\"disabled\");\n            $btnDelete.removeAttr(\"disabled\");\n            self.unlock();\n          }\n          self._setProgressCancelled();\n        }\n      };\n      fnSuccess = function (data, textStatus, jqXHR) {\n        var pid =\n          self.showPreview && $thumb.attr(\"id\") ? $thumb.attr(\"id\") : previewId;\n        outData = self._getOutData(formdata, jqXHR, data);\n        $.extend(true, params, outData);\n        setTimeout(function () {\n          if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n            if (self.showPreview) {\n              self._setThumbStatus($thumb, \"Success\");\n              $btnUpload.hide();\n              self._initUploadSuccess(data, $thumb, isBatch);\n              self._setProgress(101, $prog);\n            }\n            self._raise(\"fileuploaded\", [outData, pid, i]);\n            if (!isBatch) {\n              self.fileManager.remove($thumb);\n            } else {\n              updateUploadLog();\n            }\n          } else {\n            uploadFailed = true;\n            errMsg = self._parseError(\n              op,\n              jqXHR,\n              self.msgUploadError,\n              self.fileManager.getFileName(id)\n            );\n            self._showFileError(errMsg, params);\n            self._setPreviewError($thumb, true);\n            if (!self.retryErrorUploads) {\n              $btnUpload.hide();\n            }\n            if (isBatch) {\n              updateUploadLog();\n            }\n            self._setProgress(\n              101,\n              self._getFrame(pid).find(\".file-thumb-progress\"),\n              self.msgUploadError\n            );\n          }\n        }, self.processDelay);\n      };\n      fnComplete = function () {\n        if (self.showPreview) {\n          $btnUpload.removeAttr(\"disabled\");\n          $btnDelete.removeAttr(\"disabled\");\n          $thumb.removeClass(\"file-uploading\");\n        }\n        if (!isBatch) {\n          self.unlock(false);\n          self._clearFileInput();\n        } else {\n          chkComplete();\n        }\n        self._initSuccessThumbs();\n      };\n      fnError = function (jqXHR, textStatus, errorThrown) {\n        errMsg = self._parseError(\n          op,\n          jqXHR,\n          errorThrown,\n          self.fileManager.getFileName(id)\n        );\n        uploadFailed = true;\n        setTimeout(function () {\n          var $prog;\n          if (isBatch) {\n            updateUploadLog();\n          }\n          self.fileManager.setProgress(id, 100);\n          self._setPreviewError($thumb, true);\n          if (!self.retryErrorUploads) {\n            $btnUpload.hide();\n          }\n          $.extend(true, params, self._getOutData(formdata, jqXHR));\n          self._setProgress(\n            101,\n            self.$progress,\n            self.msgAjaxProgressError.replace(\"{operation}\", op)\n          );\n          $prog =\n            self.showPreview && $thumb\n              ? $thumb.find(\".file-thumb-progress\")\n              : \"\";\n          self._setProgress(101, $prog, self.msgUploadError);\n          self._showFileError(errMsg, params);\n        }, self.processDelay);\n      };\n      self._setFileData(formdata, fileObj.file, fileName, id);\n      self._setUploadData(formdata, { fileId: id });\n      self._ajaxSubmit(\n        fnBefore,\n        fnSuccess,\n        fnComplete,\n        fnError,\n        formdata,\n        id,\n        i\n      );\n    },\n    _setFileData: function (formdata, file, fileName, fileId) {\n      var self = this,\n        preProcess = self.preProcessUpload;\n      if (preProcess && typeof preProcess === \"function\") {\n        formdata.append(self.uploadFileAttr, preProcess(fileId, file));\n      } else {\n        formdata.append(self.uploadFileAttr, file, fileName);\n      }\n    },\n    _uploadBatch: function () {\n      var self = this,\n        fm = self.fileManager,\n        total = fm.total(),\n        params = {},\n        fnBefore,\n        fnSuccess,\n        fnError,\n        fnComplete,\n        hasPostData = total > 0 || !$.isEmptyObject(self.uploadExtraData),\n        errMsg,\n        setAllUploaded,\n        formdata = new FormData(),\n        op = self.ajaxOperations.uploadBatch;\n      if (total === 0 || !hasPostData || self._abort(params)) {\n        return;\n      }\n      setAllUploaded = function () {\n        self.fileManager.clear();\n        self._clearFileInput();\n      };\n      fnBefore = function (jqXHR) {\n        self.lock();\n        fm.initStats();\n        var outData = self._getOutData(formdata, jqXHR);\n        self.ajaxAborted = false;\n        if (self.showPreview) {\n          self._getThumbs().each(function () {\n            var $thumb = $(this),\n              $btnUpload = $thumb.find(\".kv-file-upload\"),\n              $btnDelete = $thumb.find(\".kv-file-remove\");\n            if (!$thumb.hasClass(\"file-preview-success\")) {\n              self._setThumbStatus($thumb, \"Loading\");\n              $h.addCss($thumb, \"file-uploading\");\n            }\n            $btnUpload.attr(\"disabled\", true);\n            $btnDelete.attr(\"disabled\", true);\n          });\n        }\n        self._raise(\"filebatchpreupload\", [outData]);\n        if (self._abort(outData)) {\n          jqXHR.abort();\n          self._getThumbs().each(function () {\n            var $thumb = $(this),\n              $btnUpload = $thumb.find(\".kv-file-upload\"),\n              $btnDelete = $thumb.find(\".kv-file-remove\");\n            if ($thumb.hasClass(\"file-preview-loading\")) {\n              self._setThumbStatus($thumb, \"New\");\n              $thumb.removeClass(\"file-uploading\");\n            }\n            $btnUpload.removeAttr(\"disabled\");\n            $btnDelete.removeAttr(\"disabled\");\n          });\n          self._setProgressCancelled();\n        }\n      };\n      fnSuccess = function (data, textStatus, jqXHR) {\n        /** @namespace data.errorkeys */\n        var outData = self._getOutData(formdata, jqXHR, data),\n          key = 0,\n          $thumbs = self._getThumbs(\":not(.file-preview-success)\"),\n          keys =\n            $h.isEmpty(data) || $h.isEmpty(data.errorkeys)\n              ? []\n              : data.errorkeys;\n\n        if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n          self._raise(\"filebatchuploadsuccess\", [outData]);\n          setAllUploaded();\n          if (self.showPreview) {\n            $thumbs.each(function () {\n              var $thumb = $(this);\n              self._setThumbStatus($thumb, \"Success\");\n              $thumb.removeClass(\"file-uploading\");\n              $thumb.find(\".kv-file-upload\").hide().removeAttr(\"disabled\");\n            });\n            self._initUploadSuccess(data);\n          } else {\n            self.reset();\n          }\n          self._setProgress(101);\n        } else {\n          if (self.showPreview) {\n            $thumbs.each(function () {\n              var $thumb = $(this);\n              $thumb.removeClass(\"file-uploading\");\n              $thumb.find(\".kv-file-upload\").removeAttr(\"disabled\");\n              $thumb.find(\".kv-file-remove\").removeAttr(\"disabled\");\n              if (keys.length === 0 || $.inArray(key, keys) !== -1) {\n                self._setPreviewError($thumb, true);\n                if (!self.retryErrorUploads) {\n                  $thumb.find(\".kv-file-upload\").hide();\n                  self.fileManager.remove($thumb);\n                }\n              } else {\n                $thumb.find(\".kv-file-upload\").hide();\n                self._setThumbStatus($thumb, \"Success\");\n                self.fileManager.remove($thumb);\n              }\n              if (\n                !$thumb.hasClass(\"file-preview-error\") ||\n                self.retryErrorUploads\n              ) {\n                key++;\n              }\n            });\n            self._initUploadSuccess(data);\n          }\n          errMsg = self._parseError(op, jqXHR, self.msgUploadError);\n          self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n          self._setProgress(101, self.$progress, self.msgUploadError);\n        }\n      };\n      fnComplete = function () {\n        self.unlock();\n        self._initSuccessThumbs();\n        self._clearFileInput();\n        self._raise(\"filebatchuploadcomplete\", [\n          self.fileManager.stack,\n          self._getExtraData(),\n        ]);\n      };\n      fnError = function (jqXHR, textStatus, errorThrown) {\n        var outData = self._getOutData(formdata, jqXHR);\n        errMsg = self._parseError(op, jqXHR, errorThrown);\n        self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n        self.uploadFileCount = total - 1;\n        if (!self.showPreview) {\n          return;\n        }\n        self._getThumbs().each(function () {\n          var $thumb = $(this);\n          $thumb.removeClass(\"file-uploading\");\n          if (self.fileManager.getFile($thumb.attr(\"data-fileid\"))) {\n            self._setPreviewError($thumb);\n          }\n        });\n        self._getThumbs().removeClass(\"file-uploading\");\n        self._getThumbs(\" .kv-file-upload\").removeAttr(\"disabled\");\n        self._getThumbs(\" .kv-file-delete\").removeAttr(\"disabled\");\n        self._setProgress(\n          101,\n          self.$progress,\n          self.msgAjaxProgressError.replace(\"{operation}\", op)\n        );\n      };\n      var ctr = 0;\n      $.each(self.fileManager.stack, function (key, data) {\n        if (!$h.isEmpty(data.file)) {\n          self._setFileData(\n            formdata,\n            data.file,\n            data.nameFmt || \"untitled_\" + ctr,\n            key\n          );\n        }\n        ctr++;\n      });\n      self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError, formdata);\n    },\n    _uploadExtraOnly: function () {\n      var self = this,\n        params = {},\n        fnBefore,\n        fnSuccess,\n        fnComplete,\n        fnError,\n        formdata = new FormData(),\n        errMsg,\n        op = self.ajaxOperations.uploadExtra;\n      if (self._abort(params)) {\n        return;\n      }\n      fnBefore = function (jqXHR) {\n        self.lock();\n        var outData = self._getOutData(formdata, jqXHR);\n        self._raise(\"filebatchpreupload\", [outData]);\n        self._setProgress(50);\n        params.data = outData;\n        params.xhr = jqXHR;\n        if (self._abort(params)) {\n          jqXHR.abort();\n          self._setProgressCancelled();\n        }\n      };\n      fnSuccess = function (data, textStatus, jqXHR) {\n        var outData = self._getOutData(formdata, jqXHR, data);\n        if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n          self._raise(\"filebatchuploadsuccess\", [outData]);\n          self._clearFileInput();\n          self._initUploadSuccess(data);\n          self._setProgress(101);\n        } else {\n          errMsg = self._parseError(op, jqXHR, self.msgUploadError);\n          self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n        }\n      };\n      fnComplete = function () {\n        self.unlock();\n        self._clearFileInput();\n        self._raise(\"filebatchuploadcomplete\", [\n          self.fileManager.stack,\n          self._getExtraData(),\n        ]);\n      };\n      fnError = function (jqXHR, textStatus, errorThrown) {\n        var outData = self._getOutData(formdata, jqXHR);\n        errMsg = self._parseError(op, jqXHR, errorThrown);\n        params.data = outData;\n        self._showFileError(errMsg, outData, \"filebatchuploaderror\");\n        self._setProgress(\n          101,\n          self.$progress,\n          self.msgAjaxProgressError.replace(\"{operation}\", op)\n        );\n      };\n      self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError, formdata);\n    },\n    _deleteFileIndex: function ($frame) {\n      var self = this,\n        ind = $frame.attr(\"data-fileindex\"),\n        rev = self.reversePreviewOrder;\n      if (ind.substring(0, 5) === $h.INIT_FLAG) {\n        ind = parseInt(ind.replace($h.INIT_FLAG, \"\"));\n        self.initialPreview = $h.spliceArray(self.initialPreview, ind, rev);\n        self.initialPreviewConfig = $h.spliceArray(\n          self.initialPreviewConfig,\n          ind,\n          rev\n        );\n        self.initialPreviewThumbTags = $h.spliceArray(\n          self.initialPreviewThumbTags,\n          ind,\n          rev\n        );\n        self.getFrames().each(function () {\n          var $nFrame = $(this),\n            nInd = $nFrame.attr(\"data-fileindex\");\n          if (nInd.substring(0, 5) === $h.INIT_FLAG) {\n            nInd = parseInt(nInd.replace($h.INIT_FLAG, \"\"));\n            if (nInd > ind) {\n              nInd--;\n              $nFrame.attr(\"data-fileindex\", $h.INIT_FLAG + nInd);\n            }\n          }\n        });\n      }\n    },\n    _resetCaption: function () {\n      var self = this;\n      setTimeout(function () {\n        var cap,\n          n,\n          chk = self.previewCache.count(true),\n          len = self.fileManager.count(),\n          file,\n          incomplete = \":not(.file-preview-success):not(.file-preview-error)\",\n          hasThumb = self.showPreview && self.getFrames(incomplete).length;\n        if (len === 0 && chk === 0 && !hasThumb) {\n          self.reset();\n        } else {\n          n = chk + len;\n          if (n > 1) {\n            cap = self._getMsgSelected(n);\n          } else {\n            file = self.fileManager.getFirstFile();\n            cap = file ? file.nameFmt : \"_\";\n          }\n          self._setCaption(cap);\n        }\n      }, self.processDelay);\n    },\n    _initFileActions: function () {\n      var self = this;\n      if (!self.showPreview) {\n        return;\n      }\n      self._initZoomButton();\n      self.getFrames(\" .kv-file-remove\").each(function () {\n        var $el = $(this),\n          $frame = $el.closest($h.FRAMES),\n          hasError,\n          id = $frame.attr(\"id\"),\n          ind = $frame.attr(\"data-fileindex\"),\n          status;\n        self._handler($el, \"click\", function () {\n          status = self._raise(\"filepreremove\", [id, ind]);\n          if (status === false || !self._validateMinCount()) {\n            return false;\n          }\n          hasError = $frame.hasClass(\"file-preview-error\");\n          $h.cleanMemory($frame);\n          $frame.fadeOut(\"slow\", function () {\n            self.fileManager.remove($frame);\n            self._clearObjects($frame);\n            $frame.remove();\n            if (id && hasError) {\n              self.$errorContainer\n                .find('li[data-thumb-id=\"' + id + '\"]')\n                .fadeOut(\"fast\", function () {\n                  $(this).remove();\n                  if (!self._errorsExist()) {\n                    self._resetErrors();\n                  }\n                });\n            }\n            self._clearFileInput();\n            self._resetCaption();\n            self._raise(\"fileremoved\", [id, ind]);\n          });\n        });\n      });\n      self.getFrames(\" .kv-file-upload\").each(function () {\n        var $el = $(this);\n        self._handler($el, \"click\", function () {\n          var $frame = $el.closest($h.FRAMES),\n            fileId = $frame.attr(\"data-fileid\");\n          self._hideProgress();\n          if (\n            $frame.hasClass(\"file-preview-error\") &&\n            !self.retryErrorUploads\n          ) {\n            return;\n          }\n          self._uploadSingle(self.fileManager.getIndex(fileId), fileId, false);\n        });\n      });\n    },\n    _initPreviewActions: function () {\n      var self = this,\n        $preview = self.$preview,\n        deleteExtraData = self.deleteExtraData || {},\n        btnRemove = $h.FRAMES + \" .kv-file-remove\",\n        settings = self.fileActionSettings,\n        origClass = settings.removeClass,\n        errClass = settings.removeErrorClass,\n        resetProgress = function () {\n          var hasFiles = self.isAjaxUpload\n            ? self.previewCache.count(true)\n            : self._inputFileCount();\n          if (!self.getFrames().length && !hasFiles) {\n            self._setCaption(\"\");\n            self.reset();\n            self.initialCaption = \"\";\n          }\n        };\n      self._initZoomButton();\n      $preview.find(btnRemove).each(function () {\n        var $el = $(this),\n          vUrl = $el.data(\"url\") || self.deleteUrl,\n          vKey = $el.data(\"key\"),\n          errMsg,\n          fnBefore,\n          fnSuccess,\n          fnError,\n          op = self.ajaxOperations.deleteThumb;\n        if ($h.isEmpty(vUrl) || vKey === undefined) {\n          return;\n        }\n        if (typeof vUrl === \"function\") {\n          vUrl = vUrl();\n        }\n        var $frame = $el.closest($h.FRAMES),\n          cache = self.previewCache.data,\n          settings,\n          params,\n          config,\n          fileName,\n          extraData,\n          index = $frame.attr(\"data-fileindex\");\n        index = parseInt(index.replace($h.INIT_FLAG, \"\"));\n        config =\n          $h.isEmpty(cache.config) && $h.isEmpty(cache.config[index])\n            ? null\n            : cache.config[index];\n        extraData =\n          $h.isEmpty(config) || $h.isEmpty(config.extra)\n            ? deleteExtraData\n            : config.extra;\n        fileName = (config && (config.filename || config.caption)) || \"\";\n        if (typeof extraData === \"function\") {\n          extraData = extraData();\n        }\n        params = { id: $el.attr(\"id\"), key: vKey, extra: extraData };\n        fnBefore = function (jqXHR) {\n          self.ajaxAborted = false;\n          self._raise(\"filepredelete\", [vKey, jqXHR, extraData]);\n          if (self._abort()) {\n            jqXHR.abort();\n          } else {\n            $el.removeClass(errClass);\n            $h.addCss($frame, \"file-uploading\");\n            $h.addCss($el, \"disabled \" + origClass);\n          }\n        };\n        fnSuccess = function (data, textStatus, jqXHR) {\n          var n, cap;\n          if (!$h.isEmpty(data) && !$h.isEmpty(data.error)) {\n            params.jqXHR = jqXHR;\n            params.response = data;\n            errMsg = self._parseError(op, jqXHR, self.msgDeleteError, fileName);\n            self._showFileError(errMsg, params, \"filedeleteerror\");\n            $frame.removeClass(\"file-uploading\");\n            $el.removeClass(\"disabled \" + origClass).addClass(errClass);\n            resetProgress();\n            return;\n          }\n          $frame.removeClass(\"file-uploading\").addClass(\"file-deleted\");\n          $frame.fadeOut(\"slow\", function () {\n            index = parseInt(\n              $frame.attr(\"data-fileindex\").replace($h.INIT_FLAG, \"\")\n            );\n            self.previewCache.unset(index);\n            self._deleteFileIndex($frame);\n            n = self.previewCache.count(true);\n            cap = n > 0 ? self._getMsgSelected(n) : \"\";\n            self._setCaption(cap);\n            self._raise(\"filedeleted\", [vKey, jqXHR, extraData]);\n            self._clearObjects($frame);\n            $frame.remove();\n            resetProgress();\n          });\n        };\n        fnError = function (jqXHR, textStatus, errorThrown) {\n          var errMsg = self._parseError(op, jqXHR, errorThrown, fileName);\n          params.jqXHR = jqXHR;\n          params.response = {};\n          self._showFileError(errMsg, params, \"filedeleteerror\");\n          $frame.removeClass(\"file-uploading\");\n          $el.removeClass(\"disabled \" + origClass).addClass(errClass);\n          resetProgress();\n        };\n        self._initAjaxSettings();\n        self._mergeAjaxCallback(\"beforeSend\", fnBefore, \"delete\");\n        self._mergeAjaxCallback(\"success\", fnSuccess, \"delete\");\n        self._mergeAjaxCallback(\"error\", fnError, \"delete\");\n        settings = $.extend(\n          true,\n          {},\n          {\n            url: self._encodeURI(vUrl),\n            type: \"POST\",\n            dataType: \"json\",\n            data: $.extend(true, {}, { key: vKey }, extraData),\n          },\n          self._ajaxDeleteSettings\n        );\n        self._handler($el, \"click\", function () {\n          if (!self._validateMinCount()) {\n            return false;\n          }\n          self.ajaxAborted = false;\n          self._raise(\"filebeforedelete\", [vKey, extraData]);\n          if (self.ajaxAborted instanceof Promise) {\n            self.ajaxAborted.then(function (result) {\n              if (!result) {\n                $.ajax(settings);\n              }\n            });\n          } else {\n            if (!self.ajaxAborted) {\n              $.ajax(settings);\n            }\n          }\n        });\n      });\n    },\n    _hideFileIcon: function () {\n      var self = this;\n      if (self.overwriteInitial) {\n        self.$captionContainer.removeClass(\"icon-visible\");\n      }\n    },\n    _showFileIcon: function () {\n      var self = this;\n      $h.addCss(self.$captionContainer, \"icon-visible\");\n    },\n    _getSize: function (bytes, sizes) {\n      var self = this,\n        size = parseFloat(bytes),\n        i,\n        func = self.fileSizeGetter,\n        out;\n      if (!$.isNumeric(bytes) || !$.isNumeric(size)) {\n        return \"\";\n      }\n      if (typeof func === \"function\") {\n        out = func(size);\n      } else {\n        if (size === 0) {\n          out = \"0.00 B\";\n        } else {\n          i = Math.floor(Math.log(size) / Math.log(1024));\n          if (!sizes) {\n            sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n          }\n          out = (size / Math.pow(1024, i)).toFixed(2) * 1 + \" \" + sizes[i];\n        }\n      }\n      return self._getLayoutTemplate(\"size\").replace(\"{sizeText}\", out);\n    },\n    _getFileType: function (ftype) {\n      var self = this;\n      return self.mimeTypeAliases[ftype] || ftype;\n    },\n    _generatePreviewTemplate: function (\n      cat,\n      data,\n      fname,\n      ftype,\n      previewId,\n      fileId,\n      isError,\n      size,\n      frameClass,\n      foot,\n      ind,\n      templ,\n      attrs,\n      zoomData\n    ) {\n      var self = this,\n        caption = self.slug(fname),\n        prevContent,\n        zoomContent = \"\",\n        styleAttribs = \"\",\n        screenW =\n          window.innerWidth ||\n          document.documentElement.clientWidth ||\n          document.body.clientWidth,\n        config,\n        title = caption,\n        alt = caption,\n        typeCss = \"type-default\",\n        getContent,\n        footer =\n          foot || self._renderFileFooter(cat, caption, size, \"auto\", isError),\n        forcePrevIcon = self.preferIconicPreview,\n        forceZoomIcon = self.preferIconicZoomPreview,\n        newCat = forcePrevIcon ? \"other\" : cat;\n      config =\n        screenW < 400\n          ? self.previewSettingsSmall[newCat] ||\n            self.defaults.previewSettingsSmall[newCat]\n          : self.previewSettings[newCat] ||\n            self.defaults.previewSettings[newCat];\n      if (config) {\n        $.each(config, function (key, val) {\n          styleAttribs += key + \":\" + val + \";\";\n        });\n      }\n      getContent = function (c, d, zoom, frameCss) {\n        var id = zoom ? \"zoom-\" + previewId : previewId,\n          tmplt = self._getPreviewTemplate(c),\n          css = (frameClass || \"\") + \" \" + frameCss;\n        if (self.frameClass) {\n          css = self.frameClass + \" \" + css;\n        }\n        if (zoom) {\n          css = css.replace(\" \" + $h.SORT_CSS, \"\");\n        }\n        tmplt = self._parseFilePreviewIcon(tmplt, fname);\n        if (cat === \"object\" && !ftype) {\n          $.each(self.defaults.fileTypeSettings, function (key, func) {\n            if (key === \"object\" || key === \"other\") {\n              return;\n            }\n            if (func(fname, ftype)) {\n              typeCss = \"type-\" + key;\n            }\n          });\n        }\n        if (!$h.isEmpty(attrs)) {\n          if (attrs.title !== undefined && attrs.title !== null) {\n            title = attrs.title;\n          }\n          if (attrs.alt !== undefined && attrs.alt !== null) {\n            title = attrs.alt;\n          }\n        }\n        return tmplt.setTokens({\n          previewId: id,\n          caption: caption,\n          title: title,\n          alt: alt,\n          frameClass: css,\n          type: self._getFileType(ftype),\n          fileindex: ind,\n          fileid: fileId || \"\",\n          typeCss: typeCss,\n          footer: footer,\n          data: d,\n          template: templ || cat,\n          style: styleAttribs ? 'style=\"' + styleAttribs + '\"' : \"\",\n        });\n      };\n      ind = ind || previewId.slice(previewId.lastIndexOf(\"-\") + 1);\n      if (self.fileActionSettings.showZoom) {\n        zoomContent = getContent(\n          forceZoomIcon ? \"other\" : cat,\n          zoomData ? zoomData : data,\n          true,\n          \"kv-zoom-thumb\"\n        );\n      }\n      zoomContent =\n        \"\\n\" +\n        self\n          ._getLayoutTemplate(\"zoomCache\")\n          .replace(\"{zoomContent}\", zoomContent);\n      if (typeof self.sanitizeZoomCache === \"function\") {\n        zoomContent = self.sanitizeZoomCache(zoomContent);\n      }\n      prevContent = getContent(\n        forcePrevIcon ? \"other\" : cat,\n        data,\n        false,\n        \"kv-preview-thumb\"\n      );\n      return prevContent.setTokens({ zoomCache: zoomContent });\n    },\n    _addToPreview: function ($preview, content) {\n      var self = this,\n        $el;\n      content = $h.cspBuffer.stash(content);\n      $el = self.reversePreviewOrder\n        ? $preview.prepend(content)\n        : $preview.append(content);\n      $h.cspBuffer.apply($preview);\n      return $el;\n    },\n    _previewDefault: function (file, isDisabled) {\n      var self = this,\n        $preview = self.$preview;\n      if (!self.showPreview) {\n        return;\n      }\n      var fname = $h.getFileName(file),\n        ftype = file ? file.type : \"\",\n        content,\n        size = file.size || 0,\n        caption = self._getFileName(file, \"\"),\n        isError = isDisabled === true && !self.isAjaxUpload,\n        data = $h.createObjectURL(file),\n        fileId = self.fileManager.getId(file),\n        previewId = self._getThumbId(fileId);\n      self._clearDefaultPreview();\n      content = self._generatePreviewTemplate(\n        \"other\",\n        data,\n        fname,\n        ftype,\n        previewId,\n        fileId,\n        isError,\n        size\n      );\n      self._addToPreview($preview, content);\n      self._setThumbAttr(previewId, caption, size);\n      if (isDisabled === true && self.isAjaxUpload) {\n        self._setThumbStatus(self._getFrame(previewId), \"Error\");\n      }\n    },\n    _previewFile: function (i, file, theFile, data, fileInfo) {\n      if (!this.showPreview) {\n        return;\n      }\n      var self = this,\n        fname = $h.getFileName(file),\n        ftype = fileInfo.type,\n        caption = fileInfo.name,\n        cat = self._parseFileType(ftype, fname),\n        content,\n        $preview = self.$preview,\n        fsize = file.size || 0,\n        iData = cat === \"image\" ? theFile.target.result : data,\n        fileId = self.fileManager.getId(file),\n        previewId = self._getThumbId(fileId);\n      /** @namespace window.DOMPurify */\n      content = self._generatePreviewTemplate(\n        cat,\n        iData,\n        fname,\n        ftype,\n        previewId,\n        fileId,\n        false,\n        fsize\n      );\n      self._clearDefaultPreview();\n      self._addToPreview($preview, content);\n      var $thumb = self._getFrame(previewId);\n      self._validateImageOrientation(\n        $thumb.find(\"img\"),\n        file,\n        previewId,\n        fileId,\n        caption,\n        ftype,\n        fsize,\n        iData\n      );\n      self._setThumbAttr(previewId, caption, fsize);\n      self._initSortable();\n    },\n    _setThumbAttr: function (id, caption, size) {\n      var self = this,\n        $frame = self._getFrame(id);\n      if ($frame.length) {\n        size = size && size > 0 ? self._getSize(size) : \"\";\n        $frame.data({ caption: caption, size: size });\n      }\n    },\n    _setInitThumbAttr: function () {\n      var self = this,\n        data = self.previewCache.data,\n        len = self.previewCache.count(true),\n        config,\n        caption,\n        size,\n        previewId;\n      if (len === 0) {\n        return;\n      }\n      for (var i = 0; i < len; i++) {\n        config = data.config[i];\n        previewId = self.previewInitId + \"-\" + $h.INIT_FLAG + i;\n        caption = $h.ifSet(\"caption\", config, $h.ifSet(\"filename\", config));\n        size = $h.ifSet(\"size\", config);\n        self._setThumbAttr(previewId, caption, size);\n      }\n    },\n    _slugDefault: function (text) {\n      // noinspection RegExpRedundantEscape\n      return $h.isEmpty(text, true)\n        ? \"\"\n        : String(text).replace(/[\\[\\]\\/\\{}:;#%=\\(\\)\\*\\+\\?\\\\\\^\\$\\|<>&\"']/g, \"_\");\n    },\n    _updateFileDetails: function (numFiles, skipRaiseEvent) {\n      var self = this,\n        $el = self.$element,\n        label,\n        n,\n        log,\n        nFiles,\n        file,\n        name =\n          ($h.isIE(9) && $h.findFileName($el.val())) ||\n          ($el[0].files[0] && $el[0].files[0].name);\n      if (!name && self.fileManager.count() > 0) {\n        file = self.fileManager.getFirstFile();\n        label = file.nameFmt;\n      } else {\n        label = name ? self.slug(name) : \"_\";\n      }\n      n = self.isAjaxUpload ? self.fileManager.count() : numFiles;\n      nFiles = self.previewCache.count(true) + n;\n      log = n === 1 ? label : self._getMsgSelected(nFiles);\n      if (self.isError) {\n        self.$previewContainer.removeClass(\"file-thumb-loading\");\n        self.$previewStatus.html(\"\");\n        self.$captionContainer.removeClass(\"icon-visible\");\n      } else {\n        self._showFileIcon();\n      }\n      self._setCaption(log, self.isError);\n      self.$container.removeClass(\"file-input-new file-input-ajax-new\");\n      if (!skipRaiseEvent) {\n        self._raise(\"fileselect\", [numFiles, label]);\n      }\n      if (self.previewCache.count(true)) {\n        self._initPreviewActions();\n      }\n    },\n    _setThumbStatus: function ($thumb, status) {\n      var self = this;\n      if (!self.showPreview) {\n        return;\n      }\n      var icon = \"indicator\" + status,\n        msg = icon + \"Title\",\n        css = \"file-preview-\" + status.toLowerCase(),\n        $indicator = $thumb.find(\".file-upload-indicator\"),\n        config = self.fileActionSettings;\n      $thumb.removeClass(\n        \"file-preview-success file-preview-error file-preview-paused file-preview-loading\"\n      );\n      if (status === \"Success\") {\n        $thumb.find(\".file-drag-handle\").remove();\n      }\n      $h.setHtml($indicator, config[icon]);\n      $indicator.attr(\"title\", config[msg]);\n      $thumb.addClass(css);\n      if (status === \"Error\" && !self.retryErrorUploads) {\n        $thumb.find(\".kv-file-upload\").attr(\"disabled\", true);\n      }\n    },\n    _setProgressCancelled: function () {\n      var self = this;\n      self._setProgress(101, self.$progress, self.msgCancelled);\n    },\n    _setProgress: function (p, $el, error, stats) {\n      var self = this;\n      $el = $el || self.$progress;\n      if (!$el.length) {\n        return;\n      }\n      var pct = Math.min(p, 100),\n        out,\n        pctLimit = self.progressUploadThreshold,\n        t = p <= 100 ? self.progressTemplate : self.progressCompleteTemplate,\n        template =\n          pct < 100\n            ? self.progressTemplate\n            : error\n            ? self.paused\n              ? self.progressPauseTemplate\n              : self.progressErrorTemplate\n            : t;\n      if (p >= 100) {\n        stats = \"\";\n      }\n      if (!$h.isEmpty(template)) {\n        if (pctLimit && pct > pctLimit && p <= 100) {\n          out = template.setTokens({\n            percent: pctLimit,\n            status: self.msgUploadThreshold,\n          });\n        } else {\n          out = template.setTokens({\n            percent: pct,\n            status: p > 100 ? self.msgUploadEnd : pct + \"%\",\n          });\n        }\n        stats = stats || \"\";\n        out = out.setTokens({ stats: stats });\n        $h.setHtml($el, out);\n        if (error) {\n          $h.setHtml($el.find('[role=\"progressbar\"]'), error);\n        }\n      }\n    },\n    _hasFiles: function () {\n      var el = this.$element[0];\n      return !!(el && el.files && el.files.length);\n    },\n    _setFileDropZoneTitle: function () {\n      var self = this,\n        $zone = self.$container.find(\".file-drop-zone\"),\n        title = self.dropZoneTitle,\n        strFiles;\n      if (self.isClickable) {\n        strFiles = $h.isEmpty(self.$element.attr(\"multiple\"))\n          ? self.fileSingle\n          : self.filePlural;\n        title += self.dropZoneClickTitle.replace(\"{files}\", strFiles);\n      }\n      $zone.find(\".\" + self.dropZoneTitleClass).remove();\n      if (\n        !self.showPreview ||\n        $zone.length === 0 ||\n        self.fileManager.count() > 0 ||\n        !self.dropZoneEnabled ||\n        self.previewCache.count() > 0 ||\n        (!self.isAjaxUpload && self._hasFiles())\n      ) {\n        return;\n      }\n      if (\n        $zone.find($h.FRAMES).length === 0 &&\n        $h.isEmpty(self.defaultPreviewContent)\n      ) {\n        $zone.prepend(\n          '<div class=\"' +\n            self.dropZoneTitleClass +\n            ' text-body-secondary\">' +\n            title +\n            \"</div>\"\n        );\n      }\n      self.$container.removeClass(\"file-input-new\");\n      $h.addCss(self.$container, \"file-input-ajax-new\");\n    },\n    _getStats: function (stats) {\n      var self = this,\n        pendingTime,\n        t;\n      if (!self.showUploadStats || !stats || !stats.bitrate) {\n        return \"\";\n      }\n      t = self._getLayoutTemplate(\"stats\");\n      pendingTime =\n        !stats.elapsed || !stats.bps\n          ? self.msgCalculatingTime\n          : self.msgPendingTime.setTokens({\n              time: $h.getElapsed(Math.ceil(stats.pendingBytes / stats.bps)),\n            });\n\n      return t.setTokens({\n        uploadSpeed: stats.bitrate,\n        pendingTime: pendingTime,\n      });\n    },\n    _setResumableProgress: function (pct, stats, $thumb) {\n      var self = this,\n        rm = self.resumableManager,\n        obj = $thumb ? rm : self,\n        $prog = $thumb ? $thumb.find(\".file-thumb-progress\") : null;\n      if (obj.lastProgress === 0) {\n        obj.lastProgress = pct;\n      }\n      if (pct < obj.lastProgress) {\n        pct = obj.lastProgress;\n      }\n      self._setProgress(pct, $prog, null, self._getStats(stats));\n      obj.lastProgress = pct;\n    },\n    _toggleResumableProgress: function (template, message) {\n      var self = this,\n        $progress = self.$progress;\n      if ($progress && $progress.length) {\n        $h.setHtml(\n          $progress,\n          template.setTokens({\n            percent: 101,\n            status: message,\n            stats: \"\",\n          })\n        );\n      }\n    },\n    _setFileUploadStats: function (id, pct, stats) {\n      var self = this,\n        $prog = self.$progress;\n      if (!self.showPreview && (!$prog || !$prog.length)) {\n        return;\n      }\n      var fm = self.fileManager,\n        rm = self.resumableManager,\n        $thumb = fm.getThumb(id),\n        pctTot,\n        totUpSize = 0,\n        totSize = fm.getTotalSize(),\n        totStats = $.extend(true, {}, stats);\n      if (self.enableResumableUpload) {\n        var loaded = stats.loaded,\n          currUplSize = rm.getUploadedSize(),\n          currTotSize = rm.file.size,\n          totLoaded;\n        loaded += currUplSize;\n        totLoaded = fm.uploadedSize + loaded;\n        pct = $h.round((100 * loaded) / currTotSize);\n        stats.pendingBytes = currTotSize - currUplSize;\n        self._setResumableProgress(pct, stats, $thumb);\n        pctTot = Math.floor((100 * totLoaded) / totSize);\n        totStats.pendingBytes = totSize - totLoaded;\n        self._setResumableProgress(pctTot, totStats);\n      } else {\n        fm.setProgress(id, pct);\n        $prog =\n          $thumb && $thumb.length ? $thumb.find(\".file-thumb-progress\") : null;\n        self._setProgress(pct, $prog, null, self._getStats(stats));\n        $.each(fm.stats, function (id, cfg) {\n          totUpSize += cfg.loaded;\n        });\n        totStats.pendingBytes = totSize - totUpSize;\n        pctTot = $h.round((totUpSize / totSize) * 100);\n        self._setProgress(pctTot, null, null, self._getStats(totStats));\n      }\n    },\n    _validateMinCount: function () {\n      var self = this,\n        len = self.isAjaxUpload\n          ? self.fileManager.count()\n          : self._inputFileCount();\n      if (\n        self.validateInitialCount &&\n        self.minFileCount > 0 &&\n        self._getFileCount(len - 1) < self.minFileCount\n      ) {\n        self._noFilesError({});\n        return false;\n      }\n      return true;\n    },\n    _getFileCount: function (fileCount, includeInitial) {\n      var self = this,\n        addCount = 0;\n      if (includeInitial === undefined) {\n        includeInitial = self.validateInitialCount && !self.overwriteInitial;\n      }\n      if (includeInitial) {\n        addCount = self.previewCache.count(true);\n        fileCount += addCount;\n      }\n      return fileCount;\n    },\n    _getFileId: function (file) {\n      return $h.getFileId(file, this.generateFileId);\n    },\n    _getFileName: function (file, defaultValue) {\n      var self = this,\n        fileName = $h.getFileName(file);\n      return fileName ? self.slug(fileName) : defaultValue;\n    },\n    _getFileNames: function (skipNull) {\n      var self = this;\n      return self.filenames.filter(function (n) {\n        return skipNull ? n !== undefined : n !== undefined && n !== null;\n      });\n    },\n    _setPreviewError: function ($thumb, keepFile) {\n      var self = this,\n        removeFrame = self.removeFromPreviewOnError && !self.retryErrorUploads;\n      if (!keepFile || removeFrame) {\n        self.fileManager.remove($thumb);\n      }\n      if (!self.showPreview) {\n        return;\n      }\n      if (removeFrame) {\n        $thumb.remove();\n        return;\n      } else {\n        self._setThumbStatus($thumb, \"Error\");\n      }\n      self._refreshUploadButton($thumb);\n    },\n    _refreshUploadButton: function ($thumb) {\n      var self = this,\n        $btn = $thumb.find(\".kv-file-upload\"),\n        cfg = self.fileActionSettings,\n        icon = cfg.uploadIcon,\n        title = cfg.uploadTitle;\n      if (!$btn.length) {\n        return;\n      }\n      if (self.retryErrorUploads) {\n        icon = cfg.uploadRetryIcon;\n        title = cfg.uploadRetryTitle;\n      }\n      $btn.attr(\"title\", title);\n      $h.setHtml($btn, icon);\n    },\n    _checkDimensions: function (i, chk, $img, $thumb, fname, type, params) {\n      var self = this,\n        msg,\n        dim,\n        tag = chk === \"Small\" ? \"min\" : \"max\",\n        limit = self[tag + \"Image\" + type],\n        $imgEl,\n        isValid;\n      if ($h.isEmpty(limit) || !$img.length) {\n        return;\n      }\n      $imgEl = $img[0];\n      dim =\n        type === \"Width\"\n          ? $imgEl.naturalWidth || $imgEl.width\n          : $imgEl.naturalHeight || $imgEl.height;\n      isValid = chk === \"Small\" ? dim >= limit : dim <= limit;\n      if (isValid) {\n        return;\n      }\n      msg = self[\"msgImage\" + type + chk].setTokens({\n        name: fname,\n        size: limit,\n      });\n      self._showFileError(msg, params);\n      self._setPreviewError($thumb);\n    },\n    _getExifObj: function (data) {\n      var self = this,\n        exifObj,\n        error = $h.logMessages.exifWarning;\n      if (\n        data.slice(0, 23) !== \"data:image/jpeg;base64,\" &&\n        data.slice(0, 22) !== \"data:image/jpg;base64,\"\n      ) {\n        exifObj = null;\n        return;\n      }\n      try {\n        exifObj = window.piexif ? window.piexif.load(data) : null;\n      } catch (err) {\n        exifObj = null;\n        error = (err && err.message) || \"\";\n      }\n      if (!exifObj) {\n        self._log($h.logMessages.badExifParser, { details: error });\n      }\n      return exifObj;\n    },\n    setImageOrientation: function ($img, $zoomImg, value, $thumb) {\n      var self = this,\n        invalidImg = !$img || !$img.length,\n        invalidZoomImg = !$zoomImg || !$zoomImg.length,\n        $mark,\n        isHidden = false,\n        $div,\n        zoomOnly =\n          invalidImg && $thumb && $thumb.attr(\"data-template\") === \"image\",\n        ev;\n      if (invalidImg && invalidZoomImg) {\n        return;\n      }\n      ev = \"load.fileinputimageorient\";\n      if (zoomOnly) {\n        $img = $zoomImg;\n        $zoomImg = null;\n        $img.css(self.previewSettings.image);\n        $div = $(document.createElement(\"div\")).appendTo(\n          $thumb.find(\".kv-file-content\")\n        );\n        $mark = $(document.createElement(\"span\")).insertBefore($img);\n        $img\n          .css(\"visibility\", \"hidden\")\n          .removeClass(\"file-zoom-detail\")\n          .appendTo($div);\n      } else {\n        isHidden = !$img.is(\":visible\");\n      }\n      $img.off(ev).on(ev, function () {\n        if (isHidden) {\n          self.$preview.removeClass(\"hide-content\");\n          $thumb.find(\".kv-file-content\").css(\"visibility\", \"hidden\");\n        }\n        var img = $img[0],\n          zoomImg = $zoomImg && $zoomImg.length ? $zoomImg[0] : null,\n          h = img.offsetHeight,\n          w = img.offsetWidth,\n          r = $h.getRotation(value);\n        if (isHidden) {\n          $thumb.find(\".kv-file-content\").css(\"visibility\", \"visible\");\n          self.$preview.addClass(\"hide-content\");\n        }\n        $img.data(\"orientation\", value);\n        if (zoomImg) {\n          $zoomImg.data(\"orientation\", value);\n        }\n        if (value < 5) {\n          $h.setTransform(img, r);\n          $h.setTransform(zoomImg, r);\n          return;\n        }\n        var offsetAngle = Math.atan(w / h),\n          origFactor = Math.sqrt(Math.pow(h, 2) + Math.pow(w, 2)),\n          scale = !origFactor\n            ? 1\n            : h / Math.cos(Math.PI / 2 + offsetAngle) / origFactor,\n          s = \" scale(\" + Math.abs(scale) + \")\";\n        $h.setTransform(img, r + s);\n        $h.setTransform(zoomImg, r + s);\n        if (zoomOnly) {\n          $img\n            .css(\"visibility\", \"visible\")\n            .insertAfter($mark)\n            .addClass(\"file-zoom-detail\");\n          $mark.remove();\n          $div.remove();\n        }\n      });\n    },\n    _validateImageOrientation: function (\n      $img,\n      file,\n      previewId,\n      fileId,\n      caption,\n      ftype,\n      fsize,\n      iData\n    ) {\n      var self = this,\n        exifObj,\n        value,\n        autoOrientImage = self.autoOrientImage,\n        selector;\n      if (self.canOrientImage) {\n        $img.css(\"image-orientation\", autoOrientImage ? \"from-image\" : \"none\");\n        return;\n      }\n      selector = $h.getZoomSelector(previewId, \" img\");\n      exifObj = autoOrientImage ? self._getExifObj(iData) : null;\n      value = exifObj ? exifObj[\"0th\"][piexif.ImageIFD.Orientation] : null; // jshint ignore:line\n      if (!value) {\n        self._validateImage(\n          previewId,\n          fileId,\n          caption,\n          ftype,\n          fsize,\n          iData,\n          exifObj\n        );\n        return;\n      }\n      self.setImageOrientation(\n        $img,\n        $(selector),\n        value,\n        self._getFrame(previewId)\n      );\n      self._raise(\"fileimageoriented\", { $img: $img, file: file });\n      self._validateImage(\n        previewId,\n        fileId,\n        caption,\n        ftype,\n        fsize,\n        iData,\n        exifObj\n      );\n    },\n    _validateImage: function (\n      previewId,\n      fileId,\n      fname,\n      ftype,\n      fsize,\n      iData,\n      exifObj\n    ) {\n      var self = this,\n        $preview = self.$preview,\n        params,\n        w1,\n        w2,\n        $thumb = self._getFrame(previewId),\n        i = $thumb.attr(\"data-fileindex\"),\n        $img = $thumb.find(\"img\");\n      fname = fname || \"Untitled\";\n      $img\n        .one(\"load\", function () {\n          w1 = $thumb.width();\n          w2 = $preview.width();\n          if (w1 > w2) {\n            $img.css(\"width\", \"100%\");\n          }\n          params = { ind: i, id: previewId, fileId: fileId };\n          self._checkDimensions(\n            i,\n            \"Small\",\n            $img,\n            $thumb,\n            fname,\n            \"Width\",\n            params\n          );\n          self._checkDimensions(\n            i,\n            \"Small\",\n            $img,\n            $thumb,\n            fname,\n            \"Height\",\n            params\n          );\n          if (!self.resizeImage) {\n            self._checkDimensions(\n              i,\n              \"Large\",\n              $img,\n              $thumb,\n              fname,\n              \"Width\",\n              params\n            );\n            self._checkDimensions(\n              i,\n              \"Large\",\n              $img,\n              $thumb,\n              fname,\n              \"Height\",\n              params\n            );\n          }\n          self._raise(\"fileimageloaded\", [previewId]);\n          self.fileManager.addImage(fileId, {\n            ind: i,\n            img: $img,\n            thumb: $thumb,\n            pid: previewId,\n            typ: ftype,\n            siz: fsize,\n            validated: false,\n            imgData: iData,\n            exifObj: exifObj,\n          });\n          $thumb.data(\"exif\", exifObj);\n          self._validateAllImages();\n        })\n        .one(\"error\", function () {\n          self._raise(\"fileimageloaderror\", [previewId]);\n        })\n        .each(function () {\n          if (this.complete) {\n            $(this).trigger(\"load\");\n          } else {\n            if (this.error) {\n              $(this).trigger(\"error\");\n            }\n          }\n        });\n    },\n    _validateAllImages: function () {\n      var self = this,\n        counter = { val: 0 },\n        numImgs = self.fileManager.getImageCount(),\n        fsize,\n        minSize = self.resizeIfSizeMoreThan;\n      if (numImgs !== self.fileManager.totalImages) {\n        return;\n      }\n      self._raise(\"fileimagesloaded\");\n      if (!self.resizeImage) {\n        return;\n      }\n      $.each(self.fileManager.loadedImages, function (id, config) {\n        if (!config.validated) {\n          fsize = config.siz;\n          if (fsize && fsize > minSize * 1000) {\n            self._getResizedImage(id, config, counter, numImgs);\n          }\n          config.validated = true;\n        }\n      });\n    },\n    _getResizedImage: function (id, config, counter, numImgs) {\n      var self = this,\n        img = $(config.img)[0],\n        width = img.naturalWidth,\n        height = img.naturalHeight,\n        blob,\n        ratio = 1,\n        maxWidth = self.maxImageWidth || width,\n        maxHeight = self.maxImageHeight || height,\n        isValidImage = !!(width && height),\n        chkWidth,\n        chkHeight,\n        canvas = self.imageCanvas,\n        dataURI,\n        context = self.imageCanvasContext,\n        type = config.typ,\n        pid = config.pid,\n        ind = config.ind,\n        $thumb = config.thumb,\n        throwError,\n        msg,\n        exifObj = config.exifObj,\n        exifStr,\n        file,\n        params,\n        evParams;\n      throwError = function (msg, params, ev) {\n        if (self.isAjaxUpload) {\n          self._showFileError(msg, params, ev);\n        } else {\n          self._showError(msg, params, ev);\n        }\n        self._setPreviewError($thumb);\n      };\n      file = self.fileManager.getFile(id);\n      params = { id: pid, index: ind, fileId: id };\n      evParams = [id, pid, ind];\n      if (\n        !file ||\n        !isValidImage ||\n        (width <= maxWidth && height <= maxHeight)\n      ) {\n        if (isValidImage && file) {\n          self._raise(\"fileimageresized\", evParams);\n        }\n        counter.val++;\n        if (counter.val === numImgs) {\n          self._raise(\"fileimagesresized\");\n        }\n        if (!isValidImage) {\n          throwError(self.msgImageResizeError, params, \"fileimageresizeerror\");\n          return;\n        }\n      }\n      type = type || self.resizeDefaultImageType;\n      chkWidth = width > maxWidth;\n      chkHeight = height > maxHeight;\n      if (self.resizePreference === \"width\") {\n        ratio = chkWidth\n          ? maxWidth / width\n          : chkHeight\n          ? maxHeight / height\n          : 1;\n      } else {\n        ratio = chkHeight\n          ? maxHeight / height\n          : chkWidth\n          ? maxWidth / width\n          : 1;\n      }\n      self._resetCanvas();\n      width *= ratio;\n      height *= ratio;\n      canvas.width = width;\n      canvas.height = height;\n      try {\n        context.drawImage(img, 0, 0, width, height);\n        dataURI = canvas.toDataURL(type, self.resizeQuality);\n        if (exifObj) {\n          exifStr = window.piexif.dump(exifObj);\n          dataURI = window.piexif.insert(exifStr, dataURI);\n        }\n        blob = $h.dataURI2Blob(dataURI);\n        self.fileManager.setFile(id, blob);\n        self._raise(\"fileimageresized\", evParams);\n        counter.val++;\n        if (counter.val === numImgs) {\n          self._raise(\"fileimagesresized\", [undefined, undefined]);\n        }\n        if (!(blob instanceof Blob)) {\n          throwError(self.msgImageResizeError, params, \"fileimageresizeerror\");\n        }\n      } catch (err) {\n        counter.val++;\n        if (counter.val === numImgs) {\n          self._raise(\"fileimagesresized\", [undefined, undefined]);\n        }\n        msg = self.msgImageResizeException.replace(\"{errors}\", err.message);\n        throwError(msg, params, \"fileimageresizeexception\");\n      }\n    },\n    _showProgress: function () {\n      var self = this;\n      if (self.$progress && self.$progress.length) {\n        self.$progress.show();\n      }\n    },\n    _hideProgress: function () {\n      var self = this;\n      if (self.$progress && self.$progress.length) {\n        self.$progress.hide();\n      }\n    },\n    _initBrowse: function ($container) {\n      var self = this,\n        $el = self.$element;\n      if (self.showBrowse) {\n        self.$btnFile = $container.find(\".btn-file\").append($el);\n      } else {\n        $el.appendTo($container).attr(\"tabindex\", -1);\n        $h.addCss($el, \"file-no-browse\");\n      }\n    },\n    _initClickable: function () {\n      var self = this,\n        $zone,\n        $tmpZone;\n      if (!self.isClickable) {\n        return;\n      }\n      $zone = self.$dropZone;\n      if (!self.isAjaxUpload) {\n        $tmpZone = self.$preview.find(\".file-default-preview\");\n        if ($tmpZone.length) {\n          $zone = $tmpZone;\n        }\n      }\n\n      $h.addCss($zone, \"clickable\");\n      $zone.attr(\"tabindex\", -1);\n      self._handler($zone, \"click\", function (e) {\n        var $tar = $(e.target);\n        if (\n          !$(self.elErrorContainer + \":visible\").length &&\n          (!$tar.parents(\".file-preview-thumbnails\").length ||\n            $tar.parents(\".file-default-preview\").length)\n        ) {\n          self.$element.data(\"zoneClicked\", true).trigger(\"click\");\n          $zone.blur();\n        }\n      });\n    },\n    _initCaption: function () {\n      var self = this,\n        cap = self.initialCaption || \"\";\n      if (self.overwriteInitial || $h.isEmpty(cap)) {\n        self.$caption.val(\"\");\n        return false;\n      }\n      self._setCaption(cap);\n      return true;\n    },\n    _setCaption: function (content, isError) {\n      var self = this,\n        title,\n        out,\n        icon,\n        n,\n        cap,\n        file;\n      if (!self.$caption.length) {\n        return;\n      }\n      self.$captionContainer.removeClass(\"icon-visible\");\n      if (isError) {\n        title = $(\"<div>\" + self.msgValidationError + \"</div>\").text();\n        n = self.fileManager.count();\n        if (n) {\n          file = self.fileManager.getFirstFile();\n          cap = n === 1 && file ? file.nameFmt : self._getMsgSelected(n);\n        } else {\n          cap = self._getMsgSelected(self.msgNo);\n        }\n        out = $h.isEmpty(content) ? cap : content;\n        icon =\n          '<span class=\"' +\n          self.msgValidationErrorClass +\n          '\">' +\n          self.msgValidationErrorIcon +\n          \"</span>\";\n      } else {\n        if ($h.isEmpty(content)) {\n          return;\n        }\n        title = $(\"<div>\" + content + \"</div>\").text();\n        out = title;\n        icon = self._getLayoutTemplate(\"fileIcon\");\n      }\n      self.$captionContainer.addClass(\"icon-visible\");\n      self.$caption.attr(\"title\", title).val(out);\n      $h.setHtml(self.$captionIcon, icon);\n    },\n    _createContainer: function () {\n      var self = this,\n        attribs = {\n          class: \"file-input file-input-new\" + (self.rtl ? \" kv-rtl\" : \"\"),\n        },\n        $container = $h.createElement($h.cspBuffer.stash(self._renderMain()));\n      $h.cspBuffer.apply($container);\n      $container.insertBefore(self.$element).attr(attribs);\n      self._initBrowse($container);\n      if (self.theme) {\n        $container.addClass(\"theme-\" + self.theme);\n      }\n      return $container;\n    },\n    _refreshContainer: function () {\n      var self = this,\n        $container = self.$container,\n        $el = self.$element;\n      $el.insertAfter($container);\n      $h.setHtml($container, self._renderMain());\n      self._initBrowse($container);\n      self._validateDisabled();\n    },\n    _validateDisabled: function () {\n      var self = this;\n      self.$caption.attr({ readonly: self.isDisabled });\n    },\n    _renderMain: function () {\n      var self = this,\n        dropCss = self.dropZoneEnabled\n          ? \" file-drop-zone\"\n          : \"file-drop-disabled\",\n        close = !self.showClose ? \"\" : self._getLayoutTemplate(\"close\"),\n        preview = !self.showPreview\n          ? \"\"\n          : self\n              ._getLayoutTemplate(\"preview\")\n              .setTokens({ class: self.previewClass, dropClass: dropCss }),\n        css = self.isDisabled\n          ? self.captionClass + \" file-caption-disabled\"\n          : self.captionClass,\n        caption = self.captionTemplate.setTokens({\n          class: css + \" kv-fileinput-caption\",\n        });\n      return self.mainTemplate.setTokens({\n        class:\n          self.mainClass +\n          (!self.showBrowse && self.showCaption ? \" no-browse\" : \"\"),\n        preview: preview,\n        close: close,\n        caption: caption,\n        upload: self._renderButton(\"upload\"),\n        remove: self._renderButton(\"remove\"),\n        cancel: self._renderButton(\"cancel\"),\n        pause: self._renderButton(\"pause\"),\n        browse: self._renderButton(\"browse\"),\n      });\n    },\n    _renderButton: function (type) {\n      var self = this,\n        tmplt = self._getLayoutTemplate(\"btnDefault\"),\n        css = self[type + \"Class\"],\n        title = self[type + \"Title\"],\n        icon = self[type + \"Icon\"],\n        label = self[type + \"Label\"],\n        status = self.isDisabled ? \" disabled\" : \"\",\n        btnType = \"button\";\n      switch (type) {\n        case \"remove\":\n          if (!self.showRemove) {\n            return \"\";\n          }\n          break;\n        case \"cancel\":\n          if (!self.showCancel) {\n            return \"\";\n          }\n          css += \" kv-hidden\";\n          break;\n        case \"pause\":\n          if (!self.showPause) {\n            return \"\";\n          }\n          css += \" kv-hidden\";\n          break;\n        case \"upload\":\n          if (!self.showUpload) {\n            return \"\";\n          }\n          if (self.isAjaxUpload && !self.isDisabled) {\n            tmplt = self\n              ._getLayoutTemplate(\"btnLink\")\n              .replace(\"{href}\", self.uploadUrl);\n          } else {\n            btnType = \"submit\";\n          }\n          break;\n        case \"browse\":\n          if (!self.showBrowse) {\n            return \"\";\n          }\n          tmplt = self._getLayoutTemplate(\"btnBrowse\");\n          break;\n        default:\n          return \"\";\n      }\n\n      css +=\n        type === \"browse\"\n          ? \" btn-file\"\n          : \" fileinput-\" + type + \" fileinput-\" + type + \"-button\";\n      if (!$h.isEmpty(label)) {\n        label =\n          ' <span class=\"' + self.buttonLabelClass + '\">' + label + \"</span>\";\n      }\n      return tmplt.setTokens({\n        type: btnType,\n        css: css,\n        title: title,\n        status: status,\n        icon: icon,\n        label: label,\n      });\n    },\n    _renderThumbProgress: function () {\n      var self = this;\n      return (\n        '<div class=\"file-thumb-progress kv-hidden\">' +\n        self.progressInfoTemplate.setTokens({\n          percent: 101,\n          status: self.msgUploadBegin,\n          stats: \"\",\n        }) +\n        \"</div>\"\n      );\n    },\n    _renderFileFooter: function (cat, caption, size, width, isError) {\n      var self = this,\n        config = self.fileActionSettings,\n        rem = config.showRemove,\n        drg = config.showDrag,\n        upl = config.showUpload,\n        zoom = config.showZoom,\n        out,\n        params,\n        template = self._getLayoutTemplate(\"footer\"),\n        tInd = self._getLayoutTemplate(\"indicator\"),\n        ind = isError ? config.indicatorError : config.indicatorNew,\n        title = isError ? config.indicatorErrorTitle : config.indicatorNewTitle,\n        indicator = tInd.setTokens({ indicator: ind, indicatorTitle: title });\n      size = self._getSize(size);\n      params = {\n        type: cat,\n        caption: caption,\n        size: size,\n        width: width,\n        progress: \"\",\n        indicator: indicator,\n      };\n      if (self.isAjaxUpload) {\n        params.progress = self._renderThumbProgress();\n        params.actions = self._renderFileActions(\n          params,\n          upl,\n          false,\n          rem,\n          zoom,\n          drg,\n          false,\n          false,\n          false\n        );\n      } else {\n        params.actions = self._renderFileActions(\n          params,\n          false,\n          false,\n          false,\n          zoom,\n          drg,\n          false,\n          false,\n          false\n        );\n      }\n      out = template.setTokens(params);\n      out = $h.replaceTags(out, self.previewThumbTags);\n      return out;\n    },\n    _renderFileActions: function (\n      cfg,\n      showUpl,\n      showDwn,\n      showDel,\n      showZoom,\n      showDrag,\n      disabled,\n      url,\n      key,\n      isInit,\n      dUrl,\n      dFile\n    ) {\n      var self = this;\n      if (!cfg.type && isInit) {\n        cfg.type = \"image\";\n      }\n      if (self.enableResumableUpload) {\n        showUpl = false;\n      } else {\n        if (typeof showUpl === \"function\") {\n          showUpl = showUpl(cfg);\n        }\n      }\n      if (typeof showDwn === \"function\") {\n        showDwn = showDwn(cfg);\n      }\n      if (typeof showDel === \"function\") {\n        showDel = showDel(cfg);\n      }\n      if (typeof showZoom === \"function\") {\n        showZoom = showZoom(cfg);\n      }\n      if (typeof showDrag === \"function\") {\n        showDrag = showDrag(cfg);\n      }\n      if (!showUpl && !showDwn && !showDel && !showZoom && !showDrag) {\n        return \"\";\n      }\n      var vUrl = url === false ? \"\" : ' data-url=\"' + url + '\"',\n        btnZoom = \"\",\n        btnDrag = \"\",\n        css,\n        vKey = key === false ? \"\" : ' data-key=\"' + key + '\"',\n        btnDelete = \"\",\n        btnUpload = \"\",\n        btnDownload = \"\",\n        template = self._getLayoutTemplate(\"actions\"),\n        config = self.fileActionSettings,\n        otherButtons = self.otherActionButtons.setTokens({\n          dataKey: vKey,\n          key: key,\n        }),\n        removeClass = disabled\n          ? config.removeClass + \" disabled\"\n          : config.removeClass;\n      if (showDel) {\n        btnDelete = self._getLayoutTemplate(\"actionDelete\").setTokens({\n          removeClass: removeClass,\n          removeIcon: config.removeIcon,\n          removeTitle: config.removeTitle,\n          dataUrl: vUrl,\n          dataKey: vKey,\n          key: key,\n        });\n      }\n      if (showUpl) {\n        btnUpload = self._getLayoutTemplate(\"actionUpload\").setTokens({\n          uploadClass: config.uploadClass,\n          uploadIcon: config.uploadIcon,\n          uploadTitle: config.uploadTitle,\n        });\n      }\n      if (showDwn) {\n        btnDownload = self._getLayoutTemplate(\"actionDownload\").setTokens({\n          downloadClass: config.downloadClass,\n          downloadIcon: config.downloadIcon,\n          downloadTitle: config.downloadTitle,\n          downloadUrl: dUrl || self.initialPreviewDownloadUrl,\n        });\n        btnDownload = btnDownload.setTokens({ filename: dFile, key: key });\n      }\n      if (showZoom) {\n        btnZoom = self._getLayoutTemplate(\"actionZoom\").setTokens({\n          zoomClass: config.zoomClass,\n          zoomIcon: config.zoomIcon,\n          zoomTitle: config.zoomTitle,\n        });\n      }\n      if (showDrag && isInit) {\n        css = \"drag-handle-init \" + config.dragClass;\n        btnDrag = self._getLayoutTemplate(\"actionDrag\").setTokens({\n          dragClass: css,\n          dragTitle: config.dragTitle,\n          dragIcon: config.dragIcon,\n        });\n      }\n      return template.setTokens({\n        delete: btnDelete,\n        upload: btnUpload,\n        download: btnDownload,\n        zoom: btnZoom,\n        drag: btnDrag,\n        other: otherButtons,\n      });\n    },\n    _browse: function (e) {\n      var self = this;\n      if ((e && e.isDefaultPrevented()) || !self._raise(\"filebrowse\")) {\n        return;\n      }\n      if (self.isError && !self.isAjaxUpload) {\n        self.clear();\n      }\n      if (self.focusCaptionOnBrowse) {\n        self.$captionContainer.focus();\n      }\n    },\n    _change: function (e) {\n      var self = this;\n      if (self.changeTriggered) {\n        return;\n      }\n      var $el = self.$element,\n        isDragDrop = arguments.length > 1,\n        isAjaxUpload = self.isAjaxUpload,\n        tfiles,\n        files = isDragDrop ? arguments[1] : $el[0].files,\n        ctr = self.fileManager.count(),\n        total,\n        initCount,\n        len,\n        isSingleUpl = $h.isEmpty($el.attr(\"multiple\")),\n        maxCount = !isAjaxUpload && isSingleUpl ? 1 : self.maxFileCount,\n        maxTotCount = self.maxTotalFileCount,\n        inclAll = maxTotCount > 0 && maxTotCount > maxCount,\n        flagSingle = isSingleUpl && ctr > 0,\n        throwError = function (mesg, file, previewId, index) {\n          var p1 = $.extend(true, {}, self._getOutData(null, {}, {}, files), {\n              id: previewId,\n              index: index,\n            }),\n            p2 = { id: previewId, index: index, file: file, files: files };\n          self.isPersistentError = true;\n          return isAjaxUpload\n            ? self._showFileError(mesg, p1)\n            : self._showError(mesg, p2);\n        },\n        maxCountCheck = function (n, m, all) {\n          var msg = all ? self.msgTotalFilesTooMany : self.msgFilesTooMany;\n          msg = msg.replace(\"{m}\", m).replace(\"{n}\", n);\n          self.isError = throwError(msg, null, null, null);\n          self.$captionContainer.removeClass(\"icon-visible\");\n          self._setCaption(\"\", true);\n          self.$container.removeClass(\"file-input-new file-input-ajax-new\");\n        };\n      self.reader = null;\n      self._resetUpload();\n      self._hideFileIcon();\n      if (self.dropZoneEnabled) {\n        self.$container\n          .find(\".file-drop-zone .\" + self.dropZoneTitleClass)\n          .remove();\n      }\n      if (!isAjaxUpload) {\n        if (e.target && e.target.files === undefined) {\n          files = e.target.value\n            ? [{ name: e.target.value.replace(/^.+\\\\/, \"\") }]\n            : [];\n        } else {\n          files = e.target.files || {};\n        }\n      }\n      tfiles = files;\n      if ($h.isEmpty(tfiles) || tfiles.length === 0) {\n        if (!isAjaxUpload) {\n          self.clear();\n        }\n        self._raise(\"fileselectnone\");\n        return;\n      }\n      self._resetErrors();\n      len = tfiles.length;\n      initCount = isAjaxUpload ? self.fileManager.count() + len : len;\n      total = self._getFileCount(initCount, inclAll ? false : undefined);\n      if (maxCount > 0 && total > maxCount) {\n        if (!self.autoReplace || len > maxCount) {\n          maxCountCheck(\n            self.autoReplace && len > maxCount ? len : total,\n            maxCount\n          );\n          return;\n        }\n        if (total > maxCount) {\n          self._resetPreviewThumbs(isAjaxUpload);\n        }\n      } else {\n        if (inclAll) {\n          total = self._getFileCount(initCount, true);\n          if (maxTotCount > 0 && total > maxTotCount) {\n            if (!self.autoReplace || len > maxCount) {\n              maxCountCheck(\n                self.autoReplace && len > maxTotCount ? len : total,\n                maxTotCount,\n                true\n              );\n              return;\n            }\n            if (total > maxCount) {\n              self._resetPreviewThumbs(isAjaxUpload);\n            }\n          }\n        }\n        if (!isAjaxUpload || flagSingle) {\n          self._resetPreviewThumbs(false);\n          if (flagSingle) {\n            self.clearFileStack();\n          }\n        } else {\n          if (\n            isAjaxUpload &&\n            ctr === 0 &&\n            (!self.previewCache.count(true) || self.overwriteInitial)\n          ) {\n            self._resetPreviewThumbs(true);\n          }\n        }\n      }\n      self.readFiles(tfiles);\n    },\n    _abort: function (params) {\n      var self = this,\n        data;\n      if (\n        self.ajaxAborted &&\n        typeof self.ajaxAborted === \"object\" &&\n        self.ajaxAborted.message !== undefined\n      ) {\n        data = $.extend(true, {}, self._getOutData(null), params);\n        data.abortData = self.ajaxAborted.data || {};\n        data.abortMessage = self.ajaxAborted.message;\n        self._setProgress(101, self.$progress, self.msgCancelled);\n        self._showFileError(self.ajaxAborted.message, data, \"filecustomerror\");\n        self.cancel();\n        return true;\n      }\n      return !!self.ajaxAborted;\n    },\n    _resetFileStack: function () {\n      var self = this,\n        i = 0;\n      self._getThumbs().each(function () {\n        var $thumb = $(this),\n          ind = $thumb.attr(\"data-fileindex\"),\n          pid = $thumb.attr(\"id\");\n        if (ind === \"-1\" || ind === -1) {\n          return;\n        }\n        if (!self.fileManager.getFile($thumb.attr(\"data-fileid\"))) {\n          $thumb.attr({ \"data-fileindex\": i });\n          i++;\n        } else {\n          $thumb.attr({ \"data-fileindex\": \"-1\" });\n        }\n        self._getZoom(pid).attr({\n          \"data-fileindex\": $thumb.attr(\"data-fileindex\"),\n        });\n      });\n    },\n    _isFileSelectionValid: function (cnt) {\n      var self = this;\n      cnt = cnt || 0;\n      if (self.required && !self.getFilesCount()) {\n        self.$errorContainer.html(\"\");\n        self._showFileError(self.msgFileRequired);\n        return false;\n      }\n      if (\n        self.minFileCount > 0 &&\n        self._getFileCount(cnt) < self.minFileCount\n      ) {\n        self._noFilesError({});\n        return false;\n      }\n      return true;\n    },\n    _canPreview: function (file) {\n      var self = this;\n      if (\n        !file ||\n        !self.showPreview ||\n        !self.$preview ||\n        !self.$preview.length\n      ) {\n        return false;\n      }\n      var name = file.name || \"\",\n        type = file.type || \"\",\n        size = (file.size || 0) / 1000,\n        cat = self._parseFileType(type, name),\n        allowedTypes,\n        allowedMimes,\n        allowedExts,\n        skipPreview,\n        types = self.allowedPreviewTypes,\n        mimes = self.allowedPreviewMimeTypes,\n        exts = self.allowedPreviewExtensions || [],\n        dTypes = self.disabledPreviewTypes,\n        dMimes = self.disabledPreviewMimeTypes,\n        dExts = self.disabledPreviewExtensions || [],\n        maxSize =\n          (self.maxFilePreviewSize && parseFloat(self.maxFilePreviewSize)) || 0,\n        expAllExt = new RegExp(\"\\\\.(\" + exts.join(\"|\") + \")$\", \"i\"),\n        expDisExt = new RegExp(\"\\\\.(\" + dExts.join(\"|\") + \")$\", \"i\");\n      allowedTypes = !types || types.indexOf(cat) !== -1;\n      allowedMimes = !mimes || mimes.indexOf(type) !== -1;\n      allowedExts = !exts.length || $h.compare(name, expAllExt);\n      skipPreview =\n        (dTypes && dTypes.indexOf(cat) !== -1) ||\n        (dMimes && dMimes.indexOf(type) !== -1) ||\n        (dExts.length && $h.compare(name, expDisExt)) ||\n        (maxSize && !isNaN(maxSize) && size > maxSize);\n      return !skipPreview && (allowedTypes || allowedMimes || allowedExts);\n    },\n    addToStack: function (file, id) {\n      this.fileManager.add(file, id);\n    },\n    clearFileStack: function () {\n      var self = this;\n      self.fileManager.clear();\n      self._initResumableUpload();\n      if (self.enableResumableUpload) {\n        if (self.showPause === null) {\n          self.showPause = true;\n        }\n        if (self.showCancel === null) {\n          self.showCancel = false;\n        }\n      } else {\n        self.showPause = false;\n        if (self.showCancel === null) {\n          self.showCancel = true;\n        }\n      }\n      return self.$element;\n    },\n    getFileStack: function () {\n      return this.fileManager.stack;\n    },\n    getFileList: function () {\n      return this.fileManager.list();\n    },\n    getFilesCount: function (includeInitial) {\n      var self = this,\n        len = self.isAjaxUpload\n          ? self.fileManager.count()\n          : self._inputFileCount();\n      if (includeInitial) {\n        len += self.previewCache.count(true);\n      }\n      return self._getFileCount(len);\n    },\n    readFiles: function (files) {\n      this.reader = new FileReader();\n      var self = this,\n        reader = self.reader,\n        $container = self.$previewContainer,\n        $status = self.$previewStatus,\n        msgLoading = self.msgLoading,\n        msgProgress = self.msgProgress,\n        previewInitId = self.previewInitId,\n        numFiles = files.length,\n        settings = self.fileTypeSettings,\n        readFile,\n        fileTypes = self.allowedFileTypes,\n        typLen = fileTypes ? fileTypes.length : 0,\n        fileExt = self.allowedFileExtensions,\n        strExt = $h.isEmpty(fileExt) ? \"\" : fileExt.join(\", \"),\n        throwError = function (msg, file, previewId, index, fileId) {\n          var $thumb,\n            p1 = $.extend(true, {}, self._getOutData(null, {}, {}, files), {\n              id: previewId,\n              index: index,\n              fileId: fileId,\n            }),\n            p2 = {\n              id: previewId,\n              index: index,\n              fileId: fileId,\n              file: file,\n              files: files,\n            };\n          self._previewDefault(file, true);\n          $thumb = self._getFrame(previewId, true);\n          if (self.isAjaxUpload) {\n            setTimeout(function () {\n              readFile(index + 1);\n            }, self.processDelay);\n          } else {\n            self.unlock();\n            numFiles = 0;\n          }\n          if (self.removeFromPreviewOnError && $thumb.length) {\n            $thumb.remove();\n          } else {\n            self._initFileActions();\n            $thumb.find(\".kv-file-upload\").remove();\n          }\n          self.isPersistentError = true;\n          self.isError = self.isAjaxUpload\n            ? self._showFileError(msg, p1)\n            : self._showError(msg, p2);\n          self._updateFileDetails(numFiles);\n        };\n      self.fileManager.clearImages();\n      $.each(files, function (key, file) {\n        var func = self.fileTypeSettings.image;\n        if (func && func(file.type)) {\n          self.fileManager.totalImages++;\n        }\n      });\n      readFile = function (i) {\n        var $error = self.$errorContainer,\n          errors,\n          fm = self.fileManager;\n        if (i >= numFiles) {\n          self.unlock();\n          if (self.duplicateErrors.length) {\n            errors = \"<li>\" + self.duplicateErrors.join(\"</li><li>\") + \"</li>\";\n            if ($error.find(\"ul\").length === 0) {\n              $h.setHtml(\n                $error,\n                self.errorCloseButton + \"<ul>\" + errors + \"</ul>\"\n              );\n            } else {\n              $error.find(\"ul\").append(errors);\n            }\n            $error.fadeIn(self.fadeDelay);\n            self._handler($error.find(\".kv-error-close\"), \"click\", function () {\n              $error.fadeOut(self.fadeDelay);\n            });\n            self.duplicateErrors = [];\n          }\n          if (self.isAjaxUpload) {\n            self._raise(\"filebatchselected\", [fm.stack]);\n            if (fm.count() === 0 && !self.isError) {\n              self.reset();\n            }\n          } else {\n            self._raise(\"filebatchselected\", [files]);\n          }\n          $container.removeClass(\"file-thumb-loading\");\n          $status.html(\"\");\n          return;\n        }\n        self.lock(true);\n        var file = files[i],\n          id = self._getFileId(file),\n          previewId = previewInitId + \"-\" + id,\n          fSizeKB,\n          j,\n          msg,\n          fnText = settings.text,\n          fnImage = settings.image,\n          fnHtml = settings.html,\n          typ,\n          chk,\n          typ1,\n          typ2,\n          caption = self._getFileName(file, \"\"),\n          fileSize = ((file && file.size) || 0) / 1000,\n          fileExtExpr = \"\",\n          previewData = $h.createObjectURL(file),\n          fileCount = 0,\n          strTypes = \"\",\n          fileId,\n          canLoad,\n          fileReaderAborted = false,\n          func,\n          knownTypes = 0,\n          isImage,\n          txtFlag,\n          processFileLoaded = function () {\n            var msg = msgProgress.setTokens({\n              index: i + 1,\n              files: numFiles,\n              percent: 50,\n              name: caption,\n            });\n            setTimeout(function () {\n              $status.html(msg);\n              self._updateFileDetails(numFiles);\n              readFile(i + 1);\n            }, self.processDelay);\n            if (\n              self._raise(\"fileloaded\", [file, previewId, id, i, reader]) &&\n              self.isAjaxUpload\n            ) {\n              fm.add(file);\n            }\n          };\n        if (!file) {\n          return;\n        }\n        fileId = fm.getId(file);\n        if (typLen > 0) {\n          for (j = 0; j < typLen; j++) {\n            typ1 = fileTypes[j];\n            typ2 = self.msgFileTypes[typ1] || typ1;\n            strTypes += j === 0 ? typ2 : \", \" + typ2;\n          }\n        }\n        if (caption === false) {\n          readFile(i + 1);\n          return;\n        }\n        if (caption.length === 0) {\n          msg = self.msgInvalidFileName.replace(\n            \"{name}\",\n            $h.htmlEncode($h.getFileName(file), \"[unknown]\")\n          );\n          throwError(msg, file, previewId, i, fileId);\n          return;\n        }\n        if (!$h.isEmpty(fileExt)) {\n          fileExtExpr = new RegExp(\"\\\\.(\" + fileExt.join(\"|\") + \")$\", \"i\");\n        }\n        fSizeKB = fileSize.toFixed(2);\n        if (\n          (self.isAjaxUpload && fm.exists(fileId)) ||\n          self._getFrame(previewId, true).length\n        ) {\n          var p2 = {\n            id: previewId,\n            index: i,\n            fileId: fileId,\n            file: file,\n            files: files,\n          };\n          msg = self.msgDuplicateFile.setTokens({\n            name: caption,\n            size: fSizeKB,\n          });\n          if (self.isAjaxUpload) {\n            self.duplicateErrors.push(msg);\n            self.isDuplicateError = true;\n            self._raise(\"fileduplicateerror\", [\n              file,\n              fileId,\n              caption,\n              fSizeKB,\n              previewId,\n              i,\n            ]);\n            readFile(i + 1);\n            self._updateFileDetails(numFiles);\n          } else {\n            self._showError(msg, p2);\n            self.unlock();\n            numFiles = 0;\n            self._clearFileInput();\n            self.reset();\n            self._updateFileDetails(numFiles);\n          }\n          return;\n        }\n        if (self.maxFileSize > 0 && fileSize > self.maxFileSize) {\n          msg = self.msgSizeTooLarge.setTokens({\n            name: caption,\n            size: fSizeKB,\n            maxSize: self.maxFileSize,\n          });\n          throwError(msg, file, previewId, i, fileId);\n          return;\n        }\n        if (\n          self.minFileSize !== null &&\n          fileSize <= $h.getNum(self.minFileSize)\n        ) {\n          msg = self.msgSizeTooSmall.setTokens({\n            name: caption,\n            size: fSizeKB,\n            minSize: self.minFileSize,\n          });\n          throwError(msg, file, previewId, i, fileId);\n          return;\n        }\n        if (!$h.isEmpty(fileTypes) && $h.isArray(fileTypes)) {\n          for (j = 0; j < fileTypes.length; j += 1) {\n            typ = fileTypes[j];\n            func = settings[typ];\n            fileCount +=\n              !func || typeof func !== \"function\"\n                ? 0\n                : func(file.type, $h.getFileName(file))\n                ? 1\n                : 0;\n          }\n          if (fileCount === 0) {\n            msg = self.msgInvalidFileType.setTokens({\n              name: caption,\n              types: strTypes,\n            });\n            throwError(msg, file, previewId, i, fileId);\n            return;\n          }\n        }\n        if (\n          fileCount === 0 &&\n          !$h.isEmpty(fileExt) &&\n          $h.isArray(fileExt) &&\n          !$h.isEmpty(fileExtExpr)\n        ) {\n          chk = $h.compare(caption, fileExtExpr);\n          fileCount += $h.isEmpty(chk) ? 0 : chk.length;\n          if (fileCount === 0) {\n            msg = self.msgInvalidFileExtension.setTokens({\n              name: caption,\n              extensions: strExt,\n            });\n            throwError(msg, file, previewId, i, fileId);\n            return;\n          }\n        }\n        if (!self._canPreview(file)) {\n          canLoad =\n            self.isAjaxUpload &&\n            self._raise(\"filebeforeload\", [file, i, reader]);\n          if (self.isAjaxUpload && canLoad) {\n            fm.add(file);\n          }\n          if (self.showPreview && canLoad) {\n            $container.addClass(\"file-thumb-loading\");\n            self._previewDefault(file);\n            self._initFileActions();\n          }\n          setTimeout(function () {\n            if (canLoad) {\n              self._updateFileDetails(numFiles);\n            }\n            readFile(i + 1);\n            self._raise(\"fileloaded\", [file, previewId, id, i]);\n          }, 10);\n          return;\n        }\n        isImage = fnImage(file.type, caption);\n        $status.html(\n          msgLoading.replace(\"{index}\", i + 1).replace(\"{files}\", numFiles)\n        );\n        $container.addClass(\"file-thumb-loading\");\n        reader.onerror = function (evt) {\n          self._errorHandler(evt, caption);\n        };\n        reader.onload = function (theFile) {\n          var hex,\n            fileInfo,\n            uint,\n            byte,\n            bytes = [],\n            contents,\n            mime,\n            readImage = function () {\n              var newReader = new FileReader();\n              newReader.onerror = function (theFileNew) {\n                self._errorHandler(theFileNew, caption);\n              };\n              newReader.onload = function (theFileNew) {\n                if (\n                  self.isAjaxUpload &&\n                  !self._raise(\"filebeforeload\", [file, i, reader])\n                ) {\n                  fileReaderAborted = true;\n                  self._resetCaption();\n                  reader.abort();\n                  $status.html(\"\");\n                  $container.removeClass(\"file-thumb-loading\");\n                  self.enable();\n                  return;\n                }\n                self._previewFile(i, file, theFileNew, previewData, fileInfo);\n                self._initFileActions();\n                processFileLoaded();\n              };\n              newReader.readAsDataURL(file);\n            };\n          fileInfo = { name: caption, type: file.type };\n          $.each(settings, function (k, f) {\n            if (\n              k !== \"object\" &&\n              k !== \"other\" &&\n              typeof f === \"function\" &&\n              f(file.type, caption)\n            ) {\n              knownTypes++;\n            }\n          });\n          if (knownTypes === 0) {\n            // auto detect mime types from content if no known file types detected\n            uint = new Uint8Array(theFile.target.result);\n            for (j = 0; j < uint.length; j++) {\n              byte = uint[j].toString(16);\n              bytes.push(byte);\n            }\n            hex = bytes.join(\"\").toLowerCase().substring(0, 8);\n            mime = $h.getMimeType(hex, \"\", \"\");\n            if ($h.isEmpty(mime)) {\n              // look for ascii text content\n              contents = $h.arrayBuffer2String(reader.result);\n              mime = $h.isSvg(contents)\n                ? \"image/svg+xml\"\n                : $h.getMimeType(hex, contents, file.type);\n            }\n            fileInfo = { name: caption, type: mime };\n            isImage = fnImage(mime, \"\");\n            if (isImage) {\n              readImage(txtFlag);\n              return;\n            }\n          }\n          if (\n            self.isAjaxUpload &&\n            !self._raise(\"filebeforeload\", [file, i, reader])\n          ) {\n            fileReaderAborted = true;\n            self._resetCaption();\n            reader.abort();\n            $status.html(\"\");\n            $container.removeClass(\"file-thumb-loading\");\n            self.enable();\n            return;\n          }\n          self._previewFile(i, file, theFile, previewData, fileInfo);\n          self._initFileActions();\n          processFileLoaded();\n        };\n        reader.onprogress = function (data) {\n          if (data.lengthComputable) {\n            var fact = (data.loaded / data.total) * 100,\n              progress = Math.ceil(fact);\n            msg = msgProgress.setTokens({\n              index: i + 1,\n              files: numFiles,\n              percent: progress,\n              name: caption,\n            });\n            setTimeout(function () {\n              if (!fileReaderAborted) {\n                $status.html(msg);\n              }\n            }, self.processDelay);\n          }\n        };\n        if (isImage) {\n          reader.readAsDataURL(file);\n        } else {\n          reader.readAsArrayBuffer(file);\n        }\n      };\n\n      readFile(0);\n      self._updateFileDetails(numFiles, true);\n    },\n    lock: function (selectMode) {\n      var self = this,\n        $container = self.$container;\n      self._resetErrors();\n      self.disable();\n      if (!selectMode && self.showCancel) {\n        $container.find(\".fileinput-cancel\").show();\n      }\n      if (!selectMode && self.showPause) {\n        $container.find(\".fileinput-pause\").show();\n      }\n      self._raise(\"filelock\", [self.fileManager.stack, self._getExtraData()]);\n      return self.$element;\n    },\n    unlock: function (reset) {\n      var self = this,\n        $container = self.$container;\n      if (reset === undefined) {\n        reset = true;\n      }\n      self.enable();\n      $container.removeClass(\"is-locked\");\n      if (self.showCancel) {\n        $container.find(\".fileinput-cancel\").hide();\n      }\n      if (self.showPause) {\n        $container.find(\".fileinput-pause\").hide();\n      }\n      if (reset) {\n        self._resetFileStack();\n      }\n      self._raise(\"fileunlock\", [self.fileManager.stack, self._getExtraData()]);\n      return self.$element;\n    },\n    resume: function () {\n      var self = this,\n        flag = false,\n        rm = self.resumableManager;\n      if (!self.enableResumableUpload) {\n        return self.$element;\n      }\n      if (self.paused) {\n        self._toggleResumableProgress(\n          self.progressPauseTemplate,\n          self.msgUploadResume\n        );\n      } else {\n        flag = true;\n      }\n      self.paused = false;\n      if (flag) {\n        self._toggleResumableProgress(\n          self.progressInfoTemplate,\n          self.msgUploadBegin\n        );\n      }\n      setTimeout(function () {\n        rm.upload();\n      }, self.processDelay);\n      return self.$element;\n    },\n    pause: function () {\n      var self = this,\n        rm = self.resumableManager,\n        xhr = self.ajaxRequests,\n        len = xhr.length,\n        i,\n        pct = rm.getProgress(),\n        actions = self.fileActionSettings,\n        tm = self.taskManager,\n        pool = tm.getPool(rm.id);\n      if (!self.enableResumableUpload) {\n        return self.$element;\n      } else {\n        if (pool) {\n          pool.cancel();\n        }\n      }\n      self._raise(\"fileuploadpaused\", [self.fileManager, rm]);\n      if (len > 0) {\n        for (i = 0; i < len; i += 1) {\n          self.paused = true;\n          xhr[i].abort();\n        }\n      }\n      if (self.showPreview) {\n        self._getThumbs().each(function () {\n          var $thumb = $(this),\n            fileId = $thumb.attr(\"data-fileid\"),\n            t = self._getLayoutTemplate(\"stats\"),\n            stats,\n            $indicator = $thumb.find(\".file-upload-indicator\");\n          $thumb.removeClass(\"file-uploading\");\n          if ($indicator.attr(\"title\") === actions.indicatorLoadingTitle) {\n            self._setThumbStatus($thumb, \"Paused\");\n            stats = t.setTokens({\n              pendingTime: self.msgPaused,\n              uploadSpeed: \"\",\n            });\n            self.paused = true;\n            self._setProgress(\n              pct,\n              $thumb.find(\".file-thumb-progress\"),\n              pct + \"%\",\n              stats\n            );\n          }\n          if (!self.fileManager.getFile(fileId)) {\n            $thumb\n              .find(\".kv-file-remove\")\n              .removeClass(\"disabled\")\n              .removeAttr(\"disabled\");\n          }\n        });\n      }\n      self._setProgress(101, self.$progress, self.msgPaused);\n      return self.$element;\n    },\n    cancel: function () {\n      var self = this,\n        xhr = self.ajaxRequests,\n        rm = self.resumableManager,\n        tm = self.taskManager,\n        pool = rm ? tm.getPool(rm.id) : undefined,\n        len = xhr.length,\n        i;\n\n      if (self.enableResumableUpload && pool) {\n        pool.cancel().done(function () {\n          self._setProgressCancelled();\n        });\n        rm.reset();\n        self._raise(\"fileuploadcancelled\", [self.fileManager, rm]);\n      } else {\n        self._raise(\"fileuploadcancelled\", [self.fileManager]);\n      }\n      self._initAjax();\n      if (len > 0) {\n        for (i = 0; i < len; i += 1) {\n          self.cancelling = true;\n          xhr[i].abort();\n        }\n      }\n      self._getThumbs().each(function () {\n        var $thumb = $(this),\n          fileId = $thumb.attr(\"data-fileid\"),\n          $prog = $thumb.find(\".file-thumb-progress\");\n        $thumb.removeClass(\"file-uploading\");\n        self._setProgress(0, $prog);\n        $prog.hide();\n        if (!self.fileManager.getFile(fileId)) {\n          $thumb\n            .find(\".kv-file-upload\")\n            .removeClass(\"disabled\")\n            .removeAttr(\"disabled\");\n          $thumb\n            .find(\".kv-file-remove\")\n            .removeClass(\"disabled\")\n            .removeAttr(\"disabled\");\n        }\n        self.unlock();\n      });\n      setTimeout(function () {\n        self._setProgressCancelled();\n      }, self.processDelay);\n      return self.$element;\n    },\n    clear: function () {\n      var self = this,\n        cap;\n      if (!self._raise(\"fileclear\")) {\n        return;\n      }\n      self.$btnUpload.removeAttr(\"disabled\");\n      self\n        ._getThumbs()\n        .find(\"video,audio,img\")\n        .each(function () {\n          $h.cleanMemory($(this));\n        });\n      self._clearFileInput();\n      self._resetUpload();\n      self.clearFileStack();\n      self.isDuplicateError = false;\n      self.isPersistentError = false;\n      self._resetErrors(true);\n      if (self._hasInitialPreview()) {\n        self._showFileIcon();\n        self._resetPreview();\n        self._initPreviewActions();\n        self.$container.removeClass(\"file-input-new\");\n      } else {\n        self._getThumbs().each(function () {\n          self._clearObjects($(this));\n        });\n        if (self.isAjaxUpload) {\n          self.previewCache.data = {};\n        }\n        self.$preview.html(\"\");\n        cap =\n          !self.overwriteInitial && self.initialCaption.length > 0\n            ? self.initialCaption\n            : \"\";\n        self.$caption.attr(\"title\", \"\").val(cap);\n        $h.addCss(self.$container, \"file-input-new\");\n        self._validateDefaultPreview();\n      }\n      if (self.$container.find($h.FRAMES).length === 0) {\n        if (!self._initCaption()) {\n          self.$captionContainer.removeClass(\"icon-visible\");\n        }\n      }\n      self._hideFileIcon();\n      if (self.focusCaptionOnClear) {\n        self.$captionContainer.focus();\n      }\n      self._setFileDropZoneTitle();\n      self._raise(\"filecleared\");\n      return self.$element;\n    },\n    reset: function () {\n      var self = this;\n      if (!self._raise(\"filereset\")) {\n        return;\n      }\n      self.lastProgress = 0;\n      self._resetPreview();\n      self.$container.find(\".fileinput-filename\").text(\"\");\n      $h.addCss(self.$container, \"file-input-new\");\n      if (self.getFrames().length) {\n        self.$container.removeClass(\"file-input-new\");\n      }\n      self.clearFileStack();\n      self._setFileDropZoneTitle();\n      return self.$element;\n    },\n    disable: function () {\n      var self = this,\n        $container = self.$container;\n      self.isDisabled = true;\n      self._raise(\"filedisabled\");\n      self.$element.attr(\"disabled\", \"disabled\");\n      $container.addClass(\"is-locked\");\n      $h.addCss($container.find(\".btn-file\"), \"disabled\");\n      $container\n        .find(\".kv-fileinput-caption\")\n        .addClass(\"file-caption-disabled\");\n      $container\n        .find(\n          \".fileinput-remove, .fileinput-upload, .file-preview-frame button\"\n        )\n        .attr(\"disabled\", true);\n      self._initDragDrop();\n      return self.$element;\n    },\n    enable: function () {\n      var self = this,\n        $container = self.$container;\n      self.isDisabled = false;\n      self._raise(\"fileenabled\");\n      self.$element.removeAttr(\"disabled\");\n      $container.removeClass(\"is-locked\");\n      $container\n        .find(\".kv-fileinput-caption\")\n        .removeClass(\"file-caption-disabled\");\n      $container\n        .find(\n          \".fileinput-remove, .fileinput-upload, .file-preview-frame button\"\n        )\n        .removeAttr(\"disabled\");\n      $container.find(\".btn-file\").removeClass(\"disabled\");\n      self._initDragDrop();\n      return self.$element;\n    },\n    upload: function () {\n      var self = this,\n        fm = self.fileManager,\n        totLen = fm.count(),\n        i,\n        outData,\n        hasExtraData = !$.isEmptyObject(self._getExtraData());\n      if (\n        !self.isAjaxUpload ||\n        self.isDisabled ||\n        !self._isFileSelectionValid(totLen)\n      ) {\n        return;\n      }\n      self.lastProgress = 0;\n      self._resetUpload();\n      if (totLen === 0 && !hasExtraData) {\n        self._showFileError(self.msgUploadEmpty);\n        return;\n      }\n      self.cancelling = false;\n      self._showProgress();\n      self.lock();\n      if (totLen === 0 && hasExtraData) {\n        self._setProgress(2);\n        self._uploadExtraOnly();\n        return;\n      }\n      if (self.enableResumableUpload) {\n        return self.resume();\n      }\n      if (self.uploadAsync || self.enableResumableUpload) {\n        outData = self._getOutData(null);\n        self._raise(\"filebatchpreupload\", [outData]);\n        self.fileBatchCompleted = false;\n        self.uploadCache = [];\n        $.each(self.getFileStack(), function (id) {\n          var previewId = self._getThumbId(id);\n          self.uploadCache.push({\n            id: previewId,\n            content: null,\n            config: null,\n            tags: null,\n            append: true,\n          });\n        });\n        self.$preview.find(\".file-preview-initial\").removeClass($h.SORT_CSS);\n        self._initSortable();\n      }\n      self._setProgress(2);\n      self.hasInitData = false;\n      if (self.uploadAsync) {\n        i = 0;\n        $.each(fm.stack, function (id) {\n          self._uploadSingle(i, id, true);\n          i++;\n        });\n        return;\n      }\n      self._uploadBatch();\n      return self.$element;\n    },\n    destroy: function () {\n      var self = this,\n        $form = self.$form,\n        $cont = self.$container,\n        $el = self.$element,\n        ns = self.namespace;\n      $(document).off(ns);\n      $(window).off(ns);\n      if ($form && $form.length) {\n        $form.off(ns);\n      }\n      if (self.isAjaxUpload) {\n        self._clearFileInput();\n      }\n      self._cleanup();\n      self._initPreviewCache();\n      $el.insertBefore($cont).off(ns).removeData();\n      $cont.off().remove();\n      return $el;\n    },\n    refresh: function (options) {\n      var self = this,\n        $el = self.$element;\n      if (typeof options !== \"object\" || $h.isEmpty(options)) {\n        options = self.options;\n      } else {\n        options = $.extend(true, {}, self.options, options);\n      }\n      self._init(options, true);\n      self._listen();\n      return $el;\n    },\n    zoom: function (frameId) {\n      var self = this,\n        $frame = self._getFrame(frameId);\n      self._showModal($frame);\n    },\n    getExif: function (frameId) {\n      var self = this,\n        $frame = self._getFrame(frameId);\n      return ($frame && $frame.data(\"exif\")) || null;\n    },\n    getFrames: function (cssFilter) {\n      var self = this,\n        $frames;\n      cssFilter = cssFilter || \"\";\n      $frames = self.$preview.find($h.FRAMES + cssFilter);\n      if (self.reversePreviewOrder) {\n        $frames = $($frames.get().reverse());\n      }\n      return $frames;\n    },\n    getPreview: function () {\n      var self = this;\n      return {\n        content: self.initialPreview,\n        config: self.initialPreviewConfig,\n        tags: self.initialPreviewThumbTags,\n      };\n    },\n  };\n\n  $.fn.fileinput = function (option) {\n    if (!$h.hasFileAPISupport() && !$h.isIE(9)) {\n      return;\n    }\n    var args = Array.apply(null, arguments),\n      retvals = [];\n    args.shift();\n    this.each(function () {\n      var self = $(this),\n        data = self.data(\"fileinput\"),\n        options = typeof option === \"object\" && option,\n        theme = options.theme || self.data(\"theme\"),\n        l = {},\n        t = {},\n        lang =\n          options.language ||\n          self.data(\"language\") ||\n          $.fn.fileinput.defaults.language ||\n          \"en\",\n        opt;\n      if (!data) {\n        if (theme) {\n          t = $.fn.fileinputThemes[theme] || {};\n        }\n        if (lang !== \"en\" && !$h.isEmpty($.fn.fileinputLocales[lang])) {\n          l = $.fn.fileinputLocales[lang] || {};\n        }\n        opt = $.extend(\n          true,\n          {},\n          $.fn.fileinput.defaults,\n          t,\n          $.fn.fileinputLocales.en,\n          l,\n          options,\n          self.data()\n        );\n        data = new FileInput(this, opt);\n        self.data(\"fileinput\", data);\n      }\n\n      if (typeof option === \"string\") {\n        retvals.push(data[option].apply(data, args));\n      }\n    });\n    switch (retvals.length) {\n      case 0:\n        return this;\n      case 1:\n        return retvals[0];\n      default:\n        return retvals;\n    }\n  };\n\n  var IFRAME_ATTRIBS =\n    'class=\"kv-preview-data file-preview-pdf\" src=\"{renderer}?file={data}\" {style}';\n\n  $.fn.fileinput.defaults = {\n    language: \"en\",\n    showCaption: true,\n    showBrowse: true,\n    showPreview: true,\n    showRemove: true,\n    showUpload: true,\n    showUploadStats: true,\n    showCancel: null,\n    showPause: null,\n    showClose: true,\n    showUploadedThumbs: true,\n    showConsoleLogs: false,\n    browseOnZoneClick: false,\n    autoReplace: false,\n    autoOrientImage: function () {\n      // applicable for JPEG images only and non ios safari\n      var ua = window.navigator.userAgent,\n        webkit = !!ua.match(/WebKit/i),\n        iOS = !!ua.match(/iP(od|ad|hone)/i),\n        iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n      return !iOSSafari;\n    },\n    autoOrientImageInitial: true,\n    required: false,\n    rtl: false,\n    hideThumbnailContent: false,\n    encodeUrl: true,\n    focusCaptionOnBrowse: true,\n    focusCaptionOnClear: true,\n    generateFileId: null,\n    previewClass: \"\",\n    captionClass: \"\",\n    frameClass: \"krajee-default\",\n    mainClass: \"file-caption-main\",\n    mainTemplate: null,\n    fileSizeGetter: null,\n    initialCaption: \"\",\n    initialPreview: [],\n    initialPreviewDelimiter: \"*$$*\",\n    initialPreviewAsData: false,\n    initialPreviewFileType: \"image\",\n    initialPreviewConfig: [],\n    initialPreviewThumbTags: [],\n    previewThumbTags: {},\n    initialPreviewShowDelete: true,\n    initialPreviewDownloadUrl: \"\",\n    removeFromPreviewOnError: false,\n    deleteUrl: \"\",\n    deleteExtraData: {},\n    overwriteInitial: true,\n    sanitizeZoomCache: function (content) {\n      var $container = $h.createElement(content);\n      $container\n        .find(\"input,textarea,select,datalist,form,.file-thumbnail-footer\")\n        .remove();\n      return $container.html();\n    },\n    previewZoomButtonIcons: {\n      prev: '<i class=\"glyphicon glyphicon-triangle-left\"></i>',\n      next: '<i class=\"glyphicon glyphicon-triangle-right\"></i>',\n      toggleheader: '<i class=\"glyphicon glyphicon-resize-vertical\"></i>',\n      fullscreen: '<i class=\"glyphicon glyphicon-fullscreen\"></i>',\n      borderless: '<i class=\"glyphicon glyphicon-resize-full\"></i>',\n      close: '<i class=\"glyphicon glyphicon-remove\"></i>',\n    },\n    previewZoomButtonClasses: {\n      prev: \"btn btn-navigate\",\n      next: \"btn btn-navigate\",\n      toggleheader: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n      fullscreen: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n      borderless: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n      close: \"btn btn-sm btn-kv btn-default btn-outline-secondary\",\n    },\n    previewTemplates: {},\n    previewContentTemplates: {},\n    preferIconicPreview: false,\n    preferIconicZoomPreview: false,\n    allowedFileTypes: null,\n    allowedFileExtensions: null,\n    allowedPreviewTypes: undefined,\n    allowedPreviewMimeTypes: null,\n    allowedPreviewExtensions: null,\n    disabledPreviewTypes: undefined,\n    disabledPreviewExtensions: [\n      \"msi\",\n      \"exe\",\n      \"com\",\n      \"zip\",\n      \"rar\",\n      \"app\",\n      \"vb\",\n      \"scr\",\n    ],\n    disabledPreviewMimeTypes: null,\n    defaultPreviewContent: null,\n    customLayoutTags: {},\n    customPreviewTags: {},\n    previewFileIcon: '<i class=\"glyphicon glyphicon-file\"></i>',\n    previewFileIconClass: \"file-other-icon\",\n    previewFileIconSettings: {},\n    previewFileExtSettings: {},\n    buttonLabelClass: \"hidden-xs\",\n    browseIcon: '<i class=\"glyphicon glyphicon-folder-open\"></i>&nbsp;',\n    browseClass: \"btn btn-primary\",\n    removeIcon: '<i class=\"glyphicon glyphicon-trash\"></i>',\n    removeClass: \"btn btn-default btn-secondary\",\n    cancelIcon: '<i class=\"glyphicon glyphicon-ban-circle\"></i>',\n    cancelClass: \"btn btn-default btn-secondary\",\n    pauseIcon: '<i class=\"glyphicon glyphicon-pause\"></i>',\n    pauseClass: \"btn btn-default btn-secondary\",\n    uploadIcon: '<i class=\"glyphicon glyphicon-upload\"></i>',\n    uploadClass: \"btn btn-default btn-secondary\",\n    uploadUrl: null,\n    uploadUrlThumb: null,\n    uploadAsync: true,\n    uploadParamNames: {\n      chunkCount: \"chunkCount\",\n      chunkIndex: \"chunkIndex\",\n      chunkSize: \"chunkSize\",\n      chunkSizeStart: \"chunkSizeStart\",\n      chunksUploaded: \"chunksUploaded\",\n      fileBlob: \"fileBlob\",\n      fileId: \"fileId\",\n      fileName: \"fileName\",\n      fileRelativePath: \"fileRelativePath\",\n      fileSize: \"fileSize\",\n      retryCount: \"retryCount\",\n    },\n    maxAjaxThreads: 5,\n    fadeDelay: 800,\n    processDelay: 100,\n    queueDelay: 10, // must be lesser than process delay\n    progressDelay: 0, // must be lesser than process delay\n    enableResumableUpload: false,\n    resumableUploadOptions: {\n      fallback: null,\n      testUrl: null, // used for checking status of chunks/ files previously / partially uploaded\n      chunkSize: 2 * 1024, // in KB\n      maxThreads: 4,\n      maxRetries: 3,\n      showErrorLog: true,\n    },\n    uploadExtraData: {},\n    zoomModalHeight: 480,\n    minImageWidth: null,\n    minImageHeight: null,\n    maxImageWidth: null,\n    maxImageHeight: null,\n    resizeImage: false,\n    resizePreference: \"width\",\n    resizeQuality: 0.92,\n    resizeDefaultImageType: \"image/jpeg\",\n    resizeIfSizeMoreThan: 0, // in KB\n    minFileSize: -1,\n    maxFileSize: 0,\n    maxFilePreviewSize: 25600, // 25 MB\n    minFileCount: 0,\n    maxFileCount: 0,\n    maxTotalFileCount: 0,\n    validateInitialCount: false,\n    msgValidationErrorClass: \"text-danger\",\n    msgValidationErrorIcon:\n      '<i class=\"glyphicon glyphicon-exclamation-sign\"></i> ',\n    msgErrorClass: \"file-error-message\",\n    progressThumbClass:\n      \"progress-bar progress-bar-striped active progress-bar-animated\",\n    progressClass:\n      \"progress-bar bg-success progress-bar-success progress-bar-striped active progress-bar-animated\",\n    progressInfoClass:\n      \"progress-bar bg-info progress-bar-info progress-bar-striped active progress-bar-animated\",\n    progressCompleteClass: \"progress-bar bg-success progress-bar-success\",\n    progressPauseClass:\n      \"progress-bar bg-primary progress-bar-primary progress-bar-striped active progress-bar-animated\",\n    progressErrorClass: \"progress-bar bg-danger progress-bar-danger\",\n    progressUploadThreshold: 99,\n    previewFileType: \"image\",\n    elCaptionContainer: null,\n    elCaptionText: null,\n    elCaptionLabelText: null,\n    elPreviewContainer: null,\n    elPreviewImage: null,\n    elPreviewStatus: null,\n    elErrorContainer: null,\n    errorCloseButton: $h.closeButton(\"kv-error-close\"),\n    slugCallback: null,\n    dropZoneEnabled: true,\n    dropZoneTitleClass: \"file-drop-zone-title\",\n    fileActionSettings: {},\n    otherActionButtons: \"\",\n    textEncoding: \"UTF-8\",\n    preProcessUpload: null,\n    ajaxSettings: {},\n    ajaxDeleteSettings: {},\n    showAjaxErrorDetails: true,\n    mergeAjaxCallbacks: false,\n    mergeAjaxDeleteCallbacks: false,\n    retryErrorUploads: true,\n    reversePreviewOrder: false,\n    usePdfRenderer: function () {\n      var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n      return (\n        !!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i) || isIE11\n      );\n    },\n    pdfRendererUrl: \"\",\n    pdfRendererTemplate: \"<iframe \" + IFRAME_ATTRIBS + \"></iframe>\",\n  };\n\n  // noinspection HtmlUnknownAttribute\n  $.fn.fileinputLocales.en = {\n    fileSingle: \"file\",\n    filePlural: \"files\",\n    browseLabel: \"Browse &hellip;\",\n    removeLabel: \"Remove\",\n    removeTitle: \"Clear all unprocessed files\",\n    cancelLabel: \"Cancel\",\n    cancelTitle: \"Abort ongoing upload\",\n    pauseLabel: \"Pause\",\n    pauseTitle: \"Pause ongoing upload\",\n    uploadLabel: \"Upload\",\n    uploadTitle: \"Upload selected files\",\n    msgNo: \"No\",\n    msgNoFilesSelected: \"No files selected\",\n    msgCancelled: \"Cancelled\",\n    msgPaused: \"Paused\",\n    msgPlaceholder: \"Select {files} ...\",\n    msgZoomModalHeading: \"Detailed Preview\",\n    msgFileRequired: \"You must select a file to upload.\",\n    msgSizeTooSmall:\n      'File \"{name}\" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',\n    msgSizeTooLarge:\n      'File \"{name}\" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',\n    msgFilesTooLess: \"You must select at least <b>{n}</b> {files} to upload.\",\n    msgFilesTooMany:\n      \"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.\",\n    msgTotalFilesTooMany:\n      \"You can upload a maximum of <b>{m}</b> files (<b>{n}</b> files detected).\",\n    msgFileNotFound: 'File \"{name}\" not found!',\n    msgFileSecured: 'Security restrictions prevent reading the file \"{name}\".',\n    msgFileNotReadable: 'File \"{name}\" is not readable.',\n    msgFilePreviewAborted: 'File preview aborted for \"{name}\".',\n    msgFilePreviewError: 'An error occurred while reading the file \"{name}\".',\n    msgInvalidFileName:\n      'Invalid or unsupported characters in file name \"{name}\".',\n    msgInvalidFileType:\n      'Invalid type for file \"{name}\". Only \"{types}\" files are supported.',\n    msgInvalidFileExtension:\n      'Invalid extension for file \"{name}\". Only \"{extensions}\" files are supported.',\n    msgFileTypes: {\n      image: \"image\",\n      html: \"HTML\",\n      text: \"text\",\n      video: \"video\",\n      audio: \"audio\",\n      flash: \"flash\",\n      pdf: \"PDF\",\n      object: \"object\",\n    },\n    msgUploadAborted: \"The file upload was aborted\",\n    msgUploadThreshold: \"Processing &hellip;\",\n    msgUploadBegin: \"Initializing &hellip;\",\n    msgUploadEnd: \"Done\",\n    msgUploadResume: \"Resuming upload &hellip;\",\n    msgUploadEmpty: \"No valid data available for upload.\",\n    msgUploadError: \"Upload Error\",\n    msgDeleteError: \"Delete Error\",\n    msgProgressError: \"Error\",\n    msgValidationError: \"Validation Error\",\n    msgLoading: \"Loading file {index} of {files} &hellip;\",\n    msgProgress:\n      \"Loading file {index} of {files} - {name} - {percent}% completed.\",\n    msgSelected: \"{n} {files} selected\",\n    msgFoldersNotAllowed:\n      \"Drag & drop files only! {n} folder(s) dropped were skipped.\",\n    msgImageWidthSmall:\n      'Width of image file \"{name}\" must be at least {size} px.',\n    msgImageHeightSmall:\n      'Height of image file \"{name}\" must be at least {size} px.',\n    msgImageWidthLarge: 'Width of image file \"{name}\" cannot exceed {size} px.',\n    msgImageHeightLarge:\n      'Height of image file \"{name}\" cannot exceed {size} px.',\n    msgImageResizeError: \"Could not get the image dimensions to resize.\",\n    msgImageResizeException:\n      \"Error while resizing the image.<pre>{errors}</pre>\",\n    msgAjaxError:\n      \"Something went wrong with the {operation} operation. Please try again later!\",\n    msgAjaxProgressError: \"{operation} failed\",\n    msgDuplicateFile:\n      'File \"{name}\" of same size \"{size} KB\" has already been selected earlier. Skipping duplicate selection.',\n    msgResumableUploadRetriesExceeded:\n      \"Upload aborted beyond <b>{max}</b> retries for file <b>{file}</b>! Error Details: <pre>{error}</pre>\",\n    msgPendingTime: \"{time} remaining\",\n    msgCalculatingTime: \"calculating time remaining\",\n    ajaxOperations: {\n      deleteThumb: \"file delete\",\n      uploadThumb: \"file upload\",\n      uploadBatch: \"batch file upload\",\n      uploadExtra: \"form data upload\",\n    },\n    dropZoneTitle: \"Drag & drop files here &hellip;\",\n    dropZoneClickTitle: \"<br>(or click to select {files})\",\n    previewZoomButtonTitles: {\n      prev: \"View previous file\",\n      next: \"View next file\",\n      toggleheader: \"Toggle header\",\n      fullscreen: \"Toggle full screen\",\n      borderless: \"Toggle borderless mode\",\n      close: \"Close detailed preview\",\n    },\n  };\n\n  $.fn.fileinput.Constructor = FileInput;\n\n  /**\n   * Convert automatically file inputs with class 'file' into a bootstrap fileinput control.\n   */\n  $(document).ready(function () {\n    var $input = $(\"input.file[type=file]\");\n    if ($input.length) {\n      $input.fileinput();\n    }\n  });\n});\n\n/*!\n * bootstrap-fileinput v5.1.3\n * http://plugins.krajee.com/file-input\n *\n * Font Awesome 5 icon theme configuration for bootstrap-fileinput. Requires font awesome 5 assets to be loaded.\n *\n * Author: Kartik Visweswaran\n * Copyright: 2014 - 2020, Kartik Visweswaran, Krajee.com\n *\n * Licensed under the BSD-3-Clause\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\n */\n(function ($) {\n  \"use strict\";\n\n  $.fn.fileinputThemes.fas = {\n    fileActionSettings: {\n      removeIcon: '<i class=\"fa-solid fa-trash-alt\"></i>',\n      uploadIcon: '<i class=\"fa-solid fa-upload\"></i>',\n      uploadRetryIcon: '<i class=\"fa-solid fa-redo-alt\"></i>',\n      downloadIcon: '<i class=\"fa-solid fa-download\"></i>',\n      zoomIcon: '<i class=\"fa-solid fa-search-plus\"></i>',\n      dragIcon: '<i class=\"fa-solid fa-arrows-alt\"></i>',\n      indicatorNew: '<i class=\"fa-solid fa-plus-circle text-warning\"></i>',\n      indicatorSuccess: '<i class=\"fa-solid fa-check-circle text-success\"></i>',\n      indicatorError:\n        '<i class=\"fa-solid fa-exclamation-circle text-danger\"></i>',\n      indicatorLoading:\n        '<i class=\"fa-solid fa-hourglass text-body-secondary\"></i>',\n      indicatorPaused: '<i class=\"fa fa-pause text-info\"></i>',\n    },\n    layoutTemplates: {\n      fileIcon: '<i class=\"fa-solid fa-file kv-caption-icon\"></i> ',\n    },\n    previewZoomButtonIcons: {\n      prev: '<i class=\"fa-solid fa-caret-left fa-lg\"></i>',\n      next: '<i class=\"fa-solid fa-caret-right fa-lg\"></i>',\n      toggleheader: '<i class=\"fa-solid fa-fw fa-arrows-alt-v\"></i>',\n      fullscreen: '<i class=\"fa-solid fa-fw fa-arrows-alt\"></i>',\n      borderless: '<i class=\"fa-solid fa-fw fa-external-link-alt\"></i>',\n      close: '<i class=\"fa-solid fa-fw fa-xmark\"></i>',\n    },\n    previewFileIcon: '<i class=\"fa-solid fa-file\"></i>',\n    browseIcon: '<i class=\"fa-solid fa-folder-open\"></i>',\n    removeIcon: '<i class=\"fa-solid fa-trash-alt\"></i>',\n    cancelIcon: '<i class=\"fa-solid fa-ban\"></i>',\n    pauseIcon: '<i class=\"fa-solid fa-pause\"></i>',\n    uploadIcon: '<i class=\"fa-solid fa-upload\"></i>',\n    msgValidationErrorIcon: '<i class=\"fa-solid fa-exclamation-circle\"></i> ',\n  };\n})(window.jQuery);\n\n(function () {\n  'use strict';\n\n  // These are filled with ranges (rangeFrom[i] up to but not including\n  // rangeTo[i]) of code points that count as extending characters.\n  let rangeFrom = [], rangeTo = []\n\n  ;(() => {\n    // Compressed representation of the Grapheme_Cluster_Break=Extend\n    // information from\n    // http://www.unicode.org/Public/16.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n    // Each pair of elements represents a range, as an offet from the\n    // previous range and a length. Numbers are in base-36, with the empty\n    // string being a shorthand for 1.\n    let numbers = \"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n    for (let i = 0, n = 0; i < numbers.length; i++)\n      (i % 2 ? rangeTo : rangeFrom).push(n = n + numbers[i]);\n  })();\n\n  function isExtendingChar(code) {\n    if (code < 768) return false\n    for (let from = 0, to = rangeFrom.length;;) {\n      let mid = (from + to) >> 1;\n      if (code < rangeFrom[mid]) to = mid;\n      else if (code >= rangeTo[mid]) from = mid + 1;\n      else return true\n      if (from == to) return false\n    }\n  }\n\n  function isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF\n  }\n\n  const ZWJ = 0x200d;\n\n  function findClusterBreak$1(str, pos, forward = true, includeExtending = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos, includeExtending)\n  }\n\n  function nextClusterBreak(str, pos, includeExtending) {\n    if (pos == str.length) return pos\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow$1(str.charCodeAt(pos)) && surrogateHigh$1(str.charCodeAt(pos - 1))) pos--;\n    let prev = codePointAt$1(str, pos);\n    pos += codePointSize$1(prev);\n    while (pos < str.length) {\n      let next = codePointAt$1(str, pos);\n      if (prev == ZWJ || next == ZWJ || includeExtending && isExtendingChar(next)) {\n        pos += codePointSize$1(next);\n        prev = next;\n      } else if (isRegionalIndicator(next)) {\n        let countBefore = 0, i = pos - 2;\n        while (i >= 0 && isRegionalIndicator(codePointAt$1(str, i))) { countBefore++; i -= 2; }\n        if (countBefore % 2 == 0) break\n        else pos += 2;\n      } else {\n        break\n      }\n    }\n    return pos\n  }\n\n  function prevClusterBreak(str, pos, includeExtending) {\n    while (pos > 0) {\n      let found = nextClusterBreak(str, pos - 2, includeExtending);\n      if (found < pos) return found\n      pos--;\n    }\n    return 0\n  }\n\n  function codePointAt$1(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh$1(code0) || pos + 1 == str.length) return code0\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow$1(code1)) return code0\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000\n  }\n\n  function surrogateLow$1(ch) { return ch >= 0xDC00 && ch < 0xE000 }\n  function surrogateHigh$1(ch) { return ch >= 0xD800 && ch < 0xDC00 }\n  function codePointSize$1(code) { return code < 0x10000 ? 1 : 2 }\n\n  /**\n  The data structure for documents. @nonabstract\n  */\n  class Text {\n      /**\n      Get the line description around the given position.\n      */\n      lineAt(pos) {\n          if (pos < 0 || pos > this.length)\n              throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n          return this.lineInner(pos, false, 1, 0);\n      }\n      /**\n      Get the description for the given (1-based) line number.\n      */\n      line(n) {\n          if (n < 1 || n > this.lines)\n              throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n          return this.lineInner(n, true, 1, 0);\n      }\n      /**\n      Replace a range of the text with the given content.\n      */\n      replace(from, to, text) {\n          [from, to] = clip(this, from, to);\n          let parts = [];\n          this.decompose(0, from, parts, 2 /* Open.To */);\n          if (text.length)\n              text.decompose(0, text.length, parts, 1 /* Open.From */ | 2 /* Open.To */);\n          this.decompose(to, this.length, parts, 1 /* Open.From */);\n          return TextNode.from(parts, this.length - (to - from) + text.length);\n      }\n      /**\n      Append another document to this one.\n      */\n      append(other) {\n          return this.replace(this.length, this.length, other);\n      }\n      /**\n      Retrieve the text between the given points.\n      */\n      slice(from, to = this.length) {\n          [from, to] = clip(this, from, to);\n          let parts = [];\n          this.decompose(from, to, parts, 0);\n          return TextNode.from(parts, to - from);\n      }\n      /**\n      Test whether this text is equal to another instance.\n      */\n      eq(other) {\n          if (other == this)\n              return true;\n          if (other.length != this.length || other.lines != this.lines)\n              return false;\n          let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);\n          let a = new RawTextCursor(this), b = new RawTextCursor(other);\n          for (let skip = start, pos = start;;) {\n              a.next(skip);\n              b.next(skip);\n              skip = 0;\n              if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                  return false;\n              pos += a.value.length;\n              if (a.done || pos >= end)\n                  return true;\n          }\n      }\n      /**\n      Iterate over the text. When `dir` is `-1`, iteration happens\n      from end to start. This will return lines and the breaks between\n      them as separate strings.\n      */\n      iter(dir = 1) { return new RawTextCursor(this, dir); }\n      /**\n      Iterate over a range of the text. When `from` > `to`, the\n      iterator will run in reverse.\n      */\n      iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n      /**\n      Return a cursor that iterates over the given range of lines,\n      _without_ returning the line breaks between, and yielding empty\n      strings for empty lines.\n      \n      When `from` and `to` are given, they should be 1-based line numbers.\n      */\n      iterLines(from, to) {\n          let inner;\n          if (from == null) {\n              inner = this.iter();\n          }\n          else {\n              if (to == null)\n                  to = this.lines + 1;\n              let start = this.line(from).from;\n              inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));\n          }\n          return new LineCursor(inner);\n      }\n      /**\n      Return the document as a string, using newline characters to\n      separate lines.\n      */\n      toString() { return this.sliceString(0); }\n      /**\n      Convert the document to an array of lines (which can be\n      deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#state.Text^of)).\n      */\n      toJSON() {\n          let lines = [];\n          this.flatten(lines);\n          return lines;\n      }\n      /**\n      @internal\n      */\n      constructor() { }\n      /**\n      Create a `Text` instance for the given array of lines.\n      */\n      static of(text) {\n          if (text.length == 0)\n              throw new RangeError(\"A document must have at least one line\");\n          if (text.length == 1 && !text[0])\n              return Text.empty;\n          return text.length <= 32 /* Tree.Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n      }\n  }\n  // Leaves store an array of line strings. There are always line breaks\n  // between these strings. Leaves are limited in size and have to be\n  // contained in TextNode instances for bigger documents.\n  class TextLeaf extends Text {\n      constructor(text, length = textLength(text)) {\n          super();\n          this.text = text;\n          this.length = length;\n      }\n      get lines() { return this.text.length; }\n      get children() { return null; }\n      lineInner(target, isLine, line, offset) {\n          for (let i = 0;; i++) {\n              let string = this.text[i], end = offset + string.length;\n              if ((isLine ? line : end) >= target)\n                  return new Line$1(offset, end, line, string);\n              offset = end + 1;\n              line++;\n          }\n      }\n      decompose(from, to, target, open) {\n          let text = from <= 0 && to >= this.length ? this\n              : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n          if (open & 1 /* Open.From */) {\n              let prev = target.pop();\n              let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n              if (joined.length <= 32 /* Tree.Branch */) {\n                  target.push(new TextLeaf(joined, prev.length + text.length));\n              }\n              else {\n                  let mid = joined.length >> 1;\n                  target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n              }\n          }\n          else {\n              target.push(text);\n          }\n      }\n      replace(from, to, text) {\n          if (!(text instanceof TextLeaf))\n              return super.replace(from, to, text);\n          [from, to] = clip(this, from, to);\n          let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n          let newLen = this.length + text.length - (to - from);\n          if (lines.length <= 32 /* Tree.Branch */)\n              return new TextLeaf(lines, newLen);\n          return TextNode.from(TextLeaf.split(lines, []), newLen);\n      }\n      sliceString(from, to = this.length, lineSep = \"\\n\") {\n          [from, to] = clip(this, from, to);\n          let result = \"\";\n          for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n              let line = this.text[i], end = pos + line.length;\n              if (pos > from && i)\n                  result += lineSep;\n              if (from < end && to > pos)\n                  result += line.slice(Math.max(0, from - pos), to - pos);\n              pos = end + 1;\n          }\n          return result;\n      }\n      flatten(target) {\n          for (let line of this.text)\n              target.push(line);\n      }\n      scanIdentical() { return 0; }\n      static split(text, target) {\n          let part = [], len = -1;\n          for (let line of text) {\n              part.push(line);\n              len += line.length + 1;\n              if (part.length == 32 /* Tree.Branch */) {\n                  target.push(new TextLeaf(part, len));\n                  part = [];\n                  len = -1;\n              }\n          }\n          if (len > -1)\n              target.push(new TextLeaf(part, len));\n          return target;\n      }\n  }\n  // Nodes provide the tree structure of the `Text` type. They store a\n  // number of other nodes or leaves, taking care to balance themselves\n  // on changes. There are implied line breaks _between_ the children of\n  // a node (but not before the first or after the last child).\n  class TextNode extends Text {\n      constructor(children, length) {\n          super();\n          this.children = children;\n          this.length = length;\n          this.lines = 0;\n          for (let child of children)\n              this.lines += child.lines;\n      }\n      lineInner(target, isLine, line, offset) {\n          for (let i = 0;; i++) {\n              let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n              if ((isLine ? endLine : end) >= target)\n                  return child.lineInner(target, isLine, line, offset);\n              offset = end + 1;\n              line = endLine + 1;\n          }\n      }\n      decompose(from, to, target, open) {\n          for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n              let child = this.children[i], end = pos + child.length;\n              if (from <= end && to >= pos) {\n                  let childOpen = open & ((pos <= from ? 1 /* Open.From */ : 0) | (end >= to ? 2 /* Open.To */ : 0));\n                  if (pos >= from && end <= to && !childOpen)\n                      target.push(child);\n                  else\n                      child.decompose(from - pos, to - pos, target, childOpen);\n              }\n              pos = end + 1;\n          }\n      }\n      replace(from, to, text) {\n          [from, to] = clip(this, from, to);\n          if (text.lines < this.lines)\n              for (let i = 0, pos = 0; i < this.children.length; i++) {\n                  let child = this.children[i], end = pos + child.length;\n                  // Fast path: if the change only affects one child and the\n                  // child's size remains in the acceptable range, only update\n                  // that child\n                  if (from >= pos && to <= end) {\n                      let updated = child.replace(from - pos, to - pos, text);\n                      let totalLines = this.lines - child.lines + updated.lines;\n                      if (updated.lines < (totalLines >> (5 /* Tree.BranchShift */ - 1)) &&\n                          updated.lines > (totalLines >> (5 /* Tree.BranchShift */ + 1))) {\n                          let copy = this.children.slice();\n                          copy[i] = updated;\n                          return new TextNode(copy, this.length - (to - from) + text.length);\n                      }\n                      return super.replace(pos, end, updated);\n                  }\n                  pos = end + 1;\n              }\n          return super.replace(from, to, text);\n      }\n      sliceString(from, to = this.length, lineSep = \"\\n\") {\n          [from, to] = clip(this, from, to);\n          let result = \"\";\n          for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n              let child = this.children[i], end = pos + child.length;\n              if (pos > from && i)\n                  result += lineSep;\n              if (from < end && to > pos)\n                  result += child.sliceString(from - pos, to - pos, lineSep);\n              pos = end + 1;\n          }\n          return result;\n      }\n      flatten(target) {\n          for (let child of this.children)\n              child.flatten(target);\n      }\n      scanIdentical(other, dir) {\n          if (!(other instanceof TextNode))\n              return 0;\n          let length = 0;\n          let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length]\n              : [this.children.length - 1, other.children.length - 1, -1, -1];\n          for (;; iA += dir, iB += dir) {\n              if (iA == eA || iB == eB)\n                  return length;\n              let chA = this.children[iA], chB = other.children[iB];\n              if (chA != chB)\n                  return length + chA.scanIdentical(chB, dir);\n              length += chA.length + 1;\n          }\n      }\n      static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n          let lines = 0;\n          for (let ch of children)\n              lines += ch.lines;\n          if (lines < 32 /* Tree.Branch */) {\n              let flat = [];\n              for (let ch of children)\n                  ch.flatten(flat);\n              return new TextLeaf(flat, length);\n          }\n          let chunk = Math.max(32 /* Tree.Branch */, lines >> 5 /* Tree.BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n          let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n          function add(child) {\n              let last;\n              if (child.lines > maxChunk && child instanceof TextNode) {\n                  for (let node of child.children)\n                      add(node);\n              }\n              else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                  flush();\n                  chunked.push(child);\n              }\n              else if (child instanceof TextLeaf && currentLines &&\n                  (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                  child.lines + last.lines <= 32 /* Tree.Branch */) {\n                  currentLines += child.lines;\n                  currentLen += child.length + 1;\n                  currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n              }\n              else {\n                  if (currentLines + child.lines > chunk)\n                      flush();\n                  currentLines += child.lines;\n                  currentLen += child.length + 1;\n                  currentChunk.push(child);\n              }\n          }\n          function flush() {\n              if (currentLines == 0)\n                  return;\n              chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n              currentLen = -1;\n              currentLines = currentChunk.length = 0;\n          }\n          for (let child of children)\n              add(child);\n          flush();\n          return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n      }\n  }\n  Text.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\n  function textLength(text) {\n      let length = -1;\n      for (let line of text)\n          length += line.length + 1;\n      return length;\n  }\n  function appendText(text, target, from = 0, to = 1e9) {\n      for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n          let line = text[i], end = pos + line.length;\n          if (end >= from) {\n              if (end > to)\n                  line = line.slice(0, to - pos);\n              if (pos < from)\n                  line = line.slice(from - pos);\n              if (first) {\n                  target[target.length - 1] += line;\n                  first = false;\n              }\n              else\n                  target.push(line);\n          }\n          pos = end + 1;\n      }\n      return target;\n  }\n  function sliceText(text, from, to) {\n      return appendText(text, [\"\"], from, to);\n  }\n  class RawTextCursor {\n      constructor(text, dir = 1) {\n          this.dir = dir;\n          this.done = false;\n          this.lineBreak = false;\n          this.value = \"\";\n          this.nodes = [text];\n          this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n      }\n      nextInner(skip, dir) {\n          this.done = this.lineBreak = false;\n          for (;;) {\n              let last = this.nodes.length - 1;\n              let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n              let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n              if (offset == (dir > 0 ? size : 0)) {\n                  if (last == 0) {\n                      this.done = true;\n                      this.value = \"\";\n                      return this;\n                  }\n                  if (dir > 0)\n                      this.offsets[last - 1]++;\n                  this.nodes.pop();\n                  this.offsets.pop();\n              }\n              else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                  this.offsets[last] += dir;\n                  if (skip == 0) {\n                      this.lineBreak = true;\n                      this.value = \"\\n\";\n                      return this;\n                  }\n                  skip--;\n              }\n              else if (top instanceof TextLeaf) {\n                  // Move to the next string\n                  let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                  this.offsets[last] += dir;\n                  if (next.length > Math.max(0, skip)) {\n                      this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                      return this;\n                  }\n                  skip -= next.length;\n              }\n              else {\n                  let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                  if (skip > next.length) {\n                      skip -= next.length;\n                      this.offsets[last] += dir;\n                  }\n                  else {\n                      if (dir < 0)\n                          this.offsets[last]--;\n                      this.nodes.push(next);\n                      this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                  }\n              }\n          }\n      }\n      next(skip = 0) {\n          if (skip < 0) {\n              this.nextInner(-skip, (-this.dir));\n              skip = this.value.length;\n          }\n          return this.nextInner(skip, this.dir);\n      }\n  }\n  class PartialTextCursor {\n      constructor(text, start, end) {\n          this.value = \"\";\n          this.done = false;\n          this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n          this.pos = start > end ? text.length : 0;\n          this.from = Math.min(start, end);\n          this.to = Math.max(start, end);\n      }\n      nextInner(skip, dir) {\n          if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n              this.value = \"\";\n              this.done = true;\n              return this;\n          }\n          skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n          let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n          if (skip > limit)\n              skip = limit;\n          limit -= skip;\n          let { value } = this.cursor.next(skip);\n          this.pos += (value.length + skip) * dir;\n          this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n          this.done = !this.value;\n          return this;\n      }\n      next(skip = 0) {\n          if (skip < 0)\n              skip = Math.max(skip, this.from - this.pos);\n          else if (skip > 0)\n              skip = Math.min(skip, this.to - this.pos);\n          return this.nextInner(skip, this.cursor.dir);\n      }\n      get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n  }\n  class LineCursor {\n      constructor(inner) {\n          this.inner = inner;\n          this.afterBreak = true;\n          this.value = \"\";\n          this.done = false;\n      }\n      next(skip = 0) {\n          let { done, lineBreak, value } = this.inner.next(skip);\n          if (done && this.afterBreak) {\n              this.value = \"\";\n              this.afterBreak = false;\n          }\n          else if (done) {\n              this.done = true;\n              this.value = \"\";\n          }\n          else if (lineBreak) {\n              if (this.afterBreak) {\n                  this.value = \"\";\n              }\n              else {\n                  this.afterBreak = true;\n                  this.next();\n              }\n          }\n          else {\n              this.value = value;\n              this.afterBreak = false;\n          }\n          return this;\n      }\n      get lineBreak() { return false; }\n  }\n  if (typeof Symbol != \"undefined\") {\n      Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n      RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] =\n          LineCursor.prototype[Symbol.iterator] = function () { return this; };\n  }\n  /**\n  This type describes a line in the document. It is created\n  on-demand when lines are [queried](https://codemirror.net/6/docs/ref/#state.Text.lineAt).\n  */\n  let Line$1 = class Line {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The position of the start of the line.\n      */\n      from, \n      /**\n      The position at the end of the line (_before_ the line break,\n      or at the end of document for the last line).\n      */\n      to, \n      /**\n      This line's line number (1-based).\n      */\n      number, \n      /**\n      The line's content.\n      */\n      text) {\n          this.from = from;\n          this.to = to;\n          this.number = number;\n          this.text = text;\n      }\n      /**\n      The length of the line (not including any line break after it).\n      */\n      get length() { return this.to - this.from; }\n  };\n  function clip(text, from, to) {\n      from = Math.max(0, Math.min(text.length, from));\n      return [from, Math.max(from, Math.min(text.length, to))];\n  }\n\n  /**\n  Returns a next grapheme cluster break _after_ (not equal to)\n  `pos`, if `forward` is true, or before otherwise. Returns `pos`\n  itself if no further cluster break is available in the string.\n  Moves across surrogate pairs, extending characters (when\n  `includeExtending` is true), characters joined with zero-width\n  joiners, and flag emoji.\n  */\n  function findClusterBreak(str, pos, forward = true, includeExtending = true) {\n      return findClusterBreak$1(str, pos, forward, includeExtending);\n  }\n  function surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\n  function surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n  /**\n  Find the code point at the given position in a string (like the\n  [`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\n  string method).\n  */\n  function codePointAt(str, pos) {\n      let code0 = str.charCodeAt(pos);\n      if (!surrogateHigh(code0) || pos + 1 == str.length)\n          return code0;\n      let code1 = str.charCodeAt(pos + 1);\n      if (!surrogateLow(code1))\n          return code0;\n      return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n  }\n  /**\n  Given a Unicode codepoint, return the JavaScript string that\n  respresents it (like\n  [`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n  */\n  function fromCodePoint(code) {\n      if (code <= 0xffff)\n          return String.fromCharCode(code);\n      code -= 0x10000;\n      return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n  }\n  /**\n  The amount of positions a character takes up in a JavaScript string.\n  */\n  function codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\n  const DefaultSplit = /\\r\\n?|\\n/;\n  /**\n  Distinguishes different ways in which positions can be mapped.\n  */\n  var MapMode = /*@__PURE__*/(function (MapMode) {\n      /**\n      Map a position to a valid new position, even when its context\n      was deleted.\n      */\n      MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n      /**\n      Return null if deletion happens across the position.\n      */\n      MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n      /**\n      Return null if the character _before_ the position is deleted.\n      */\n      MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n      /**\n      Return null if the character _after_ the position is deleted.\n      */\n      MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\n  return MapMode})(MapMode || (MapMode = {}));\n  /**\n  A change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\n  that doesn't store the inserted text. As such, it can't be\n  applied, but is cheaper to store and manipulate.\n  */\n  class ChangeDesc {\n      // Sections are encoded as pairs of integers. The first is the\n      // length in the current document, and the second is -1 for\n      // unaffected sections, and the length of the replacement content\n      // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n      // 0), and a replacement two positive numbers.\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      @internal\n      */\n      sections) {\n          this.sections = sections;\n      }\n      /**\n      The length of the document before the change.\n      */\n      get length() {\n          let result = 0;\n          for (let i = 0; i < this.sections.length; i += 2)\n              result += this.sections[i];\n          return result;\n      }\n      /**\n      The length of the document after the change.\n      */\n      get newLength() {\n          let result = 0;\n          for (let i = 0; i < this.sections.length; i += 2) {\n              let ins = this.sections[i + 1];\n              result += ins < 0 ? this.sections[i] : ins;\n          }\n          return result;\n      }\n      /**\n      False when there are actual changes in this set.\n      */\n      get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n      /**\n      Iterate over the unchanged parts left by these changes. `posA`\n      provides the position of the range in the old document, `posB`\n      the new position in the changed document.\n      */\n      iterGaps(f) {\n          for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n              let len = this.sections[i++], ins = this.sections[i++];\n              if (ins < 0) {\n                  f(posA, posB, len);\n                  posB += len;\n              }\n              else {\n                  posB += ins;\n              }\n              posA += len;\n          }\n      }\n      /**\n      Iterate over the ranges changed by these changes. (See\n      [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n      variant that also provides you with the inserted text.)\n      `fromA`/`toA` provides the extent of the change in the starting\n      document, `fromB`/`toB` the extent of the replacement in the\n      changed document.\n      \n      When `individual` is true, adjacent changes (which are kept\n      separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n      reported separately.\n      */\n      iterChangedRanges(f, individual = false) {\n          iterChanges(this, f, individual);\n      }\n      /**\n      Get a description of the inverted form of these changes.\n      */\n      get invertedDesc() {\n          let sections = [];\n          for (let i = 0; i < this.sections.length;) {\n              let len = this.sections[i++], ins = this.sections[i++];\n              if (ins < 0)\n                  sections.push(len, ins);\n              else\n                  sections.push(ins, len);\n          }\n          return new ChangeDesc(sections);\n      }\n      /**\n      Compute the combined effect of applying another set of changes\n      after this one. The length of the document after this set should\n      match the length before `other`.\n      */\n      composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n      /**\n      Map this description, which should start with the same document\n      as `other`, over another set of changes, so that it can be\n      applied after it. When `before` is true, map as if the changes\n      in `this` happened before the ones in `other`.\n      */\n      mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n      mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n          let posA = 0, posB = 0;\n          for (let i = 0; i < this.sections.length;) {\n              let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n              if (ins < 0) {\n                  if (endA > pos)\n                      return posB + (pos - posA);\n                  posB += len;\n              }\n              else {\n                  if (mode != MapMode.Simple && endA >= pos &&\n                      (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                          mode == MapMode.TrackBefore && posA < pos ||\n                          mode == MapMode.TrackAfter && endA > pos))\n                      return null;\n                  if (endA > pos || endA == pos && assoc < 0 && !len)\n                      return pos == posA || assoc < 0 ? posB : posB + ins;\n                  posB += ins;\n              }\n              posA = endA;\n          }\n          if (pos > posA)\n              throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n          return posB;\n      }\n      /**\n      Check whether these changes touch a given range. When one of the\n      changes entirely covers the range, the string `\"cover\"` is\n      returned.\n      */\n      touchesRange(from, to = from) {\n          for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n              let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n              if (ins >= 0 && pos <= to && end >= from)\n                  return pos < from && end > to ? \"cover\" : true;\n              pos = end;\n          }\n          return false;\n      }\n      /**\n      @internal\n      */\n      toString() {\n          let result = \"\";\n          for (let i = 0; i < this.sections.length;) {\n              let len = this.sections[i++], ins = this.sections[i++];\n              result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n          }\n          return result;\n      }\n      /**\n      Serialize this change desc to a JSON-representable value.\n      */\n      toJSON() { return this.sections; }\n      /**\n      Create a change desc from its JSON representation (as produced\n      by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n      */\n      static fromJSON(json) {\n          if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n              throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n          return new ChangeDesc(json);\n      }\n      /**\n      @internal\n      */\n      static create(sections) { return new ChangeDesc(sections); }\n  }\n  /**\n  A change set represents a group of modifications to a document. It\n  stores the document length, and can only be applied to documents\n  with exactly that length.\n  */\n  class ChangeSet extends ChangeDesc {\n      constructor(sections, \n      /**\n      @internal\n      */\n      inserted) {\n          super(sections);\n          this.inserted = inserted;\n      }\n      /**\n      Apply the changes to a document, returning the modified\n      document.\n      */\n      apply(doc) {\n          if (this.length != doc.length)\n              throw new RangeError(\"Applying change set to a document with the wrong length\");\n          iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n          return doc;\n      }\n      mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n      /**\n      Given the document as it existed _before_ the changes, return a\n      change set that represents the inverse of this set, which could\n      be used to go from the document created by the changes back to\n      the document as it existed before the changes.\n      */\n      invert(doc) {\n          let sections = this.sections.slice(), inserted = [];\n          for (let i = 0, pos = 0; i < sections.length; i += 2) {\n              let len = sections[i], ins = sections[i + 1];\n              if (ins >= 0) {\n                  sections[i] = ins;\n                  sections[i + 1] = len;\n                  let index = i >> 1;\n                  while (inserted.length < index)\n                      inserted.push(Text.empty);\n                  inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n              }\n              pos += len;\n          }\n          return new ChangeSet(sections, inserted);\n      }\n      /**\n      Combine two subsequent change sets into a single set. `other`\n      must start in the document produced by `this`. If `this` goes\n      `docA`  `docB` and `other` represents `docB`  `docC`, the\n      returned value will represent the change `docA`  `docC`.\n      */\n      compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n      /**\n      Given another change set starting in the same document, maps this\n      change set over the other, producing a new change set that can be\n      applied to the document produced by applying `other`. When\n      `before` is `true`, order changes as if `this` comes before\n      `other`, otherwise (the default) treat `other` as coming first.\n      \n      Given two changes `A` and `B`, `A.compose(B.map(A))` and\n      `B.compose(A.map(B, true))` will produce the same document. This\n      provides a basic form of [operational\n      transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n      and can be used for collaborative editing.\n      */\n      map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n      /**\n      Iterate over the changed ranges in the document, calling `f` for\n      each, with the range in the original document (`fromA`-`toA`)\n      and the range that replaces it in the new document\n      (`fromB`-`toB`).\n      \n      When `individual` is true, adjacent changes are reported\n      separately.\n      */\n      iterChanges(f, individual = false) {\n          iterChanges(this, f, individual);\n      }\n      /**\n      Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n      set.\n      */\n      get desc() { return ChangeDesc.create(this.sections); }\n      /**\n      @internal\n      */\n      filter(ranges) {\n          let resultSections = [], resultInserted = [], filteredSections = [];\n          let iter = new SectionIter(this);\n          done: for (let i = 0, pos = 0;;) {\n              let next = i == ranges.length ? 1e9 : ranges[i++];\n              while (pos < next || pos == next && iter.len == 0) {\n                  if (iter.done)\n                      break done;\n                  let len = Math.min(iter.len, next - pos);\n                  addSection(filteredSections, len, -1);\n                  let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                  addSection(resultSections, len, ins);\n                  if (ins > 0)\n                      addInsert(resultInserted, resultSections, iter.text);\n                  iter.forward(len);\n                  pos += len;\n              }\n              let end = ranges[i++];\n              while (pos < end) {\n                  if (iter.done)\n                      break done;\n                  let len = Math.min(iter.len, end - pos);\n                  addSection(resultSections, len, -1);\n                  addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                  iter.forward(len);\n                  pos += len;\n              }\n          }\n          return { changes: new ChangeSet(resultSections, resultInserted),\n              filtered: ChangeDesc.create(filteredSections) };\n      }\n      /**\n      Serialize this change set to a JSON-representable value.\n      */\n      toJSON() {\n          let parts = [];\n          for (let i = 0; i < this.sections.length; i += 2) {\n              let len = this.sections[i], ins = this.sections[i + 1];\n              if (ins < 0)\n                  parts.push(len);\n              else if (ins == 0)\n                  parts.push([len]);\n              else\n                  parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n          }\n          return parts;\n      }\n      /**\n      Create a change set for the given changes, for a document of the\n      given length, using `lineSep` as line separator.\n      */\n      static of(changes, length, lineSep) {\n          let sections = [], inserted = [], pos = 0;\n          let total = null;\n          function flush(force = false) {\n              if (!force && !sections.length)\n                  return;\n              if (pos < length)\n                  addSection(sections, length - pos, -1);\n              let set = new ChangeSet(sections, inserted);\n              total = total ? total.compose(set.map(total)) : set;\n              sections = [];\n              inserted = [];\n              pos = 0;\n          }\n          function process(spec) {\n              if (Array.isArray(spec)) {\n                  for (let sub of spec)\n                      process(sub);\n              }\n              else if (spec instanceof ChangeSet) {\n                  if (spec.length != length)\n                      throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                  flush();\n                  total = total ? total.compose(spec.map(total)) : spec;\n              }\n              else {\n                  let { from, to = from, insert } = spec;\n                  if (from > to || from < 0 || to > length)\n                      throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                  let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                  let insLen = insText.length;\n                  if (from == to && insLen == 0)\n                      return;\n                  if (from < pos)\n                      flush();\n                  if (from > pos)\n                      addSection(sections, from - pos, -1);\n                  addSection(sections, to - from, insLen);\n                  addInsert(inserted, sections, insText);\n                  pos = to;\n              }\n          }\n          process(changes);\n          flush(!total);\n          return total;\n      }\n      /**\n      Create an empty changeset of the given length.\n      */\n      static empty(length) {\n          return new ChangeSet(length ? [length, -1] : [], []);\n      }\n      /**\n      Create a changeset from its JSON representation (as produced by\n      [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n      */\n      static fromJSON(json) {\n          if (!Array.isArray(json))\n              throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n          let sections = [], inserted = [];\n          for (let i = 0; i < json.length; i++) {\n              let part = json[i];\n              if (typeof part == \"number\") {\n                  sections.push(part, -1);\n              }\n              else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                  throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n              }\n              else if (part.length == 1) {\n                  sections.push(part[0], 0);\n              }\n              else {\n                  while (inserted.length < i)\n                      inserted.push(Text.empty);\n                  inserted[i] = Text.of(part.slice(1));\n                  sections.push(part[0], inserted[i].length);\n              }\n          }\n          return new ChangeSet(sections, inserted);\n      }\n      /**\n      @internal\n      */\n      static createSet(sections, inserted) {\n          return new ChangeSet(sections, inserted);\n      }\n  }\n  function addSection(sections, len, ins, forceJoin = false) {\n      if (len == 0 && ins <= 0)\n          return;\n      let last = sections.length - 2;\n      if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n          sections[last] += len;\n      else if (last >= 0 && len == 0 && sections[last] == 0)\n          sections[last + 1] += ins;\n      else if (forceJoin) {\n          sections[last] += len;\n          sections[last + 1] += ins;\n      }\n      else\n          sections.push(len, ins);\n  }\n  function addInsert(values, sections, value) {\n      if (value.length == 0)\n          return;\n      let index = (sections.length - 2) >> 1;\n      if (index < values.length) {\n          values[values.length - 1] = values[values.length - 1].append(value);\n      }\n      else {\n          while (values.length < index)\n              values.push(Text.empty);\n          values.push(value);\n      }\n  }\n  function iterChanges(desc, f, individual) {\n      let inserted = desc.inserted;\n      for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n          let len = desc.sections[i++], ins = desc.sections[i++];\n          if (ins < 0) {\n              posA += len;\n              posB += len;\n          }\n          else {\n              let endA = posA, endB = posB, text = Text.empty;\n              for (;;) {\n                  endA += len;\n                  endB += ins;\n                  if (ins && inserted)\n                      text = text.append(inserted[(i - 2) >> 1]);\n                  if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                      break;\n                  len = desc.sections[i++];\n                  ins = desc.sections[i++];\n              }\n              f(posA, endA, posB, endB, text);\n              posA = endA;\n              posB = endB;\n          }\n      }\n  }\n  function mapSet(setA, setB, before, mkSet = false) {\n      // Produce a copy of setA that applies to the document after setB\n      // has been applied (assuming both start at the same document).\n      let sections = [], insert = mkSet ? [] : null;\n      let a = new SectionIter(setA), b = new SectionIter(setB);\n      // Iterate over both sets in parallel. inserted tracks, for changes\n      // in A that have to be processed piece-by-piece, whether their\n      // content has been inserted already, and refers to the section\n      // index.\n      for (let inserted = -1;;) {\n          if (a.done && b.len || b.done && a.len) {\n              throw new Error(\"Mismatched change set lengths\");\n          }\n          else if (a.ins == -1 && b.ins == -1) {\n              // Move across ranges skipped by both sets.\n              let len = Math.min(a.len, b.len);\n              addSection(sections, len, -1);\n              a.forward(len);\n              b.forward(len);\n          }\n          else if (b.ins >= 0 && (a.ins < 0 || inserted == a.i || a.off == 0 && (b.len < a.len || b.len == a.len && !before))) {\n              // If there's a change in B that comes before the next change in\n              // A (ordered by start pos, then len, then before flag), skip\n              // that (and process any changes in A it covers).\n              let len = b.len;\n              addSection(sections, b.ins, -1);\n              while (len) {\n                  let piece = Math.min(a.len, len);\n                  if (a.ins >= 0 && inserted < a.i && a.len <= piece) {\n                      addSection(sections, 0, a.ins);\n                      if (insert)\n                          addInsert(insert, sections, a.text);\n                      inserted = a.i;\n                  }\n                  a.forward(piece);\n                  len -= piece;\n              }\n              b.next();\n          }\n          else if (a.ins >= 0) {\n              // Process the part of a change in A up to the start of the next\n              // non-deletion change in B (if overlapping).\n              let len = 0, left = a.len;\n              while (left) {\n                  if (b.ins == -1) {\n                      let piece = Math.min(left, b.len);\n                      len += piece;\n                      left -= piece;\n                      b.forward(piece);\n                  }\n                  else if (b.ins == 0 && b.len < left) {\n                      left -= b.len;\n                      b.next();\n                  }\n                  else {\n                      break;\n                  }\n              }\n              addSection(sections, len, inserted < a.i ? a.ins : 0);\n              if (insert && inserted < a.i)\n                  addInsert(insert, sections, a.text);\n              inserted = a.i;\n              a.forward(a.len - left);\n          }\n          else if (a.done && b.done) {\n              return insert ? ChangeSet.createSet(sections, insert) : ChangeDesc.create(sections);\n          }\n          else {\n              throw new Error(\"Mismatched change set lengths\");\n          }\n      }\n  }\n  function composeSets(setA, setB, mkSet = false) {\n      let sections = [];\n      let insert = mkSet ? [] : null;\n      let a = new SectionIter(setA), b = new SectionIter(setB);\n      for (let open = false;;) {\n          if (a.done && b.done) {\n              return insert ? ChangeSet.createSet(sections, insert) : ChangeDesc.create(sections);\n          }\n          else if (a.ins == 0) { // Deletion in A\n              addSection(sections, a.len, 0, open);\n              a.next();\n          }\n          else if (b.len == 0 && !b.done) { // Insertion in B\n              addSection(sections, 0, b.ins, open);\n              if (insert)\n                  addInsert(insert, sections, b.text);\n              b.next();\n          }\n          else if (a.done || b.done) {\n              throw new Error(\"Mismatched change set lengths\");\n          }\n          else {\n              let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n              if (a.ins == -1) {\n                  let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                  addSection(sections, len, insB, open);\n                  if (insert && insB)\n                      addInsert(insert, sections, b.text);\n              }\n              else if (b.ins == -1) {\n                  addSection(sections, a.off ? 0 : a.len, len, open);\n                  if (insert)\n                      addInsert(insert, sections, a.textBit(len));\n              }\n              else {\n                  addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                  if (insert && !b.off)\n                      addInsert(insert, sections, b.text);\n              }\n              open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n              a.forward2(len);\n              b.forward(len);\n          }\n      }\n  }\n  class SectionIter {\n      constructor(set) {\n          this.set = set;\n          this.i = 0;\n          this.next();\n      }\n      next() {\n          let { sections } = this.set;\n          if (this.i < sections.length) {\n              this.len = sections[this.i++];\n              this.ins = sections[this.i++];\n          }\n          else {\n              this.len = 0;\n              this.ins = -2;\n          }\n          this.off = 0;\n      }\n      get done() { return this.ins == -2; }\n      get len2() { return this.ins < 0 ? this.len : this.ins; }\n      get text() {\n          let { inserted } = this.set, index = (this.i - 2) >> 1;\n          return index >= inserted.length ? Text.empty : inserted[index];\n      }\n      textBit(len) {\n          let { inserted } = this.set, index = (this.i - 2) >> 1;\n          return index >= inserted.length && !len ? Text.empty\n              : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n      }\n      forward(len) {\n          if (len == this.len)\n              this.next();\n          else {\n              this.len -= len;\n              this.off += len;\n          }\n      }\n      forward2(len) {\n          if (this.ins == -1)\n              this.forward(len);\n          else if (len == this.ins)\n              this.next();\n          else {\n              this.ins -= len;\n              this.off += len;\n          }\n      }\n  }\n\n  /**\n  A single selection range. When\n  [`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n  is enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\n  multiple ranges. By default, selections hold exactly one range.\n  */\n  class SelectionRange {\n      constructor(\n      /**\n      The lower boundary of the range.\n      */\n      from, \n      /**\n      The upper boundary of the range.\n      */\n      to, flags) {\n          this.from = from;\n          this.to = to;\n          this.flags = flags;\n      }\n      /**\n      The anchor of the rangethe side that doesn't move when you\n      extend it.\n      */\n      get anchor() { return this.flags & 32 /* RangeFlag.Inverted */ ? this.to : this.from; }\n      /**\n      The head of the range, which is moved when the range is\n      [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n      */\n      get head() { return this.flags & 32 /* RangeFlag.Inverted */ ? this.from : this.to; }\n      /**\n      True when `anchor` and `head` are at the same position.\n      */\n      get empty() { return this.from == this.to; }\n      /**\n      If this is a cursor that is explicitly associated with the\n      character on one of its sides, this returns the side. -1 means\n      the character before its position, 1 the character after, and 0\n      means no association.\n      */\n      get assoc() { return this.flags & 8 /* RangeFlag.AssocBefore */ ? -1 : this.flags & 16 /* RangeFlag.AssocAfter */ ? 1 : 0; }\n      /**\n      The bidirectional text level associated with this cursor, if\n      any.\n      */\n      get bidiLevel() {\n          let level = this.flags & 7 /* RangeFlag.BidiLevelMask */;\n          return level == 7 ? null : level;\n      }\n      /**\n      The goal column (stored vertical offset) associated with a\n      cursor. This is used to preserve the vertical position when\n      [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n      lines of different length.\n      */\n      get goalColumn() {\n          let value = this.flags >> 6 /* RangeFlag.GoalColumnOffset */;\n          return value == 16777215 /* RangeFlag.NoGoalColumn */ ? undefined : value;\n      }\n      /**\n      Map this range through a change, producing a valid range in the\n      updated document.\n      */\n      map(change, assoc = -1) {\n          let from, to;\n          if (this.empty) {\n              from = to = change.mapPos(this.from, assoc);\n          }\n          else {\n              from = change.mapPos(this.from, 1);\n              to = change.mapPos(this.to, -1);\n          }\n          return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n      }\n      /**\n      Extend this range to cover at least `from` to `to`.\n      */\n      extend(from, to = from) {\n          if (from <= this.anchor && to >= this.anchor)\n              return EditorSelection.range(from, to);\n          let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n          return EditorSelection.range(this.anchor, head);\n      }\n      /**\n      Compare this range to another range.\n      */\n      eq(other, includeAssoc = false) {\n          return this.anchor == other.anchor && this.head == other.head &&\n              (!includeAssoc || !this.empty || this.assoc == other.assoc);\n      }\n      /**\n      Return a JSON-serializable object representing the range.\n      */\n      toJSON() { return { anchor: this.anchor, head: this.head }; }\n      /**\n      Convert a JSON representation of a range to a `SelectionRange`\n      instance.\n      */\n      static fromJSON(json) {\n          if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n              throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n          return EditorSelection.range(json.anchor, json.head);\n      }\n      /**\n      @internal\n      */\n      static create(from, to, flags) {\n          return new SelectionRange(from, to, flags);\n      }\n  }\n  /**\n  An editor selection holds one or more selection ranges.\n  */\n  class EditorSelection {\n      constructor(\n      /**\n      The ranges in the selection, sorted by position. Ranges cannot\n      overlap (but they may touch, if they aren't empty).\n      */\n      ranges, \n      /**\n      The index of the _main_ range in the selection (which is\n      usually the range that was added last).\n      */\n      mainIndex) {\n          this.ranges = ranges;\n          this.mainIndex = mainIndex;\n      }\n      /**\n      Map a selection through a change. Used to adjust the selection\n      position for changes.\n      */\n      map(change, assoc = -1) {\n          if (change.empty)\n              return this;\n          return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n      }\n      /**\n      Compare this selection to another selection. By default, ranges\n      are compared only by position. When `includeAssoc` is true,\n      cursor ranges must also have the same\n      [`assoc`](https://codemirror.net/6/docs/ref/#state.SelectionRange.assoc) value.\n      */\n      eq(other, includeAssoc = false) {\n          if (this.ranges.length != other.ranges.length ||\n              this.mainIndex != other.mainIndex)\n              return false;\n          for (let i = 0; i < this.ranges.length; i++)\n              if (!this.ranges[i].eq(other.ranges[i], includeAssoc))\n                  return false;\n          return true;\n      }\n      /**\n      Get the primary selection range. Usually, you should make sure\n      your code applies to _all_ ranges, by using methods like\n      [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n      */\n      get main() { return this.ranges[this.mainIndex]; }\n      /**\n      Make sure the selection only has one range. Returns a selection\n      holding only the main range from this selection.\n      */\n      asSingle() {\n          return this.ranges.length == 1 ? this : new EditorSelection([this.main], 0);\n      }\n      /**\n      Extend this selection with an extra range.\n      */\n      addRange(range, main = true) {\n          return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n      }\n      /**\n      Replace a given range with another range, and then normalize the\n      selection to merge and sort ranges if necessary.\n      */\n      replaceRange(range, which = this.mainIndex) {\n          let ranges = this.ranges.slice();\n          ranges[which] = range;\n          return EditorSelection.create(ranges, this.mainIndex);\n      }\n      /**\n      Convert this selection to an object that can be serialized to\n      JSON.\n      */\n      toJSON() {\n          return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n      }\n      /**\n      Create a selection from a JSON representation.\n      */\n      static fromJSON(json) {\n          if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n              throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n          return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n      }\n      /**\n      Create a selection holding a single range.\n      */\n      static single(anchor, head = anchor) {\n          return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n      }\n      /**\n      Sort and merge the given set of ranges, creating a valid\n      selection.\n      */\n      static create(ranges, mainIndex = 0) {\n          if (ranges.length == 0)\n              throw new RangeError(\"A selection needs at least one range\");\n          for (let pos = 0, i = 0; i < ranges.length; i++) {\n              let range = ranges[i];\n              if (range.empty ? range.from <= pos : range.from < pos)\n                  return EditorSelection.normalized(ranges.slice(), mainIndex);\n              pos = range.to;\n          }\n          return new EditorSelection(ranges, mainIndex);\n      }\n      /**\n      Create a cursor selection range at the given position. You can\n      safely ignore the optional arguments in most situations.\n      */\n      static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n          return SelectionRange.create(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 8 /* RangeFlag.AssocBefore */ : 16 /* RangeFlag.AssocAfter */) |\n              (bidiLevel == null ? 7 : Math.min(6, bidiLevel)) |\n              ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 16777215 /* RangeFlag.NoGoalColumn */) << 6 /* RangeFlag.GoalColumnOffset */));\n      }\n      /**\n      Create a selection range.\n      */\n      static range(anchor, head, goalColumn, bidiLevel) {\n          let flags = ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 16777215 /* RangeFlag.NoGoalColumn */) << 6 /* RangeFlag.GoalColumnOffset */) |\n              (bidiLevel == null ? 7 : Math.min(6, bidiLevel));\n          return head < anchor ? SelectionRange.create(head, anchor, 32 /* RangeFlag.Inverted */ | 16 /* RangeFlag.AssocAfter */ | flags)\n              : SelectionRange.create(anchor, head, (head > anchor ? 8 /* RangeFlag.AssocBefore */ : 0) | flags);\n      }\n      /**\n      @internal\n      */\n      static normalized(ranges, mainIndex = 0) {\n          let main = ranges[mainIndex];\n          ranges.sort((a, b) => a.from - b.from);\n          mainIndex = ranges.indexOf(main);\n          for (let i = 1; i < ranges.length; i++) {\n              let range = ranges[i], prev = ranges[i - 1];\n              if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n                  let from = prev.from, to = Math.max(range.to, prev.to);\n                  if (i <= mainIndex)\n                      mainIndex--;\n                  ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n              }\n          }\n          return new EditorSelection(ranges, mainIndex);\n      }\n  }\n  function checkSelection(selection, docLength) {\n      for (let range of selection.ranges)\n          if (range.to > docLength)\n              throw new RangeError(\"Selection points outside of document\");\n  }\n\n  let nextID = 0;\n  /**\n  A facet is a labeled value that is associated with an editor\n  state. It takes inputs from any number of extensions, and combines\n  those into a single output value.\n\n  Examples of uses of facets are the [tab\n  size](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize), [editor\n  attributes](https://codemirror.net/6/docs/ref/#view.EditorView^editorAttributes), and [update\n  listeners](https://codemirror.net/6/docs/ref/#view.EditorView^updateListener).\n\n  Note that `Facet` instances can be used anywhere where\n  [`FacetReader`](https://codemirror.net/6/docs/ref/#state.FacetReader) is expected.\n  */\n  class Facet {\n      constructor(\n      /**\n      @internal\n      */\n      combine, \n      /**\n      @internal\n      */\n      compareInput, \n      /**\n      @internal\n      */\n      compare, isStatic, enables) {\n          this.combine = combine;\n          this.compareInput = compareInput;\n          this.compare = compare;\n          this.isStatic = isStatic;\n          /**\n          @internal\n          */\n          this.id = nextID++;\n          this.default = combine([]);\n          this.extensions = typeof enables == \"function\" ? enables(this) : enables;\n      }\n      /**\n      Returns a facet reader for this facet, which can be used to\n      [read](https://codemirror.net/6/docs/ref/#state.EditorState.facet) it but not to define values for it.\n      */\n      get reader() { return this; }\n      /**\n      Define a new facet.\n      */\n      static define(config = {}) {\n          return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray$1 : (a, b) => a === b), !!config.static, config.enables);\n      }\n      /**\n      Returns an extension that adds the given value to this facet.\n      */\n      of(value) {\n          return new FacetProvider([], this, 0 /* Provider.Static */, value);\n      }\n      /**\n      Create an extension that computes a value for the facet from a\n      state. You must take care to declare the parts of the state that\n      this value depends on, since your function is only called again\n      for a new state when one of those parts changed.\n      \n      In cases where your value depends only on a single field, you'll\n      want to use the [`from`](https://codemirror.net/6/docs/ref/#state.Facet.from) method instead.\n      */\n      compute(deps, get) {\n          if (this.isStatic)\n              throw new Error(\"Can't compute a static facet\");\n          return new FacetProvider(deps, this, 1 /* Provider.Single */, get);\n      }\n      /**\n      Create an extension that computes zero or more values for this\n      facet from a state.\n      */\n      computeN(deps, get) {\n          if (this.isStatic)\n              throw new Error(\"Can't compute a static facet\");\n          return new FacetProvider(deps, this, 2 /* Provider.Multi */, get);\n      }\n      from(field, get) {\n          if (!get)\n              get = x => x;\n          return this.compute([field], state => get(state.field(field)));\n      }\n  }\n  function sameArray$1(a, b) {\n      return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n  }\n  class FacetProvider {\n      constructor(dependencies, facet, type, value) {\n          this.dependencies = dependencies;\n          this.facet = facet;\n          this.type = type;\n          this.value = value;\n          this.id = nextID++;\n      }\n      dynamicSlot(addresses) {\n          var _a;\n          let getter = this.value;\n          let compare = this.facet.compareInput;\n          let id = this.id, idx = addresses[id] >> 1, multi = this.type == 2 /* Provider.Multi */;\n          let depDoc = false, depSel = false, depAddrs = [];\n          for (let dep of this.dependencies) {\n              if (dep == \"doc\")\n                  depDoc = true;\n              else if (dep == \"selection\")\n                  depSel = true;\n              else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                  depAddrs.push(addresses[dep.id]);\n          }\n          return {\n              create(state) {\n                  state.values[idx] = getter(state);\n                  return 1 /* SlotStatus.Changed */;\n              },\n              update(state, tr) {\n                  if ((depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) || ensureAll(state, depAddrs)) {\n                      let newVal = getter(state);\n                      if (multi ? !compareArray(newVal, state.values[idx], compare) : !compare(newVal, state.values[idx])) {\n                          state.values[idx] = newVal;\n                          return 1 /* SlotStatus.Changed */;\n                      }\n                  }\n                  return 0;\n              },\n              reconfigure: (state, oldState) => {\n                  let newVal, oldAddr = oldState.config.address[id];\n                  if (oldAddr != null) {\n                      let oldVal = getAddr(oldState, oldAddr);\n                      if (this.dependencies.every(dep => {\n                          return dep instanceof Facet ? oldState.facet(dep) === state.facet(dep) :\n                              dep instanceof StateField ? oldState.field(dep, false) == state.field(dep, false) : true;\n                      }) || (multi ? compareArray(newVal = getter(state), oldVal, compare) : compare(newVal = getter(state), oldVal))) {\n                          state.values[idx] = oldVal;\n                          return 0;\n                      }\n                  }\n                  else {\n                      newVal = getter(state);\n                  }\n                  state.values[idx] = newVal;\n                  return 1 /* SlotStatus.Changed */;\n              }\n          };\n      }\n  }\n  function compareArray(a, b, compare) {\n      if (a.length != b.length)\n          return false;\n      for (let i = 0; i < a.length; i++)\n          if (!compare(a[i], b[i]))\n              return false;\n      return true;\n  }\n  function ensureAll(state, addrs) {\n      let changed = false;\n      for (let addr of addrs)\n          if (ensureAddr(state, addr) & 1 /* SlotStatus.Changed */)\n              changed = true;\n      return changed;\n  }\n  function dynamicFacetSlot(addresses, facet, providers) {\n      let providerAddrs = providers.map(p => addresses[p.id]);\n      let providerTypes = providers.map(p => p.type);\n      let dynamic = providerAddrs.filter(p => !(p & 1));\n      let idx = addresses[facet.id] >> 1;\n      function get(state) {\n          let values = [];\n          for (let i = 0; i < providerAddrs.length; i++) {\n              let value = getAddr(state, providerAddrs[i]);\n              if (providerTypes[i] == 2 /* Provider.Multi */)\n                  for (let val of value)\n                      values.push(val);\n              else\n                  values.push(value);\n          }\n          return facet.combine(values);\n      }\n      return {\n          create(state) {\n              for (let addr of providerAddrs)\n                  ensureAddr(state, addr);\n              state.values[idx] = get(state);\n              return 1 /* SlotStatus.Changed */;\n          },\n          update(state, tr) {\n              if (!ensureAll(state, dynamic))\n                  return 0;\n              let value = get(state);\n              if (facet.compare(value, state.values[idx]))\n                  return 0;\n              state.values[idx] = value;\n              return 1 /* SlotStatus.Changed */;\n          },\n          reconfigure(state, oldState) {\n              let depChanged = ensureAll(state, providerAddrs);\n              let oldProviders = oldState.config.facets[facet.id], oldValue = oldState.facet(facet);\n              if (oldProviders && !depChanged && sameArray$1(providers, oldProviders)) {\n                  state.values[idx] = oldValue;\n                  return 0;\n              }\n              let value = get(state);\n              if (facet.compare(value, oldValue)) {\n                  state.values[idx] = oldValue;\n                  return 0;\n              }\n              state.values[idx] = value;\n              return 1 /* SlotStatus.Changed */;\n          }\n      };\n  }\n  const initField = /*@__PURE__*/Facet.define({ static: true });\n  /**\n  Fields can store additional information in an editor state, and\n  keep it in sync with the rest of the state.\n  */\n  class StateField {\n      constructor(\n      /**\n      @internal\n      */\n      id, createF, updateF, compareF, \n      /**\n      @internal\n      */\n      spec) {\n          this.id = id;\n          this.createF = createF;\n          this.updateF = updateF;\n          this.compareF = compareF;\n          this.spec = spec;\n          /**\n          @internal\n          */\n          this.provides = undefined;\n      }\n      /**\n      Define a state field.\n      */\n      static define(config) {\n          let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n          if (config.provide)\n              field.provides = config.provide(field);\n          return field;\n      }\n      create(state) {\n          let init = state.facet(initField).find(i => i.field == this);\n          return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n      }\n      /**\n      @internal\n      */\n      slot(addresses) {\n          let idx = addresses[this.id] >> 1;\n          return {\n              create: (state) => {\n                  state.values[idx] = this.create(state);\n                  return 1 /* SlotStatus.Changed */;\n              },\n              update: (state, tr) => {\n                  let oldVal = state.values[idx];\n                  let value = this.updateF(oldVal, tr);\n                  if (this.compareF(oldVal, value))\n                      return 0;\n                  state.values[idx] = value;\n                  return 1 /* SlotStatus.Changed */;\n              },\n              reconfigure: (state, oldState) => {\n                  let init = state.facet(initField), oldInit = oldState.facet(initField), reInit;\n                  if ((reInit = init.find(i => i.field == this)) && reInit != oldInit.find(i => i.field == this)) {\n                      state.values[idx] = reInit.create(state);\n                      return 1 /* SlotStatus.Changed */;\n                  }\n                  if (oldState.config.address[this.id] != null) {\n                      state.values[idx] = oldState.field(this);\n                      return 0;\n                  }\n                  state.values[idx] = this.create(state);\n                  return 1 /* SlotStatus.Changed */;\n              }\n          };\n      }\n      /**\n      Returns an extension that enables this field and overrides the\n      way it is initialized. Can be useful when you need to provide a\n      non-default starting value for the field.\n      */\n      init(create) {\n          return [this, initField.of({ field: this, create })];\n      }\n      /**\n      State field instances can be used as\n      [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n      given state.\n      */\n      get extension() { return this; }\n  }\n  const Prec_ = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };\n  function prec(value) {\n      return (ext) => new PrecExtension(ext, value);\n  }\n  /**\n  By default extensions are registered in the order they are found\n  in the flattened form of nested array that was provided.\n  Individual extension values can be assigned a precedence to\n  override this. Extensions that do not have a precedence set get\n  the precedence of the nearest parent with a precedence, or\n  [`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\n  final ordering of extensions is determined by first sorting by\n  precedence and then by order within each precedence.\n  */\n  const Prec = {\n      /**\n      The highest precedence level, for extensions that should end up\n      near the start of the precedence ordering.\n      */\n      highest: /*@__PURE__*/prec(Prec_.highest),\n      /**\n      A higher-than-default precedence, for extensions that should\n      come before those with default precedence.\n      */\n      high: /*@__PURE__*/prec(Prec_.high),\n      /**\n      The default precedence, which is also used for extensions\n      without an explicit precedence.\n      */\n      default: /*@__PURE__*/prec(Prec_.default),\n      /**\n      A lower-than-default precedence.\n      */\n      low: /*@__PURE__*/prec(Prec_.low),\n      /**\n      The lowest precedence level. Meant for things that should end up\n      near the end of the extension order.\n      */\n      lowest: /*@__PURE__*/prec(Prec_.lowest)\n  };\n  class PrecExtension {\n      constructor(inner, prec) {\n          this.inner = inner;\n          this.prec = prec;\n      }\n  }\n  /**\n  Extension compartments can be used to make a configuration\n  dynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\n  configuration in a compartment, you can later\n  [replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\n  transaction.\n  */\n  class Compartment {\n      /**\n      Create an instance of this compartment to add to your [state\n      configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n      */\n      of(ext) { return new CompartmentInstance(this, ext); }\n      /**\n      Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n      reconfigures this compartment.\n      */\n      reconfigure(content) {\n          return Compartment.reconfigure.of({ compartment: this, extension: content });\n      }\n      /**\n      Get the current content of the compartment in the state, or\n      `undefined` if it isn't present.\n      */\n      get(state) {\n          return state.config.compartments.get(this);\n      }\n  }\n  class CompartmentInstance {\n      constructor(compartment, inner) {\n          this.compartment = compartment;\n          this.inner = inner;\n      }\n  }\n  class Configuration {\n      constructor(base, compartments, dynamicSlots, address, staticValues, facets) {\n          this.base = base;\n          this.compartments = compartments;\n          this.dynamicSlots = dynamicSlots;\n          this.address = address;\n          this.staticValues = staticValues;\n          this.facets = facets;\n          this.statusTemplate = [];\n          while (this.statusTemplate.length < dynamicSlots.length)\n              this.statusTemplate.push(0 /* SlotStatus.Unresolved */);\n      }\n      staticFacet(facet) {\n          let addr = this.address[facet.id];\n          return addr == null ? facet.default : this.staticValues[addr >> 1];\n      }\n      static resolve(base, compartments, oldState) {\n          let fields = [];\n          let facets = Object.create(null);\n          let newCompartments = new Map();\n          for (let ext of flatten(base, compartments, newCompartments)) {\n              if (ext instanceof StateField)\n                  fields.push(ext);\n              else\n                  (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n          }\n          let address = Object.create(null);\n          let staticValues = [];\n          let dynamicSlots = [];\n          for (let field of fields) {\n              address[field.id] = dynamicSlots.length << 1;\n              dynamicSlots.push(a => field.slot(a));\n          }\n          let oldFacets = oldState === null || oldState === void 0 ? void 0 : oldState.config.facets;\n          for (let id in facets) {\n              let providers = facets[id], facet = providers[0].facet;\n              let oldProviders = oldFacets && oldFacets[id] || [];\n              if (providers.every(p => p.type == 0 /* Provider.Static */)) {\n                  address[facet.id] = (staticValues.length << 1) | 1;\n                  if (sameArray$1(oldProviders, providers)) {\n                      staticValues.push(oldState.facet(facet));\n                  }\n                  else {\n                      let value = facet.combine(providers.map(p => p.value));\n                      staticValues.push(oldState && facet.compare(value, oldState.facet(facet)) ? oldState.facet(facet) : value);\n                  }\n              }\n              else {\n                  for (let p of providers) {\n                      if (p.type == 0 /* Provider.Static */) {\n                          address[p.id] = (staticValues.length << 1) | 1;\n                          staticValues.push(p.value);\n                      }\n                      else {\n                          address[p.id] = dynamicSlots.length << 1;\n                          dynamicSlots.push(a => p.dynamicSlot(a));\n                      }\n                  }\n                  address[facet.id] = dynamicSlots.length << 1;\n                  dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n              }\n          }\n          let dynamic = dynamicSlots.map(f => f(address));\n          return new Configuration(base, newCompartments, dynamic, address, staticValues, facets);\n      }\n  }\n  function flatten(extension, compartments, newCompartments) {\n      let result = [[], [], [], [], []];\n      let seen = new Map();\n      function inner(ext, prec) {\n          let known = seen.get(ext);\n          if (known != null) {\n              if (known <= prec)\n                  return;\n              let found = result[known].indexOf(ext);\n              if (found > -1)\n                  result[known].splice(found, 1);\n              if (ext instanceof CompartmentInstance)\n                  newCompartments.delete(ext.compartment);\n          }\n          seen.set(ext, prec);\n          if (Array.isArray(ext)) {\n              for (let e of ext)\n                  inner(e, prec);\n          }\n          else if (ext instanceof CompartmentInstance) {\n              if (newCompartments.has(ext.compartment))\n                  throw new RangeError(`Duplicate use of compartment in extensions`);\n              let content = compartments.get(ext.compartment) || ext.inner;\n              newCompartments.set(ext.compartment, content);\n              inner(content, prec);\n          }\n          else if (ext instanceof PrecExtension) {\n              inner(ext.inner, ext.prec);\n          }\n          else if (ext instanceof StateField) {\n              result[prec].push(ext);\n              if (ext.provides)\n                  inner(ext.provides, prec);\n          }\n          else if (ext instanceof FacetProvider) {\n              result[prec].push(ext);\n              if (ext.facet.extensions)\n                  inner(ext.facet.extensions, Prec_.default);\n          }\n          else {\n              let content = ext.extension;\n              if (!content)\n                  throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n              inner(content, prec);\n          }\n      }\n      inner(extension, Prec_.default);\n      return result.reduce((a, b) => a.concat(b));\n  }\n  function ensureAddr(state, addr) {\n      if (addr & 1)\n          return 2 /* SlotStatus.Computed */;\n      let idx = addr >> 1;\n      let status = state.status[idx];\n      if (status == 4 /* SlotStatus.Computing */)\n          throw new Error(\"Cyclic dependency between fields and/or facets\");\n      if (status & 2 /* SlotStatus.Computed */)\n          return status;\n      state.status[idx] = 4 /* SlotStatus.Computing */;\n      let changed = state.computeSlot(state, state.config.dynamicSlots[idx]);\n      return state.status[idx] = 2 /* SlotStatus.Computed */ | changed;\n  }\n  function getAddr(state, addr) {\n      return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n  }\n\n  const languageData = /*@__PURE__*/Facet.define();\n  const allowMultipleSelections = /*@__PURE__*/Facet.define({\n      combine: values => values.some(v => v),\n      static: true\n  });\n  const lineSeparator = /*@__PURE__*/Facet.define({\n      combine: values => values.length ? values[0] : undefined,\n      static: true\n  });\n  const changeFilter = /*@__PURE__*/Facet.define();\n  const transactionFilter = /*@__PURE__*/Facet.define();\n  const transactionExtender = /*@__PURE__*/Facet.define();\n  const readOnly = /*@__PURE__*/Facet.define({\n      combine: values => values.length ? values[0] : false\n  });\n\n  /**\n  Annotations are tagged values that are used to add metadata to\n  transactions in an extensible way. They should be used to model\n  things that effect the entire transaction (such as its [time\n  stamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n  [origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n  _alongside_ the other changes made by the transaction, [state\n  effects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n  */\n  class Annotation {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The annotation type.\n      */\n      type, \n      /**\n      The value of this annotation.\n      */\n      value) {\n          this.type = type;\n          this.value = value;\n      }\n      /**\n      Define a new type of annotation.\n      */\n      static define() { return new AnnotationType(); }\n  }\n  /**\n  Marker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n  */\n  class AnnotationType {\n      /**\n      Create an instance of this annotation.\n      */\n      of(value) { return new Annotation(this, value); }\n  }\n  /**\n  Representation of a type of state effect. Defined with\n  [`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n  */\n  class StateEffectType {\n      /**\n      @internal\n      */\n      constructor(\n      // The `any` types in these function types are there to work\n      // around TypeScript issue #37631, where the type guard on\n      // `StateEffect.is` mysteriously stops working when these properly\n      // have type `Value`.\n      /**\n      @internal\n      */\n      map) {\n          this.map = map;\n      }\n      /**\n      Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n      type.\n      */\n      of(value) { return new StateEffect(this, value); }\n  }\n  /**\n  State effects can be used to represent additional effects\n  associated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\n  are often useful to model changes to custom [state\n  fields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\n  document or selection changes.\n  */\n  class StateEffect {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      @internal\n      */\n      type, \n      /**\n      The value of this effect.\n      */\n      value) {\n          this.type = type;\n          this.value = value;\n      }\n      /**\n      Map this effect through a position mapping. Will return\n      `undefined` when that ends up deleting the effect.\n      */\n      map(mapping) {\n          let mapped = this.type.map(this.value, mapping);\n          return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n      }\n      /**\n      Tells you whether this effect object is of a given\n      [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n      */\n      is(type) { return this.type == type; }\n      /**\n      Define a new effect type. The type parameter indicates the type\n      of values that his effect holds. It should be a type that\n      doesn't include `undefined`, since that is used in\n      [mapping](https://codemirror.net/6/docs/ref/#state.StateEffect.map) to indicate that an effect is\n      removed.\n      */\n      static define(spec = {}) {\n          return new StateEffectType(spec.map || (v => v));\n      }\n      /**\n      Map an array of effects through a change set.\n      */\n      static mapEffects(effects, mapping) {\n          if (!effects.length)\n              return effects;\n          let result = [];\n          for (let effect of effects) {\n              let mapped = effect.map(mapping);\n              if (mapped)\n                  result.push(mapped);\n          }\n          return result;\n      }\n  }\n  /**\n  This effect can be used to reconfigure the root extensions of\n  the editor. Doing this will discard any extensions\n  [appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\n  the content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\n  compartments.\n  */\n  StateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n  /**\n  Append extensions to the top-level configuration of the editor.\n  */\n  StateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n  /**\n  Changes to the editor state are grouped into transactions.\n  Typically, a user action creates a single transaction, which may\n  contain any number of document changes, may change the selection,\n  or have other effects. Create a transaction by calling\n  [`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update), or immediately\n  dispatch one by calling\n  [`EditorView.dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch).\n  */\n  class Transaction {\n      constructor(\n      /**\n      The state from which the transaction starts.\n      */\n      startState, \n      /**\n      The document changes made by this transaction.\n      */\n      changes, \n      /**\n      The selection set by this transaction, or undefined if it\n      doesn't explicitly set a selection.\n      */\n      selection, \n      /**\n      The effects added to the transaction.\n      */\n      effects, \n      /**\n      @internal\n      */\n      annotations, \n      /**\n      Whether the selection should be scrolled into view after this\n      transaction is dispatched.\n      */\n      scrollIntoView) {\n          this.startState = startState;\n          this.changes = changes;\n          this.selection = selection;\n          this.effects = effects;\n          this.annotations = annotations;\n          this.scrollIntoView = scrollIntoView;\n          /**\n          @internal\n          */\n          this._doc = null;\n          /**\n          @internal\n          */\n          this._state = null;\n          if (selection)\n              checkSelection(selection, changes.newLength);\n          if (!annotations.some((a) => a.type == Transaction.time))\n              this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n      }\n      /**\n      @internal\n      */\n      static create(startState, changes, selection, effects, annotations, scrollIntoView) {\n          return new Transaction(startState, changes, selection, effects, annotations, scrollIntoView);\n      }\n      /**\n      The new document produced by the transaction. Contrary to\n      [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n      force the entire new state to be computed right away, so it is\n      recommended that [transaction\n      filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n      when they need to look at the new document.\n      */\n      get newDoc() {\n          return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n      }\n      /**\n      The new selection produced by the transaction. If\n      [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n      this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n      current selection through the changes made by the transaction.\n      */\n      get newSelection() {\n          return this.selection || this.startState.selection.map(this.changes);\n      }\n      /**\n      The new state created by the transaction. Computed on demand\n      (but retained for subsequent access), so it is recommended not to\n      access it in [transaction\n      filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n      */\n      get state() {\n          if (!this._state)\n              this.startState.applyTransaction(this);\n          return this._state;\n      }\n      /**\n      Get the value of the given annotation type, if any.\n      */\n      annotation(type) {\n          for (let ann of this.annotations)\n              if (ann.type == type)\n                  return ann.value;\n          return undefined;\n      }\n      /**\n      Indicates whether the transaction changed the document.\n      */\n      get docChanged() { return !this.changes.empty; }\n      /**\n      Indicates whether this transaction reconfigures the state\n      (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n      with a top-level configuration\n      [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n      */\n      get reconfigured() { return this.startState.config != this.state.config; }\n      /**\n      Returns true if the transaction has a [user\n      event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to\n      or more specific than `event`. For example, if the transaction\n      has `\"select.pointer\"` as user event, `\"select\"` and\n      `\"select.pointer\"` will match it.\n      */\n      isUserEvent(event) {\n          let e = this.annotation(Transaction.userEvent);\n          return !!(e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == \".\"));\n      }\n  }\n  /**\n  Annotation used to store transaction timestamps. Automatically\n  added to every transaction, holding `Date.now()`.\n  */\n  Transaction.time = /*@__PURE__*/Annotation.define();\n  /**\n  Annotation used to associate a transaction with a user interface\n  event. Holds a string identifying the event, using a\n  dot-separated format to support attaching more specific\n  information. The events used by the core libraries are:\n\n   - `\"input\"` when content is entered\n     - `\"input.type\"` for typed input\n       - `\"input.type.compose\"` for composition\n     - `\"input.paste\"` for pasted input\n     - `\"input.drop\"` when adding content with drag-and-drop\n     - `\"input.complete\"` when autocompleting\n   - `\"delete\"` when the user deletes content\n     - `\"delete.selection\"` when deleting the selection\n     - `\"delete.forward\"` when deleting forward from the selection\n     - `\"delete.backward\"` when deleting backward from the selection\n     - `\"delete.cut\"` when cutting to the clipboard\n   - `\"move\"` when content is moved\n     - `\"move.drop\"` when content is moved within the editor through drag-and-drop\n   - `\"select\"` when explicitly changing the selection\n     - `\"select.pointer\"` when selecting with a mouse or other pointing device\n   - `\"undo\"` and `\"redo\"` for history actions\n\n  Use [`isUserEvent`](https://codemirror.net/6/docs/ref/#state.Transaction.isUserEvent) to check\n  whether the annotation matches a given event.\n  */\n  Transaction.userEvent = /*@__PURE__*/Annotation.define();\n  /**\n  Annotation indicating whether a transaction should be added to\n  the undo history or not.\n  */\n  Transaction.addToHistory = /*@__PURE__*/Annotation.define();\n  /**\n  Annotation indicating (when present and true) that a transaction\n  represents a change made by some other actor, not the user. This\n  is used, for example, to tag other people's changes in\n  collaborative editing.\n  */\n  Transaction.remote = /*@__PURE__*/Annotation.define();\n  function joinRanges(a, b) {\n      let result = [];\n      for (let iA = 0, iB = 0;;) {\n          let from, to;\n          if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n              from = a[iA++];\n              to = a[iA++];\n          }\n          else if (iB < b.length) {\n              from = b[iB++];\n              to = b[iB++];\n          }\n          else\n              return result;\n          if (!result.length || result[result.length - 1] < from)\n              result.push(from, to);\n          else if (result[result.length - 1] < to)\n              result[result.length - 1] = to;\n      }\n  }\n  function mergeTransaction(a, b, sequential) {\n      var _a;\n      let mapForA, mapForB, changes;\n      if (sequential) {\n          mapForA = b.changes;\n          mapForB = ChangeSet.empty(b.changes.length);\n          changes = a.changes.compose(b.changes);\n      }\n      else {\n          mapForA = b.changes.map(a.changes);\n          mapForB = a.changes.mapDesc(b.changes, true);\n          changes = a.changes.compose(mapForA);\n      }\n      return {\n          changes,\n          selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n          effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n          annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n          scrollIntoView: a.scrollIntoView || b.scrollIntoView\n      };\n  }\n  function resolveTransactionInner(state, spec, docSize) {\n      let sel = spec.selection, annotations = asArray$1(spec.annotations);\n      if (spec.userEvent)\n          annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));\n      return {\n          changes: spec.changes instanceof ChangeSet ? spec.changes\n              : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n          selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n          effects: asArray$1(spec.effects),\n          annotations,\n          scrollIntoView: !!spec.scrollIntoView\n      };\n  }\n  function resolveTransaction(state, specs, filter) {\n      let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n      if (specs.length && specs[0].filter === false)\n          filter = false;\n      for (let i = 1; i < specs.length; i++) {\n          if (specs[i].filter === false)\n              filter = false;\n          let seq = !!specs[i].sequential;\n          s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n      }\n      let tr = Transaction.create(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n      return extendTransaction(filter ? filterTransaction(tr) : tr);\n  }\n  // Finish a transaction by applying filters if necessary.\n  function filterTransaction(tr) {\n      let state = tr.startState;\n      // Change filters\n      let result = true;\n      for (let filter of state.facet(changeFilter)) {\n          let value = filter(tr);\n          if (value === false) {\n              result = false;\n              break;\n          }\n          if (Array.isArray(value))\n              result = result === true ? value : joinRanges(result, value);\n      }\n      if (result !== true) {\n          let changes, back;\n          if (result === false) {\n              back = tr.changes.invertedDesc;\n              changes = ChangeSet.empty(state.doc.length);\n          }\n          else {\n              let filtered = tr.changes.filter(result);\n              changes = filtered.changes;\n              back = filtered.filtered.mapDesc(filtered.changes).invertedDesc;\n          }\n          tr = Transaction.create(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n      }\n      // Transaction filters\n      let filters = state.facet(transactionFilter);\n      for (let i = filters.length - 1; i >= 0; i--) {\n          let filtered = filters[i](tr);\n          if (filtered instanceof Transaction)\n              tr = filtered;\n          else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n              tr = filtered[0];\n          else\n              tr = resolveTransaction(state, asArray$1(filtered), false);\n      }\n      return tr;\n  }\n  function extendTransaction(tr) {\n      let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n      for (let i = extenders.length - 1; i >= 0; i--) {\n          let extension = extenders[i](tr);\n          if (extension && Object.keys(extension).length)\n              spec = mergeTransaction(spec, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n      }\n      return spec == tr ? tr : Transaction.create(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n  }\n  const none$3 = [];\n  function asArray$1(value) {\n      return value == null ? none$3 : Array.isArray(value) ? value : [value];\n  }\n\n  /**\n  The categories produced by a [character\n  categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\n  do things like selecting by word.\n  */\n  var CharCategory = /*@__PURE__*/(function (CharCategory) {\n      /**\n      Word characters.\n      */\n      CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n      /**\n      Whitespace.\n      */\n      CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n      /**\n      Anything else.\n      */\n      CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\n  return CharCategory})(CharCategory || (CharCategory = {}));\n  const nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  let wordChar;\n  try {\n      wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n  }\n  catch (_) { }\n  function hasWordChar(str) {\n      if (wordChar)\n          return wordChar.test(str);\n      for (let i = 0; i < str.length; i++) {\n          let ch = str[i];\n          if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n              return true;\n      }\n      return false;\n  }\n  function makeCategorizer(wordChars) {\n      return (char) => {\n          if (!/\\S/.test(char))\n              return CharCategory.Space;\n          if (hasWordChar(char))\n              return CharCategory.Word;\n          for (let i = 0; i < wordChars.length; i++)\n              if (char.indexOf(wordChars[i]) > -1)\n                  return CharCategory.Word;\n          return CharCategory.Other;\n      };\n  }\n\n  /**\n  The editor state class is a persistent (immutable) data structure.\n  To update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n  [transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\n  instance, without modifying the original object.\n\n  As such, _never_ mutate properties of a state directly. That'll\n  just break things.\n  */\n  class EditorState {\n      constructor(\n      /**\n      @internal\n      */\n      config, \n      /**\n      The current document.\n      */\n      doc, \n      /**\n      The current selection.\n      */\n      selection, \n      /**\n      @internal\n      */\n      values, computeSlot, tr) {\n          this.config = config;\n          this.doc = doc;\n          this.selection = selection;\n          this.values = values;\n          this.status = config.statusTemplate.slice();\n          this.computeSlot = computeSlot;\n          // Fill in the computed state immediately, so that further queries\n          // for it made during the update return this state\n          if (tr)\n              tr._state = this;\n          for (let i = 0; i < this.config.dynamicSlots.length; i++)\n              ensureAddr(this, i << 1);\n          this.computeSlot = null;\n      }\n      field(field, require = true) {\n          let addr = this.config.address[field.id];\n          if (addr == null) {\n              if (require)\n                  throw new RangeError(\"Field is not present in this state\");\n              return undefined;\n          }\n          ensureAddr(this, addr);\n          return getAddr(this, addr);\n      }\n      /**\n      Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n      state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n      can be passed. Unless\n      [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n      [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n      are assumed to start in the _current_ document (not the document\n      produced by previous specs), and its\n      [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n      [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n      to the document created by its _own_ changes. The resulting\n      transaction contains the combined effect of all the different\n      specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n      specs take precedence over earlier ones.\n      */\n      update(...specs) {\n          return resolveTransaction(this, specs, true);\n      }\n      /**\n      @internal\n      */\n      applyTransaction(tr) {\n          let conf = this.config, { base, compartments } = conf;\n          for (let effect of tr.effects) {\n              if (effect.is(Compartment.reconfigure)) {\n                  if (conf) {\n                      compartments = new Map;\n                      conf.compartments.forEach((val, key) => compartments.set(key, val));\n                      conf = null;\n                  }\n                  compartments.set(effect.value.compartment, effect.value.extension);\n              }\n              else if (effect.is(StateEffect.reconfigure)) {\n                  conf = null;\n                  base = effect.value;\n              }\n              else if (effect.is(StateEffect.appendConfig)) {\n                  conf = null;\n                  base = asArray$1(base).concat(effect.value);\n              }\n          }\n          let startValues;\n          if (!conf) {\n              conf = Configuration.resolve(base, compartments, this);\n              let intermediateState = new EditorState(conf, this.doc, this.selection, conf.dynamicSlots.map(() => null), (state, slot) => slot.reconfigure(state, this), null);\n              startValues = intermediateState.values;\n          }\n          else {\n              startValues = tr.startState.values.slice();\n          }\n          let selection = tr.startState.facet(allowMultipleSelections) ? tr.newSelection : tr.newSelection.asSingle();\n          new EditorState(conf, tr.newDoc, selection, startValues, (state, slot) => slot.update(state, tr), tr);\n      }\n      /**\n      Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n      replaces every selection range with the given content.\n      */\n      replaceSelection(text) {\n          if (typeof text == \"string\")\n              text = this.toText(text);\n          return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n              range: EditorSelection.cursor(range.from + text.length) }));\n      }\n      /**\n      Create a set of changes and a new selection by running the given\n      function for each range in the active selection. The function\n      can return an optional set of changes (in the coordinate space\n      of the start document), plus an updated range (in the coordinate\n      space of the document produced by the call's own changes). This\n      method will merge all the changes and ranges into a single\n      changeset and selection, and return it as a [transaction\n      spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n      [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n      */\n      changeByRange(f) {\n          let sel = this.selection;\n          let result1 = f(sel.ranges[0]);\n          let changes = this.changes(result1.changes), ranges = [result1.range];\n          let effects = asArray$1(result1.effects);\n          for (let i = 1; i < sel.ranges.length; i++) {\n              let result = f(sel.ranges[i]);\n              let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n              for (let j = 0; j < i; j++)\n                  ranges[j] = ranges[j].map(newMapped);\n              let mapBy = changes.mapDesc(newChanges, true);\n              ranges.push(result.range.map(mapBy));\n              changes = changes.compose(newMapped);\n              effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray$1(result.effects), mapBy));\n          }\n          return {\n              changes,\n              selection: EditorSelection.create(ranges, sel.mainIndex),\n              effects\n          };\n      }\n      /**\n      Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n      description, taking the state's document length and line\n      separator into account.\n      */\n      changes(spec = []) {\n          if (spec instanceof ChangeSet)\n              return spec;\n          return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n      }\n      /**\n      Using the state's [line\n      separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n      [`Text`](https://codemirror.net/6/docs/ref/#state.Text) instance from the given string.\n      */\n      toText(string) {\n          return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n      }\n      /**\n      Return the given range of the document as a string.\n      */\n      sliceDoc(from = 0, to = this.doc.length) {\n          return this.doc.sliceString(from, to, this.lineBreak);\n      }\n      /**\n      Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n      */\n      facet(facet) {\n          let addr = this.config.address[facet.id];\n          if (addr == null)\n              return facet.default;\n          ensureAddr(this, addr);\n          return getAddr(this, addr);\n      }\n      /**\n      Convert this state to a JSON-serializable object. When custom\n      fields should be serialized, you can pass them in as an object\n      mapping property names (in the resulting object, which should\n      not use `doc` or `selection`) to fields.\n      */\n      toJSON(fields) {\n          let result = {\n              doc: this.sliceDoc(),\n              selection: this.selection.toJSON()\n          };\n          if (fields)\n              for (let prop in fields) {\n                  let value = fields[prop];\n                  if (value instanceof StateField && this.config.address[value.id] != null)\n                      result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n              }\n          return result;\n      }\n      /**\n      Deserialize a state from its JSON representation. When custom\n      fields should be deserialized, pass the same object you passed\n      to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n      third argument.\n      */\n      static fromJSON(json, config = {}, fields) {\n          if (!json || typeof json.doc != \"string\")\n              throw new RangeError(\"Invalid JSON representation for EditorState\");\n          let fieldInit = [];\n          if (fields)\n              for (let prop in fields) {\n                  if (Object.prototype.hasOwnProperty.call(json, prop)) {\n                      let field = fields[prop], value = json[prop];\n                      fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n                  }\n              }\n          return EditorState.create({\n              doc: json.doc,\n              selection: EditorSelection.fromJSON(json.selection),\n              extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n          });\n      }\n      /**\n      Create a new state. You'll usually only need this when\n      initializing an editorupdated states are created by applying\n      transactions.\n      */\n      static create(config = {}) {\n          let configuration = Configuration.resolve(config.extensions || [], new Map);\n          let doc = config.doc instanceof Text ? config.doc\n              : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n          let selection = !config.selection ? EditorSelection.single(0)\n              : config.selection instanceof EditorSelection ? config.selection\n                  : EditorSelection.single(config.selection.anchor, config.selection.head);\n          checkSelection(selection, doc.length);\n          if (!configuration.staticFacet(allowMultipleSelections))\n              selection = selection.asSingle();\n          return new EditorState(configuration, doc, selection, configuration.dynamicSlots.map(() => null), (state, slot) => slot.create(state), null);\n      }\n      /**\n      The size (in columns) of a tab in the document, determined by\n      the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n      */\n      get tabSize() { return this.facet(EditorState.tabSize); }\n      /**\n      Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n      string for this state.\n      */\n      get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n      /**\n      Returns true when the editor is\n      [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.\n      */\n      get readOnly() { return this.facet(readOnly); }\n      /**\n      Look up a translation for the given phrase (via the\n      [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n      original string if no translation is found.\n      \n      If additional arguments are passed, they will be inserted in\n      place of markers like `$1` (for the first value) and `$2`, etc.\n      A single `$` is equivalent to `$1`, and `$$` will produce a\n      literal dollar sign.\n      */\n      phrase(phrase, ...insert) {\n          for (let map of this.facet(EditorState.phrases))\n              if (Object.prototype.hasOwnProperty.call(map, phrase)) {\n                  phrase = map[phrase];\n                  break;\n              }\n          if (insert.length)\n              phrase = phrase.replace(/\\$(\\$|\\d*)/g, (m, i) => {\n                  if (i == \"$\")\n                      return \"$\";\n                  let n = +(i || 1);\n                  return !n || n > insert.length ? m : insert[n - 1];\n              });\n          return phrase;\n      }\n      /**\n      Find the values for a given language data field, provided by the\n      the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n      \n      Examples of language data fields are...\n      \n      - [`\"commentTokens\"`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) for specifying\n        comment syntax.\n      - [`\"autocomplete\"`](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion^config.override)\n        for providing language-specific completion sources.\n      - [`\"wordChars\"`](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) for adding\n        characters that should be considered part of words in this\n        language.\n      - [`\"closeBrackets\"`](https://codemirror.net/6/docs/ref/#autocomplete.CloseBracketConfig) controls\n        bracket closing behavior.\n      */\n      languageDataAt(name, pos, side = -1) {\n          let values = [];\n          for (let provider of this.facet(languageData)) {\n              for (let result of provider(this, pos, side)) {\n                  if (Object.prototype.hasOwnProperty.call(result, name))\n                      values.push(result[name]);\n              }\n          }\n          return values;\n      }\n      /**\n      Return a function that can categorize strings (expected to\n      represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak))\n      into one of:\n      \n       - Word (contains an alphanumeric character or a character\n         explicitly listed in the local language's `\"wordChars\"`\n         language data, which should be a string)\n       - Space (contains only whitespace)\n       - Other (anything else)\n      */\n      charCategorizer(at) {\n          return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n      }\n      /**\n      Find the word at the given position, meaning the range\n      containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n      around it. If no word characters are adjacent to the position,\n      this returns null.\n      */\n      wordAt(pos) {\n          let { text, from, length } = this.doc.lineAt(pos);\n          let cat = this.charCategorizer(pos);\n          let start = pos - from, end = pos - from;\n          while (start > 0) {\n              let prev = findClusterBreak(text, start, false);\n              if (cat(text.slice(prev, start)) != CharCategory.Word)\n                  break;\n              start = prev;\n          }\n          while (end < length) {\n              let next = findClusterBreak(text, end);\n              if (cat(text.slice(end, next)) != CharCategory.Word)\n                  break;\n              end = next;\n          }\n          return start == end ? null : EditorSelection.range(start + from, end + from);\n      }\n  }\n  /**\n  A facet that, when enabled, causes the editor to allow multiple\n  ranges to be selected. Be careful though, because by default the\n  editor relies on the native DOM selection, which cannot handle\n  multiple selections. An extension like\n  [`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\n  secondary selections visible to the user.\n  */\n  EditorState.allowMultipleSelections = allowMultipleSelections;\n  /**\n  Configures the tab size to use in this state. The first\n  (highest-precedence) value of the facet is used. If no value is\n  given, this defaults to 4.\n  */\n  EditorState.tabSize = /*@__PURE__*/Facet.define({\n      combine: values => values.length ? values[0] : 4\n  });\n  /**\n  The line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\n  and `\"\\r\"` is treated as a separator when splitting lines, and\n  lines are joined with `\"\\n\"`.\n\n  When you configure a value here, only that precise separator\n  will be used, allowing you to round-trip documents through the\n  editor without normalizing line separators.\n  */\n  EditorState.lineSeparator = lineSeparator;\n  /**\n  This facet controls the value of the\n  [`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) getter, which is\n  consulted by commands and extensions that implement editing\n  functionality to determine whether they should apply. It\n  defaults to false, but when its highest-precedence value is\n  `true`, such functionality disables itself.\n\n  Not to be confused with\n  [`EditorView.editable`](https://codemirror.net/6/docs/ref/#view.EditorView^editable), which\n  controls whether the editor's DOM is set to be editable (and\n  thus focusable).\n  */\n  EditorState.readOnly = readOnly;\n  /**\n  Registers translation phrases. The\n  [`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\n  all objects registered with this facet to find translations for\n  its argument.\n  */\n  EditorState.phrases = /*@__PURE__*/Facet.define({\n      compare(a, b) {\n          let kA = Object.keys(a), kB = Object.keys(b);\n          return kA.length == kB.length && kA.every(k => a[k] == b[k]);\n      }\n  });\n  /**\n  A facet used to register [language\n  data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n  */\n  EditorState.languageData = languageData;\n  /**\n  Facet used to register change filters, which are called for each\n  transaction (unless explicitly\n  [disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\n  part of the transaction's changes.\n\n  Such a function can return `true` to indicate that it doesn't\n  want to do anything, `false` to completely stop the changes in\n  the transaction, or a set of ranges in which changes should be\n  suppressed. Such ranges are represented as an array of numbers,\n  with each pair of two numbers indicating the start and end of a\n  range. So for example `[10, 20, 100, 110]` suppresses changes\n  between 10 and 20, and between 100 and 110.\n  */\n  EditorState.changeFilter = changeFilter;\n  /**\n  Facet used to register a hook that gets a chance to update or\n  replace transaction specs before they are applied. This will\n  only be applied for transactions that don't have\n  [`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\n  can either return a single transaction spec (possibly the input\n  transaction), or an array of specs (which will be combined in\n  the same way as the arguments to\n  [`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\n  When possible, it is recommended to avoid accessing\n  [`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\n  since it will force creation of a state that will then be\n  discarded again, if the transaction is actually filtered.\n\n  (This functionality should be used with care. Indiscriminately\n  modifying transaction is likely to break something or degrade\n  the user experience.)\n  */\n  EditorState.transactionFilter = transactionFilter;\n  /**\n  This is a more limited form of\n  [`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\n  which can only add\n  [annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n  [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\n  of filter runs even if the transaction has disabled regular\n  [filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\n  for effects that don't need to touch the changes or selection,\n  but do want to process every transaction.\n\n  Extenders run _after_ filters, when both are present.\n  */\n  EditorState.transactionExtender = transactionExtender;\n  Compartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n  /**\n  Utility function for combining behaviors to fill in a config\n  object from an array of provided configs. `defaults` should hold\n  default values for all optional fields in `Config`.\n\n  The function will, by default, error\n  when a field gets two values that aren't `===`-equal, but you can\n  provide combine functions per field to do something else.\n  */\n  function combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\n  combine = {}) {\n      let result = {};\n      for (let config of configs)\n          for (let key of Object.keys(config)) {\n              let value = config[key], current = result[key];\n              if (current === undefined)\n                  result[key] = value;\n              else if (current === value || value === undefined) ; // No conflict\n              else if (Object.hasOwnProperty.call(combine, key))\n                  result[key] = combine[key](current, value);\n              else\n                  throw new Error(\"Config merge conflict for field \" + key);\n          }\n      for (let key in defaults)\n          if (result[key] === undefined)\n              result[key] = defaults[key];\n      return result;\n  }\n\n  /**\n  Each range is associated with a value, which must inherit from\n  this class.\n  */\n  class RangeValue {\n      /**\n      Compare this value with another value. Used when comparing\n      rangesets. The default implementation compares by identity.\n      Unless you are only creating a fixed number of unique instances\n      of your value type, it is a good idea to implement this\n      properly.\n      */\n      eq(other) { return this == other; }\n      /**\n      Create a [range](https://codemirror.net/6/docs/ref/#state.Range) with this value.\n      */\n      range(from, to = from) { return Range$1.create(from, to, this); }\n  }\n  RangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\n  RangeValue.prototype.point = false;\n  RangeValue.prototype.mapMode = MapMode.TrackDel;\n  /**\n  A range associates a value with a range of positions.\n  */\n  let Range$1 = class Range {\n      constructor(\n      /**\n      The range's start position.\n      */\n      from, \n      /**\n      Its end position.\n      */\n      to, \n      /**\n      The value associated with this range.\n      */\n      value) {\n          this.from = from;\n          this.to = to;\n          this.value = value;\n      }\n      /**\n      @internal\n      */\n      static create(from, to, value) {\n          return new Range(from, to, value);\n      }\n  };\n  function cmpRange(a, b) {\n      return a.from - b.from || a.value.startSide - b.value.startSide;\n  }\n  class Chunk {\n      constructor(from, to, value, \n      // Chunks are marked with the largest point that occurs\n      // in them (or -1 for no points), so that scans that are\n      // only interested in points (such as the\n      // heightmap-related logic) can skip range-only chunks.\n      maxPoint) {\n          this.from = from;\n          this.to = to;\n          this.value = value;\n          this.maxPoint = maxPoint;\n      }\n      get length() { return this.to[this.to.length - 1]; }\n      // Find the index of the given position and side. Use the ranges'\n      // `from` pos when `end == false`, `to` when `end == true`.\n      findIndex(pos, side, end, startAt = 0) {\n          let arr = end ? this.to : this.from;\n          for (let lo = startAt, hi = arr.length;;) {\n              if (lo == hi)\n                  return lo;\n              let mid = (lo + hi) >> 1;\n              let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n              if (mid == lo)\n                  return diff >= 0 ? lo : hi;\n              if (diff >= 0)\n                  hi = mid;\n              else\n                  lo = mid + 1;\n          }\n      }\n      between(offset, from, to, f) {\n          for (let i = this.findIndex(from, -1e9 /* C.Far */, true), e = this.findIndex(to, 1000000000 /* C.Far */, false, i); i < e; i++)\n              if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                  return false;\n      }\n      map(offset, changes) {\n          let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n          for (let i = 0; i < this.value.length; i++) {\n              let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n              if (curFrom == curTo) {\n                  let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                  if (mapped == null)\n                      continue;\n                  newFrom = newTo = mapped;\n                  if (val.startSide != val.endSide) {\n                      newTo = changes.mapPos(curFrom, val.endSide);\n                      if (newTo < newFrom)\n                          continue;\n                  }\n              }\n              else {\n                  newFrom = changes.mapPos(curFrom, val.startSide);\n                  newTo = changes.mapPos(curTo, val.endSide);\n                  if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                      continue;\n              }\n              if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                  continue;\n              if (newPos < 0)\n                  newPos = newFrom;\n              if (val.point)\n                  maxPoint = Math.max(maxPoint, newTo - newFrom);\n              value.push(val);\n              from.push(newFrom - newPos);\n              to.push(newTo - newPos);\n          }\n          return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n      }\n  }\n  /**\n  A range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#state.Range) in a\n  way that makes them efficient to [map](https://codemirror.net/6/docs/ref/#state.RangeSet.map) and\n  [update](https://codemirror.net/6/docs/ref/#state.RangeSet.update). This is an immutable data\n  structure.\n  */\n  class RangeSet {\n      constructor(\n      /**\n      @internal\n      */\n      chunkPos, \n      /**\n      @internal\n      */\n      chunk, \n      /**\n      @internal\n      */\n      nextLayer, \n      /**\n      @internal\n      */\n      maxPoint) {\n          this.chunkPos = chunkPos;\n          this.chunk = chunk;\n          this.nextLayer = nextLayer;\n          this.maxPoint = maxPoint;\n      }\n      /**\n      @internal\n      */\n      static create(chunkPos, chunk, nextLayer, maxPoint) {\n          return new RangeSet(chunkPos, chunk, nextLayer, maxPoint);\n      }\n      /**\n      @internal\n      */\n      get length() {\n          let last = this.chunk.length - 1;\n          return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n      }\n      /**\n      The number of ranges in the set.\n      */\n      get size() {\n          if (this.isEmpty)\n              return 0;\n          let size = this.nextLayer.size;\n          for (let chunk of this.chunk)\n              size += chunk.value.length;\n          return size;\n      }\n      /**\n      @internal\n      */\n      chunkEnd(index) {\n          return this.chunkPos[index] + this.chunk[index].length;\n      }\n      /**\n      Update the range set, optionally adding new ranges or filtering\n      out existing ones.\n      \n      (Note: The type parameter is just there as a kludge to work\n      around TypeScript variance issues that prevented `RangeSet<X>`\n      from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n      `Y`.)\n      */\n      update(updateSpec) {\n          let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n          let filter = updateSpec.filter;\n          if (add.length == 0 && !filter)\n              return this;\n          if (sort)\n              add = add.slice().sort(cmpRange);\n          if (this.isEmpty)\n              return add.length ? RangeSet.of(add) : this;\n          let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n          let builder = new RangeSetBuilder();\n          while (cur.value || i < add.length) {\n              if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                  let range = add[i++];\n                  if (!builder.addInner(range.from, range.to, range.value))\n                      spill.push(range);\n              }\n              else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                  (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                  (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                  builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                  cur.nextChunk();\n              }\n              else {\n                  if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                      if (!builder.addInner(cur.from, cur.to, cur.value))\n                          spill.push(Range$1.create(cur.from, cur.to, cur.value));\n                  }\n                  cur.next();\n              }\n          }\n          return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n              : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n      }\n      /**\n      Map this range set through a set of changes, return the new set.\n      */\n      map(changes) {\n          if (changes.empty || this.isEmpty)\n              return this;\n          let chunks = [], chunkPos = [], maxPoint = -1;\n          for (let i = 0; i < this.chunk.length; i++) {\n              let start = this.chunkPos[i], chunk = this.chunk[i];\n              let touch = changes.touchesRange(start, start + chunk.length);\n              if (touch === false) {\n                  maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                  chunks.push(chunk);\n                  chunkPos.push(changes.mapPos(start));\n              }\n              else if (touch === true) {\n                  let { mapped, pos } = chunk.map(start, changes);\n                  if (mapped) {\n                      maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                      chunks.push(mapped);\n                      chunkPos.push(pos);\n                  }\n              }\n          }\n          let next = this.nextLayer.map(changes);\n          return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next || RangeSet.empty, maxPoint);\n      }\n      /**\n      Iterate over the ranges that touch the region `from` to `to`,\n      calling `f` for each. There is no guarantee that the ranges will\n      be reported in any specific order. When the callback returns\n      `false`, iteration stops.\n      */\n      between(from, to, f) {\n          if (this.isEmpty)\n              return;\n          for (let i = 0; i < this.chunk.length; i++) {\n              let start = this.chunkPos[i], chunk = this.chunk[i];\n              if (to >= start && from <= start + chunk.length &&\n                  chunk.between(start, from - start, to - start, f) === false)\n                  return;\n          }\n          this.nextLayer.between(from, to, f);\n      }\n      /**\n      Iterate over the ranges in this set, in order, including all\n      ranges that end at or after `from`.\n      */\n      iter(from = 0) {\n          return HeapCursor.from([this]).goto(from);\n      }\n      /**\n      @internal\n      */\n      get isEmpty() { return this.nextLayer == this; }\n      /**\n      Iterate over the ranges in a collection of sets, in order,\n      starting from `from`.\n      */\n      static iter(sets, from = 0) {\n          return HeapCursor.from(sets).goto(from);\n      }\n      /**\n      Iterate over two groups of sets, calling methods on `comparator`\n      to notify it of possible differences.\n      */\n      static compare(oldSets, newSets, \n      /**\n      This indicates how the underlying data changed between these\n      ranges, and is needed to synchronize the iteration.\n      */\n      textDiff, comparator, \n      /**\n      Can be used to ignore all non-point ranges, and points below\n      the given size. When -1, all ranges are compared.\n      */\n      minPointSize = -1) {\n          let a = oldSets.filter(set => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);\n          let b = newSets.filter(set => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);\n          let sharedChunks = findSharedChunks(a, b, textDiff);\n          let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n          let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n          textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n          if (textDiff.empty && textDiff.length == 0)\n              compare(sideA, 0, sideB, 0, 0, comparator);\n      }\n      /**\n      Compare the contents of two groups of range sets, returning true\n      if they are equivalent in the given range.\n      */\n      static eq(oldSets, newSets, from = 0, to) {\n          if (to == null)\n              to = 1000000000 /* C.Far */ - 1;\n          let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n          let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n          if (a.length != b.length)\n              return false;\n          if (!a.length)\n              return true;\n          let sharedChunks = findSharedChunks(a, b);\n          let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n          for (;;) {\n              if (sideA.to != sideB.to ||\n                  !sameValues(sideA.active, sideB.active) ||\n                  sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                  return false;\n              if (sideA.to > to)\n                  return true;\n              sideA.next();\n              sideB.next();\n          }\n      }\n      /**\n      Iterate over a group of range sets at the same time, notifying\n      the iterator about the ranges covering every given piece of\n      content. Returns the open count (see\n      [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#state.SpanIterator.span)) at the end\n      of the iteration.\n      */\n      static spans(sets, from, to, iterator, \n      /**\n      When given and greater than -1, only points of at least this\n      size are taken into account.\n      */\n      minPointSize = -1) {\n          let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n          let openRanges = cursor.openStart;\n          for (;;) {\n              let curTo = Math.min(cursor.to, to);\n              if (cursor.point) {\n                  let active = cursor.activeForPoint(cursor.to);\n                  let openCount = cursor.pointFrom < from ? active.length + 1\n                      : cursor.point.startSide < 0 ? active.length\n                          : Math.min(active.length, openRanges);\n                  iterator.point(pos, curTo, cursor.point, active, openCount, cursor.pointRank);\n                  openRanges = Math.min(cursor.openEnd(curTo), active.length);\n              }\n              else if (curTo > pos) {\n                  iterator.span(pos, curTo, cursor.active, openRanges);\n                  openRanges = cursor.openEnd(curTo);\n              }\n              if (cursor.to > to)\n                  return openRanges + (cursor.point && cursor.to > to ? 1 : 0);\n              pos = cursor.to;\n              cursor.next();\n          }\n      }\n      /**\n      Create a range set for the given range or array of ranges. By\n      default, this expects the ranges to be _sorted_ (by start\n      position and, if two start at the same position,\n      `value.startSide`). You can pass `true` as second argument to\n      cause the method to sort them.\n      */\n      static of(ranges, sort = false) {\n          let build = new RangeSetBuilder();\n          for (let range of ranges instanceof Range$1 ? [ranges] : sort ? lazySort(ranges) : ranges)\n              build.add(range.from, range.to, range.value);\n          return build.finish();\n      }\n      /**\n      Join an array of range sets into a single set.\n      */\n      static join(sets) {\n          if (!sets.length)\n              return RangeSet.empty;\n          let result = sets[sets.length - 1];\n          for (let i = sets.length - 2; i >= 0; i--) {\n              for (let layer = sets[i]; layer != RangeSet.empty; layer = layer.nextLayer)\n                  result = new RangeSet(layer.chunkPos, layer.chunk, result, Math.max(layer.maxPoint, result.maxPoint));\n          }\n          return result;\n      }\n  }\n  /**\n  The empty set of ranges.\n  */\n  RangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\n  function lazySort(ranges) {\n      if (ranges.length > 1)\n          for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n              let cur = ranges[i];\n              if (cmpRange(prev, cur) > 0)\n                  return ranges.slice().sort(cmpRange);\n              prev = cur;\n          }\n      return ranges;\n  }\n  RangeSet.empty.nextLayer = RangeSet.empty;\n  /**\n  A range set builder is a data structure that helps build up a\n  [range set](https://codemirror.net/6/docs/ref/#state.RangeSet) directly, without first allocating\n  an array of [`Range`](https://codemirror.net/6/docs/ref/#state.Range) objects.\n  */\n  class RangeSetBuilder {\n      finishChunk(newArrays) {\n          this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n          this.chunkPos.push(this.chunkStart);\n          this.chunkStart = -1;\n          this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n          this.maxPoint = -1;\n          if (newArrays) {\n              this.from = [];\n              this.to = [];\n              this.value = [];\n          }\n      }\n      /**\n      Create an empty builder.\n      */\n      constructor() {\n          this.chunks = [];\n          this.chunkPos = [];\n          this.chunkStart = -1;\n          this.last = null;\n          this.lastFrom = -1e9 /* C.Far */;\n          this.lastTo = -1e9 /* C.Far */;\n          this.from = [];\n          this.to = [];\n          this.value = [];\n          this.maxPoint = -1;\n          this.setMaxPoint = -1;\n          this.nextLayer = null;\n      }\n      /**\n      Add a range. Ranges should be added in sorted (by `from` and\n      `value.startSide`) order.\n      */\n      add(from, to, value) {\n          if (!this.addInner(from, to, value))\n              (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n      }\n      /**\n      @internal\n      */\n      addInner(from, to, value) {\n          let diff = from - this.lastTo || value.startSide - this.last.endSide;\n          if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n              throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n          if (diff < 0)\n              return false;\n          if (this.from.length == 250 /* C.ChunkSize */)\n              this.finishChunk(true);\n          if (this.chunkStart < 0)\n              this.chunkStart = from;\n          this.from.push(from - this.chunkStart);\n          this.to.push(to - this.chunkStart);\n          this.last = value;\n          this.lastFrom = from;\n          this.lastTo = to;\n          this.value.push(value);\n          if (value.point)\n              this.maxPoint = Math.max(this.maxPoint, to - from);\n          return true;\n      }\n      /**\n      @internal\n      */\n      addChunk(from, chunk) {\n          if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n              return false;\n          if (this.from.length)\n              this.finishChunk(true);\n          this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n          this.chunks.push(chunk);\n          this.chunkPos.push(from);\n          let last = chunk.value.length - 1;\n          this.last = chunk.value[last];\n          this.lastFrom = chunk.from[last] + from;\n          this.lastTo = chunk.to[last] + from;\n          return true;\n      }\n      /**\n      Finish the range set. Returns the new set. The builder can't be\n      used anymore after this has been called.\n      */\n      finish() { return this.finishInner(RangeSet.empty); }\n      /**\n      @internal\n      */\n      finishInner(next) {\n          if (this.from.length)\n              this.finishChunk(false);\n          if (this.chunks.length == 0)\n              return next;\n          let result = RangeSet.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n          this.from = null; // Make sure further `add` calls produce errors\n          return result;\n      }\n  }\n  function findSharedChunks(a, b, textDiff) {\n      let inA = new Map();\n      for (let set of a)\n          for (let i = 0; i < set.chunk.length; i++)\n              if (set.chunk[i].maxPoint <= 0)\n                  inA.set(set.chunk[i], set.chunkPos[i]);\n      let shared = new Set();\n      for (let set of b)\n          for (let i = 0; i < set.chunk.length; i++) {\n              let known = inA.get(set.chunk[i]);\n              if (known != null && (textDiff ? textDiff.mapPos(known) : known) == set.chunkPos[i] &&\n                  !(textDiff === null || textDiff === void 0 ? void 0 : textDiff.touchesRange(known, known + set.chunk[i].length)))\n                  shared.add(set.chunk[i]);\n          }\n      return shared;\n  }\n  class LayerCursor {\n      constructor(layer, skip, minPoint, rank = 0) {\n          this.layer = layer;\n          this.skip = skip;\n          this.minPoint = minPoint;\n          this.rank = rank;\n      }\n      get startSide() { return this.value ? this.value.startSide : 0; }\n      get endSide() { return this.value ? this.value.endSide : 0; }\n      goto(pos, side = -1e9 /* C.Far */) {\n          this.chunkIndex = this.rangeIndex = 0;\n          this.gotoInner(pos, side, false);\n          return this;\n      }\n      gotoInner(pos, side, forward) {\n          while (this.chunkIndex < this.layer.chunk.length) {\n              let next = this.layer.chunk[this.chunkIndex];\n              if (!(this.skip && this.skip.has(next) ||\n                  this.layer.chunkEnd(this.chunkIndex) < pos ||\n                  next.maxPoint < this.minPoint))\n                  break;\n              this.chunkIndex++;\n              forward = false;\n          }\n          if (this.chunkIndex < this.layer.chunk.length) {\n              let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n              if (!forward || this.rangeIndex < rangeIndex)\n                  this.setRangeIndex(rangeIndex);\n          }\n          this.next();\n      }\n      forward(pos, side) {\n          if ((this.to - pos || this.endSide - side) < 0)\n              this.gotoInner(pos, side, true);\n      }\n      next() {\n          for (;;) {\n              if (this.chunkIndex == this.layer.chunk.length) {\n                  this.from = this.to = 1000000000 /* C.Far */;\n                  this.value = null;\n                  break;\n              }\n              else {\n                  let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                  let from = chunkPos + chunk.from[this.rangeIndex];\n                  this.from = from;\n                  this.to = chunkPos + chunk.to[this.rangeIndex];\n                  this.value = chunk.value[this.rangeIndex];\n                  this.setRangeIndex(this.rangeIndex + 1);\n                  if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                      break;\n              }\n          }\n      }\n      setRangeIndex(index) {\n          if (index == this.layer.chunk[this.chunkIndex].value.length) {\n              this.chunkIndex++;\n              if (this.skip) {\n                  while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                      this.chunkIndex++;\n              }\n              this.rangeIndex = 0;\n          }\n          else {\n              this.rangeIndex = index;\n          }\n      }\n      nextChunk() {\n          this.chunkIndex++;\n          this.rangeIndex = 0;\n          this.next();\n      }\n      compare(other) {\n          return this.from - other.from || this.startSide - other.startSide || this.rank - other.rank ||\n              this.to - other.to || this.endSide - other.endSide;\n      }\n  }\n  class HeapCursor {\n      constructor(heap) {\n          this.heap = heap;\n      }\n      static from(sets, skip = null, minPoint = -1) {\n          let heap = [];\n          for (let i = 0; i < sets.length; i++) {\n              for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                  if (cur.maxPoint >= minPoint)\n                      heap.push(new LayerCursor(cur, skip, minPoint, i));\n              }\n          }\n          return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n      }\n      get startSide() { return this.value ? this.value.startSide : 0; }\n      goto(pos, side = -1e9 /* C.Far */) {\n          for (let cur of this.heap)\n              cur.goto(pos, side);\n          for (let i = this.heap.length >> 1; i >= 0; i--)\n              heapBubble(this.heap, i);\n          this.next();\n          return this;\n      }\n      forward(pos, side) {\n          for (let cur of this.heap)\n              cur.forward(pos, side);\n          for (let i = this.heap.length >> 1; i >= 0; i--)\n              heapBubble(this.heap, i);\n          if ((this.to - pos || this.value.endSide - side) < 0)\n              this.next();\n      }\n      next() {\n          if (this.heap.length == 0) {\n              this.from = this.to = 1000000000 /* C.Far */;\n              this.value = null;\n              this.rank = -1;\n          }\n          else {\n              let top = this.heap[0];\n              this.from = top.from;\n              this.to = top.to;\n              this.value = top.value;\n              this.rank = top.rank;\n              if (top.value)\n                  top.next();\n              heapBubble(this.heap, 0);\n          }\n      }\n  }\n  function heapBubble(heap, index) {\n      for (let cur = heap[index];;) {\n          let childIndex = (index << 1) + 1;\n          if (childIndex >= heap.length)\n              break;\n          let child = heap[childIndex];\n          if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n              child = heap[childIndex + 1];\n              childIndex++;\n          }\n          if (cur.compare(child) < 0)\n              break;\n          heap[childIndex] = cur;\n          heap[index] = child;\n          index = childIndex;\n      }\n  }\n  class SpanCursor {\n      constructor(sets, skip, minPoint) {\n          this.minPoint = minPoint;\n          this.active = [];\n          this.activeTo = [];\n          this.activeRank = [];\n          this.minActive = -1;\n          // A currently active point range, if any\n          this.point = null;\n          this.pointFrom = 0;\n          this.pointRank = 0;\n          this.to = -1e9 /* C.Far */;\n          this.endSide = 0;\n          // The amount of open active ranges at the start of the iterator.\n          // Not including points.\n          this.openStart = -1;\n          this.cursor = HeapCursor.from(sets, skip, minPoint);\n      }\n      goto(pos, side = -1e9 /* C.Far */) {\n          this.cursor.goto(pos, side);\n          this.active.length = this.activeTo.length = this.activeRank.length = 0;\n          this.minActive = -1;\n          this.to = pos;\n          this.endSide = side;\n          this.openStart = -1;\n          this.next();\n          return this;\n      }\n      forward(pos, side) {\n          while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n              this.removeActive(this.minActive);\n          this.cursor.forward(pos, side);\n      }\n      removeActive(index) {\n          remove(this.active, index);\n          remove(this.activeTo, index);\n          remove(this.activeRank, index);\n          this.minActive = findMinIndex(this.active, this.activeTo);\n      }\n      addActive(trackOpen) {\n          let i = 0, { value, to, rank } = this.cursor;\n          // Organize active marks by rank first, then by size\n          while (i < this.activeRank.length && (rank - this.activeRank[i] || to - this.activeTo[i]) > 0)\n              i++;\n          insert(this.active, i, value);\n          insert(this.activeTo, i, to);\n          insert(this.activeRank, i, rank);\n          if (trackOpen)\n              insert(trackOpen, i, this.cursor.from);\n          this.minActive = findMinIndex(this.active, this.activeTo);\n      }\n      // After calling this, if `this.point` != null, the next range is a\n      // point. Otherwise, it's a regular range, covered by `this.active`.\n      next() {\n          let from = this.to, wasPoint = this.point;\n          this.point = null;\n          let trackOpen = this.openStart < 0 ? [] : null;\n          for (;;) {\n              let a = this.minActive;\n              if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                  if (this.activeTo[a] > from) {\n                      this.to = this.activeTo[a];\n                      this.endSide = this.active[a].endSide;\n                      break;\n                  }\n                  this.removeActive(a);\n                  if (trackOpen)\n                      remove(trackOpen, a);\n              }\n              else if (!this.cursor.value) {\n                  this.to = this.endSide = 1000000000 /* C.Far */;\n                  break;\n              }\n              else if (this.cursor.from > from) {\n                  this.to = this.cursor.from;\n                  this.endSide = this.cursor.startSide;\n                  break;\n              }\n              else {\n                  let nextVal = this.cursor.value;\n                  if (!nextVal.point) { // Opening a range\n                      this.addActive(trackOpen);\n                      this.cursor.next();\n                  }\n                  else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to) {\n                      // Ignore any non-empty points that end precisely at the end of the prev point\n                      this.cursor.next();\n                  }\n                  else { // New point\n                      this.point = nextVal;\n                      this.pointFrom = this.cursor.from;\n                      this.pointRank = this.cursor.rank;\n                      this.to = this.cursor.to;\n                      this.endSide = nextVal.endSide;\n                      this.cursor.next();\n                      this.forward(this.to, this.endSide);\n                      break;\n                  }\n              }\n          }\n          if (trackOpen) {\n              this.openStart = 0;\n              for (let i = trackOpen.length - 1; i >= 0 && trackOpen[i] < from; i--)\n                  this.openStart++;\n          }\n      }\n      activeForPoint(to) {\n          if (!this.active.length)\n              return this.active;\n          let active = [];\n          for (let i = this.active.length - 1; i >= 0; i--) {\n              if (this.activeRank[i] < this.pointRank)\n                  break;\n              if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                  active.push(this.active[i]);\n          }\n          return active.reverse();\n      }\n      openEnd(to) {\n          let open = 0;\n          for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n              open++;\n          return open;\n      }\n  }\n  function compare(a, startA, b, startB, length, comparator) {\n      a.goto(startA);\n      b.goto(startB);\n      let endB = startB + length;\n      let pos = startB, dPos = startB - startA;\n      for (;;) {\n          let dEnd = (a.to + dPos) - b.to, diff = dEnd || a.endSide - b.endSide;\n          let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n          if (a.point || b.point) {\n              if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                  sameValues(a.activeForPoint(a.to), b.activeForPoint(b.to))))\n                  comparator.comparePoint(pos, clipEnd, a.point, b.point);\n          }\n          else {\n              if (clipEnd > pos && !sameValues(a.active, b.active))\n                  comparator.compareRange(pos, clipEnd, a.active, b.active);\n          }\n          if (end > endB)\n              break;\n          if ((dEnd || a.openEnd != b.openEnd) && comparator.boundChange)\n              comparator.boundChange(end);\n          pos = end;\n          if (diff <= 0)\n              a.next();\n          if (diff >= 0)\n              b.next();\n      }\n  }\n  function sameValues(a, b) {\n      if (a.length != b.length)\n          return false;\n      for (let i = 0; i < a.length; i++)\n          if (a[i] != b[i] && !a[i].eq(b[i]))\n              return false;\n      return true;\n  }\n  function remove(array, index) {\n      for (let i = index, e = array.length - 1; i < e; i++)\n          array[i] = array[i + 1];\n      array.pop();\n  }\n  function insert(array, index, value) {\n      for (let i = array.length - 1; i >= index; i--)\n          array[i + 1] = array[i];\n      array[index] = value;\n  }\n  function findMinIndex(value, array) {\n      let found = -1, foundPos = 1000000000 /* C.Far */;\n      for (let i = 0; i < array.length; i++)\n          if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n              found = i;\n              foundPos = array[i];\n          }\n      return found;\n  }\n\n  /**\n  Count the column position at the given offset into the string,\n  taking extending characters and tab size into account.\n  */\n  function countColumn(string, tabSize, to = string.length) {\n      let n = 0;\n      for (let i = 0; i < to && i < string.length;) {\n          if (string.charCodeAt(i) == 9) {\n              n += tabSize - (n % tabSize);\n              i++;\n          }\n          else {\n              n++;\n              i = findClusterBreak(string, i);\n          }\n      }\n      return n;\n  }\n  /**\n  Find the offset that corresponds to the given column position in a\n  string, taking extending characters and tab size into account. By\n  default, the string length is returned when it is too short to\n  reach the column. Pass `strict` true to make it return -1 in that\n  situation.\n  */\n  function findColumn$1(string, col, tabSize, strict) {\n      for (let i = 0, n = 0;;) {\n          if (n >= col)\n              return i;\n          if (i == string.length)\n              break;\n          n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n          i = findClusterBreak(string, i);\n      }\n      return strict === true ? -1 : string.length;\n  }\n\n  const C = \"\\u037c\";\n  const COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C);\n  const SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\");\n  const top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {};\n\n  // :: - Style modules encapsulate a set of CSS rules defined from\n  // JavaScript. Their definitions are only available in a given DOM\n  // root after it has been _mounted_ there with `StyleModule.mount`.\n  //\n  // Style modules should be created once and stored somewhere, as\n  // opposed to re-creating them every time you need them. The amount of\n  // CSS rules generated for a given DOM root is bounded by the amount\n  // of style modules that were used. So to avoid leaking rules, don't\n  // create these dynamically, but treat them as one-time allocations.\n  class StyleModule {\n    // :: (Object<Style>, ?{finish: ?(string)  string})\n    // Create a style module from the given spec.\n    //\n    // When `finish` is given, it is called on regular (non-`@`)\n    // selectors (after `&` expansion) to compute the final selector.\n    constructor(spec, options) {\n      this.rules = [];\n      let {finish} = options || {};\n\n      function splitSelector(selector) {\n        return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n      }\n\n      function render(selectors, spec, target, isKeyframes) {\n        let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\";\n        if (isAt && spec == null) return target.push(selectors[0] + \";\")\n        for (let prop in spec) {\n          let value = spec[prop];\n          if (/&/.test(prop)) {\n            render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                   value, target);\n          } else if (value && typeof value == \"object\") {\n            if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n            render(splitSelector(prop), value, local, keyframes);\n          } else if (value != null) {\n            local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\");\n          }\n        }\n        if (local.length || keyframes) {\n          target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                      \" {\" + local.join(\" \") + \"}\");\n        }\n      }\n\n      for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules);\n    }\n\n    // :: ()  string\n    // Returns a string containing the module's CSS rules.\n    getRules() { return this.rules.join(\"\\n\") }\n\n    // :: ()  string\n    // Generate a new unique CSS class name.\n    static newName() {\n      let id = top[COUNT] || 1;\n      top[COUNT] = id + 1;\n      return C + id.toString(36)\n    }\n\n    // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>, ?{nonce: ?string})\n    //\n    // Mount the given set of modules in the given DOM root, which ensures\n    // that the CSS rules defined by the module are available in that\n    // context.\n    //\n    // Rules are only added to the document once per root.\n    //\n    // Rule order will follow the order of the modules, so that rules from\n    // modules later in the array take precedence of those from earlier\n    // modules. If you call this function multiple times for the same root\n    // in a way that changes the order of already mounted modules, the old\n    // order will be changed.\n    //\n    // If a Content Security Policy nonce is provided, it is added to\n    // the `<style>` tag generated by the library.\n    static mount(root, modules, options) {\n      let set = root[SET], nonce = options && options.nonce;\n      if (!set) set = new StyleSet(root, nonce);\n      else if (nonce) set.setNonce(nonce);\n      set.mount(Array.isArray(modules) ? modules : [modules], root);\n    }\n  }\n\n  let adoptedSet = new Map; //<Document, StyleSet>\n\n  class StyleSet {\n    constructor(root, nonce) {\n      let doc = root.ownerDocument || root, win = doc.defaultView;\n      if (!root.head && root.adoptedStyleSheets && win.CSSStyleSheet) {\n        let adopted = adoptedSet.get(doc);\n        if (adopted) return root[SET] = adopted\n        this.sheet = new win.CSSStyleSheet;\n        adoptedSet.set(doc, this);\n      } else {\n        this.styleTag = doc.createElement(\"style\");\n        if (nonce) this.styleTag.setAttribute(\"nonce\", nonce);\n      }\n      this.modules = [];\n      root[SET] = this;\n    }\n\n    mount(modules, root) {\n      let sheet = this.sheet;\n      let pos = 0 /* Current rule offset */, j = 0; /* Index into this.modules */\n      for (let i = 0; i < modules.length; i++) {\n        let mod = modules[i], index = this.modules.indexOf(mod);\n        if (index < j && index > -1) { // Ordering conflict\n          this.modules.splice(index, 1);\n          j--;\n          index = -1;\n        }\n        if (index == -1) {\n          this.modules.splice(j++, 0, mod);\n          if (sheet) for (let k = 0; k < mod.rules.length; k++)\n            sheet.insertRule(mod.rules[k], pos++);\n        } else {\n          while (j < index) pos += this.modules[j++].rules.length;\n          pos += mod.rules.length;\n          j++;\n        }\n      }\n\n      if (sheet) {\n        if (root.adoptedStyleSheets.indexOf(this.sheet) < 0)\n          root.adoptedStyleSheets = [this.sheet, ...root.adoptedStyleSheets];\n      } else {\n        let text = \"\";\n        for (let i = 0; i < this.modules.length; i++)\n          text += this.modules[i].getRules() + \"\\n\";\n        this.styleTag.textContent = text;\n        let target = root.head || root;\n        if (this.styleTag.parentNode != target)\n          target.insertBefore(this.styleTag, target.firstChild);\n      }\n    }\n\n    setNonce(nonce) {\n      if (this.styleTag && this.styleTag.getAttribute(\"nonce\") != nonce)\n        this.styleTag.setAttribute(\"nonce\", nonce);\n    }\n  }\n\n  // Style::Object<union<Style,string>>\n  //\n  // A style is an object that, in the simple case, maps CSS property\n  // names to strings holding their values, as in `{color: \"red\",\n  // fontWeight: \"bold\"}`. The property names can be given in\n  // camel-casethe library will insert a dash before capital letters\n  // when converting them to CSS.\n  //\n  // If you include an underscore in a property name, it and everything\n  // after it will be removed from the output, which can be useful when\n  // providing a property multiple times, for browser compatibility\n  // reasons.\n  //\n  // A property in a style object can also be a sub-selector, which\n  // extends the current context to add a pseudo-selector or a child\n  // selector. Such a property should contain a `&` character, which\n  // will be replaced by the current selector. For example `{\"&:before\":\n  // {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n  // freely be mixed in a given object. Any property containing a `&` is\n  // assumed to be a sub-selector.\n  //\n  // Finally, a property can specify an @-block to be wrapped around the\n  // styles defined inside the object that's the property's value. For\n  // example to create a media query you can do `{\"@media screen and\n  // (min-width: 400px)\": {...}}`.\n\n  var base = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    10: \"Enter\",\n    12: \"NumLock\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    44: \"PrintScreen\",\n    45: \"Insert\",\n    46: \"Delete\",\n    59: \";\",\n    61: \"=\",\n    91: \"Meta\",\n    92: \"Meta\",\n    106: \"*\",\n    107: \"+\",\n    108: \",\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    160: \"Shift\",\n    161: \"Shift\",\n    162: \"Control\",\n    163: \"Control\",\n    164: \"Alt\",\n    165: \"Alt\",\n    173: \"-\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\"\n  };\n\n  var shift = {\n    48: \")\",\n    49: \"!\",\n    50: \"@\",\n    51: \"#\",\n    52: \"$\",\n    53: \"%\",\n    54: \"^\",\n    55: \"&\",\n    56: \"*\",\n    57: \"(\",\n    59: \":\",\n    61: \"+\",\n    173: \"_\",\n    186: \":\",\n    187: \"+\",\n    188: \"<\",\n    189: \"_\",\n    190: \">\",\n    191: \"?\",\n    192: \"~\",\n    219: \"{\",\n    220: \"|\",\n    221: \"}\",\n    222: \"\\\"\"\n  };\n\n  var mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform);\n  var ie$1 = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent);\n\n  // Fill in the digit keys\n  for (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i);\n\n  // The function keys\n  for (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i;\n\n  // And the alphabetic keys\n  for (var i = 65; i <= 90; i++) {\n    base[i] = String.fromCharCode(i + 32);\n    shift[i] = String.fromCharCode(i);\n  }\n\n  // For each code that doesn't have a shift-equivalent, copy the base name\n  for (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code];\n\n  function keyName(event) {\n    // On macOS, keys held with Shift and Cmd don't reflect the effect of Shift in `.key`.\n    // On IE, shift effect is never included in `.key`.\n    var ignoreKey = mac && event.metaKey && event.shiftKey && !event.ctrlKey && !event.altKey ||\n        ie$1 && event.shiftKey && event.key && event.key.length == 1 ||\n        event.key == \"Unidentified\";\n    var name = (!ignoreKey && event.key) ||\n      (event.shiftKey ? shift : base)[event.keyCode] ||\n      event.key || \"Unidentified\";\n    // Edge sometimes produces wrong names (Issue #3)\n    if (name == \"Esc\") name = \"Escape\";\n    if (name == \"Del\") name = \"Delete\";\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n    if (name == \"Left\") name = \"ArrowLeft\";\n    if (name == \"Up\") name = \"ArrowUp\";\n    if (name == \"Right\") name = \"ArrowRight\";\n    if (name == \"Down\") name = \"ArrowDown\";\n    return name\n  }\n\n  function crelt() {\n    var elt = arguments[0];\n    if (typeof elt == \"string\") elt = document.createElement(elt);\n    var i = 1, next = arguments[1];\n    if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n      for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n        var value = next[name];\n        if (typeof value == \"string\") elt.setAttribute(name, value);\n        else if (value != null) elt[name] = value;\n      }\n      i++;\n    }\n    for (; i < arguments.length; i++) add(elt, arguments[i]);\n    return elt\n  }\n\n  function add(elt, child) {\n    if (typeof child == \"string\") {\n      elt.appendChild(document.createTextNode(child));\n    } else if (child == null) ; else if (child.nodeType != null) {\n      elt.appendChild(child);\n    } else if (Array.isArray(child)) {\n      for (var i = 0; i < child.length; i++) add(elt, child[i]);\n    } else {\n      throw new RangeError(\"Unsupported child node: \" + child)\n    }\n  }\n\n  function getSelection(root) {\n      let target;\n      // Browsers differ on whether shadow roots have a getSelection\n      // method. If it exists, use that, otherwise, call it on the\n      // document.\n      if (root.nodeType == 11) { // Shadow root\n          target = root.getSelection ? root : root.ownerDocument;\n      }\n      else {\n          target = root;\n      }\n      return target.getSelection();\n  }\n  function contains(dom, node) {\n      return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n  }\n  function hasSelection(dom, selection) {\n      if (!selection.anchorNode)\n          return false;\n      try {\n          // Firefox will raise 'permission denied' errors when accessing\n          // properties of `sel.anchorNode` when it's in a generated CSS\n          // element.\n          return contains(dom, selection.anchorNode);\n      }\n      catch (_) {\n          return false;\n      }\n  }\n  function clientRectsFor(dom) {\n      if (dom.nodeType == 3)\n          return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n      else if (dom.nodeType == 1)\n          return dom.getClientRects();\n      else\n          return [];\n  }\n  // Scans forward and backward through DOM positions equivalent to the\n  // given one to see if the two are in the same place (i.e. after a\n  // text node vs at the end of that text node)\n  function isEquivalentPosition(node, off, targetNode, targetOff) {\n      return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n          scanFor(node, off, targetNode, targetOff, 1)) : false;\n  }\n  function domIndex(node) {\n      for (var index = 0;; index++) {\n          node = node.previousSibling;\n          if (!node)\n              return index;\n      }\n  }\n  function isBlockElement(node) {\n      return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n  }\n  function scanFor(node, off, targetNode, targetOff, dir) {\n      for (;;) {\n          if (node == targetNode && off == targetOff)\n              return true;\n          if (off == (dir < 0 ? 0 : maxOffset(node))) {\n              if (node.nodeName == \"DIV\")\n                  return false;\n              let parent = node.parentNode;\n              if (!parent || parent.nodeType != 1)\n                  return false;\n              off = domIndex(node) + (dir < 0 ? 0 : 1);\n              node = parent;\n          }\n          else if (node.nodeType == 1) {\n              node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n              if (node.nodeType == 1 && node.contentEditable == \"false\")\n                  return false;\n              off = dir < 0 ? maxOffset(node) : 0;\n          }\n          else {\n              return false;\n          }\n      }\n  }\n  function maxOffset(node) {\n      return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n  }\n  function flattenRect(rect, left) {\n      let x = left ? rect.left : rect.right;\n      return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n  }\n  function windowRect(win) {\n      let vp = win.visualViewport;\n      if (vp)\n          return {\n              left: 0, right: vp.width,\n              top: 0, bottom: vp.height\n          };\n      return { left: 0, right: win.innerWidth,\n          top: 0, bottom: win.innerHeight };\n  }\n  function getScale(elt, rect) {\n      let scaleX = rect.width / elt.offsetWidth;\n      let scaleY = rect.height / elt.offsetHeight;\n      if (scaleX > 0.995 && scaleX < 1.005 || !isFinite(scaleX) || Math.abs(rect.width - elt.offsetWidth) < 1)\n          scaleX = 1;\n      if (scaleY > 0.995 && scaleY < 1.005 || !isFinite(scaleY) || Math.abs(rect.height - elt.offsetHeight) < 1)\n          scaleY = 1;\n      return { scaleX, scaleY };\n  }\n  function scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {\n      let doc = dom.ownerDocument, win = doc.defaultView || window;\n      for (let cur = dom, stop = false; cur && !stop;) {\n          if (cur.nodeType == 1) { // Element\n              let bounding, top = cur == doc.body;\n              let scaleX = 1, scaleY = 1;\n              if (top) {\n                  bounding = windowRect(win);\n              }\n              else {\n                  if (/^(fixed|sticky)$/.test(getComputedStyle(cur).position))\n                      stop = true;\n                  if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                      cur = cur.assignedSlot || cur.parentNode;\n                      continue;\n                  }\n                  let rect = cur.getBoundingClientRect();\n                  ({ scaleX, scaleY } = getScale(cur, rect));\n                  // Make sure scrollbar width isn't included in the rectangle\n                  bounding = { left: rect.left, right: rect.left + cur.clientWidth * scaleX,\n                      top: rect.top, bottom: rect.top + cur.clientHeight * scaleY };\n              }\n              let moveX = 0, moveY = 0;\n              if (y == \"nearest\") {\n                  if (rect.top < bounding.top) {\n                      moveY = rect.top - (bounding.top + yMargin);\n                      if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                          moveY = rect.bottom - bounding.bottom + yMargin;\n                  }\n                  else if (rect.bottom > bounding.bottom) {\n                      moveY = rect.bottom - bounding.bottom + yMargin;\n                      if (side < 0 && (rect.top - moveY) < bounding.top)\n                          moveY = rect.top - (bounding.top + yMargin);\n                  }\n              }\n              else {\n                  let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                  let targetTop = y == \"center\" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 :\n                      y == \"start\" || y == \"center\" && side < 0 ? rect.top - yMargin :\n                          rect.bottom - boundingHeight + yMargin;\n                  moveY = targetTop - bounding.top;\n              }\n              if (x == \"nearest\") {\n                  if (rect.left < bounding.left) {\n                      moveX = rect.left - (bounding.left + xMargin);\n                      if (side > 0 && rect.right > bounding.right + moveX)\n                          moveX = rect.right - bounding.right + xMargin;\n                  }\n                  else if (rect.right > bounding.right) {\n                      moveX = rect.right - bounding.right + xMargin;\n                      if (side < 0 && rect.left < bounding.left + moveX)\n                          moveX = rect.left - (bounding.left + xMargin);\n                  }\n              }\n              else {\n                  let targetLeft = x == \"center\" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 :\n                      (x == \"start\") == ltr ? rect.left - xMargin :\n                          rect.right - (bounding.right - bounding.left) + xMargin;\n                  moveX = targetLeft - bounding.left;\n              }\n              if (moveX || moveY) {\n                  if (top) {\n                      win.scrollBy(moveX, moveY);\n                  }\n                  else {\n                      let movedX = 0, movedY = 0;\n                      if (moveY) {\n                          let start = cur.scrollTop;\n                          cur.scrollTop += moveY / scaleY;\n                          movedY = (cur.scrollTop - start) * scaleY;\n                      }\n                      if (moveX) {\n                          let start = cur.scrollLeft;\n                          cur.scrollLeft += moveX / scaleX;\n                          movedX = (cur.scrollLeft - start) * scaleX;\n                      }\n                      rect = { left: rect.left - movedX, top: rect.top - movedY,\n                          right: rect.right - movedX, bottom: rect.bottom - movedY };\n                      if (movedX && Math.abs(movedX - moveX) < 1)\n                          x = \"nearest\";\n                      if (movedY && Math.abs(movedY - moveY) < 1)\n                          y = \"nearest\";\n                  }\n              }\n              if (top)\n                  break;\n              if (rect.top < bounding.top || rect.bottom > bounding.bottom ||\n                  rect.left < bounding.left || rect.right > bounding.right)\n                  rect = { left: Math.max(rect.left, bounding.left), right: Math.min(rect.right, bounding.right),\n                      top: Math.max(rect.top, bounding.top), bottom: Math.min(rect.bottom, bounding.bottom) };\n              cur = cur.assignedSlot || cur.parentNode;\n          }\n          else if (cur.nodeType == 11) { // A shadow root\n              cur = cur.host;\n          }\n          else {\n              break;\n          }\n      }\n  }\n  function scrollableParents(dom) {\n      let doc = dom.ownerDocument, x, y;\n      for (let cur = dom.parentNode; cur;) {\n          if (cur == doc.body || (x && y)) {\n              break;\n          }\n          else if (cur.nodeType == 1) {\n              if (!y && cur.scrollHeight > cur.clientHeight)\n                  y = cur;\n              if (!x && cur.scrollWidth > cur.clientWidth)\n                  x = cur;\n              cur = cur.assignedSlot || cur.parentNode;\n          }\n          else if (cur.nodeType == 11) {\n              cur = cur.host;\n          }\n          else {\n              break;\n          }\n      }\n      return { x, y };\n  }\n  class DOMSelectionState {\n      constructor() {\n          this.anchorNode = null;\n          this.anchorOffset = 0;\n          this.focusNode = null;\n          this.focusOffset = 0;\n      }\n      eq(domSel) {\n          return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n              this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n      }\n      setRange(range) {\n          let { anchorNode, focusNode } = range;\n          // Clip offsets to node size to avoid crashes when Safari reports bogus offsets (#1152)\n          this.set(anchorNode, Math.min(range.anchorOffset, anchorNode ? maxOffset(anchorNode) : 0), focusNode, Math.min(range.focusOffset, focusNode ? maxOffset(focusNode) : 0));\n      }\n      set(anchorNode, anchorOffset, focusNode, focusOffset) {\n          this.anchorNode = anchorNode;\n          this.anchorOffset = anchorOffset;\n          this.focusNode = focusNode;\n          this.focusOffset = focusOffset;\n      }\n  }\n  let preventScrollSupported = null;\n  // Feature-detects support for .focus({preventScroll: true}), and uses\n  // a fallback kludge when not supported.\n  function focusPreventScroll(dom) {\n      if (dom.setActive)\n          return dom.setActive(); // in IE\n      if (preventScrollSupported)\n          return dom.focus(preventScrollSupported);\n      let stack = [];\n      for (let cur = dom; cur; cur = cur.parentNode) {\n          stack.push(cur, cur.scrollTop, cur.scrollLeft);\n          if (cur == cur.ownerDocument)\n              break;\n      }\n      dom.focus(preventScrollSupported == null ? {\n          get preventScroll() {\n              preventScrollSupported = { preventScroll: true };\n              return true;\n          }\n      } : undefined);\n      if (!preventScrollSupported) {\n          preventScrollSupported = false;\n          for (let i = 0; i < stack.length;) {\n              let elt = stack[i++], top = stack[i++], left = stack[i++];\n              if (elt.scrollTop != top)\n                  elt.scrollTop = top;\n              if (elt.scrollLeft != left)\n                  elt.scrollLeft = left;\n          }\n      }\n  }\n  let scratchRange;\n  function textRange(node, from, to = from) {\n      let range = scratchRange || (scratchRange = document.createRange());\n      range.setEnd(node, to);\n      range.setStart(node, from);\n      return range;\n  }\n  function dispatchKey(elt, name, code, mods) {\n      let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n      if (mods)\n          ({ altKey: options.altKey, ctrlKey: options.ctrlKey, shiftKey: options.shiftKey, metaKey: options.metaKey } = mods);\n      let down = new KeyboardEvent(\"keydown\", options);\n      down.synthetic = true;\n      elt.dispatchEvent(down);\n      let up = new KeyboardEvent(\"keyup\", options);\n      up.synthetic = true;\n      elt.dispatchEvent(up);\n      return down.defaultPrevented || up.defaultPrevented;\n  }\n  function getRoot(node) {\n      while (node) {\n          if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n              return node;\n          node = node.assignedSlot || node.parentNode;\n      }\n      return null;\n  }\n  function clearAttributes(node) {\n      while (node.attributes.length)\n          node.removeAttributeNode(node.attributes[0]);\n  }\n  function atElementStart(doc, selection) {\n      let node = selection.focusNode, offset = selection.focusOffset;\n      if (!node || selection.anchorNode != node || selection.anchorOffset != offset)\n          return false;\n      // Safari can report bogus offsets (#1152)\n      offset = Math.min(offset, maxOffset(node));\n      for (;;) {\n          if (offset) {\n              if (node.nodeType != 1)\n                  return false;\n              let prev = node.childNodes[offset - 1];\n              if (prev.contentEditable == \"false\")\n                  offset--;\n              else {\n                  node = prev;\n                  offset = maxOffset(node);\n              }\n          }\n          else if (node == doc) {\n              return true;\n          }\n          else {\n              offset = domIndex(node);\n              node = node.parentNode;\n          }\n      }\n  }\n  function isScrolledToBottom(elt) {\n      return elt.scrollTop > Math.max(1, elt.scrollHeight - elt.clientHeight - 4);\n  }\n  function textNodeBefore(startNode, startOffset) {\n      for (let node = startNode, offset = startOffset;;) {\n          if (node.nodeType == 3 && offset > 0) {\n              return { node: node, offset: offset };\n          }\n          else if (node.nodeType == 1 && offset > 0) {\n              if (node.contentEditable == \"false\")\n                  return null;\n              node = node.childNodes[offset - 1];\n              offset = maxOffset(node);\n          }\n          else if (node.parentNode && !isBlockElement(node)) {\n              offset = domIndex(node);\n              node = node.parentNode;\n          }\n          else {\n              return null;\n          }\n      }\n  }\n  function textNodeAfter(startNode, startOffset) {\n      for (let node = startNode, offset = startOffset;;) {\n          if (node.nodeType == 3 && offset < node.nodeValue.length) {\n              return { node: node, offset: offset };\n          }\n          else if (node.nodeType == 1 && offset < node.childNodes.length) {\n              if (node.contentEditable == \"false\")\n                  return null;\n              node = node.childNodes[offset];\n              offset = 0;\n          }\n          else if (node.parentNode && !isBlockElement(node)) {\n              offset = domIndex(node) + 1;\n              node = node.parentNode;\n          }\n          else {\n              return null;\n          }\n      }\n  }\n\n  class DOMPos {\n      constructor(node, offset, precise = true) {\n          this.node = node;\n          this.offset = offset;\n          this.precise = precise;\n      }\n      static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n      static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n  }\n  const noChildren = [];\n  class ContentView {\n      constructor() {\n          this.parent = null;\n          this.dom = null;\n          this.flags = 2 /* ViewFlag.NodeDirty */;\n      }\n      get overrideDOMText() { return null; }\n      get posAtStart() {\n          return this.parent ? this.parent.posBefore(this) : 0;\n      }\n      get posAtEnd() {\n          return this.posAtStart + this.length;\n      }\n      posBefore(view) {\n          let pos = this.posAtStart;\n          for (let child of this.children) {\n              if (child == view)\n                  return pos;\n              pos += child.length + child.breakAfter;\n          }\n          throw new RangeError(\"Invalid child in posBefore\");\n      }\n      posAfter(view) {\n          return this.posBefore(view) + view.length;\n      }\n      sync(view, track) {\n          if (this.flags & 2 /* ViewFlag.NodeDirty */) {\n              let parent = this.dom;\n              let prev = null, next;\n              for (let child of this.children) {\n                  if (child.flags & 7 /* ViewFlag.Dirty */) {\n                      if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {\n                          let contentView = ContentView.get(next);\n                          if (!contentView || !contentView.parent && contentView.canReuseDOM(child))\n                              child.reuseDOM(next);\n                      }\n                      child.sync(view, track);\n                      child.flags &= -8 /* ViewFlag.Dirty */;\n                  }\n                  next = prev ? prev.nextSibling : parent.firstChild;\n                  if (track && !track.written && track.node == parent && next != child.dom)\n                      track.written = true;\n                  if (child.dom.parentNode == parent) {\n                      while (next && next != child.dom)\n                          next = rm$1(next);\n                  }\n                  else {\n                      parent.insertBefore(child.dom, next);\n                  }\n                  prev = child.dom;\n              }\n              next = prev ? prev.nextSibling : parent.firstChild;\n              if (next && track && track.node == parent)\n                  track.written = true;\n              while (next)\n                  next = rm$1(next);\n          }\n          else if (this.flags & 1 /* ViewFlag.ChildDirty */) {\n              for (let child of this.children)\n                  if (child.flags & 7 /* ViewFlag.Dirty */) {\n                      child.sync(view, track);\n                      child.flags &= -8 /* ViewFlag.Dirty */;\n                  }\n          }\n      }\n      reuseDOM(_dom) { }\n      localPosFromDOM(node, offset) {\n          let after;\n          if (node == this.dom) {\n              after = this.dom.childNodes[offset];\n          }\n          else {\n              let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n              for (;;) {\n                  let parent = node.parentNode;\n                  if (parent == this.dom)\n                      break;\n                  if (bias == 0 && parent.firstChild != parent.lastChild) {\n                      if (node == parent.firstChild)\n                          bias = -1;\n                      else\n                          bias = 1;\n                  }\n                  node = parent;\n              }\n              if (bias < 0)\n                  after = node;\n              else\n                  after = node.nextSibling;\n          }\n          if (after == this.dom.firstChild)\n              return 0;\n          while (after && !ContentView.get(after))\n              after = after.nextSibling;\n          if (!after)\n              return this.length;\n          for (let i = 0, pos = 0;; i++) {\n              let child = this.children[i];\n              if (child.dom == after)\n                  return pos;\n              pos += child.length + child.breakAfter;\n          }\n      }\n      domBoundsAround(from, to, offset = 0) {\n          let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n          for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n              let child = this.children[i], end = pos + child.length;\n              if (pos < from && end > to)\n                  return child.domBoundsAround(from, to, pos);\n              if (end >= from && fromI == -1) {\n                  fromI = i;\n                  fromStart = pos;\n              }\n              if (pos > to && child.dom.parentNode == this.dom) {\n                  toI = i;\n                  toEnd = prevEnd;\n                  break;\n              }\n              prevEnd = end;\n              pos = end + child.breakAfter;\n          }\n          return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n              startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n              endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n      }\n      markDirty(andParent = false) {\n          this.flags |= 2 /* ViewFlag.NodeDirty */;\n          this.markParentsDirty(andParent);\n      }\n      markParentsDirty(childList) {\n          for (let parent = this.parent; parent; parent = parent.parent) {\n              if (childList)\n                  parent.flags |= 2 /* ViewFlag.NodeDirty */;\n              if (parent.flags & 1 /* ViewFlag.ChildDirty */)\n                  return;\n              parent.flags |= 1 /* ViewFlag.ChildDirty */;\n              childList = false;\n          }\n      }\n      setParent(parent) {\n          if (this.parent != parent) {\n              this.parent = parent;\n              if (this.flags & 7 /* ViewFlag.Dirty */)\n                  this.markParentsDirty(true);\n          }\n      }\n      setDOM(dom) {\n          if (this.dom == dom)\n              return;\n          if (this.dom)\n              this.dom.cmView = null;\n          this.dom = dom;\n          dom.cmView = this;\n      }\n      get rootView() {\n          for (let v = this;;) {\n              let parent = v.parent;\n              if (!parent)\n                  return v;\n              v = parent;\n          }\n      }\n      replaceChildren(from, to, children = noChildren) {\n          this.markDirty();\n          for (let i = from; i < to; i++) {\n              let child = this.children[i];\n              if (child.parent == this && children.indexOf(child) < 0)\n                  child.destroy();\n          }\n          if (children.length < 250)\n              this.children.splice(from, to - from, ...children);\n          else\n              this.children = [].concat(this.children.slice(0, from), children, this.children.slice(to));\n          for (let i = 0; i < children.length; i++)\n              children[i].setParent(this);\n      }\n      ignoreMutation(_rec) { return false; }\n      ignoreEvent(_event) { return false; }\n      childCursor(pos = this.length) {\n          return new ChildCursor(this.children, pos, this.children.length);\n      }\n      childPos(pos, bias = 1) {\n          return this.childCursor().findPos(pos, bias);\n      }\n      toString() {\n          let name = this.constructor.name.replace(\"View\", \"\");\n          return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n              this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n              (this.breakAfter ? \"#\" : \"\");\n      }\n      static get(node) { return node.cmView; }\n      get isEditable() { return true; }\n      get isWidget() { return false; }\n      get isHidden() { return false; }\n      merge(from, to, source, hasStart, openStart, openEnd) {\n          return false;\n      }\n      become(other) { return false; }\n      canReuseDOM(other) {\n          return other.constructor == this.constructor && !((this.flags | other.flags) & 8 /* ViewFlag.Composition */);\n      }\n      // When this is a zero-length view with a side, this should return a\n      // number <= 0 to indicate it is before its position, or a\n      // number > 0 when after its position.\n      getSide() { return 0; }\n      destroy() {\n          for (let child of this.children)\n              if (child.parent == this)\n                  child.destroy();\n          this.parent = null;\n      }\n  }\n  ContentView.prototype.breakAfter = 0;\n  // Remove a DOM node and return its next sibling.\n  function rm$1(dom) {\n      let next = dom.nextSibling;\n      dom.parentNode.removeChild(dom);\n      return next;\n  }\n  class ChildCursor {\n      constructor(children, pos, i) {\n          this.children = children;\n          this.pos = pos;\n          this.i = i;\n          this.off = 0;\n      }\n      findPos(pos, bias = 1) {\n          for (;;) {\n              if (pos > this.pos || pos == this.pos &&\n                  (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                  this.off = pos - this.pos;\n                  return this;\n              }\n              let next = this.children[--this.i];\n              this.pos -= next.length + next.breakAfter;\n          }\n      }\n  }\n  function replaceRange(parent, fromI, fromOff, toI, toOff, insert, breakAtStart, openStart, openEnd) {\n      let { children } = parent;\n      let before = children.length ? children[fromI] : null;\n      let last = insert.length ? insert[insert.length - 1] : null;\n      let breakAtEnd = last ? last.breakAfter : breakAtStart;\n      // Change within a single child\n      if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert.length < 2 &&\n          before.merge(fromOff, toOff, insert.length ? last : null, fromOff == 0, openStart, openEnd))\n          return;\n      if (toI < children.length) {\n          let after = children[toI];\n          // Make sure the end of the child after the update is preserved in `after`\n          if (after && (toOff < after.length || after.breakAfter && (last === null || last === void 0 ? void 0 : last.breakAfter))) {\n              // If we're splitting a child, separate part of it to avoid that\n              // being mangled when updating the child before the update.\n              if (fromI == toI) {\n                  after = after.split(toOff);\n                  toOff = 0;\n              }\n              // If the element after the replacement should be merged with\n              // the last replacing element, update `content`\n              if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                  insert[insert.length - 1] = after;\n              }\n              else {\n                  // Remove the start of the after element, if necessary, and\n                  // add it to `content`.\n                  if (toOff || after.children.length && !after.children[0].length)\n                      after.merge(0, toOff, null, false, 0, openEnd);\n                  insert.push(after);\n              }\n          }\n          else if (after === null || after === void 0 ? void 0 : after.breakAfter) {\n              // The element at `toI` is entirely covered by this range.\n              // Preserve its line break, if any.\n              if (last)\n                  last.breakAfter = 1;\n              else\n                  breakAtStart = 1;\n          }\n          // Since we've handled the next element from the current elements\n          // now, make sure `toI` points after that.\n          toI++;\n      }\n      if (before) {\n          before.breakAfter = breakAtStart;\n          if (fromOff > 0) {\n              if (!breakAtStart && insert.length && before.merge(fromOff, before.length, insert[0], false, openStart, 0)) {\n                  before.breakAfter = insert.shift().breakAfter;\n              }\n              else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                  before.merge(fromOff, before.length, null, false, openStart, 0);\n              }\n              fromI++;\n          }\n      }\n      // Try to merge widgets on the boundaries of the replacement\n      while (fromI < toI && insert.length) {\n          if (children[toI - 1].become(insert[insert.length - 1])) {\n              toI--;\n              insert.pop();\n              openEnd = insert.length ? 0 : openStart;\n          }\n          else if (children[fromI].become(insert[0])) {\n              fromI++;\n              insert.shift();\n              openStart = insert.length ? 0 : openEnd;\n          }\n          else {\n              break;\n          }\n      }\n      if (!insert.length && fromI && toI < children.length && !children[fromI - 1].breakAfter &&\n          children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))\n          fromI--;\n      if (fromI < toI || insert.length)\n          parent.replaceChildren(fromI, toI, insert);\n  }\n  function mergeChildrenInto(parent, from, to, insert, openStart, openEnd) {\n      let cur = parent.childCursor();\n      let { i: toI, off: toOff } = cur.findPos(to, 1);\n      let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n      let dLen = from - to;\n      for (let view of insert)\n          dLen += view.length;\n      parent.length += dLen;\n      replaceRange(parent, fromI, fromOff, toI, toOff, insert, 0, openStart, openEnd);\n  }\n\n  let nav = typeof navigator != \"undefined\" ? navigator : { userAgent: \"\", vendor: \"\", platform: \"\" };\n  let doc = typeof document != \"undefined\" ? document : { documentElement: { style: {} } };\n  const ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\n  const ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\n  const ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\n  const ie = !!(ie_upto10 || ie_11up || ie_edge);\n  const gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\n  const chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\n  const webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\n  const safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\n  const ios = safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\n  var browser = {\n      mac: ios || /*@__PURE__*//Mac/.test(nav.platform),\n      windows: /*@__PURE__*//Win/.test(nav.platform),\n      linux: /*@__PURE__*//Linux|X11/.test(nav.platform),\n      ie,\n      ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n      gecko,\n      gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n      chrome: !!chrome,\n      chrome_version: chrome ? +chrome[1] : 0,\n      ios,\n      android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n      safari,\n      webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n      tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n  };\n\n  const MaxJoinLen = 256;\n  class TextView extends ContentView {\n      constructor(text) {\n          super();\n          this.text = text;\n      }\n      get length() { return this.text.length; }\n      createDOM(textDOM) {\n          this.setDOM(textDOM || document.createTextNode(this.text));\n      }\n      sync(view, track) {\n          if (!this.dom)\n              this.createDOM();\n          if (this.dom.nodeValue != this.text) {\n              if (track && track.node == this.dom)\n                  track.written = true;\n              this.dom.nodeValue = this.text;\n          }\n      }\n      reuseDOM(dom) {\n          if (dom.nodeType == 3)\n              this.createDOM(dom);\n      }\n      merge(from, to, source) {\n          if ((this.flags & 8 /* ViewFlag.Composition */) ||\n              source && (!(source instanceof TextView) ||\n                  this.length - (to - from) + source.length > MaxJoinLen ||\n                  (source.flags & 8 /* ViewFlag.Composition */)))\n              return false;\n          this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n          this.markDirty();\n          return true;\n      }\n      split(from) {\n          let result = new TextView(this.text.slice(from));\n          this.text = this.text.slice(0, from);\n          this.markDirty();\n          result.flags |= this.flags & 8 /* ViewFlag.Composition */;\n          return result;\n      }\n      localPosFromDOM(node, offset) {\n          return node == this.dom ? offset : offset ? this.text.length : 0;\n      }\n      domAtPos(pos) { return new DOMPos(this.dom, pos); }\n      domBoundsAround(_from, _to, offset) {\n          return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n      }\n      coordsAt(pos, side) {\n          return textCoords(this.dom, pos, side);\n      }\n  }\n  class MarkView extends ContentView {\n      constructor(mark, children = [], length = 0) {\n          super();\n          this.mark = mark;\n          this.children = children;\n          this.length = length;\n          for (let ch of children)\n              ch.setParent(this);\n      }\n      setAttrs(dom) {\n          clearAttributes(dom);\n          if (this.mark.class)\n              dom.className = this.mark.class;\n          if (this.mark.attrs)\n              for (let name in this.mark.attrs)\n                  dom.setAttribute(name, this.mark.attrs[name]);\n          return dom;\n      }\n      canReuseDOM(other) {\n          return super.canReuseDOM(other) && !((this.flags | other.flags) & 8 /* ViewFlag.Composition */);\n      }\n      reuseDOM(node) {\n          if (node.nodeName == this.mark.tagName.toUpperCase()) {\n              this.setDOM(node);\n              this.flags |= 4 /* ViewFlag.AttrsDirty */ | 2 /* ViewFlag.NodeDirty */;\n          }\n      }\n      sync(view, track) {\n          if (!this.dom)\n              this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));\n          else if (this.flags & 4 /* ViewFlag.AttrsDirty */)\n              this.setAttrs(this.dom);\n          super.sync(view, track);\n      }\n      merge(from, to, source, _hasStart, openStart, openEnd) {\n          if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n              (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n              return false;\n          mergeChildrenInto(this, from, to, source ? source.children.slice() : [], openStart - 1, openEnd - 1);\n          this.markDirty();\n          return true;\n      }\n      split(from) {\n          let result = [], off = 0, detachFrom = -1, i = 0;\n          for (let elt of this.children) {\n              let end = off + elt.length;\n              if (end > from)\n                  result.push(off < from ? elt.split(from - off) : elt);\n              if (detachFrom < 0 && off >= from)\n                  detachFrom = i;\n              off = end;\n              i++;\n          }\n          let length = this.length - from;\n          this.length = from;\n          if (detachFrom > -1) {\n              this.children.length = detachFrom;\n              this.markDirty();\n          }\n          return new MarkView(this.mark, result, length);\n      }\n      domAtPos(pos) {\n          return inlineDOMAtPos(this, pos);\n      }\n      coordsAt(pos, side) {\n          return coordsInChildren(this, pos, side);\n      }\n  }\n  function textCoords(text, pos, side) {\n      let length = text.nodeValue.length;\n      if (pos > length)\n          pos = length;\n      let from = pos, to = pos, flatten = 0;\n      if (pos == 0 && side < 0 || pos == length && side >= 0) {\n          if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n              if (pos) {\n                  from--;\n                  flatten = 1;\n              } // FIXME this is wrong in RTL text\n              else if (to < length) {\n                  to++;\n                  flatten = -1;\n              }\n          }\n      }\n      else {\n          if (side < 0)\n              from--;\n          else if (to < length)\n              to++;\n      }\n      let rects = textRange(text, from, to).getClientRects();\n      if (!rects.length)\n          return null;\n      let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n      if (browser.safari && !flatten && rect.width == 0)\n          rect = Array.prototype.find.call(rects, r => r.width) || rect;\n      return flatten ? flattenRect(rect, flatten < 0) : rect || null;\n  }\n  // Also used for collapsed ranges that don't have a placeholder widget!\n  class WidgetView extends ContentView {\n      static create(widget, length, side) {\n          return new WidgetView(widget, length, side);\n      }\n      constructor(widget, length, side) {\n          super();\n          this.widget = widget;\n          this.length = length;\n          this.side = side;\n          this.prevWidget = null;\n      }\n      split(from) {\n          let result = WidgetView.create(this.widget, this.length - from, this.side);\n          this.length -= from;\n          return result;\n      }\n      sync(view) {\n          if (!this.dom || !this.widget.updateDOM(this.dom, view)) {\n              if (this.dom && this.prevWidget)\n                  this.prevWidget.destroy(this.dom);\n              this.prevWidget = null;\n              this.setDOM(this.widget.toDOM(view));\n              if (!this.widget.editable)\n                  this.dom.contentEditable = \"false\";\n          }\n      }\n      getSide() { return this.side; }\n      merge(from, to, source, hasStart, openStart, openEnd) {\n          if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n              from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n              return false;\n          this.length = from + (source ? source.length : 0) + (this.length - to);\n          return true;\n      }\n      become(other) {\n          if (other instanceof WidgetView && other.side == this.side &&\n              this.widget.constructor == other.widget.constructor) {\n              if (!this.widget.compare(other.widget))\n                  this.markDirty(true);\n              if (this.dom && !this.prevWidget)\n                  this.prevWidget = this.widget;\n              this.widget = other.widget;\n              this.length = other.length;\n              return true;\n          }\n          return false;\n      }\n      ignoreMutation() { return true; }\n      ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n      get overrideDOMText() {\n          if (this.length == 0)\n              return Text.empty;\n          let top = this;\n          while (top.parent)\n              top = top.parent;\n          let { view } = top, text = view && view.state.doc, start = this.posAtStart;\n          return text ? text.slice(start, start + this.length) : Text.empty;\n      }\n      domAtPos(pos) {\n          return (this.length ? pos == 0 : this.side > 0)\n              ? DOMPos.before(this.dom)\n              : DOMPos.after(this.dom, pos == this.length);\n      }\n      domBoundsAround() { return null; }\n      coordsAt(pos, side) {\n          let custom = this.widget.coordsAt(this.dom, pos, side);\n          if (custom)\n              return custom;\n          let rects = this.dom.getClientRects(), rect = null;\n          if (!rects.length)\n              return null;\n          let fromBack = this.side ? this.side < 0 : pos > 0;\n          for (let i = fromBack ? rects.length - 1 : 0;; i += (fromBack ? -1 : 1)) {\n              rect = rects[i];\n              if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                  break;\n          }\n          return flattenRect(rect, !fromBack);\n      }\n      get isEditable() { return false; }\n      get isWidget() { return true; }\n      get isHidden() { return this.widget.isHidden; }\n      destroy() {\n          super.destroy();\n          if (this.dom)\n              this.widget.destroy(this.dom);\n      }\n  }\n  // These are drawn around uneditable widgets to avoid a number of\n  // browser bugs that show up when the cursor is directly next to\n  // uneditable inline content.\n  class WidgetBufferView extends ContentView {\n      constructor(side) {\n          super();\n          this.side = side;\n      }\n      get length() { return 0; }\n      merge() { return false; }\n      become(other) {\n          return other instanceof WidgetBufferView && other.side == this.side;\n      }\n      split() { return new WidgetBufferView(this.side); }\n      sync() {\n          if (!this.dom) {\n              let dom = document.createElement(\"img\");\n              dom.className = \"cm-widgetBuffer\";\n              dom.setAttribute(\"aria-hidden\", \"true\");\n              this.setDOM(dom);\n          }\n      }\n      getSide() { return this.side; }\n      domAtPos(pos) { return this.side > 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom); }\n      localPosFromDOM() { return 0; }\n      domBoundsAround() { return null; }\n      coordsAt(pos) {\n          return this.dom.getBoundingClientRect();\n      }\n      get overrideDOMText() {\n          return Text.empty;\n      }\n      get isHidden() { return true; }\n  }\n  TextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;\n  function inlineDOMAtPos(parent, pos) {\n      let dom = parent.dom, { children } = parent, i = 0;\n      for (let off = 0; i < children.length; i++) {\n          let child = children[i], end = off + child.length;\n          if (end == off && child.getSide() <= 0)\n              continue;\n          if (pos > off && pos < end && child.dom.parentNode == dom)\n              return child.domAtPos(pos - off);\n          if (pos <= off)\n              break;\n          off = end;\n      }\n      for (let j = i; j > 0; j--) {\n          let prev = children[j - 1];\n          if (prev.dom.parentNode == dom)\n              return prev.domAtPos(prev.length);\n      }\n      for (let j = i; j < children.length; j++) {\n          let next = children[j];\n          if (next.dom.parentNode == dom)\n              return next.domAtPos(0);\n      }\n      return new DOMPos(dom, 0);\n  }\n  // Assumes `view`, if a mark view, has precisely 1 child.\n  function joinInlineInto(parent, view, open) {\n      let last, { children } = parent;\n      if (open > 0 && view instanceof MarkView && children.length &&\n          (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n          joinInlineInto(last, view.children[0], open - 1);\n      }\n      else {\n          children.push(view);\n          view.setParent(parent);\n      }\n      parent.length += view.length;\n  }\n  function coordsInChildren(view, pos, side) {\n      let before = null, beforePos = -1, after = null, afterPos = -1;\n      function scan(view, pos) {\n          for (let i = 0, off = 0; i < view.children.length && off <= pos; i++) {\n              let child = view.children[i], end = off + child.length;\n              if (end >= pos) {\n                  if (child.children.length) {\n                      scan(child, pos - off);\n                  }\n                  else if ((!after || after.isHidden && (side > 0 || onSameLine(after, child))) &&\n                      (end > pos || off == end && child.getSide() > 0)) {\n                      after = child;\n                      afterPos = pos - off;\n                  }\n                  else if (off < pos || (off == end && child.getSide() < 0) && !child.isHidden) {\n                      before = child;\n                      beforePos = pos - off;\n                  }\n              }\n              off = end;\n          }\n      }\n      scan(view, pos);\n      let target = (side < 0 ? before : after) || before || after;\n      if (target)\n          return target.coordsAt(Math.max(0, target == before ? beforePos : afterPos), side);\n      return fallbackRect(view);\n  }\n  function fallbackRect(view) {\n      let last = view.dom.lastChild;\n      if (!last)\n          return view.dom.getBoundingClientRect();\n      let rects = clientRectsFor(last);\n      return rects[rects.length - 1] || null;\n  }\n  function onSameLine(a, b) {\n      let posA = a.coordsAt(0, 1), posB = b.coordsAt(0, 1);\n      return posA && posB && posB.top < posA.bottom;\n  }\n\n  function combineAttrs(source, target) {\n      for (let name in source) {\n          if (name == \"class\" && target.class)\n              target.class += \" \" + source.class;\n          else if (name == \"style\" && target.style)\n              target.style += \";\" + source.style;\n          else\n              target[name] = source[name];\n      }\n      return target;\n  }\n  const noAttrs$1 = /*@__PURE__*/Object.create(null);\n  function attrsEq(a, b, ignore) {\n      if (a == b)\n          return true;\n      if (!a)\n          a = noAttrs$1;\n      if (!b)\n          b = noAttrs$1;\n      let keysA = Object.keys(a), keysB = Object.keys(b);\n      if (keysA.length - (ignore && keysA.indexOf(ignore) > -1 ? 1 : 0) !=\n          keysB.length - (ignore && keysB.indexOf(ignore) > -1 ? 1 : 0))\n          return false;\n      for (let key of keysA) {\n          if (key != ignore && (keysB.indexOf(key) == -1 || a[key] !== b[key]))\n              return false;\n      }\n      return true;\n  }\n  function updateAttrs(dom, prev, attrs) {\n      let changed = false;\n      if (prev)\n          for (let name in prev)\n              if (!(attrs && name in attrs)) {\n                  changed = true;\n                  if (name == \"style\")\n                      dom.style.cssText = \"\";\n                  else\n                      dom.removeAttribute(name);\n              }\n      if (attrs)\n          for (let name in attrs)\n              if (!(prev && prev[name] == attrs[name])) {\n                  changed = true;\n                  if (name == \"style\")\n                      dom.style.cssText = attrs[name];\n                  else\n                      dom.setAttribute(name, attrs[name]);\n              }\n      return changed;\n  }\n  function getAttrs$1(dom) {\n      let attrs = Object.create(null);\n      for (let i = 0; i < dom.attributes.length; i++) {\n          let attr = dom.attributes[i];\n          attrs[attr.name] = attr.value;\n      }\n      return attrs;\n  }\n\n  /**\n  Widgets added to the content are described by subclasses of this\n  class. Using a description object like that makes it possible to\n  delay creating of the DOM structure for a widget until it is\n  needed, and to avoid redrawing widgets even if the decorations\n  that define them are recreated.\n  */\n  class WidgetType {\n      /**\n      Compare this instance to another instance of the same type.\n      (TypeScript can't express this, but only instances of the same\n      specific class will be passed to this method.) This is used to\n      avoid redrawing widgets when they are replaced by a new\n      decoration of the same type. The default implementation just\n      returns `false`, which will cause new instances of the widget to\n      always be redrawn.\n      */\n      eq(widget) { return false; }\n      /**\n      Update a DOM element created by a widget of the same type (but\n      different, non-`eq` content) to reflect this widget. May return\n      true to indicate that it could update, false to indicate it\n      couldn't (in which case the widget will be redrawn). The default\n      implementation just returns false.\n      */\n      updateDOM(dom, view) { return false; }\n      /**\n      @internal\n      */\n      compare(other) {\n          return this == other || this.constructor == other.constructor && this.eq(other);\n      }\n      /**\n      The estimated height this widget will have, to be used when\n      estimating the height of content that hasn't been drawn. May\n      return -1 to indicate you don't know. The default implementation\n      returns -1.\n      */\n      get estimatedHeight() { return -1; }\n      /**\n      For inline widgets that are displayed inline (as opposed to\n      `inline-block`) and introduce line breaks (through `<br>` tags\n      or textual newlines), this must indicate the amount of line\n      breaks they introduce. Defaults to 0.\n      */\n      get lineBreaks() { return 0; }\n      /**\n      Can be used to configure which kinds of events inside the widget\n      should be ignored by the editor. The default is to ignore all\n      events.\n      */\n      ignoreEvent(event) { return true; }\n      /**\n      Override the way screen coordinates for positions at/in the\n      widget are found. `pos` will be the offset into the widget, and\n      `side` the side of the position that is being queriedless than\n      zero for before, greater than zero for after, and zero for\n      directly at that position.\n      */\n      coordsAt(dom, pos, side) { return null; }\n      /**\n      @internal\n      */\n      get isHidden() { return false; }\n      /**\n      @internal\n      */\n      get editable() { return false; }\n      /**\n      This is called when the an instance of the widget is removed\n      from the editor view.\n      */\n      destroy(dom) { }\n  }\n  /**\n  The different types of blocks that can occur in an editor view.\n  */\n  var BlockType = /*@__PURE__*/(function (BlockType) {\n      /**\n      A line of text.\n      */\n      BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n      /**\n      A block widget associated with the position after it.\n      */\n      BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n      /**\n      A block widget associated with the position before it.\n      */\n      BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n      /**\n      A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n      */\n      BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\n  return BlockType})(BlockType || (BlockType = {}));\n  /**\n  A decoration provides information on how to draw or style a piece\n  of content. You'll usually use it wrapped in a\n  [`Range`](https://codemirror.net/6/docs/ref/#state.Range), which adds a start and end position.\n  @nonabstract\n  */\n  class Decoration extends RangeValue {\n      constructor(\n      /**\n      @internal\n      */\n      startSide, \n      /**\n      @internal\n      */\n      endSide, \n      /**\n      @internal\n      */\n      widget, \n      /**\n      The config object used to create this decoration. You can\n      include additional properties in there to store metadata about\n      your decoration.\n      */\n      spec) {\n          super();\n          this.startSide = startSide;\n          this.endSide = endSide;\n          this.widget = widget;\n          this.spec = spec;\n      }\n      /**\n      @internal\n      */\n      get heightRelevant() { return false; }\n      /**\n      Create a mark decoration, which influences the styling of the\n      content in its range. Nested mark decorations will cause nested\n      DOM elements to be created. Nesting order is determined by\n      precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with\n      the higher-precedence decorations creating the inner DOM nodes.\n      Such elements are split on line boundaries and on the boundaries\n      of lower-precedence decorations.\n      */\n      static mark(spec) {\n          return new MarkDecoration(spec);\n      }\n      /**\n      Create a widget decoration, which displays a DOM element at the\n      given position.\n      */\n      static widget(spec) {\n          let side = Math.max(-1e4, Math.min(10000, spec.side || 0)), block = !!spec.block;\n          side += (block && !spec.inlineOrder)\n              ? (side > 0 ? 300000000 /* Side.BlockAfter */ : -4e8 /* Side.BlockBefore */)\n              : (side > 0 ? 100000000 /* Side.InlineAfter */ : -1e8 /* Side.InlineBefore */);\n          return new PointDecoration(spec, side, side, block, spec.widget || null, false);\n      }\n      /**\n      Create a replace decoration which replaces the given range with\n      a widget, or simply hides it.\n      */\n      static replace(spec) {\n          let block = !!spec.block, startSide, endSide;\n          if (spec.isBlockGap) {\n              startSide = -5e8 /* Side.GapStart */;\n              endSide = 400000000 /* Side.GapEnd */;\n          }\n          else {\n              let { start, end } = getInclusive(spec, block);\n              startSide = (start ? (block ? -3e8 /* Side.BlockIncStart */ : -1 /* Side.InlineIncStart */) : 500000000 /* Side.NonIncStart */) - 1;\n              endSide = (end ? (block ? 200000000 /* Side.BlockIncEnd */ : 1 /* Side.InlineIncEnd */) : -6e8 /* Side.NonIncEnd */) + 1;\n          }\n          return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n      }\n      /**\n      Create a line decoration, which can add DOM attributes to the\n      line starting at the given position.\n      */\n      static line(spec) {\n          return new LineDecoration(spec);\n      }\n      /**\n      Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n      decorated range or ranges. If the ranges aren't already sorted,\n      pass `true` for `sort` to make the library sort them for you.\n      */\n      static set(of, sort = false) {\n          return RangeSet.of(of, sort);\n      }\n      /**\n      @internal\n      */\n      hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n  }\n  /**\n  The empty set of decorations.\n  */\n  Decoration.none = RangeSet.empty;\n  class MarkDecoration extends Decoration {\n      constructor(spec) {\n          let { start, end } = getInclusive(spec);\n          super(start ? -1 /* Side.InlineIncStart */ : 500000000 /* Side.NonIncStart */, end ? 1 /* Side.InlineIncEnd */ : -6e8 /* Side.NonIncEnd */, null, spec);\n          this.tagName = spec.tagName || \"span\";\n          this.class = spec.class || \"\";\n          this.attrs = spec.attributes || null;\n      }\n      eq(other) {\n          var _a, _b;\n          return this == other ||\n              other instanceof MarkDecoration &&\n                  this.tagName == other.tagName &&\n                  (this.class || ((_a = this.attrs) === null || _a === void 0 ? void 0 : _a.class)) == (other.class || ((_b = other.attrs) === null || _b === void 0 ? void 0 : _b.class)) &&\n                  attrsEq(this.attrs, other.attrs, \"class\");\n      }\n      range(from, to = from) {\n          if (from >= to)\n              throw new RangeError(\"Mark decorations may not be empty\");\n          return super.range(from, to);\n      }\n  }\n  MarkDecoration.prototype.point = false;\n  class LineDecoration extends Decoration {\n      constructor(spec) {\n          super(-2e8 /* Side.Line */, -2e8 /* Side.Line */, null, spec);\n      }\n      eq(other) {\n          return other instanceof LineDecoration &&\n              this.spec.class == other.spec.class &&\n              attrsEq(this.spec.attributes, other.spec.attributes);\n      }\n      range(from, to = from) {\n          if (to != from)\n              throw new RangeError(\"Line decoration ranges must be zero-length\");\n          return super.range(from, to);\n      }\n  }\n  LineDecoration.prototype.mapMode = MapMode.TrackBefore;\n  LineDecoration.prototype.point = true;\n  class PointDecoration extends Decoration {\n      constructor(spec, startSide, endSide, block, widget, isReplace) {\n          super(startSide, endSide, widget, spec);\n          this.block = block;\n          this.isReplace = isReplace;\n          this.mapMode = !block ? MapMode.TrackDel : startSide <= 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n      }\n      // Only relevant when this.block == true\n      get type() {\n          return this.startSide != this.endSide ? BlockType.WidgetRange\n              : this.startSide <= 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n      }\n      get heightRelevant() {\n          return this.block || !!this.widget && (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0);\n      }\n      eq(other) {\n          return other instanceof PointDecoration &&\n              widgetsEq(this.widget, other.widget) &&\n              this.block == other.block &&\n              this.startSide == other.startSide && this.endSide == other.endSide;\n      }\n      range(from, to = from) {\n          if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide <= 0)))\n              throw new RangeError(\"Invalid range for replacement decoration\");\n          if (!this.isReplace && to != from)\n              throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n          return super.range(from, to);\n      }\n  }\n  PointDecoration.prototype.point = true;\n  function getInclusive(spec, block = false) {\n      let { inclusiveStart: start, inclusiveEnd: end } = spec;\n      if (start == null)\n          start = spec.inclusive;\n      if (end == null)\n          end = spec.inclusive;\n      return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };\n  }\n  function widgetsEq(a, b) {\n      return a == b || !!(a && b && a.compare(b));\n  }\n  function addRange(from, to, ranges, margin = 0) {\n      let last = ranges.length - 1;\n      if (last >= 0 && ranges[last] + margin >= from)\n          ranges[last] = Math.max(ranges[last], to);\n      else\n          ranges.push(from, to);\n  }\n\n  class LineView extends ContentView {\n      constructor() {\n          super(...arguments);\n          this.children = [];\n          this.length = 0;\n          this.prevAttrs = undefined;\n          this.attrs = null;\n          this.breakAfter = 0;\n      }\n      // Consumes source\n      merge(from, to, source, hasStart, openStart, openEnd) {\n          if (source) {\n              if (!(source instanceof LineView))\n                  return false;\n              if (!this.dom)\n                  source.transferDOM(this); // Reuse source.dom when appropriate\n          }\n          if (hasStart)\n              this.setDeco(source ? source.attrs : null);\n          mergeChildrenInto(this, from, to, source ? source.children.slice() : [], openStart, openEnd);\n          return true;\n      }\n      split(at) {\n          let end = new LineView;\n          end.breakAfter = this.breakAfter;\n          if (this.length == 0)\n              return end;\n          let { i, off } = this.childPos(at);\n          if (off) {\n              end.append(this.children[i].split(off), 0);\n              this.children[i].merge(off, this.children[i].length, null, false, 0, 0);\n              i++;\n          }\n          for (let j = i; j < this.children.length; j++)\n              end.append(this.children[j], 0);\n          while (i > 0 && this.children[i - 1].length == 0)\n              this.children[--i].destroy();\n          this.children.length = i;\n          this.markDirty();\n          this.length = at;\n          return end;\n      }\n      transferDOM(other) {\n          if (!this.dom)\n              return;\n          this.markDirty();\n          other.setDOM(this.dom);\n          other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n          this.prevAttrs = undefined;\n          this.dom = null;\n      }\n      setDeco(attrs) {\n          if (!attrsEq(this.attrs, attrs)) {\n              if (this.dom) {\n                  this.prevAttrs = this.attrs;\n                  this.markDirty();\n              }\n              this.attrs = attrs;\n          }\n      }\n      append(child, openStart) {\n          joinInlineInto(this, child, openStart);\n      }\n      // Only called when building a line view in ContentBuilder\n      addLineDeco(deco) {\n          let attrs = deco.spec.attributes, cls = deco.spec.class;\n          if (attrs)\n              this.attrs = combineAttrs(attrs, this.attrs || {});\n          if (cls)\n              this.attrs = combineAttrs({ class: cls }, this.attrs || {});\n      }\n      domAtPos(pos) {\n          return inlineDOMAtPos(this, pos);\n      }\n      reuseDOM(node) {\n          if (node.nodeName == \"DIV\") {\n              this.setDOM(node);\n              this.flags |= 4 /* ViewFlag.AttrsDirty */ | 2 /* ViewFlag.NodeDirty */;\n          }\n      }\n      sync(view, track) {\n          var _a;\n          if (!this.dom) {\n              this.setDOM(document.createElement(\"div\"));\n              this.dom.className = \"cm-line\";\n              this.prevAttrs = this.attrs ? null : undefined;\n          }\n          else if (this.flags & 4 /* ViewFlag.AttrsDirty */) {\n              clearAttributes(this.dom);\n              this.dom.className = \"cm-line\";\n              this.prevAttrs = this.attrs ? null : undefined;\n          }\n          if (this.prevAttrs !== undefined) {\n              updateAttrs(this.dom, this.prevAttrs, this.attrs);\n              this.dom.classList.add(\"cm-line\");\n              this.prevAttrs = undefined;\n          }\n          super.sync(view, track);\n          let last = this.dom.lastChild;\n          while (last && ContentView.get(last) instanceof MarkView)\n              last = last.lastChild;\n          if (!last || !this.length ||\n              last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                  (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n              let hack = document.createElement(\"BR\");\n              hack.cmIgnore = true;\n              this.dom.appendChild(hack);\n          }\n      }\n      measureTextSize() {\n          if (this.children.length == 0 || this.length > 20)\n              return null;\n          let totalWidth = 0, textHeight;\n          for (let child of this.children) {\n              if (!(child instanceof TextView) || /[^ -~]/.test(child.text))\n                  return null;\n              let rects = clientRectsFor(child.dom);\n              if (rects.length != 1)\n                  return null;\n              totalWidth += rects[0].width;\n              textHeight = rects[0].height;\n          }\n          return !totalWidth ? null : {\n              lineHeight: this.dom.getBoundingClientRect().height,\n              charWidth: totalWidth / this.length,\n              textHeight\n          };\n      }\n      coordsAt(pos, side) {\n          let rect = coordsInChildren(this, pos, side);\n          // Correct rectangle height for empty lines when the returned\n          // height is larger than the text height.\n          if (!this.children.length && rect && this.parent) {\n              let { heightOracle } = this.parent.view.viewState, height = rect.bottom - rect.top;\n              if (Math.abs(height - heightOracle.lineHeight) < 2 && heightOracle.textHeight < height) {\n                  let dist = (height - heightOracle.textHeight) / 2;\n                  return { top: rect.top + dist, bottom: rect.bottom - dist, left: rect.left, right: rect.left };\n              }\n          }\n          return rect;\n      }\n      become(other) {\n          return other instanceof LineView && this.children.length == 0 && other.children.length == 0 &&\n              attrsEq(this.attrs, other.attrs) && this.breakAfter == other.breakAfter;\n      }\n      covers() { return true; }\n      static find(docView, pos) {\n          for (let i = 0, off = 0; i < docView.children.length; i++) {\n              let block = docView.children[i], end = off + block.length;\n              if (end >= pos) {\n                  if (block instanceof LineView)\n                      return block;\n                  if (end > pos)\n                      break;\n              }\n              off = end + block.breakAfter;\n          }\n          return null;\n      }\n  }\n  class BlockWidgetView extends ContentView {\n      constructor(widget, length, deco) {\n          super();\n          this.widget = widget;\n          this.length = length;\n          this.deco = deco;\n          this.breakAfter = 0;\n          this.prevWidget = null;\n      }\n      merge(from, to, source, _takeDeco, openStart, openEnd) {\n          if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n              from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n              return false;\n          this.length = from + (source ? source.length : 0) + (this.length - to);\n          return true;\n      }\n      domAtPos(pos) {\n          return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n      }\n      split(at) {\n          let len = this.length - at;\n          this.length = at;\n          let end = new BlockWidgetView(this.widget, len, this.deco);\n          end.breakAfter = this.breakAfter;\n          return end;\n      }\n      get children() { return noChildren; }\n      sync(view) {\n          if (!this.dom || !this.widget.updateDOM(this.dom, view)) {\n              if (this.dom && this.prevWidget)\n                  this.prevWidget.destroy(this.dom);\n              this.prevWidget = null;\n              this.setDOM(this.widget.toDOM(view));\n              if (!this.widget.editable)\n                  this.dom.contentEditable = \"false\";\n          }\n      }\n      get overrideDOMText() {\n          return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text.empty;\n      }\n      domBoundsAround() { return null; }\n      become(other) {\n          if (other instanceof BlockWidgetView &&\n              other.widget.constructor == this.widget.constructor) {\n              if (!other.widget.compare(this.widget))\n                  this.markDirty(true);\n              if (this.dom && !this.prevWidget)\n                  this.prevWidget = this.widget;\n              this.widget = other.widget;\n              this.length = other.length;\n              this.deco = other.deco;\n              this.breakAfter = other.breakAfter;\n              return true;\n          }\n          return false;\n      }\n      ignoreMutation() { return true; }\n      ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n      get isEditable() { return false; }\n      get isWidget() { return true; }\n      coordsAt(pos, side) {\n          let custom = this.widget.coordsAt(this.dom, pos, side);\n          if (custom)\n              return custom;\n          if (this.widget instanceof BlockGapWidget)\n              return null;\n          return flattenRect(this.dom.getBoundingClientRect(), this.length ? pos == 0 : side <= 0);\n      }\n      destroy() {\n          super.destroy();\n          if (this.dom)\n              this.widget.destroy(this.dom);\n      }\n      covers(side) {\n          let { startSide, endSide } = this.deco;\n          return startSide == endSide ? false : side < 0 ? startSide < 0 : endSide > 0;\n      }\n  }\n  class BlockGapWidget extends WidgetType {\n      constructor(height) {\n          super();\n          this.height = height;\n      }\n      toDOM() {\n          let elt = document.createElement(\"div\");\n          elt.className = \"cm-gap\";\n          this.updateDOM(elt);\n          return elt;\n      }\n      eq(other) { return other.height == this.height; }\n      updateDOM(elt) {\n          elt.style.height = this.height + \"px\";\n          return true;\n      }\n      get editable() { return true; }\n      get estimatedHeight() { return this.height; }\n      ignoreEvent() { return false; }\n  }\n\n  class ContentBuilder {\n      constructor(doc, pos, end, disallowBlockEffectsFor) {\n          this.doc = doc;\n          this.pos = pos;\n          this.end = end;\n          this.disallowBlockEffectsFor = disallowBlockEffectsFor;\n          this.content = [];\n          this.curLine = null;\n          this.breakAtStart = 0;\n          this.pendingBuffer = 0 /* Buf.No */;\n          this.bufferMarks = [];\n          // Set to false directly after a widget that covers the position after it\n          this.atCursorPos = true;\n          this.openStart = -1;\n          this.openEnd = -1;\n          this.text = \"\";\n          this.textOff = 0;\n          this.cursor = doc.iter();\n          this.skip = pos;\n      }\n      posCovered() {\n          if (this.content.length == 0)\n              return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n          let last = this.content[this.content.length - 1];\n          return !(last.breakAfter || last instanceof BlockWidgetView && last.deco.endSide < 0);\n      }\n      getLine() {\n          if (!this.curLine) {\n              this.content.push(this.curLine = new LineView);\n              this.atCursorPos = true;\n          }\n          return this.curLine;\n      }\n      flushBuffer(active = this.bufferMarks) {\n          if (this.pendingBuffer) {\n              this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n              this.pendingBuffer = 0 /* Buf.No */;\n          }\n      }\n      addBlockWidget(view) {\n          this.flushBuffer();\n          this.curLine = null;\n          this.content.push(view);\n      }\n      finish(openEnd) {\n          if (this.pendingBuffer && openEnd <= this.bufferMarks.length)\n              this.flushBuffer();\n          else\n              this.pendingBuffer = 0 /* Buf.No */;\n          if (!this.posCovered() &&\n              !(openEnd && this.content.length && this.content[this.content.length - 1] instanceof BlockWidgetView))\n              this.getLine();\n      }\n      buildText(length, active, openStart) {\n          while (length > 0) {\n              if (this.textOff == this.text.length) {\n                  let { value, lineBreak, done } = this.cursor.next(this.skip);\n                  this.skip = 0;\n                  if (done)\n                      throw new Error(\"Ran out of text content when drawing inline views\");\n                  if (lineBreak) {\n                      if (!this.posCovered())\n                          this.getLine();\n                      if (this.content.length)\n                          this.content[this.content.length - 1].breakAfter = 1;\n                      else\n                          this.breakAtStart = 1;\n                      this.flushBuffer();\n                      this.curLine = null;\n                      this.atCursorPos = true;\n                      length--;\n                      continue;\n                  }\n                  else {\n                      this.text = value;\n                      this.textOff = 0;\n                  }\n              }\n              let take = Math.min(this.text.length - this.textOff, length, 512 /* T.Chunk */);\n              this.flushBuffer(active.slice(active.length - openStart));\n              this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n              this.atCursorPos = true;\n              this.textOff += take;\n              length -= take;\n              openStart = 0;\n          }\n      }\n      span(from, to, active, openStart) {\n          this.buildText(to - from, active, openStart);\n          this.pos = to;\n          if (this.openStart < 0)\n              this.openStart = openStart;\n      }\n      point(from, to, deco, active, openStart, index) {\n          if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {\n              if (deco.block)\n                  throw new RangeError(\"Block decorations may not be specified via plugins\");\n              if (to > this.doc.lineAt(this.pos).to)\n                  throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\");\n          }\n          let len = to - from;\n          if (deco instanceof PointDecoration) {\n              if (deco.block) {\n                  if (deco.startSide > 0 && !this.posCovered())\n                      this.getLine();\n                  this.addBlockWidget(new BlockWidgetView(deco.widget || NullWidget.block, len, deco));\n              }\n              else {\n                  let view = WidgetView.create(deco.widget || NullWidget.inline, len, len ? 0 : deco.startSide);\n                  let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length &&\n                      (from < to || deco.startSide > 0);\n                  let cursorAfter = !view.isEditable && (from < to || openStart > active.length || deco.startSide <= 0);\n                  let line = this.getLine();\n                  if (this.pendingBuffer == 2 /* Buf.IfCursor */ && !cursorBefore && !view.isEditable)\n                      this.pendingBuffer = 0 /* Buf.No */;\n                  this.flushBuffer(active);\n                  if (cursorBefore) {\n                      line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                      openStart = active.length + Math.max(0, openStart - active.length);\n                  }\n                  line.append(wrapMarks(view, active), openStart);\n                  this.atCursorPos = cursorAfter;\n                  this.pendingBuffer = !cursorAfter ? 0 /* Buf.No */ : from < to || openStart > active.length ? 1 /* Buf.Yes */ : 2 /* Buf.IfCursor */;\n                  if (this.pendingBuffer)\n                      this.bufferMarks = active.slice();\n              }\n          }\n          else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n              this.getLine().addLineDeco(deco);\n          }\n          if (len) {\n              // Advance the iterator past the replaced content\n              if (this.textOff + len <= this.text.length) {\n                  this.textOff += len;\n              }\n              else {\n                  this.skip += len - (this.text.length - this.textOff);\n                  this.text = \"\";\n                  this.textOff = 0;\n              }\n              this.pos = to;\n          }\n          if (this.openStart < 0)\n              this.openStart = openStart;\n      }\n      static build(text, from, to, decorations, dynamicDecorationMap) {\n          let builder = new ContentBuilder(text, from, to, dynamicDecorationMap);\n          builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n          if (builder.openStart < 0)\n              builder.openStart = builder.openEnd;\n          builder.finish(builder.openEnd);\n          return builder;\n      }\n  }\n  function wrapMarks(view, active) {\n      for (let mark of active)\n          view = new MarkView(mark, [view], view.length);\n      return view;\n  }\n  class NullWidget extends WidgetType {\n      constructor(tag) {\n          super();\n          this.tag = tag;\n      }\n      eq(other) { return other.tag == this.tag; }\n      toDOM() { return document.createElement(this.tag); }\n      updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n      get isHidden() { return true; }\n  }\n  NullWidget.inline = /*@__PURE__*/new NullWidget(\"span\");\n  NullWidget.block = /*@__PURE__*/new NullWidget(\"div\");\n\n  /**\n  Used to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n  */\n  var Direction = /*@__PURE__*/(function (Direction) {\n      // (These are chosen to match the base levels, in bidi algorithm\n      // terms, of spans in that direction.)\n      /**\n      Left-to-right.\n      */\n      Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n      /**\n      Right-to-left.\n      */\n      Direction[Direction[\"RTL\"] = 1] = \"RTL\";\n  return Direction})(Direction || (Direction = {}));\n  const LTR = Direction.LTR, RTL = Direction.RTL;\n  // Decode a string with each type encoded as log2(type)\n  function dec(str) {\n      let result = [];\n      for (let i = 0; i < str.length; i++)\n          result.push(1 << +str[i]);\n      return result;\n  }\n  // Character types for codepoints 0 to 0xf8\n  const LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n  // Character types for codepoints 0x600 to 0x6f9\n  const ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\n  const Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n  // There's a lot more in\n  // https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n  // which are left out to keep code size down.\n  for (let p of [\"()\", \"[]\", \"{}\"]) {\n      let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n      Brackets[l] = r;\n      Brackets[r] = -l;\n  }\n  function charType(ch) {\n      return ch <= 0xf7 ? LowTypes[ch] :\n          0x590 <= ch && ch <= 0x5f4 ? 2 /* T.R */ :\n              0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                  0x6ee <= ch && ch <= 0x8ac ? 4 /* T.AL */ :\n                      0x2000 <= ch && ch <= 0x200c ? 256 /* T.NI */ :\n                          0xfb50 <= ch && ch <= 0xfdff ? 4 /* T.AL */ : 1 /* T.L */;\n  }\n  const BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;\n  /**\n  Represents a contiguous range of text that has a single direction\n  (as in left-to-right or right-to-left).\n  */\n  class BidiSpan {\n      /**\n      The direction of this span.\n      */\n      get dir() { return this.level % 2 ? RTL : LTR; }\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The start of the span (relative to the start of the line).\n      */\n      from, \n      /**\n      The end of the span.\n      */\n      to, \n      /**\n      The [\"bidi\n      level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n      of the span (in this context, 0 means\n      left-to-right, 1 means right-to-left, 2 means left-to-right\n      number inside right-to-left text).\n      */\n      level) {\n          this.from = from;\n          this.to = to;\n          this.level = level;\n      }\n      /**\n      @internal\n      */\n      side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n      /**\n      @internal\n      */\n      forward(forward, dir) { return forward == (this.dir == dir); }\n      /**\n      @internal\n      */\n      static find(order, index, level, assoc) {\n          let maybe = -1;\n          for (let i = 0; i < order.length; i++) {\n              let span = order[i];\n              if (span.from <= index && span.to >= index) {\n                  if (span.level == level)\n                      return i;\n                  // When multiple spans match, if assoc != 0, take the one that\n                  // covers that side, otherwise take the one with the minimum\n                  // level.\n                  if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                      maybe = i;\n              }\n          }\n          if (maybe < 0)\n              throw new RangeError(\"Index out of range\");\n          return maybe;\n      }\n  }\n  function isolatesEq(a, b) {\n      if (a.length != b.length)\n          return false;\n      for (let i = 0; i < a.length; i++) {\n          let iA = a[i], iB = b[i];\n          if (iA.from != iB.from || iA.to != iB.to || iA.direction != iB.direction || !isolatesEq(iA.inner, iB.inner))\n              return false;\n      }\n      return true;\n  }\n  // Reused array of character types\n  const types = [];\n  // Fill in the character types (in `types`) from `from` to `to` and\n  // apply W normalization rules.\n  function computeCharTypes(line, rFrom, rTo, isolates, outerType) {\n      for (let iI = 0; iI <= isolates.length; iI++) {\n          let from = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;\n          let prevType = iI ? 256 /* T.NI */ : outerType;\n          // W1. Examine each non-spacing mark (NSM) in the level run, and\n          // change the type of the NSM to the type of the previous\n          // character. If the NSM is at the start of the level run, it will\n          // get the type of sor.\n          // W2. Search backwards from each instance of a European number\n          // until the first strong type (R, L, AL, or sor) is found. If an\n          // AL is found, change the type of the European number to Arabic\n          // number.\n          // W3. Change all ALs to R.\n          // (Left after this: L, R, EN, AN, ET, CS, NI)\n          for (let i = from, prev = prevType, prevStrong = prevType; i < to; i++) {\n              let type = charType(line.charCodeAt(i));\n              if (type == 512 /* T.NSM */)\n                  type = prev;\n              else if (type == 8 /* T.EN */ && prevStrong == 4 /* T.AL */)\n                  type = 16 /* T.AN */;\n              types[i] = type == 4 /* T.AL */ ? 2 /* T.R */ : type;\n              if (type & 7 /* T.Strong */)\n                  prevStrong = type;\n              prev = type;\n          }\n          // W5. A sequence of European terminators adjacent to European\n          // numbers changes to all European numbers.\n          // W6. Otherwise, separators and terminators change to Other\n          // Neutral.\n          // W7. Search backwards from each instance of a European number\n          // until the first strong type (R, L, or sor) is found. If an L is\n          // found, then change the type of the European number to L.\n          // (Left after this: L, R, EN+AN, NI)\n          for (let i = from, prev = prevType, prevStrong = prevType; i < to; i++) {\n              let type = types[i];\n              if (type == 128 /* T.CS */) {\n                  if (i < to - 1 && prev == types[i + 1] && (prev & 24 /* T.Num */))\n                      type = types[i] = prev;\n                  else\n                      types[i] = 256 /* T.NI */;\n              }\n              else if (type == 64 /* T.ET */) {\n                  let end = i + 1;\n                  while (end < to && types[end] == 64 /* T.ET */)\n                      end++;\n                  let replace = (i && prev == 8 /* T.EN */) || (end < rTo && types[end] == 8 /* T.EN */) ? (prevStrong == 1 /* T.L */ ? 1 /* T.L */ : 8 /* T.EN */) : 256 /* T.NI */;\n                  for (let j = i; j < end; j++)\n                      types[j] = replace;\n                  i = end - 1;\n              }\n              else if (type == 8 /* T.EN */ && prevStrong == 1 /* T.L */) {\n                  types[i] = 1 /* T.L */;\n              }\n              prev = type;\n              if (type & 7 /* T.Strong */)\n                  prevStrong = type;\n          }\n      }\n  }\n  // Process brackets throughout a run sequence.\n  function processBracketPairs(line, rFrom, rTo, isolates, outerType) {\n      let oppositeType = outerType == 1 /* T.L */ ? 2 /* T.R */ : 1 /* T.L */;\n      for (let iI = 0, sI = 0, context = 0; iI <= isolates.length; iI++) {\n          let from = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;\n          // N0. Process bracket pairs in an isolating run sequence\n          // sequentially in the logical order of the text positions of the\n          // opening paired brackets using the logic given below. Within this\n          // scope, bidirectional types EN and AN are treated as R.\n          for (let i = from, ch, br, type; i < to; i++) {\n              // Keeps [startIndex, type, strongSeen] triples for each open\n              // bracket on BracketStack.\n              if (br = Brackets[ch = line.charCodeAt(i)]) {\n                  if (br < 0) { // Closing bracket\n                      for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                          if (BracketStack[sJ + 1] == -br) {\n                              let flags = BracketStack[sJ + 2];\n                              let type = (flags & 2 /* Bracketed.EmbedInside */) ? outerType :\n                                  !(flags & 4 /* Bracketed.OppositeInside */) ? 0 :\n                                      (flags & 1 /* Bracketed.OppositeBefore */) ? oppositeType : outerType;\n                              if (type)\n                                  types[i] = types[BracketStack[sJ]] = type;\n                              sI = sJ;\n                              break;\n                          }\n                      }\n                  }\n                  else if (BracketStack.length == 189 /* Bracketed.MaxDepth */) {\n                      break;\n                  }\n                  else {\n                      BracketStack[sI++] = i;\n                      BracketStack[sI++] = ch;\n                      BracketStack[sI++] = context;\n                  }\n              }\n              else if ((type = types[i]) == 2 /* T.R */ || type == 1 /* T.L */) {\n                  let embed = type == outerType;\n                  context = embed ? 0 : 1 /* Bracketed.OppositeBefore */;\n                  for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                      let cur = BracketStack[sJ + 2];\n                      if (cur & 2 /* Bracketed.EmbedInside */)\n                          break;\n                      if (embed) {\n                          BracketStack[sJ + 2] |= 2 /* Bracketed.EmbedInside */;\n                      }\n                      else {\n                          if (cur & 4 /* Bracketed.OppositeInside */)\n                              break;\n                          BracketStack[sJ + 2] |= 4 /* Bracketed.OppositeInside */;\n                      }\n                  }\n              }\n          }\n      }\n  }\n  function processNeutrals(rFrom, rTo, isolates, outerType) {\n      for (let iI = 0, prev = outerType; iI <= isolates.length; iI++) {\n          let from = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;\n          // N1. A sequence of neutrals takes the direction of the\n          // surrounding strong text if the text on both sides has the same\n          // direction. European and Arabic numbers act as if they were R in\n          // terms of their influence on neutrals. Start-of-level-run (sor)\n          // and end-of-level-run (eor) are used at level run boundaries.\n          // N2. Any remaining neutrals take the embedding direction.\n          // (Left after this: L, R, EN+AN)\n          for (let i = from; i < to;) {\n              let type = types[i];\n              if (type == 256 /* T.NI */) {\n                  let end = i + 1;\n                  for (;;) {\n                      if (end == to) {\n                          if (iI == isolates.length)\n                              break;\n                          end = isolates[iI++].to;\n                          to = iI < isolates.length ? isolates[iI].from : rTo;\n                      }\n                      else if (types[end] == 256 /* T.NI */) {\n                          end++;\n                      }\n                      else {\n                          break;\n                      }\n                  }\n                  let beforeL = prev == 1 /* T.L */;\n                  let afterL = (end < rTo ? types[end] : outerType) == 1 /* T.L */;\n                  let replace = beforeL == afterL ? (beforeL ? 1 /* T.L */ : 2 /* T.R */) : outerType;\n                  for (let j = end, jI = iI, fromJ = jI ? isolates[jI - 1].to : rFrom; j > i;) {\n                      if (j == fromJ) {\n                          j = isolates[--jI].from;\n                          fromJ = jI ? isolates[jI - 1].to : rFrom;\n                      }\n                      types[--j] = replace;\n                  }\n                  i = end;\n              }\n              else {\n                  prev = type;\n                  i++;\n              }\n          }\n      }\n  }\n  // Find the contiguous ranges of character types in a given range, and\n  // emit spans for them. Flip the order of the spans as appropriate\n  // based on the level, and call through to compute the spans for\n  // isolates at the proper point.\n  function emitSpans(line, from, to, level, baseLevel, isolates, order) {\n      let ourType = level % 2 ? 2 /* T.R */ : 1 /* T.L */;\n      if ((level % 2) == (baseLevel % 2)) { // Same dir as base direction, don't flip\n          for (let iCh = from, iI = 0; iCh < to;) {\n              // Scan a section of characters in direction ourType, unless\n              // there's another type of char right after iCh, in which case\n              // we scan a section of other characters (which, if ourType ==\n              // T.L, may contain both T.R and T.AN chars).\n              let sameDir = true, isNum = false;\n              if (iI == isolates.length || iCh < isolates[iI].from) {\n                  let next = types[iCh];\n                  if (next != ourType) {\n                      sameDir = false;\n                      isNum = next == 16 /* T.AN */;\n                  }\n              }\n              // Holds an array of isolates to pass to a recursive call if we\n              // must recurse (to distinguish T.AN inside an RTL section in\n              // LTR text), null if we can emit directly\n              let recurse = !sameDir && ourType == 1 /* T.L */ ? [] : null;\n              let localLevel = sameDir ? level : level + 1;\n              let iScan = iCh;\n              run: for (;;) {\n                  if (iI < isolates.length && iScan == isolates[iI].from) {\n                      if (isNum)\n                          break run;\n                      let iso = isolates[iI];\n                      // Scan ahead to verify that there is another char in this dir after the isolate(s)\n                      if (!sameDir)\n                          for (let upto = iso.to, jI = iI + 1;;) {\n                              if (upto == to)\n                                  break run;\n                              if (jI < isolates.length && isolates[jI].from == upto)\n                                  upto = isolates[jI++].to;\n                              else if (types[upto] == ourType)\n                                  break run;\n                              else\n                                  break;\n                          }\n                      iI++;\n                      if (recurse) {\n                          recurse.push(iso);\n                      }\n                      else {\n                          if (iso.from > iCh)\n                              order.push(new BidiSpan(iCh, iso.from, localLevel));\n                          let dirSwap = (iso.direction == LTR) != !(localLevel % 2);\n                          computeSectionOrder(line, dirSwap ? level + 1 : level, baseLevel, iso.inner, iso.from, iso.to, order);\n                          iCh = iso.to;\n                      }\n                      iScan = iso.to;\n                  }\n                  else if (iScan == to || (sameDir ? types[iScan] != ourType : types[iScan] == ourType)) {\n                      break;\n                  }\n                  else {\n                      iScan++;\n                  }\n              }\n              if (recurse)\n                  emitSpans(line, iCh, iScan, level + 1, baseLevel, recurse, order);\n              else if (iCh < iScan)\n                  order.push(new BidiSpan(iCh, iScan, localLevel));\n              iCh = iScan;\n          }\n      }\n      else {\n          // Iterate in reverse to flip the span order. Same code again, but\n          // going from the back of the section to the front\n          for (let iCh = to, iI = isolates.length; iCh > from;) {\n              let sameDir = true, isNum = false;\n              if (!iI || iCh > isolates[iI - 1].to) {\n                  let next = types[iCh - 1];\n                  if (next != ourType) {\n                      sameDir = false;\n                      isNum = next == 16 /* T.AN */;\n                  }\n              }\n              let recurse = !sameDir && ourType == 1 /* T.L */ ? [] : null;\n              let localLevel = sameDir ? level : level + 1;\n              let iScan = iCh;\n              run: for (;;) {\n                  if (iI && iScan == isolates[iI - 1].to) {\n                      if (isNum)\n                          break run;\n                      let iso = isolates[--iI];\n                      // Scan ahead to verify that there is another char in this dir after the isolate(s)\n                      if (!sameDir)\n                          for (let upto = iso.from, jI = iI;;) {\n                              if (upto == from)\n                                  break run;\n                              if (jI && isolates[jI - 1].to == upto)\n                                  upto = isolates[--jI].from;\n                              else if (types[upto - 1] == ourType)\n                                  break run;\n                              else\n                                  break;\n                          }\n                      if (recurse) {\n                          recurse.push(iso);\n                      }\n                      else {\n                          if (iso.to < iCh)\n                              order.push(new BidiSpan(iso.to, iCh, localLevel));\n                          let dirSwap = (iso.direction == LTR) != !(localLevel % 2);\n                          computeSectionOrder(line, dirSwap ? level + 1 : level, baseLevel, iso.inner, iso.from, iso.to, order);\n                          iCh = iso.from;\n                      }\n                      iScan = iso.from;\n                  }\n                  else if (iScan == from || (sameDir ? types[iScan - 1] != ourType : types[iScan - 1] == ourType)) {\n                      break;\n                  }\n                  else {\n                      iScan--;\n                  }\n              }\n              if (recurse)\n                  emitSpans(line, iScan, iCh, level + 1, baseLevel, recurse, order);\n              else if (iScan < iCh)\n                  order.push(new BidiSpan(iScan, iCh, localLevel));\n              iCh = iScan;\n          }\n      }\n  }\n  function computeSectionOrder(line, level, baseLevel, isolates, from, to, order) {\n      let outerType = (level % 2 ? 2 /* T.R */ : 1 /* T.L */);\n      computeCharTypes(line, from, to, isolates, outerType);\n      processBracketPairs(line, from, to, isolates, outerType);\n      processNeutrals(from, to, isolates, outerType);\n      emitSpans(line, from, to, level, baseLevel, isolates, order);\n  }\n  function computeOrder(line, direction, isolates) {\n      if (!line)\n          return [new BidiSpan(0, 0, direction == RTL ? 1 : 0)];\n      if (direction == LTR && !isolates.length && !BidiRE.test(line))\n          return trivialOrder(line.length);\n      if (isolates.length)\n          while (line.length > types.length)\n              types[types.length] = 256 /* T.NI */; // Make sure types array has no gaps\n      let order = [], level = direction == LTR ? 0 : 1;\n      computeSectionOrder(line, level, level, isolates, 0, line.length, order);\n      return order;\n  }\n  function trivialOrder(length) {\n      return [new BidiSpan(0, length, 0)];\n  }\n  let movedOver = \"\";\n  // This implementation moves strictly visually, without concern for a\n  // traversal visiting every logical position in the string. It will\n  // still do so for simple input, but situations like multiple isolates\n  // with the same level next to each other, or text going against the\n  // main dir at the end of the line, will make some positions\n  // unreachable with this motion. Each visible cursor position will\n  // correspond to the lower-level bidi span that touches it.\n  //\n  // The alternative would be to solve an order globally for a given\n  // line, making sure that it includes every position, but that would\n  // require associating non-canonical (higher bidi span level)\n  // positions with a given visual position, which is likely to confuse\n  // people. (And would generally be a lot more complicated.)\n  function moveVisually(line, order, dir, start, forward) {\n      var _a;\n      let startIndex = start.head - line.from;\n      let spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n      let span = order[spanI], spanEnd = span.side(forward, dir);\n      // End of span\n      if (startIndex == spanEnd) {\n          let nextI = spanI += forward ? 1 : -1;\n          if (nextI < 0 || nextI >= order.length)\n              return null;\n          span = order[spanI = nextI];\n          startIndex = span.side(!forward, dir);\n          spanEnd = span.side(forward, dir);\n      }\n      let nextIndex = findClusterBreak(line.text, startIndex, span.forward(forward, dir));\n      if (nextIndex < span.from || nextIndex > span.to)\n          nextIndex = spanEnd;\n      movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n      let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n      if (nextSpan && nextIndex == spanEnd && nextSpan.level + (forward ? 0 : 1) < span.level)\n          return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, nextSpan.forward(forward, dir) ? 1 : -1, nextSpan.level);\n      return EditorSelection.cursor(nextIndex + line.from, span.forward(forward, dir) ? -1 : 1, span.level);\n  }\n  function autoDirection(text, from, to) {\n      for (let i = from; i < to; i++) {\n          let type = charType(text.charCodeAt(i));\n          if (type == 1 /* T.L */)\n              return LTR;\n          if (type == 2 /* T.R */ || type == 4 /* T.AL */)\n              return RTL;\n      }\n      return LTR;\n  }\n\n  const clickAddsSelectionRange = /*@__PURE__*/Facet.define();\n  const dragMovesSelection$1 = /*@__PURE__*/Facet.define();\n  const mouseSelectionStyle = /*@__PURE__*/Facet.define();\n  const exceptionSink = /*@__PURE__*/Facet.define();\n  const updateListener = /*@__PURE__*/Facet.define();\n  const inputHandler$1 = /*@__PURE__*/Facet.define();\n  const focusChangeEffect = /*@__PURE__*/Facet.define();\n  const clipboardInputFilter = /*@__PURE__*/Facet.define();\n  const clipboardOutputFilter = /*@__PURE__*/Facet.define();\n  const perLineTextDirection = /*@__PURE__*/Facet.define({\n      combine: values => values.some(x => x)\n  });\n  const nativeSelectionHidden = /*@__PURE__*/Facet.define({\n      combine: values => values.some(x => x)\n  });\n  const scrollHandler = /*@__PURE__*/Facet.define();\n  class ScrollTarget {\n      constructor(range, y = \"nearest\", x = \"nearest\", yMargin = 5, xMargin = 5, \n      // This data structure is abused to also store precise scroll\n      // snapshots, instead of a `scrollIntoView` request. When this\n      // flag is `true`, `range` points at a position in the reference\n      // line, `yMargin` holds the difference between the top of that\n      // line and the top of the editor, and `xMargin` holds the\n      // editor's `scrollLeft`.\n      isSnapshot = false) {\n          this.range = range;\n          this.y = y;\n          this.x = x;\n          this.yMargin = yMargin;\n          this.xMargin = xMargin;\n          this.isSnapshot = isSnapshot;\n      }\n      map(changes) {\n          return changes.empty ? this :\n              new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin, this.isSnapshot);\n      }\n      clip(state) {\n          return this.range.to <= state.doc.length ? this :\n              new ScrollTarget(EditorSelection.cursor(state.doc.length), this.y, this.x, this.yMargin, this.xMargin, this.isSnapshot);\n      }\n  }\n  const scrollIntoView$1 = /*@__PURE__*/StateEffect.define({ map: (t, ch) => t.map(ch) });\n  const setEditContextFormatting = /*@__PURE__*/StateEffect.define();\n  /**\n  Log or report an unhandled exception in client code. Should\n  probably only be used by extension code that allows client code to\n  provide functions, and calls those functions in a context where an\n  exception can't be propagated to calling code in a reasonable way\n  (for example when in an event handler).\n\n  Either calls a handler registered with\n  [`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n  `window.onerror`, if defined, or `console.error` (in which case\n  it'll pass `context`, when given, as first argument).\n  */\n  function logException(state, exception, context) {\n      let handler = state.facet(exceptionSink);\n      if (handler.length)\n          handler[0](exception);\n      else if (window.onerror && window.onerror(String(exception), context, undefined, undefined, exception)) ;\n      else if (context)\n          console.error(context + \":\", exception);\n      else\n          console.error(exception);\n  }\n  const editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\n  let nextPluginID = 0;\n  const viewPlugin = /*@__PURE__*/Facet.define({\n      combine(plugins) {\n          return plugins.filter((p, i) => {\n              for (let j = 0; j < i; j++)\n                  if (plugins[j].plugin == p.plugin)\n                      return false;\n              return true;\n          });\n      }\n  });\n  /**\n  View plugins associate stateful values with a view. They can\n  influence the way the content is drawn, and are notified of things\n  that happen in the view. They optionally take an argument, in\n  which case you need to call [`of`](https://codemirror.net/6/docs/ref/#view.ViewPlugin.of) to create\n  an extension for the plugin. When the argument type is undefined,\n  you can use the plugin instance as an extension directly.\n  */\n  class ViewPlugin {\n      constructor(\n      /**\n      @internal\n      */\n      id, \n      /**\n      @internal\n      */\n      create, \n      /**\n      @internal\n      */\n      domEventHandlers, \n      /**\n      @internal\n      */\n      domEventObservers, buildExtensions) {\n          this.id = id;\n          this.create = create;\n          this.domEventHandlers = domEventHandlers;\n          this.domEventObservers = domEventObservers;\n          this.baseExtensions = buildExtensions(this);\n          this.extension = this.baseExtensions.concat(viewPlugin.of({ plugin: this, arg: undefined }));\n      }\n      /**\n      Create an extension for this plugin with the given argument.\n      */\n      of(arg) {\n          return this.baseExtensions.concat(viewPlugin.of({ plugin: this, arg }));\n      }\n      /**\n      Define a plugin from a constructor function that creates the\n      plugin's value, given an editor view.\n      */\n      static define(create, spec) {\n          const { eventHandlers, eventObservers, provide, decorations: deco } = spec || {};\n          return new ViewPlugin(nextPluginID++, create, eventHandlers, eventObservers, plugin => {\n              let ext = [];\n              if (deco)\n                  ext.push(decorations.of(view => {\n                      let pluginInst = view.plugin(plugin);\n                      return pluginInst ? deco(pluginInst) : Decoration.none;\n                  }));\n              if (provide)\n                  ext.push(provide(plugin));\n              return ext;\n          });\n      }\n      /**\n      Create a plugin for a class whose constructor takes a single\n      editor view as argument.\n      */\n      static fromClass(cls, spec) {\n          return ViewPlugin.define((view, arg) => new cls(view, arg), spec);\n      }\n  }\n  class PluginInstance {\n      constructor(spec) {\n          this.spec = spec;\n          // When starting an update, all plugins have this field set to the\n          // update object, indicating they need to be updated. When finished\n          // updating, it is set to `null`. Retrieving a plugin that needs to\n          // be updated with `view.plugin` forces an eager update.\n          this.mustUpdate = null;\n          // This is null when the plugin is initially created, but\n          // initialized on the first update.\n          this.value = null;\n      }\n      get plugin() { return this.spec && this.spec.plugin; }\n      update(view) {\n          if (!this.value) {\n              if (this.spec) {\n                  try {\n                      this.value = this.spec.plugin.create(view, this.spec.arg);\n                  }\n                  catch (e) {\n                      logException(view.state, e, \"CodeMirror plugin crashed\");\n                      this.deactivate();\n                  }\n              }\n          }\n          else if (this.mustUpdate) {\n              let update = this.mustUpdate;\n              this.mustUpdate = null;\n              if (this.value.update) {\n                  try {\n                      this.value.update(update);\n                  }\n                  catch (e) {\n                      logException(update.state, e, \"CodeMirror plugin crashed\");\n                      if (this.value.destroy)\n                          try {\n                              this.value.destroy();\n                          }\n                          catch (_) { }\n                      this.deactivate();\n                  }\n              }\n          }\n          return this;\n      }\n      destroy(view) {\n          var _a;\n          if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n              try {\n                  this.value.destroy();\n              }\n              catch (e) {\n                  logException(view.state, e, \"CodeMirror plugin crashed\");\n              }\n          }\n      }\n      deactivate() {\n          this.spec = this.value = null;\n      }\n  }\n  const editorAttributes = /*@__PURE__*/Facet.define();\n  const contentAttributes = /*@__PURE__*/Facet.define();\n  // Provide decorations\n  const decorations = /*@__PURE__*/Facet.define();\n  const outerDecorations = /*@__PURE__*/Facet.define();\n  const atomicRanges = /*@__PURE__*/Facet.define();\n  const bidiIsolatedRanges = /*@__PURE__*/Facet.define();\n  function getIsolatedRanges(view, line) {\n      let isolates = view.state.facet(bidiIsolatedRanges);\n      if (!isolates.length)\n          return isolates;\n      let sets = isolates.map(i => i instanceof Function ? i(view) : i);\n      let result = [];\n      RangeSet.spans(sets, line.from, line.to, {\n          point() { },\n          span(fromDoc, toDoc, active, open) {\n              let from = fromDoc - line.from, to = toDoc - line.from;\n              let level = result;\n              for (let i = active.length - 1; i >= 0; i--, open--) {\n                  let direction = active[i].spec.bidiIsolate, update;\n                  if (direction == null)\n                      direction = autoDirection(line.text, from, to);\n                  if (open > 0 && level.length &&\n                      (update = level[level.length - 1]).to == from && update.direction == direction) {\n                      update.to = to;\n                      level = update.inner;\n                  }\n                  else {\n                      let add = { from, to, direction, inner: [] };\n                      level.push(add);\n                      level = add.inner;\n                  }\n              }\n          }\n      });\n      return result;\n  }\n  const scrollMargins = /*@__PURE__*/Facet.define();\n  function getScrollMargins(view) {\n      let left = 0, right = 0, top = 0, bottom = 0;\n      for (let source of view.state.facet(scrollMargins)) {\n          let m = source(view);\n          if (m) {\n              if (m.left != null)\n                  left = Math.max(left, m.left);\n              if (m.right != null)\n                  right = Math.max(right, m.right);\n              if (m.top != null)\n                  top = Math.max(top, m.top);\n              if (m.bottom != null)\n                  bottom = Math.max(bottom, m.bottom);\n          }\n      }\n      return { left, right, top, bottom };\n  }\n  const styleModule = /*@__PURE__*/Facet.define();\n  class ChangedRange {\n      constructor(fromA, toA, fromB, toB) {\n          this.fromA = fromA;\n          this.toA = toA;\n          this.fromB = fromB;\n          this.toB = toB;\n      }\n      join(other) {\n          return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n      }\n      addToSet(set) {\n          let i = set.length, me = this;\n          for (; i > 0; i--) {\n              let range = set[i - 1];\n              if (range.fromA > me.toA)\n                  continue;\n              if (range.toA < me.fromA)\n                  break;\n              me = me.join(range);\n              set.splice(i - 1, 1);\n          }\n          set.splice(i, 0, me);\n          return set;\n      }\n      static extendWithRanges(diff, ranges) {\n          if (ranges.length == 0)\n              return diff;\n          let result = [];\n          for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n              let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n              let end = next ? next.fromB : 1e9;\n              while (rI < ranges.length && ranges[rI] < end) {\n                  let from = ranges[rI], to = ranges[rI + 1];\n                  let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                  if (fromB <= toB)\n                      new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                  if (to > end)\n                      break;\n                  else\n                      rI += 2;\n              }\n              if (!next)\n                  return result;\n              new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n              posA = next.toA;\n              posB = next.toB;\n          }\n      }\n  }\n  /**\n  View [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\n  class, which describe what happened, whenever the view is updated.\n  */\n  class ViewUpdate {\n      constructor(\n      /**\n      The editor view that the update is associated with.\n      */\n      view, \n      /**\n      The new editor state.\n      */\n      state, \n      /**\n      The transactions involved in the update. May be empty.\n      */\n      transactions) {\n          this.view = view;\n          this.state = state;\n          this.transactions = transactions;\n          /**\n          @internal\n          */\n          this.flags = 0;\n          this.startState = view.state;\n          this.changes = ChangeSet.empty(this.startState.doc.length);\n          for (let tr of transactions)\n              this.changes = this.changes.compose(tr.changes);\n          let changedRanges = [];\n          this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n          this.changedRanges = changedRanges;\n      }\n      /**\n      @internal\n      */\n      static create(view, state, transactions) {\n          return new ViewUpdate(view, state, transactions);\n      }\n      /**\n      Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n      [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n      update.\n      */\n      get viewportChanged() {\n          return (this.flags & 4 /* UpdateFlag.Viewport */) > 0;\n      }\n      /**\n      Returns true when\n      [`viewportChanged`](https://codemirror.net/6/docs/ref/#view.ViewUpdate.viewportChanged) is true\n      and the viewport change is not just the result of mapping it in\n      response to document changes.\n      */\n      get viewportMoved() {\n          return (this.flags & 8 /* UpdateFlag.ViewportMoved */) > 0;\n      }\n      /**\n      Indicates whether the height of a block element in the editor\n      changed in this update.\n      */\n      get heightChanged() {\n          return (this.flags & 2 /* UpdateFlag.Height */) > 0;\n      }\n      /**\n      Returns true when the document was modified or the size of the\n      editor, or elements within the editor, changed.\n      */\n      get geometryChanged() {\n          return this.docChanged || (this.flags & (16 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */)) > 0;\n      }\n      /**\n      True when this update indicates a focus change.\n      */\n      get focusChanged() {\n          return (this.flags & 1 /* UpdateFlag.Focus */) > 0;\n      }\n      /**\n      Whether the document changed in this update.\n      */\n      get docChanged() {\n          return !this.changes.empty;\n      }\n      /**\n      Whether the selection was explicitly set in this update.\n      */\n      get selectionSet() {\n          return this.transactions.some(tr => tr.selection);\n      }\n      /**\n      @internal\n      */\n      get empty() { return this.flags == 0 && this.transactions.length == 0; }\n  }\n\n  class DocView extends ContentView {\n      get length() { return this.view.state.doc.length; }\n      constructor(view) {\n          super();\n          this.view = view;\n          this.decorations = [];\n          this.dynamicDecorationMap = [false];\n          this.domChanged = null;\n          this.hasComposition = null;\n          this.markedForComposition = new Set;\n          this.editContextFormatting = Decoration.none;\n          this.lastCompositionAfterCursor = false;\n          // Track a minimum width for the editor. When measuring sizes in\n          // measureVisibleLineHeights, this is updated to point at the width\n          // of a given element and its extent in the document. When a change\n          // happens in that range, these are reset. That way, once we've seen\n          // a line/element of a given length, we keep the editor wide enough\n          // to fit at least that element, until it is changed, at which point\n          // we forget it again.\n          this.minWidth = 0;\n          this.minWidthFrom = 0;\n          this.minWidthTo = 0;\n          // Track whether the DOM selection was set in a lossy way, so that\n          // we don't mess it up when reading it back it\n          this.impreciseAnchor = null;\n          this.impreciseHead = null;\n          this.forceSelection = false;\n          // Used by the resize observer to ignore resizes that we caused\n          // ourselves\n          this.lastUpdate = Date.now();\n          this.setDOM(view.contentDOM);\n          this.children = [new LineView];\n          this.children[0].setParent(this);\n          this.updateDeco();\n          this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0, null);\n      }\n      // Update the document view to a given state.\n      update(update) {\n          var _a;\n          let changedRanges = update.changedRanges;\n          if (this.minWidth > 0 && changedRanges.length) {\n              if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                  this.minWidth = this.minWidthFrom = this.minWidthTo = 0;\n              }\n              else {\n                  this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                  this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n              }\n          }\n          this.updateEditContextFormatting(update);\n          let readCompositionAt = -1;\n          if (this.view.inputState.composing >= 0 && !this.view.observer.editContext) {\n              if ((_a = this.domChanged) === null || _a === void 0 ? void 0 : _a.newSel)\n                  readCompositionAt = this.domChanged.newSel.head;\n              else if (!touchesComposition(update.changes, this.hasComposition) && !update.selectionSet)\n                  readCompositionAt = update.state.selection.main.head;\n          }\n          let composition = readCompositionAt > -1 ? findCompositionRange(this.view, update.changes, readCompositionAt) : null;\n          this.domChanged = null;\n          if (this.hasComposition) {\n              this.markedForComposition.clear();\n              let { from, to } = this.hasComposition;\n              changedRanges = new ChangedRange(from, to, update.changes.mapPos(from, -1), update.changes.mapPos(to, 1))\n                  .addToSet(changedRanges.slice());\n          }\n          this.hasComposition = composition ? { from: composition.range.fromB, to: composition.range.toB } : null;\n          // When the DOM nodes around the selection are moved to another\n          // parent, Chrome sometimes reports a different selection through\n          // getSelection than the one that it actually shows to the user.\n          // This forces a selection update when lines are joined to work\n          // around that. Issue #54\n          if ((browser.ie || browser.chrome) && !composition && update &&\n              update.state.doc.lines != update.startState.doc.lines)\n              this.forceSelection = true;\n          let prevDeco = this.decorations, deco = this.updateDeco();\n          let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n          changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n          if (!(this.flags & 7 /* ViewFlag.Dirty */) && changedRanges.length == 0) {\n              return false;\n          }\n          else {\n              this.updateInner(changedRanges, update.startState.doc.length, composition);\n              if (update.transactions.length)\n                  this.lastUpdate = Date.now();\n              return true;\n          }\n      }\n      // Used by update and the constructor do perform the actual DOM\n      // update\n      updateInner(changes, oldLength, composition) {\n          this.view.viewState.mustMeasureContent = true;\n          this.updateChildren(changes, oldLength, composition);\n          let { observer } = this.view;\n          observer.ignore(() => {\n              // Lock the height during redrawing, since Chrome sometimes\n              // messes with the scroll position during DOM mutation (though\n              // no relayout is triggered and I cannot imagine how it can\n              // recompute the scroll position without a layout)\n              this.dom.style.height = this.view.viewState.contentHeight / this.view.scaleY + \"px\";\n              this.dom.style.flexBasis = this.minWidth ? this.minWidth + \"px\" : \"\";\n              // Chrome will sometimes, when DOM mutations occur directly\n              // around the selection, get confused and report a different\n              // selection from the one it displays (issue #218). This tries\n              // to detect that situation.\n              let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n              this.sync(this.view, track);\n              this.flags &= -8 /* ViewFlag.Dirty */;\n              if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                  this.forceSelection = true;\n              this.dom.style.height = \"\";\n          });\n          this.markedForComposition.forEach(cView => cView.flags &= -9 /* ViewFlag.Composition */);\n          let gaps = [];\n          if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n              for (let child of this.children)\n                  if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                      gaps.push(child.dom);\n          observer.updateGaps(gaps);\n      }\n      updateChildren(changes, oldLength, composition) {\n          let ranges = composition ? composition.range.addToSet(changes.slice()) : changes;\n          let cursor = this.childCursor(oldLength);\n          for (let i = ranges.length - 1;; i--) {\n              let next = i >= 0 ? ranges[i] : null;\n              if (!next)\n                  break;\n              let { fromA, toA, fromB, toB } = next, content, breakAtStart, openStart, openEnd;\n              if (composition && composition.range.fromB < toB && composition.range.toB > fromB) {\n                  let before = ContentBuilder.build(this.view.state.doc, fromB, composition.range.fromB, this.decorations, this.dynamicDecorationMap);\n                  let after = ContentBuilder.build(this.view.state.doc, composition.range.toB, toB, this.decorations, this.dynamicDecorationMap);\n                  breakAtStart = before.breakAtStart;\n                  openStart = before.openStart;\n                  openEnd = after.openEnd;\n                  let compLine = this.compositionView(composition);\n                  if (after.breakAtStart) {\n                      compLine.breakAfter = 1;\n                  }\n                  else if (after.content.length &&\n                      compLine.merge(compLine.length, compLine.length, after.content[0], false, after.openStart, 0)) {\n                      compLine.breakAfter = after.content[0].breakAfter;\n                      after.content.shift();\n                  }\n                  if (before.content.length &&\n                      compLine.merge(0, 0, before.content[before.content.length - 1], true, 0, before.openEnd)) {\n                      before.content.pop();\n                  }\n                  content = before.content.concat(compLine).concat(after.content);\n              }\n              else {\n                  ({ content, breakAtStart, openStart, openEnd } =\n                      ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap));\n              }\n              let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n              let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n              replaceRange(this, fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n          }\n          if (composition)\n              this.fixCompositionDOM(composition);\n      }\n      updateEditContextFormatting(update) {\n          this.editContextFormatting = this.editContextFormatting.map(update.changes);\n          for (let tr of update.transactions)\n              for (let effect of tr.effects)\n                  if (effect.is(setEditContextFormatting)) {\n                      this.editContextFormatting = effect.value;\n                  }\n      }\n      compositionView(composition) {\n          let cur = new TextView(composition.text.nodeValue);\n          cur.flags |= 8 /* ViewFlag.Composition */;\n          for (let { deco } of composition.marks)\n              cur = new MarkView(deco, [cur], cur.length);\n          let line = new LineView;\n          line.append(cur, 0);\n          return line;\n      }\n      fixCompositionDOM(composition) {\n          let fix = (dom, cView) => {\n              cView.flags |= 8 /* ViewFlag.Composition */ | (cView.children.some(c => c.flags & 7 /* ViewFlag.Dirty */) ? 1 /* ViewFlag.ChildDirty */ : 0);\n              this.markedForComposition.add(cView);\n              let prev = ContentView.get(dom);\n              if (prev && prev != cView)\n                  prev.dom = null;\n              cView.setDOM(dom);\n          };\n          let pos = this.childPos(composition.range.fromB, 1);\n          let cView = this.children[pos.i];\n          fix(composition.line, cView);\n          for (let i = composition.marks.length - 1; i >= -1; i--) {\n              pos = cView.childPos(pos.off, 1);\n              cView = cView.children[pos.i];\n              fix(i >= 0 ? composition.marks[i].node : composition.text, cView);\n          }\n      }\n      // Sync the DOM selection to this.state.selection\n      updateSelection(mustRead = false, fromPointer = false) {\n          if (mustRead || !this.view.observer.selectionRange.focusNode)\n              this.view.observer.readSelectionRange();\n          let activeElt = this.view.root.activeElement, focused = activeElt == this.dom;\n          let selectionNotFocus = !focused && !(this.view.state.facet(editable) || this.dom.tabIndex > -1) &&\n              hasSelection(this.dom, this.view.observer.selectionRange) && !(activeElt && this.dom.contains(activeElt));\n          if (!(focused || fromPointer || selectionNotFocus))\n              return;\n          let force = this.forceSelection;\n          this.forceSelection = false;\n          let main = this.view.state.selection.main;\n          let anchor = this.moveToLine(this.domAtPos(main.anchor));\n          let head = main.empty ? anchor : this.moveToLine(this.domAtPos(main.head));\n          // Always reset on Firefox when next to an uneditable node to\n          // avoid invisible cursor bugs (#111)\n          if (browser.gecko && main.empty && !this.hasComposition && betweenUneditable(anchor)) {\n              let dummy = document.createTextNode(\"\");\n              this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n              anchor = head = new DOMPos(dummy, 0);\n              force = true;\n          }\n          let domSel = this.view.observer.selectionRange;\n          // If the selection is already here, or in an equivalent position, don't touch it\n          if (force || !domSel.focusNode || (!isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n              !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) && !this.suppressWidgetCursorChange(domSel, main)) {\n              this.view.observer.ignore(() => {\n                  // Chrome Android will hide the virtual keyboard when tapping\n                  // inside an uneditable node, and not bring it back when we\n                  // move the cursor to its proper position. This tries to\n                  // restore the keyboard by cycling focus.\n                  if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) &&\n                      inUneditable(domSel.focusNode, this.dom)) {\n                      this.dom.blur();\n                      this.dom.focus({ preventScroll: true });\n                  }\n                  let rawSel = getSelection(this.view.root);\n                  if (!rawSel) ;\n                  else if (main.empty) {\n                      // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                      if (browser.gecko) {\n                          let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                          if (nextTo && nextTo != (1 /* NextTo.Before */ | 2 /* NextTo.After */)) {\n                              let text = (nextTo == 1 /* NextTo.Before */ ? textNodeBefore : textNodeAfter)(anchor.node, anchor.offset);\n                              if (text)\n                                  anchor = new DOMPos(text.node, text.offset);\n                          }\n                      }\n                      rawSel.collapse(anchor.node, anchor.offset);\n                      if (main.bidiLevel != null && rawSel.caretBidiLevel !== undefined)\n                          rawSel.caretBidiLevel = main.bidiLevel;\n                  }\n                  else if (rawSel.extend) {\n                      // Selection.extend can be used to create an 'inverted' selection\n                      // (one where the focus is before the anchor), but not all\n                      // browsers support it yet.\n                      rawSel.collapse(anchor.node, anchor.offset);\n                      // Safari will ignore the call above when the editor is\n                      // hidden, and then raise an error on the call to extend\n                      // (#940).\n                      try {\n                          rawSel.extend(head.node, head.offset);\n                      }\n                      catch (_) { }\n                  }\n                  else {\n                      // Primitive (IE) way\n                      let range = document.createRange();\n                      if (main.anchor > main.head)\n                          [anchor, head] = [head, anchor];\n                      range.setEnd(head.node, head.offset);\n                      range.setStart(anchor.node, anchor.offset);\n                      rawSel.removeAllRanges();\n                      rawSel.addRange(range);\n                  }\n                  if (selectionNotFocus && this.view.root.activeElement == this.dom) {\n                      this.dom.blur();\n                      if (activeElt)\n                          activeElt.focus();\n                  }\n              });\n              this.view.observer.setSelectionRange(anchor, head);\n          }\n          this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n          this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n      }\n      // If a zero-length widget is inserted next to the cursor during\n      // composition, avoid moving it across it and disrupting the\n      // composition.\n      suppressWidgetCursorChange(sel, cursor) {\n          return this.hasComposition && cursor.empty &&\n              isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset) &&\n              this.posFromDOM(sel.focusNode, sel.focusOffset) == cursor.head;\n      }\n      enforceCursorAssoc() {\n          if (this.hasComposition)\n              return;\n          let { view } = this, cursor = view.state.selection.main;\n          let sel = getSelection(view.root);\n          let { anchorNode, anchorOffset } = view.observer.selectionRange;\n          if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)\n              return;\n          let line = LineView.find(this, cursor.head);\n          if (!line)\n              return;\n          let lineStart = line.posAtStart;\n          if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n              return;\n          let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n          if (!before || !after || before.bottom > after.top)\n              return;\n          let dom = this.domAtPos(cursor.head + cursor.assoc);\n          sel.collapse(dom.node, dom.offset);\n          sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n          // This can go wrong in corner cases like single-character lines,\n          // so check and reset if necessary.\n          view.observer.readSelectionRange();\n          let newRange = view.observer.selectionRange;\n          if (view.docView.posFromDOM(newRange.anchorNode, newRange.anchorOffset) != cursor.from)\n              sel.collapse(anchorNode, anchorOffset);\n      }\n      // If a position is in/near a block widget, move it to a nearby text\n      // line, since we don't want the cursor inside a block widget.\n      moveToLine(pos) {\n          // Block widgets will return positions before/after them, which\n          // are thus directly in the document DOM element.\n          let dom = this.dom, newPos;\n          if (pos.node != dom)\n              return pos;\n          for (let i = pos.offset; !newPos && i < dom.childNodes.length; i++) {\n              let view = ContentView.get(dom.childNodes[i]);\n              if (view instanceof LineView)\n                  newPos = view.domAtPos(0);\n          }\n          for (let i = pos.offset - 1; !newPos && i >= 0; i--) {\n              let view = ContentView.get(dom.childNodes[i]);\n              if (view instanceof LineView)\n                  newPos = view.domAtPos(view.length);\n          }\n          return newPos ? new DOMPos(newPos.node, newPos.offset, true) : pos;\n      }\n      nearest(dom) {\n          for (let cur = dom; cur;) {\n              let domView = ContentView.get(cur);\n              if (domView && domView.rootView == this)\n                  return domView;\n              cur = cur.parentNode;\n          }\n          return null;\n      }\n      posFromDOM(node, offset) {\n          let view = this.nearest(node);\n          if (!view)\n              throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n          return view.localPosFromDOM(node, offset) + view.posAtStart;\n      }\n      domAtPos(pos) {\n          let { i, off } = this.childCursor().findPos(pos, -1);\n          for (; i < this.children.length - 1;) {\n              let child = this.children[i];\n              if (off < child.length || child instanceof LineView)\n                  break;\n              i++;\n              off = 0;\n          }\n          return this.children[i].domAtPos(off);\n      }\n      coordsAt(pos, side) {\n          let best = null, bestPos = 0;\n          for (let off = this.length, i = this.children.length - 1; i >= 0; i--) {\n              let child = this.children[i], end = off - child.breakAfter, start = end - child.length;\n              if (end < pos)\n                  break;\n              if (start <= pos && (start < pos || child.covers(-1)) && (end > pos || child.covers(1)) &&\n                  (!best || child instanceof LineView && !(best instanceof LineView && side >= 0))) {\n                  best = child;\n                  bestPos = start;\n              }\n              else if (best && start == pos && end == pos && child instanceof BlockWidgetView && Math.abs(side) < 2) {\n                  if (child.deco.startSide < 0)\n                      break;\n                  else if (i)\n                      best = null;\n              }\n              off = start;\n          }\n          return best ? best.coordsAt(pos - bestPos, side) : null;\n      }\n      coordsForChar(pos) {\n          let { i, off } = this.childPos(pos, 1), child = this.children[i];\n          if (!(child instanceof LineView))\n              return null;\n          while (child.children.length) {\n              let { i, off: childOff } = child.childPos(off, 1);\n              for (;; i++) {\n                  if (i == child.children.length)\n                      return null;\n                  if ((child = child.children[i]).length)\n                      break;\n              }\n              off = childOff;\n          }\n          if (!(child instanceof TextView))\n              return null;\n          let end = findClusterBreak(child.text, off);\n          if (end == off)\n              return null;\n          let rects = textRange(child.dom, off, end).getClientRects();\n          for (let i = 0; i < rects.length; i++) {\n              let rect = rects[i];\n              if (i == rects.length - 1 || rect.top < rect.bottom && rect.left < rect.right)\n                  return rect;\n          }\n          return null;\n      }\n      measureVisibleLineHeights(viewport) {\n          let result = [], { from, to } = viewport;\n          let contentWidth = this.view.contentDOM.clientWidth;\n          let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n          let widest = -1, ltr = this.view.textDirection == Direction.LTR;\n          for (let pos = 0, i = 0; i < this.children.length; i++) {\n              let child = this.children[i], end = pos + child.length;\n              if (end > to)\n                  break;\n              if (pos >= from) {\n                  let childRect = child.dom.getBoundingClientRect();\n                  result.push(childRect.height);\n                  if (isWider) {\n                      let last = child.dom.lastChild;\n                      let rects = last ? clientRectsFor(last) : [];\n                      if (rects.length) {\n                          let rect = rects[rects.length - 1];\n                          let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;\n                          if (width > widest) {\n                              widest = width;\n                              this.minWidth = contentWidth;\n                              this.minWidthFrom = pos;\n                              this.minWidthTo = end;\n                          }\n                      }\n                  }\n              }\n              pos = end + child.breakAfter;\n          }\n          return result;\n      }\n      textDirectionAt(pos) {\n          let { i } = this.childPos(pos, 1);\n          return getComputedStyle(this.children[i].dom).direction == \"rtl\" ? Direction.RTL : Direction.LTR;\n      }\n      measureTextSize() {\n          for (let child of this.children) {\n              if (child instanceof LineView) {\n                  let measure = child.measureTextSize();\n                  if (measure)\n                      return measure;\n              }\n          }\n          // If no workable line exists, force a layout of a measurable element\n          let dummy = document.createElement(\"div\"), lineHeight, charWidth, textHeight;\n          dummy.className = \"cm-line\";\n          dummy.style.width = \"99999px\";\n          dummy.style.position = \"absolute\";\n          dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n          this.view.observer.ignore(() => {\n              this.dom.appendChild(dummy);\n              let rect = clientRectsFor(dummy.firstChild)[0];\n              lineHeight = dummy.getBoundingClientRect().height;\n              charWidth = rect ? rect.width / 27 : 7;\n              textHeight = rect ? rect.height : lineHeight;\n              dummy.remove();\n          });\n          return { lineHeight, charWidth, textHeight };\n      }\n      childCursor(pos = this.length) {\n          // Move back to start of last element when possible, so that\n          // `ChildCursor.findPos` doesn't have to deal with the edge case\n          // of being after the last element.\n          let i = this.children.length;\n          if (i)\n              pos -= this.children[--i].length;\n          return new ChildCursor(this.children, pos, i);\n      }\n      computeBlockGapDeco() {\n          let deco = [], vs = this.view.viewState;\n          for (let pos = 0, i = 0;; i++) {\n              let next = i == vs.viewports.length ? null : vs.viewports[i];\n              let end = next ? next.from - 1 : this.length;\n              if (end > pos) {\n                  let height = (vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top) / this.view.scaleY;\n                  deco.push(Decoration.replace({\n                      widget: new BlockGapWidget(height),\n                      block: true,\n                      inclusive: true,\n                      isBlockGap: true,\n                  }).range(pos, end));\n              }\n              if (!next)\n                  break;\n              pos = next.to + 1;\n          }\n          return Decoration.set(deco);\n      }\n      updateDeco() {\n          let i = 1;\n          let allDeco = this.view.state.facet(decorations).map(d => {\n              let dynamic = this.dynamicDecorationMap[i++] = typeof d == \"function\";\n              return dynamic ? d(this.view) : d;\n          });\n          let dynamicOuter = false, outerDeco = this.view.state.facet(outerDecorations).map((d, i) => {\n              let dynamic = typeof d == \"function\";\n              if (dynamic)\n                  dynamicOuter = true;\n              return dynamic ? d(this.view) : d;\n          });\n          if (outerDeco.length) {\n              this.dynamicDecorationMap[i++] = dynamicOuter;\n              allDeco.push(RangeSet.join(outerDeco));\n          }\n          this.decorations = [\n              this.editContextFormatting,\n              ...allDeco,\n              this.computeBlockGapDeco(),\n              this.view.viewState.lineGapDeco\n          ];\n          while (i < this.decorations.length)\n              this.dynamicDecorationMap[i++] = false;\n          return this.decorations;\n      }\n      scrollIntoView(target) {\n          if (target.isSnapshot) {\n              let ref = this.view.viewState.lineBlockAt(target.range.head);\n              this.view.scrollDOM.scrollTop = ref.top - target.yMargin;\n              this.view.scrollDOM.scrollLeft = target.xMargin;\n              return;\n          }\n          for (let handler of this.view.state.facet(scrollHandler)) {\n              try {\n                  if (handler(this.view, target.range, target))\n                      return true;\n              }\n              catch (e) {\n                  logException(this.view.state, e, \"scroll handler\");\n              }\n          }\n          let { range } = target;\n          let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n          if (!rect)\n              return;\n          if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n              rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                  right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n          let margins = getScrollMargins(this.view);\n          let targetRect = {\n              left: rect.left - margins.left, top: rect.top - margins.top,\n              right: rect.right + margins.right, bottom: rect.bottom + margins.bottom\n          };\n          let { offsetWidth, offsetHeight } = this.view.scrollDOM;\n          scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, Math.max(Math.min(target.xMargin, offsetWidth), -offsetWidth), Math.max(Math.min(target.yMargin, offsetHeight), -offsetHeight), this.view.textDirection == Direction.LTR);\n      }\n  }\n  function betweenUneditable(pos) {\n      return pos.node.nodeType == 1 && pos.node.firstChild &&\n          (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n          (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n  }\n  function findCompositionNode(view, headPos) {\n      let sel = view.observer.selectionRange;\n      if (!sel.focusNode)\n          return null;\n      let textBefore = textNodeBefore(sel.focusNode, sel.focusOffset);\n      let textAfter = textNodeAfter(sel.focusNode, sel.focusOffset);\n      let textNode = textBefore || textAfter;\n      if (textAfter && textBefore && textAfter.node != textBefore.node) {\n          let descAfter = ContentView.get(textAfter.node);\n          if (!descAfter || descAfter instanceof TextView && descAfter.text != textAfter.node.nodeValue) {\n              textNode = textAfter;\n          }\n          else if (view.docView.lastCompositionAfterCursor) {\n              let descBefore = ContentView.get(textBefore.node);\n              if (!(!descBefore || descBefore instanceof TextView && descBefore.text != textBefore.node.nodeValue))\n                  textNode = textAfter;\n          }\n      }\n      view.docView.lastCompositionAfterCursor = textNode != textBefore;\n      if (!textNode)\n          return null;\n      let from = headPos - textNode.offset;\n      return { from, to: from + textNode.node.nodeValue.length, node: textNode.node };\n  }\n  function findCompositionRange(view, changes, headPos) {\n      let found = findCompositionNode(view, headPos);\n      if (!found)\n          return null;\n      let { node: textNode, from, to } = found, text = textNode.nodeValue;\n      // Don't try to preserve multi-line compositions\n      if (/[\\n\\r]/.test(text))\n          return null;\n      if (view.state.doc.sliceString(found.from, found.to) != text)\n          return null;\n      let inv = changes.invertedDesc;\n      let range = new ChangedRange(inv.mapPos(from), inv.mapPos(to), from, to);\n      let marks = [];\n      for (let parent = textNode.parentNode;; parent = parent.parentNode) {\n          let parentView = ContentView.get(parent);\n          if (parentView instanceof MarkView)\n              marks.push({ node: parent, deco: parentView.mark });\n          else if (parentView instanceof LineView || parent.nodeName == \"DIV\" && parent.parentNode == view.contentDOM)\n              return { range, text: textNode, marks, line: parent };\n          else if (parent != view.contentDOM)\n              marks.push({ node: parent, deco: new MarkDecoration({\n                      inclusive: true,\n                      attributes: getAttrs$1(parent),\n                      tagName: parent.tagName.toLowerCase()\n                  }) });\n          else\n              return null;\n      }\n  }\n  function nextToUneditable(node, offset) {\n      if (node.nodeType != 1)\n          return 0;\n      return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* NextTo.Before */ : 0) |\n          (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* NextTo.After */ : 0);\n  }\n  let DecorationComparator$1 = class DecorationComparator {\n      constructor() {\n          this.changes = [];\n      }\n      compareRange(from, to) { addRange(from, to, this.changes); }\n      comparePoint(from, to) { addRange(from, to, this.changes); }\n      boundChange(pos) { addRange(pos, pos, this.changes); }\n  };\n  function findChangedDeco(a, b, diff) {\n      let comp = new DecorationComparator$1;\n      RangeSet.compare(a, b, diff, comp);\n      return comp.changes;\n  }\n  function inUneditable(node, inside) {\n      for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n          if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n              return true;\n          }\n      }\n      return false;\n  }\n  function touchesComposition(changes, composition) {\n      let touched = false;\n      if (composition)\n          changes.iterChangedRanges((from, to) => {\n              if (from < composition.to && to > composition.from)\n                  touched = true;\n          });\n      return touched;\n  }\n\n  function groupAt(state, pos, bias = 1) {\n      let categorize = state.charCategorizer(pos);\n      let line = state.doc.lineAt(pos), linePos = pos - line.from;\n      if (line.length == 0)\n          return EditorSelection.cursor(pos);\n      if (linePos == 0)\n          bias = 1;\n      else if (linePos == line.length)\n          bias = -1;\n      let from = linePos, to = linePos;\n      if (bias < 0)\n          from = findClusterBreak(line.text, linePos, false);\n      else\n          to = findClusterBreak(line.text, linePos);\n      let cat = categorize(line.text.slice(from, to));\n      while (from > 0) {\n          let prev = findClusterBreak(line.text, from, false);\n          if (categorize(line.text.slice(prev, from)) != cat)\n              break;\n          from = prev;\n      }\n      while (to < line.length) {\n          let next = findClusterBreak(line.text, to);\n          if (categorize(line.text.slice(to, next)) != cat)\n              break;\n          to = next;\n      }\n      return EditorSelection.range(from + line.from, to + line.from);\n  }\n  // Search the DOM for the {node, offset} position closest to the given\n  // coordinates. Very inefficient and crude, but can usually be avoided\n  // by calling caret(Position|Range)FromPoint instead.\n  function getdx(x, rect) {\n      return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n  }\n  function getdy(y, rect) {\n      return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n  }\n  function yOverlap(a, b) {\n      return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n  }\n  function upTop(rect, top) {\n      return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n  }\n  function upBot(rect, bottom) {\n      return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n  }\n  function domPosAtCoords(parent, x, y) {\n      let closest, closestRect, closestX, closestY, closestOverlap = false;\n      let above, below, aboveRect, belowRect;\n      for (let child = parent.firstChild; child; child = child.nextSibling) {\n          let rects = clientRectsFor(child);\n          for (let i = 0; i < rects.length; i++) {\n              let rect = rects[i];\n              if (closestRect && yOverlap(closestRect, rect))\n                  rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n              let dx = getdx(x, rect), dy = getdy(y, rect);\n              if (dx == 0 && dy == 0)\n                  return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n              if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                  closest = child;\n                  closestRect = rect;\n                  closestX = dx;\n                  closestY = dy;\n                  closestOverlap = !dx ? true : x < rect.left ? i > 0 : i < rects.length - 1;\n              }\n              if (dx == 0) {\n                  if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                      above = child;\n                      aboveRect = rect;\n                  }\n                  else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                      below = child;\n                      belowRect = rect;\n                  }\n              }\n              else if (aboveRect && yOverlap(aboveRect, rect)) {\n                  aboveRect = upBot(aboveRect, rect.bottom);\n              }\n              else if (belowRect && yOverlap(belowRect, rect)) {\n                  belowRect = upTop(belowRect, rect.top);\n              }\n          }\n      }\n      if (aboveRect && aboveRect.bottom >= y) {\n          closest = above;\n          closestRect = aboveRect;\n      }\n      else if (belowRect && belowRect.top <= y) {\n          closest = below;\n          closestRect = belowRect;\n      }\n      if (!closest)\n          return { node: parent, offset: 0 };\n      let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n      if (closest.nodeType == 3)\n          return domPosInText(closest, clipX, y);\n      if (closestOverlap && closest.contentEditable != \"false\")\n          return domPosAtCoords(closest, clipX, y);\n      let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n          (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n      return { node: parent, offset };\n  }\n  function domPosInText(node, x, y) {\n      let len = node.nodeValue.length;\n      let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n      for (let i = 0; i < len; i++) {\n          let rects = textRange(node, i, i + 1).getClientRects();\n          for (let j = 0; j < rects.length; j++) {\n              let rect = rects[j];\n              if (rect.top == rect.bottom)\n                  continue;\n              if (!generalSide)\n                  generalSide = x - rect.left;\n              let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n              if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                  let right = x >= (rect.left + rect.right) / 2, after = right;\n                  if (browser.chrome || browser.gecko) {\n                      // Check for RTL on browsers that support getting client\n                      // rects for empty ranges.\n                      let rectBefore = textRange(node, i).getBoundingClientRect();\n                      if (rectBefore.left == rect.right)\n                          after = !right;\n                  }\n                  if (dy <= 0)\n                      return { node, offset: i + (after ? 1 : 0) };\n                  closestOffset = i + (after ? 1 : 0);\n                  closestDY = dy;\n              }\n          }\n      }\n      return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n  }\n  function posAtCoords(view, coords, precise, bias = -1) {\n      var _a, _b;\n      let content = view.contentDOM.getBoundingClientRect(), docTop = content.top + view.viewState.paddingTop;\n      let block, { docHeight } = view.viewState;\n      let { x, y } = coords, yOffset = y - docTop;\n      if (yOffset < 0)\n          return 0;\n      if (yOffset > docHeight)\n          return view.state.doc.length;\n      // Scan for a text block near the queried y position\n      for (let halfLine = view.viewState.heightOracle.textHeight / 2, bounced = false;;) {\n          block = view.elementAtHeight(yOffset);\n          if (block.type == BlockType.Text)\n              break;\n          for (;;) {\n              // Move the y position out of this block\n              yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n              if (yOffset >= 0 && yOffset <= docHeight)\n                  break;\n              // If the document consists entirely of replaced widgets, we\n              // won't find a text block, so return 0\n              if (bounced)\n                  return precise ? null : 0;\n              bounced = true;\n              bias = -bias;\n          }\n      }\n      y = docTop + yOffset;\n      let lineStart = block.from;\n      // If this is outside of the rendered viewport, we can't determine a position\n      if (lineStart < view.viewport.from)\n          return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n      if (lineStart > view.viewport.to)\n          return view.viewport.to == view.state.doc.length ? view.state.doc.length :\n              precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n      // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n      let doc = view.dom.ownerDocument;\n      let root = view.root.elementFromPoint ? view.root : doc;\n      let element = root.elementFromPoint(x, y);\n      if (element && !view.contentDOM.contains(element))\n          element = null;\n      // If the element is unexpected, clip x at the sides of the content area and try again\n      if (!element) {\n          x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n          element = root.elementFromPoint(x, y);\n          if (element && !view.contentDOM.contains(element))\n              element = null;\n      }\n      // There's visible editor content under the point, so we can try\n      // using caret(Position|Range)FromPoint as a shortcut\n      let node, offset = -1;\n      if (element && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n          if (doc.caretPositionFromPoint) {\n              let pos = doc.caretPositionFromPoint(x, y);\n              if (pos)\n                  ({ offsetNode: node, offset } = pos);\n          }\n          else if (doc.caretRangeFromPoint) {\n              let range = doc.caretRangeFromPoint(x, y);\n              if (range) {\n                  ({ startContainer: node, startOffset: offset } = range);\n                  if (!view.contentDOM.contains(node) ||\n                      browser.safari && isSuspiciousSafariCaretResult(node, offset, x) ||\n                      browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))\n                      node = undefined;\n              }\n          }\n          // Chrome will return offsets into <input> elements without child\n          // nodes, which will lead to a null deref below, so clip the\n          // offset to the node size.\n          if (node)\n              offset = Math.min(maxOffset(node), offset);\n      }\n      // No luck, do our own (potentially expensive) search\n      if (!node || !view.docView.dom.contains(node)) {\n          let line = LineView.find(view.docView, lineStart);\n          if (!line)\n              return yOffset > block.top + block.height / 2 ? block.to : block.from;\n          ({ node, offset } = domPosAtCoords(line.dom, x, y));\n      }\n      let nearest = view.docView.nearest(node);\n      if (!nearest)\n          return null;\n      if (nearest.isWidget && ((_b = nearest.dom) === null || _b === void 0 ? void 0 : _b.nodeType) == 1) {\n          let rect = nearest.dom.getBoundingClientRect();\n          return coords.y < rect.top || coords.y <= rect.bottom && coords.x <= (rect.left + rect.right) / 2\n              ? nearest.posAtStart : nearest.posAtEnd;\n      }\n      else {\n          return nearest.localPosFromDOM(node, offset) + nearest.posAtStart;\n      }\n  }\n  function posAtCoordsImprecise(view, contentRect, block, x, y) {\n      let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n      if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n          let textHeight = view.viewState.heightOracle.textHeight;\n          let line = Math.floor((y - block.top - (view.defaultLineHeight - textHeight) * 0.5) / textHeight);\n          into += line * view.viewState.heightOracle.lineLength;\n      }\n      let content = view.state.sliceDoc(block.from, block.to);\n      return block.from + findColumn$1(content, into, view.state.tabSize);\n  }\n  // In case of a high line height, Safari's caretRangeFromPoint treats\n  // the space between lines as belonging to the last character of the\n  // line before. This is used to detect such a result so that it can be\n  // ignored (issue #401).\n  function isSuspiciousSafariCaretResult(node, offset, x) {\n      let len, scan = node;\n      if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n          return false;\n      for (;;) { // Check that there is no content after this node\n          let next = scan.nextSibling;\n          if (next) {\n              if (next.nodeName == \"BR\")\n                  break;\n              return false;\n          }\n          else {\n              let parent = scan.parentNode;\n              if (!parent || parent.nodeName == \"DIV\")\n                  break;\n              scan = parent;\n          }\n      }\n      return textRange(node, len - 1, len).getBoundingClientRect().right > x;\n  }\n  // Chrome will move positions between lines to the start of the next line\n  function isSuspiciousChromeCaretResult(node, offset, x) {\n      if (offset != 0)\n          return false;\n      for (let cur = node;;) {\n          let parent = cur.parentNode;\n          if (!parent || parent.nodeType != 1 || parent.firstChild != cur)\n              return false;\n          if (parent.classList.contains(\"cm-line\"))\n              break;\n          cur = parent;\n      }\n      let rect = node.nodeType == 1 ? node.getBoundingClientRect()\n          : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();\n      return x - rect.left > 5;\n  }\n  function blockAt(view, pos, side) {\n      let line = view.lineBlockAt(pos);\n      if (Array.isArray(line.type)) {\n          let best;\n          for (let l of line.type) {\n              if (l.from > pos)\n                  break;\n              if (l.to < pos)\n                  continue;\n              if (l.from < pos && l.to > pos)\n                  return l;\n              if (!best || (l.type == BlockType.Text && (best.type != l.type || (side < 0 ? l.from < pos : l.to > pos))))\n                  best = l;\n          }\n          return best || line;\n      }\n      return line;\n  }\n  function moveToLineBoundary(view, start, forward, includeWrap) {\n      let line = blockAt(view, start.head, start.assoc || -1);\n      let coords = !includeWrap || line.type != BlockType.Text || !(view.lineWrapping || line.widgetLineBreaks) ? null\n          : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n      if (coords) {\n          let editorRect = view.dom.getBoundingClientRect();\n          let direction = view.textDirectionAt(line.from);\n          let pos = view.posAtCoords({ x: forward == (direction == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n              y: (coords.top + coords.bottom) / 2 });\n          if (pos != null)\n              return EditorSelection.cursor(pos, forward ? -1 : 1);\n      }\n      return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1);\n  }\n  function moveByChar(view, start, forward, by) {\n      let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n      let direction = view.textDirectionAt(line.from);\n      for (let cur = start, check = null;;) {\n          let next = moveVisually(line, spans, direction, cur, forward), char = movedOver;\n          if (!next) {\n              if (line.number == (forward ? view.state.doc.lines : 1))\n                  return cur;\n              char = \"\\n\";\n              line = view.state.doc.line(line.number + (forward ? 1 : -1));\n              spans = view.bidiSpans(line);\n              next = view.visualLineSide(line, !forward);\n          }\n          if (!check) {\n              if (!by)\n                  return next;\n              check = by(char);\n          }\n          else if (!check(char)) {\n              return cur;\n          }\n          cur = next;\n      }\n  }\n  function byGroup(view, pos, start) {\n      let categorize = view.state.charCategorizer(pos);\n      let cat = categorize(start);\n      return (next) => {\n          let nextCat = categorize(next);\n          if (cat == CharCategory.Space)\n              cat = nextCat;\n          return cat == nextCat;\n      };\n  }\n  function moveVertically(view, start, forward, distance) {\n      let startPos = start.head, dir = forward ? 1 : -1;\n      if (startPos == (forward ? view.state.doc.length : 0))\n          return EditorSelection.cursor(startPos, start.assoc);\n      let goal = start.goalColumn, startY;\n      let rect = view.contentDOM.getBoundingClientRect();\n      let startCoords = view.coordsAtPos(startPos, start.assoc || -1), docTop = view.documentTop;\n      if (startCoords) {\n          if (goal == null)\n              goal = startCoords.left - rect.left;\n          startY = dir < 0 ? startCoords.top : startCoords.bottom;\n      }\n      else {\n          let line = view.viewState.lineBlockAt(startPos);\n          if (goal == null)\n              goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n          startY = (dir < 0 ? line.top : line.bottom) + docTop;\n      }\n      let resolvedGoal = rect.left + goal;\n      let dist = distance !== null && distance !== void 0 ? distance : (view.viewState.heightOracle.textHeight >> 1);\n      for (let extra = 0;; extra += 10) {\n          let curY = startY + (dist + extra) * dir;\n          let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n          if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos)) {\n              let charRect = view.docView.coordsForChar(pos);\n              let assoc = !charRect || curY < charRect.top ? -1 : 1;\n              return EditorSelection.cursor(pos, assoc, undefined, goal);\n          }\n      }\n  }\n  function skipAtomicRanges(atoms, pos, bias) {\n      for (;;) {\n          let moved = 0;\n          for (let set of atoms) {\n              set.between(pos - 1, pos + 1, (from, to, value) => {\n                  if (pos > from && pos < to) {\n                      let side = moved || bias || (pos - from < to - pos ? -1 : 1);\n                      pos = side < 0 ? from : to;\n                      moved = side;\n                  }\n              });\n          }\n          if (!moved)\n              return pos;\n      }\n  }\n  function skipAtomsForSelection(atoms, sel) {\n      let ranges = null;\n      for (let i = 0; i < sel.ranges.length; i++) {\n          let range = sel.ranges[i], updated = null;\n          if (range.empty) {\n              let pos = skipAtomicRanges(atoms, range.from, 0);\n              if (pos != range.from)\n                  updated = EditorSelection.cursor(pos, -1);\n          }\n          else {\n              let from = skipAtomicRanges(atoms, range.from, -1);\n              let to = skipAtomicRanges(atoms, range.to, 1);\n              if (from != range.from || to != range.to)\n                  updated = EditorSelection.range(range.from == range.anchor ? from : to, range.from == range.head ? from : to);\n          }\n          if (updated) {\n              if (!ranges)\n                  ranges = sel.ranges.slice();\n              ranges[i] = updated;\n          }\n      }\n      return ranges ? EditorSelection.create(ranges, sel.mainIndex) : sel;\n  }\n  function skipAtoms(view, oldPos, pos) {\n      let newPos = skipAtomicRanges(view.state.facet(atomicRanges).map(f => f(view)), pos.from, oldPos.head > pos.from ? -1 : 1);\n      return newPos == pos.from ? pos : EditorSelection.cursor(newPos, newPos < pos.from ? 1 : -1);\n  }\n\n  const LineBreakPlaceholder = \"\\uffff\";\n  class DOMReader {\n      constructor(points, state) {\n          this.points = points;\n          this.text = \"\";\n          this.lineSeparator = state.facet(EditorState.lineSeparator);\n      }\n      append(text) {\n          this.text += text;\n      }\n      lineBreak() {\n          this.text += LineBreakPlaceholder;\n      }\n      readRange(start, end) {\n          if (!start)\n              return this;\n          let parent = start.parentNode;\n          for (let cur = start;;) {\n              this.findPointBefore(parent, cur);\n              let oldLen = this.text.length;\n              this.readNode(cur);\n              let next = cur.nextSibling;\n              if (next == end)\n                  break;\n              let view = ContentView.get(cur), nextView = ContentView.get(next);\n              if (view && nextView ? view.breakAfter :\n                  (view ? view.breakAfter : isBlockElement(cur)) ||\n                      (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore) && this.text.length > oldLen))\n                  this.lineBreak();\n              cur = next;\n          }\n          this.findPointBefore(parent, end);\n          return this;\n      }\n      readTextNode(node) {\n          let text = node.nodeValue;\n          for (let point of this.points)\n              if (point.node == node)\n                  point.pos = this.text.length + Math.min(point.offset, text.length);\n          for (let off = 0, re = this.lineSeparator ? null : /\\r\\n?|\\n/g;;) {\n              let nextBreak = -1, breakSize = 1, m;\n              if (this.lineSeparator) {\n                  nextBreak = text.indexOf(this.lineSeparator, off);\n                  breakSize = this.lineSeparator.length;\n              }\n              else if (m = re.exec(text)) {\n                  nextBreak = m.index;\n                  breakSize = m[0].length;\n              }\n              this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));\n              if (nextBreak < 0)\n                  break;\n              this.lineBreak();\n              if (breakSize > 1)\n                  for (let point of this.points)\n                      if (point.node == node && point.pos > this.text.length)\n                          point.pos -= breakSize - 1;\n              off = nextBreak + breakSize;\n          }\n      }\n      readNode(node) {\n          if (node.cmIgnore)\n              return;\n          let view = ContentView.get(node);\n          let fromView = view && view.overrideDOMText;\n          if (fromView != null) {\n              this.findPointInside(node, fromView.length);\n              for (let i = fromView.iter(); !i.next().done;) {\n                  if (i.lineBreak)\n                      this.lineBreak();\n                  else\n                      this.append(i.value);\n              }\n          }\n          else if (node.nodeType == 3) {\n              this.readTextNode(node);\n          }\n          else if (node.nodeName == \"BR\") {\n              if (node.nextSibling)\n                  this.lineBreak();\n          }\n          else if (node.nodeType == 1) {\n              this.readRange(node.firstChild, null);\n          }\n      }\n      findPointBefore(node, next) {\n          for (let point of this.points)\n              if (point.node == node && node.childNodes[point.offset] == next)\n                  point.pos = this.text.length;\n      }\n      findPointInside(node, length) {\n          for (let point of this.points)\n              if (node.nodeType == 3 ? point.node == node : node.contains(point.node))\n                  point.pos = this.text.length + (isAtEnd(node, point.node, point.offset) ? length : 0);\n      }\n  }\n  function isAtEnd(parent, node, offset) {\n      for (;;) {\n          if (!node || offset < maxOffset(node))\n              return false;\n          if (node == parent)\n              return true;\n          offset = domIndex(node) + 1;\n          node = node.parentNode;\n      }\n  }\n  class DOMPoint {\n      constructor(node, offset) {\n          this.node = node;\n          this.offset = offset;\n          this.pos = -1;\n      }\n  }\n\n  class DOMChange {\n      constructor(view, start, end, typeOver) {\n          this.typeOver = typeOver;\n          this.bounds = null;\n          this.text = \"\";\n          this.domChanged = start > -1;\n          let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n          if (view.state.readOnly && start > -1) {\n              // Ignore changes when the editor is read-only\n              this.newSel = null;\n          }\n          else if (start > -1 && (this.bounds = view.docView.domBoundsAround(start, end, 0))) {\n              let selPoints = iHead || iAnchor ? [] : selectionPoints(view);\n              let reader = new DOMReader(selPoints, view.state);\n              reader.readRange(this.bounds.startDOM, this.bounds.endDOM);\n              this.text = reader.text;\n              this.newSel = selectionFromPoints(selPoints, this.bounds.from);\n          }\n          else {\n              let domSel = view.observer.selectionRange;\n              let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n                  !contains(view.contentDOM, domSel.focusNode)\n                  ? view.state.selection.main.head\n                  : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n              let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n                  !contains(view.contentDOM, domSel.anchorNode)\n                  ? view.state.selection.main.anchor\n                  : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n              // iOS will refuse to select the block gaps when doing\n              // select-all.\n              // Chrome will put the selection *inside* them, confusing\n              // posFromDOM\n              let vp = view.viewport;\n              if ((browser.ios || browser.chrome) && view.state.selection.main.empty && head != anchor &&\n                  (vp.from > 0 || vp.to < view.state.doc.length)) {\n                  let from = Math.min(head, anchor), to = Math.max(head, anchor);\n                  let offFrom = vp.from - from, offTo = vp.to - to;\n                  if ((offFrom == 0 || offFrom == 1 || from == 0) && (offTo == 0 || offTo == -1 || to == view.state.doc.length)) {\n                      head = 0;\n                      anchor = view.state.doc.length;\n                  }\n              }\n              this.newSel = EditorSelection.single(anchor, head);\n          }\n      }\n  }\n  function applyDOMChange(view, domChange) {\n      let change;\n      let { newSel } = domChange, sel = view.state.selection.main;\n      let lastKey = view.inputState.lastKeyTime > Date.now() - 100 ? view.inputState.lastKeyCode : -1;\n      if (domChange.bounds) {\n          let { from, to } = domChange.bounds;\n          let preferredPos = sel.from, preferredSide = null;\n          // Prefer anchoring to end when Backspace is pressed (or, on\n          // Android, when something was deleted)\n          if (lastKey === 8 || browser.android && domChange.text.length < to - from) {\n              preferredPos = sel.to;\n              preferredSide = \"end\";\n          }\n          let diff = findDiff(view.state.doc.sliceString(from, to, LineBreakPlaceholder), domChange.text, preferredPos - from, preferredSide);\n          if (diff) {\n              // Chrome inserts two newlines when pressing shift-enter at the\n              // end of a line. DomChange drops one of those.\n              if (browser.chrome && lastKey == 13 &&\n                  diff.toB == diff.from + 2 && domChange.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)\n                  diff.toB--;\n              change = { from: from + diff.from, to: from + diff.toA,\n                  insert: Text.of(domChange.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder)) };\n          }\n      }\n      else if (newSel && (!view.hasFocus && view.state.facet(editable) || newSel.main.eq(sel))) {\n          newSel = null;\n      }\n      if (!change && !newSel)\n          return false;\n      if (!change && domChange.typeOver && !sel.empty && newSel && newSel.main.empty) {\n          // Heuristic to notice typing over a selected character\n          change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n      }\n      else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 &&\n          /^\\. ?$/.test(change.insert.toString()) && view.contentDOM.getAttribute(\"autocorrect\") == \"off\") {\n          // Detect insert-period-on-double-space Mac and Android behavior,\n          // and transform it into a regular space insert.\n          if (newSel && change.insert.length == 2)\n              newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n          change = { from: change.from, to: change.to, insert: Text.of([change.insert.toString().replace(\".\", \" \")]) };\n      }\n      else if (change && change.from >= sel.from && change.to <= sel.to &&\n          (change.from != sel.from || change.to != sel.to) &&\n          (sel.to - sel.from) - (change.to - change.from) <= 4) {\n          // If the change is inside the selection and covers most of it,\n          // assume it is a selection replace (with identical characters at\n          // the start/end not included in the diff)\n          change = {\n              from: sel.from, to: sel.to,\n              insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n          };\n      }\n      else if (browser.chrome && change && change.from == change.to && change.from == sel.head &&\n          change.insert.toString() == \"\\n \" && view.lineWrapping) {\n          // In Chrome, if you insert a space at the start of a wrapped\n          // line, it will actually insert a newline and a space, causing a\n          // bogus new line to be created in CodeMirror (#968)\n          if (newSel)\n              newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n          change = { from: sel.from, to: sel.to, insert: Text.of([\" \"]) };\n      }\n      if (change) {\n          return applyDOMChangeInner(view, change, newSel, lastKey);\n      }\n      else if (newSel && !newSel.main.eq(sel)) {\n          let scrollIntoView = false, userEvent = \"select\";\n          if (view.inputState.lastSelectionTime > Date.now() - 50) {\n              if (view.inputState.lastSelectionOrigin == \"select\")\n                  scrollIntoView = true;\n              userEvent = view.inputState.lastSelectionOrigin;\n              if (userEvent == \"select.pointer\")\n                  newSel = skipAtomsForSelection(view.state.facet(atomicRanges).map(f => f(view)), newSel);\n          }\n          view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n          return true;\n      }\n      else {\n          return false;\n      }\n  }\n  function applyDOMChangeInner(view, change, newSel, lastKey = -1) {\n      if (browser.ios && view.inputState.flushIOSKey(change))\n          return true;\n      let sel = view.state.selection.main;\n      // Android browsers don't fire reasonable key events for enter,\n      // backspace, or delete. So this detects changes that look like\n      // they're caused by those keys, and reinterprets them as key\n      // events. (Some of these keys are also handled by beforeinput\n      // events and the pendingAndroidKey mechanism, but that's not\n      // reliable in all situations.)\n      if (browser.android &&\n          ((change.to == sel.to &&\n              // GBoard will sometimes remove a space it just inserted\n              // after a completion when you press enter\n              (change.from == sel.from || change.from == sel.from - 1 && view.state.sliceDoc(change.from, sel.from) == \" \") &&\n              change.insert.length == 1 && change.insert.lines == 2 &&\n              dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n              ((change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 ||\n                  lastKey == 8 && change.insert.length < change.to - change.from && change.to > sel.head) &&\n                  dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n              (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                  dispatchKey(view.contentDOM, \"Delete\", 46))))\n          return true;\n      let text = change.insert.toString();\n      if (view.inputState.composing >= 0)\n          view.inputState.composing++;\n      let defaultTr;\n      let defaultInsert = () => defaultTr || (defaultTr = applyDefaultInsert(view, change, newSel));\n      if (!view.state.facet(inputHandler$1).some(h => h(view, change.from, change.to, text, defaultInsert)))\n          view.dispatch(defaultInsert());\n      return true;\n  }\n  function applyDefaultInsert(view, change, newSel) {\n      let tr, startState = view.state, sel = startState.selection.main;\n      if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n          (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) &&\n          view.inputState.composing < 0) {\n          let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n          let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n          tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) + after));\n      }\n      else {\n          let changes = startState.changes(change);\n          let mainSel = newSel && newSel.main.to <= changes.newLength ? newSel.main : undefined;\n          // Try to apply a composition change to all cursors\n          if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 &&\n              change.to <= sel.to && change.to >= sel.to - 10) {\n              let replaced = view.state.sliceDoc(change.from, change.to);\n              let compositionRange, composition = newSel && findCompositionNode(view, newSel.main.head);\n              if (composition) {\n                  let dLen = change.insert.length - (change.to - change.from);\n                  compositionRange = { from: composition.from, to: composition.to - dLen };\n              }\n              else {\n                  compositionRange = view.state.doc.lineAt(sel.head);\n              }\n              let offset = sel.to - change.to, size = sel.to - sel.from;\n              tr = startState.changeByRange(range => {\n                  if (range.from == sel.from && range.to == sel.to)\n                      return { changes, range: mainSel || range.map(changes) };\n                  let to = range.to - offset, from = to - replaced.length;\n                  if (range.to - range.from != size || view.state.sliceDoc(from, to) != replaced ||\n                      // Unfortunately, there's no way to make multiple\n                      // changes in the same node work without aborting\n                      // composition, so cursors in the composition range are\n                      // ignored.\n                      range.to >= compositionRange.from && range.from <= compositionRange.to)\n                      return { range };\n                  let rangeChanges = startState.changes({ from, to, insert: change.insert }), selOff = range.to - sel.to;\n                  return {\n                      changes: rangeChanges,\n                      range: !mainSel ? range.map(rangeChanges) :\n                          EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))\n                  };\n              });\n          }\n          else {\n              tr = {\n                  changes,\n                  selection: mainSel && startState.selection.replaceRange(mainSel)\n              };\n          }\n      }\n      let userEvent = \"input.type\";\n      if (view.composing ||\n          view.inputState.compositionPendingChange && view.inputState.compositionEndedAt > Date.now() - 50) {\n          view.inputState.compositionPendingChange = false;\n          userEvent += \".compose\";\n          if (view.inputState.compositionFirstChange) {\n              userEvent += \".start\";\n              view.inputState.compositionFirstChange = false;\n          }\n      }\n      return startState.update(tr, { userEvent, scrollIntoView: true });\n  }\n  function findDiff(a, b, preferredPos, preferredSide) {\n      let minLen = Math.min(a.length, b.length);\n      let from = 0;\n      while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n          from++;\n      if (from == minLen && a.length == b.length)\n          return null;\n      let toA = a.length, toB = b.length;\n      while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n          toA--;\n          toB--;\n      }\n      if (preferredSide == \"end\") {\n          let adjust = Math.max(0, from - Math.min(toA, toB));\n          preferredPos -= toA + adjust - from;\n      }\n      if (toA < from && a.length < b.length) {\n          let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n          from -= move;\n          toB = from + (toB - toA);\n          toA = from;\n      }\n      else if (toB < from) {\n          let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n          from -= move;\n          toA = from + (toA - toB);\n          toB = from;\n      }\n      return { from, toA, toB };\n  }\n  function selectionPoints(view) {\n      let result = [];\n      if (view.root.activeElement != view.contentDOM)\n          return result;\n      let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n      if (anchorNode) {\n          result.push(new DOMPoint(anchorNode, anchorOffset));\n          if (focusNode != anchorNode || focusOffset != anchorOffset)\n              result.push(new DOMPoint(focusNode, focusOffset));\n      }\n      return result;\n  }\n  function selectionFromPoints(points, base) {\n      if (points.length == 0)\n          return null;\n      let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n      return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n  }\n\n  class InputState {\n      setSelectionOrigin(origin) {\n          this.lastSelectionOrigin = origin;\n          this.lastSelectionTime = Date.now();\n      }\n      constructor(view) {\n          this.view = view;\n          this.lastKeyCode = 0;\n          this.lastKeyTime = 0;\n          this.lastTouchTime = 0;\n          this.lastFocusTime = 0;\n          this.lastScrollTop = 0;\n          this.lastScrollLeft = 0;\n          // On iOS, some keys need to have their default behavior happen\n          // (after which we retroactively handle them and reset the DOM) to\n          // avoid messing up the virtual keyboard state.\n          this.pendingIOSKey = undefined;\n          /**\n          When enabled (>-1), tab presses are not given to key handlers,\n          leaving the browser's default behavior. If >0, the mode expires\n          at that timestamp, and any other keypress clears it.\n          Esc enables temporary tab focus mode for two seconds when not\n          otherwise handled.\n          */\n          this.tabFocusMode = -1;\n          this.lastSelectionOrigin = null;\n          this.lastSelectionTime = 0;\n          this.lastContextMenu = 0;\n          this.scrollHandlers = [];\n          this.handlers = Object.create(null);\n          // -1 means not in a composition. Otherwise, this counts the number\n          // of changes made during the composition. The count is used to\n          // avoid treating the start state of the composition, before any\n          // changes have been made, as part of the composition.\n          this.composing = -1;\n          // Tracks whether the next change should be marked as starting the\n          // composition (null means no composition, true means next is the\n          // first, false means first has already been marked for this\n          // composition)\n          this.compositionFirstChange = null;\n          // End time of the previous composition\n          this.compositionEndedAt = 0;\n          // Used in a kludge to detect when an Enter keypress should be\n          // considered part of the composition on Safari, which fires events\n          // in the wrong order\n          this.compositionPendingKey = false;\n          // Used to categorize changes as part of a composition, even when\n          // the mutation events fire shortly after the compositionend event\n          this.compositionPendingChange = false;\n          this.mouseSelection = null;\n          // When a drag from the editor is active, this points at the range\n          // being dragged.\n          this.draggedContent = null;\n          this.handleEvent = this.handleEvent.bind(this);\n          this.notifiedFocused = view.hasFocus;\n          // On Safari adding an input event handler somehow prevents an\n          // issue where the composition vanishes when you press enter.\n          if (browser.safari)\n              view.contentDOM.addEventListener(\"input\", () => null);\n          if (browser.gecko)\n              firefoxCopyCutHack(view.contentDOM.ownerDocument);\n      }\n      handleEvent(event) {\n          if (!eventBelongsToEditor(this.view, event) || this.ignoreDuringComposition(event))\n              return;\n          if (event.type == \"keydown\" && this.keydown(event))\n              return;\n          if (this.view.updateState != 0 /* UpdateState.Idle */)\n              Promise.resolve().then(() => this.runHandlers(event.type, event));\n          else\n              this.runHandlers(event.type, event);\n      }\n      runHandlers(type, event) {\n          let handlers = this.handlers[type];\n          if (handlers) {\n              for (let observer of handlers.observers)\n                  observer(this.view, event);\n              for (let handler of handlers.handlers) {\n                  if (event.defaultPrevented)\n                      break;\n                  if (handler(this.view, event)) {\n                      event.preventDefault();\n                      break;\n                  }\n              }\n          }\n      }\n      ensureHandlers(plugins) {\n          let handlers = computeHandlers(plugins), prev = this.handlers, dom = this.view.contentDOM;\n          for (let type in handlers)\n              if (type != \"scroll\") {\n                  let passive = !handlers[type].handlers.length;\n                  let exists = prev[type];\n                  if (exists && passive != !exists.handlers.length) {\n                      dom.removeEventListener(type, this.handleEvent);\n                      exists = null;\n                  }\n                  if (!exists)\n                      dom.addEventListener(type, this.handleEvent, { passive });\n              }\n          for (let type in prev)\n              if (type != \"scroll\" && !handlers[type])\n                  dom.removeEventListener(type, this.handleEvent);\n          this.handlers = handlers;\n      }\n      keydown(event) {\n          // Must always run, even if a custom handler handled the event\n          this.lastKeyCode = event.keyCode;\n          this.lastKeyTime = Date.now();\n          if (event.keyCode == 9 && this.tabFocusMode > -1 && (!this.tabFocusMode || Date.now() <= this.tabFocusMode))\n              return true;\n          if (this.tabFocusMode > 0 && event.keyCode != 27 && modifierCodes.indexOf(event.keyCode) < 0)\n              this.tabFocusMode = -1;\n          // Chrome for Android usually doesn't fire proper key events, but\n          // occasionally does, usually surrounded by a bunch of complicated\n          // composition changes. When an enter or backspace key event is\n          // seen, hold off on handling DOM events for a bit, and then\n          // dispatch it.\n          if (browser.android && browser.chrome && !event.synthetic &&\n              (event.keyCode == 13 || event.keyCode == 8)) {\n              this.view.observer.delayAndroidKey(event.key, event.keyCode);\n              return true;\n          }\n          // Preventing the default behavior of Enter on iOS makes the\n          // virtual keyboard get stuck in the wrong (lowercase)\n          // state. So we let it go through, and then, in\n          // applyDOMChange, notify key handlers of it and reset to\n          // the state they produce.\n          let pending;\n          if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey &&\n              ((pending = PendingKeys.find(key => key.keyCode == event.keyCode)) && !event.ctrlKey ||\n                  EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {\n              this.pendingIOSKey = pending || event;\n              setTimeout(() => this.flushIOSKey(), 250);\n              return true;\n          }\n          if (event.keyCode != 229)\n              this.view.observer.forceFlush();\n          return false;\n      }\n      flushIOSKey(change) {\n          let key = this.pendingIOSKey;\n          if (!key)\n              return false;\n          // This looks like an autocorrection before Enter\n          if (key.key == \"Enter\" && change && change.from < change.to && /^\\S+$/.test(change.insert.toString()))\n              return false;\n          this.pendingIOSKey = undefined;\n          return dispatchKey(this.view.contentDOM, key.key, key.keyCode, key instanceof KeyboardEvent ? key : undefined);\n      }\n      ignoreDuringComposition(event) {\n          if (!/^key/.test(event.type))\n              return false;\n          if (this.composing > 0)\n              return true;\n          // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n          // On some input method editors (IMEs), the Enter key is used to\n          // confirm character selection. On Safari, when Enter is pressed,\n          // compositionend and keydown events are sometimes emitted in the\n          // wrong order. The key event should still be ignored, even when\n          // it happens after the compositionend event.\n          if (browser.safari && !browser.ios && this.compositionPendingKey && Date.now() - this.compositionEndedAt < 100) {\n              this.compositionPendingKey = false;\n              return true;\n          }\n          return false;\n      }\n      startMouseSelection(mouseSelection) {\n          if (this.mouseSelection)\n              this.mouseSelection.destroy();\n          this.mouseSelection = mouseSelection;\n      }\n      update(update) {\n          this.view.observer.update(update);\n          if (this.mouseSelection)\n              this.mouseSelection.update(update);\n          if (this.draggedContent && update.docChanged)\n              this.draggedContent = this.draggedContent.map(update.changes);\n          if (update.transactions.length)\n              this.lastKeyCode = this.lastSelectionTime = 0;\n      }\n      destroy() {\n          if (this.mouseSelection)\n              this.mouseSelection.destroy();\n      }\n  }\n  function bindHandler(plugin, handler) {\n      return (view, event) => {\n          try {\n              return handler.call(plugin, event, view);\n          }\n          catch (e) {\n              logException(view.state, e);\n          }\n      };\n  }\n  function computeHandlers(plugins) {\n      let result = Object.create(null);\n      function record(type) {\n          return result[type] || (result[type] = { observers: [], handlers: [] });\n      }\n      for (let plugin of plugins) {\n          let spec = plugin.spec, handlers = spec && spec.plugin.domEventHandlers, observers = spec && spec.plugin.domEventObservers;\n          if (handlers)\n              for (let type in handlers) {\n                  let f = handlers[type];\n                  if (f)\n                      record(type).handlers.push(bindHandler(plugin.value, f));\n              }\n          if (observers)\n              for (let type in observers) {\n                  let f = observers[type];\n                  if (f)\n                      record(type).observers.push(bindHandler(plugin.value, f));\n              }\n      }\n      for (let type in handlers)\n          record(type).handlers.push(handlers[type]);\n      for (let type in observers)\n          record(type).observers.push(observers[type]);\n      return result;\n  }\n  const PendingKeys = [\n      { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n      { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n      { key: \"Enter\", keyCode: 13, inputType: \"insertLineBreak\" },\n      { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n  ];\n  const EmacsyPendingKeys = \"dthko\";\n  // Key codes for modifier keys\n  const modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\n  const dragScrollMargin = 6;\n  function dragScrollSpeed(dist) {\n      return Math.max(0, dist) * 0.7 + 8;\n  }\n  function dist(a, b) {\n      return Math.max(Math.abs(a.clientX - b.clientX), Math.abs(a.clientY - b.clientY));\n  }\n  class MouseSelection {\n      constructor(view, startEvent, style, mustSelect) {\n          this.view = view;\n          this.startEvent = startEvent;\n          this.style = style;\n          this.mustSelect = mustSelect;\n          this.scrollSpeed = { x: 0, y: 0 };\n          this.scrolling = -1;\n          this.lastEvent = startEvent;\n          this.scrollParents = scrollableParents(view.contentDOM);\n          this.atoms = view.state.facet(atomicRanges).map(f => f(view));\n          let doc = view.contentDOM.ownerDocument;\n          doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n          doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n          this.extend = startEvent.shiftKey;\n          this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n          this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;\n      }\n      start(event) {\n          // When clicking outside of the selection, immediately apply the\n          // effect of starting the selection\n          if (this.dragging === false)\n              this.select(event);\n      }\n      move(event) {\n          if (event.buttons == 0)\n              return this.destroy();\n          if (this.dragging || this.dragging == null && dist(this.startEvent, event) < 10)\n              return;\n          this.select(this.lastEvent = event);\n          let sx = 0, sy = 0;\n          let left = 0, top = 0, right = this.view.win.innerWidth, bottom = this.view.win.innerHeight;\n          if (this.scrollParents.x)\n              ({ left, right } = this.scrollParents.x.getBoundingClientRect());\n          if (this.scrollParents.y)\n              ({ top, bottom } = this.scrollParents.y.getBoundingClientRect());\n          let margins = getScrollMargins(this.view);\n          if (event.clientX - margins.left <= left + dragScrollMargin)\n              sx = -dragScrollSpeed(left - event.clientX);\n          else if (event.clientX + margins.right >= right - dragScrollMargin)\n              sx = dragScrollSpeed(event.clientX - right);\n          if (event.clientY - margins.top <= top + dragScrollMargin)\n              sy = -dragScrollSpeed(top - event.clientY);\n          else if (event.clientY + margins.bottom >= bottom - dragScrollMargin)\n              sy = dragScrollSpeed(event.clientY - bottom);\n          this.setScrollSpeed(sx, sy);\n      }\n      up(event) {\n          if (this.dragging == null)\n              this.select(this.lastEvent);\n          if (!this.dragging)\n              event.preventDefault();\n          this.destroy();\n      }\n      destroy() {\n          this.setScrollSpeed(0, 0);\n          let doc = this.view.contentDOM.ownerDocument;\n          doc.removeEventListener(\"mousemove\", this.move);\n          doc.removeEventListener(\"mouseup\", this.up);\n          this.view.inputState.mouseSelection = this.view.inputState.draggedContent = null;\n      }\n      setScrollSpeed(sx, sy) {\n          this.scrollSpeed = { x: sx, y: sy };\n          if (sx || sy) {\n              if (this.scrolling < 0)\n                  this.scrolling = setInterval(() => this.scroll(), 50);\n          }\n          else if (this.scrolling > -1) {\n              clearInterval(this.scrolling);\n              this.scrolling = -1;\n          }\n      }\n      scroll() {\n          let { x, y } = this.scrollSpeed;\n          if (x && this.scrollParents.x) {\n              this.scrollParents.x.scrollLeft += x;\n              x = 0;\n          }\n          if (y && this.scrollParents.y) {\n              this.scrollParents.y.scrollTop += y;\n              y = 0;\n          }\n          if (x || y)\n              this.view.win.scrollBy(x, y);\n          if (this.dragging === false)\n              this.select(this.lastEvent);\n      }\n      select(event) {\n          let { view } = this, selection = skipAtomsForSelection(this.atoms, this.style.get(event, this.extend, this.multiple));\n          if (this.mustSelect || !selection.eq(view.state.selection, this.dragging === false))\n              this.view.dispatch({\n                  selection,\n                  userEvent: \"select.pointer\"\n              });\n          this.mustSelect = false;\n      }\n      update(update) {\n          if (update.transactions.some(tr => tr.isUserEvent(\"input.type\")))\n              this.destroy();\n          else if (this.style.update(update))\n              setTimeout(() => this.select(this.lastEvent), 20);\n      }\n  }\n  function addsSelectionRange(view, event) {\n      let facet = view.state.facet(clickAddsSelectionRange);\n      return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n  }\n  function dragMovesSelection(view, event) {\n      let facet = view.state.facet(dragMovesSelection$1);\n      return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n  }\n  function isInPrimarySelection(view, event) {\n      let { main } = view.state.selection;\n      if (main.empty)\n          return false;\n      // On boundary clicks, check whether the coordinates are inside the\n      // selection's client rectangles\n      let sel = getSelection(view.root);\n      if (!sel || sel.rangeCount == 0)\n          return true;\n      let rects = sel.getRangeAt(0).getClientRects();\n      for (let i = 0; i < rects.length; i++) {\n          let rect = rects[i];\n          if (rect.left <= event.clientX && rect.right >= event.clientX &&\n              rect.top <= event.clientY && rect.bottom >= event.clientY)\n              return true;\n      }\n      return false;\n  }\n  function eventBelongsToEditor(view, event) {\n      if (!event.bubbles)\n          return true;\n      if (event.defaultPrevented)\n          return false;\n      for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n          if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n              return false;\n      return true;\n  }\n  const handlers = /*@__PURE__*/Object.create(null);\n  const observers = /*@__PURE__*/Object.create(null);\n  // This is very crude, but unfortunately both these browsers _pretend_\n  // that they have a clipboard APIall the objects and methods are\n  // there, they just don't work, and they are hard to test.\n  const brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n      (browser.ios && browser.webkit_version < 604);\n  function capturePaste(view) {\n      let parent = view.dom.parentNode;\n      if (!parent)\n          return;\n      let target = parent.appendChild(document.createElement(\"textarea\"));\n      target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n      target.focus();\n      setTimeout(() => {\n          view.focus();\n          target.remove();\n          doPaste(view, target.value);\n      }, 50);\n  }\n  function textFilter(state, facet, text) {\n      for (let filter of state.facet(facet))\n          text = filter(text, state);\n      return text;\n  }\n  function doPaste(view, input) {\n      input = textFilter(view.state, clipboardInputFilter, input);\n      let { state } = view, changes, i = 1, text = state.toText(input);\n      let byLine = text.lines == state.selection.ranges.length;\n      let linewise = lastLinewiseCopy != null && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n      if (linewise) {\n          let lastLine = -1;\n          changes = state.changeByRange(range => {\n              let line = state.doc.lineAt(range.from);\n              if (line.from == lastLine)\n                  return { range };\n              lastLine = line.from;\n              let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n              return { changes: { from: line.from, insert },\n                  range: EditorSelection.cursor(range.from + insert.length) };\n          });\n      }\n      else if (byLine) {\n          changes = state.changeByRange(range => {\n              let line = text.line(i++);\n              return { changes: { from: range.from, to: range.to, insert: line.text },\n                  range: EditorSelection.cursor(range.from + line.length) };\n          });\n      }\n      else {\n          changes = state.replaceSelection(text);\n      }\n      view.dispatch(changes, {\n          userEvent: \"input.paste\",\n          scrollIntoView: true\n      });\n  }\n  observers.scroll = view => {\n      view.inputState.lastScrollTop = view.scrollDOM.scrollTop;\n      view.inputState.lastScrollLeft = view.scrollDOM.scrollLeft;\n  };\n  handlers.keydown = (view, event) => {\n      view.inputState.setSelectionOrigin(\"select\");\n      if (event.keyCode == 27 && view.inputState.tabFocusMode != 0)\n          view.inputState.tabFocusMode = Date.now() + 2000;\n      return false;\n  };\n  observers.touchstart = (view, e) => {\n      view.inputState.lastTouchTime = Date.now();\n      view.inputState.setSelectionOrigin(\"select.pointer\");\n  };\n  observers.touchmove = view => {\n      view.inputState.setSelectionOrigin(\"select.pointer\");\n  };\n  handlers.mousedown = (view, event) => {\n      view.observer.flush();\n      if (view.inputState.lastTouchTime > Date.now() - 2000)\n          return false; // Ignore touch interaction\n      let style = null;\n      for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n          style = makeStyle(view, event);\n          if (style)\n              break;\n      }\n      if (!style && event.button == 0)\n          style = basicMouseSelection(view, event);\n      if (style) {\n          let mustFocus = !view.hasFocus;\n          view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));\n          if (mustFocus)\n              view.observer.ignore(() => {\n                  focusPreventScroll(view.contentDOM);\n                  let active = view.root.activeElement;\n                  if (active && !active.contains(view.contentDOM))\n                      active.blur();\n              });\n          let mouseSel = view.inputState.mouseSelection;\n          if (mouseSel) {\n              mouseSel.start(event);\n              return mouseSel.dragging === false;\n          }\n      }\n      else {\n          view.inputState.setSelectionOrigin(\"select.pointer\");\n      }\n      return false;\n  };\n  function rangeForClick(view, pos, bias, type) {\n      if (type == 1) { // Single click\n          return EditorSelection.cursor(pos, bias);\n      }\n      else if (type == 2) { // Double click\n          return groupAt(view.state, pos, bias);\n      }\n      else { // Triple click\n          let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n          let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n          if (to < view.state.doc.length && to == line.to)\n              to++;\n          return EditorSelection.range(from, to);\n      }\n  }\n  let inside = (x, y, rect) => y >= rect.top && y <= rect.bottom && x >= rect.left && x <= rect.right;\n  // Try to determine, for the given coordinates, associated with the\n  // given position, whether they are related to the element before or\n  // the element after the position.\n  function findPositionSide(view, pos, x, y) {\n      let line = LineView.find(view.docView, pos);\n      if (!line)\n          return 1;\n      let off = pos - line.posAtStart;\n      // Line boundaries point into the line\n      if (off == 0)\n          return 1;\n      if (off == line.length)\n          return -1;\n      // Positions on top of an element point at that element\n      let before = line.coordsAt(off, -1);\n      if (before && inside(x, y, before))\n          return -1;\n      let after = line.coordsAt(off, 1);\n      if (after && inside(x, y, after))\n          return 1;\n      // This is probably a line wrap point. Pick before if the point is\n      // above its bottom.\n      return before && before.bottom >= y ? -1 : 1;\n  }\n  function queryPos(view, event) {\n      let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n      return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n  }\n  const BadMouseDetail = browser.ie && browser.ie_version <= 11;\n  let lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\n  function getClickType(event) {\n      if (!BadMouseDetail)\n          return event.detail;\n      let last = lastMouseDown, lastTime = lastMouseDownTime;\n      lastMouseDown = event;\n      lastMouseDownTime = Date.now();\n      return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n          Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n  }\n  function basicMouseSelection(view, event) {\n      let start = queryPos(view, event), type = getClickType(event);\n      let startSel = view.state.selection;\n      return {\n          update(update) {\n              if (update.docChanged) {\n                  start.pos = update.changes.mapPos(start.pos);\n                  startSel = startSel.map(update.changes);\n              }\n          },\n          get(event, extend, multiple) {\n              let cur = queryPos(view, event), removed;\n              let range = rangeForClick(view, cur.pos, cur.bias, type);\n              if (start.pos != cur.pos && !extend) {\n                  let startRange = rangeForClick(view, start.pos, start.bias, type);\n                  let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                  range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n              }\n              if (extend)\n                  return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n              else if (multiple && type == 1 && startSel.ranges.length > 1 && (removed = removeRangeAround(startSel, cur.pos)))\n                  return removed;\n              else if (multiple)\n                  return startSel.addRange(range);\n              else\n                  return EditorSelection.create([range]);\n          }\n      };\n  }\n  function removeRangeAround(sel, pos) {\n      for (let i = 0; i < sel.ranges.length; i++) {\n          let { from, to } = sel.ranges[i];\n          if (from <= pos && to >= pos)\n              return EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));\n      }\n      return null;\n  }\n  handlers.dragstart = (view, event) => {\n      let { selection: { main: range } } = view.state;\n      if (event.target.draggable) {\n          let cView = view.docView.nearest(event.target);\n          if (cView && cView.isWidget) {\n              let from = cView.posAtStart, to = from + cView.length;\n              if (from >= range.to || to <= range.from)\n                  range = EditorSelection.range(from, to);\n          }\n      }\n      let { inputState } = view;\n      if (inputState.mouseSelection)\n          inputState.mouseSelection.dragging = true;\n      inputState.draggedContent = range;\n      if (event.dataTransfer) {\n          event.dataTransfer.setData(\"Text\", textFilter(view.state, clipboardOutputFilter, view.state.sliceDoc(range.from, range.to)));\n          event.dataTransfer.effectAllowed = \"copyMove\";\n      }\n      return false;\n  };\n  handlers.dragend = view => {\n      view.inputState.draggedContent = null;\n      return false;\n  };\n  function dropText(view, event, text, direct) {\n      text = textFilter(view.state, clipboardInputFilter, text);\n      if (!text)\n          return;\n      let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n      let { draggedContent } = view.inputState;\n      let del = direct && draggedContent && dragMovesSelection(view, event)\n          ? { from: draggedContent.from, to: draggedContent.to } : null;\n      let ins = { from: dropPos, insert: text };\n      let changes = view.state.changes(del ? [del, ins] : ins);\n      view.focus();\n      view.dispatch({\n          changes,\n          selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n          userEvent: del ? \"move.drop\" : \"input.drop\"\n      });\n      view.inputState.draggedContent = null;\n  }\n  handlers.drop = (view, event) => {\n      if (!event.dataTransfer)\n          return false;\n      if (view.state.readOnly)\n          return true;\n      let files = event.dataTransfer.files;\n      if (files && files.length) { // For a file drop, read the file's text.\n          let text = Array(files.length), read = 0;\n          let finishFile = () => {\n              if (++read == files.length)\n                  dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n          };\n          for (let i = 0; i < files.length; i++) {\n              let reader = new FileReader;\n              reader.onerror = finishFile;\n              reader.onload = () => {\n                  if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                      text[i] = reader.result;\n                  finishFile();\n              };\n              reader.readAsText(files[i]);\n          }\n          return true;\n      }\n      else {\n          let text = event.dataTransfer.getData(\"Text\");\n          if (text) {\n              dropText(view, event, text, true);\n              return true;\n          }\n      }\n      return false;\n  };\n  handlers.paste = (view, event) => {\n      if (view.state.readOnly)\n          return true;\n      view.observer.flush();\n      let data = brokenClipboardAPI ? null : event.clipboardData;\n      if (data) {\n          doPaste(view, data.getData(\"text/plain\") || data.getData(\"text/uri-list\"));\n          return true;\n      }\n      else {\n          capturePaste(view);\n          return false;\n      }\n  };\n  function captureCopy(view, text) {\n      // The extra wrapper is somehow necessary on IE/Edge to prevent the\n      // content from being mangled when it is put onto the clipboard\n      let parent = view.dom.parentNode;\n      if (!parent)\n          return;\n      let target = parent.appendChild(document.createElement(\"textarea\"));\n      target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n      target.value = text;\n      target.focus();\n      target.selectionEnd = text.length;\n      target.selectionStart = 0;\n      setTimeout(() => {\n          target.remove();\n          view.focus();\n      }, 50);\n  }\n  function copiedRange(state) {\n      let content = [], ranges = [], linewise = false;\n      for (let range of state.selection.ranges)\n          if (!range.empty) {\n              content.push(state.sliceDoc(range.from, range.to));\n              ranges.push(range);\n          }\n      if (!content.length) {\n          // Nothing selected, do a line-wise copy\n          let upto = -1;\n          for (let { from } of state.selection.ranges) {\n              let line = state.doc.lineAt(from);\n              if (line.number > upto) {\n                  content.push(line.text);\n                  ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n              }\n              upto = line.number;\n          }\n          linewise = true;\n      }\n      return { text: textFilter(state, clipboardOutputFilter, content.join(state.lineBreak)), ranges, linewise };\n  }\n  let lastLinewiseCopy = null;\n  handlers.copy = handlers.cut = (view, event) => {\n      let { text, ranges, linewise } = copiedRange(view.state);\n      if (!text && !linewise)\n          return false;\n      lastLinewiseCopy = linewise ? text : null;\n      if (event.type == \"cut\" && !view.state.readOnly)\n          view.dispatch({\n              changes: ranges,\n              scrollIntoView: true,\n              userEvent: \"delete.cut\"\n          });\n      let data = brokenClipboardAPI ? null : event.clipboardData;\n      if (data) {\n          data.clearData();\n          data.setData(\"text/plain\", text);\n          return true;\n      }\n      else {\n          captureCopy(view, text);\n          return false;\n      }\n  };\n  const isFocusChange = /*@__PURE__*/Annotation.define();\n  function focusChangeTransaction(state, focus) {\n      let effects = [];\n      for (let getEffect of state.facet(focusChangeEffect)) {\n          let effect = getEffect(state, focus);\n          if (effect)\n              effects.push(effect);\n      }\n      return effects.length ? state.update({ effects, annotations: isFocusChange.of(true) }) : null;\n  }\n  function updateForFocusChange(view) {\n      setTimeout(() => {\n          let focus = view.hasFocus;\n          if (focus != view.inputState.notifiedFocused) {\n              let tr = focusChangeTransaction(view.state, focus);\n              if (tr)\n                  view.dispatch(tr);\n              else\n                  view.update([]);\n          }\n      }, 10);\n  }\n  observers.focus = view => {\n      view.inputState.lastFocusTime = Date.now();\n      // When focusing reset the scroll position, move it back to where it was\n      if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {\n          view.scrollDOM.scrollTop = view.inputState.lastScrollTop;\n          view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;\n      }\n      updateForFocusChange(view);\n  };\n  observers.blur = view => {\n      view.observer.clearSelectionRange();\n      updateForFocusChange(view);\n  };\n  observers.compositionstart = observers.compositionupdate = view => {\n      if (view.observer.editContext)\n          return; // Composition handled by edit context\n      if (view.inputState.compositionFirstChange == null)\n          view.inputState.compositionFirstChange = true;\n      if (view.inputState.composing < 0) {\n          // FIXME possibly set a timeout to clear it again on Android\n          view.inputState.composing = 0;\n      }\n  };\n  observers.compositionend = view => {\n      if (view.observer.editContext)\n          return; // Composition handled by edit context\n      view.inputState.composing = -1;\n      view.inputState.compositionEndedAt = Date.now();\n      view.inputState.compositionPendingKey = true;\n      view.inputState.compositionPendingChange = view.observer.pendingRecords().length > 0;\n      view.inputState.compositionFirstChange = null;\n      if (browser.chrome && browser.android) {\n          // Delay flushing for a bit on Android because it'll often fire a\n          // bunch of contradictory changes in a row at end of compositon\n          view.observer.flushSoon();\n      }\n      else if (view.inputState.compositionPendingChange) {\n          // If we found pending records, schedule a flush.\n          Promise.resolve().then(() => view.observer.flush());\n      }\n      else {\n          // Otherwise, make sure that, if no changes come in soon, the\n          // composition view is cleared.\n          setTimeout(() => {\n              if (view.inputState.composing < 0 && view.docView.hasComposition)\n                  view.update([]);\n          }, 50);\n      }\n  };\n  observers.contextmenu = view => {\n      view.inputState.lastContextMenu = Date.now();\n  };\n  handlers.beforeinput = (view, event) => {\n      var _a, _b;\n      // In EditContext mode, we must handle insertReplacementText events\n      // directly, to make spell checking corrections work\n      if (event.inputType == \"insertReplacementText\" && view.observer.editContext) {\n          let text = (_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.getData(\"text/plain\"), ranges = event.getTargetRanges();\n          if (text && ranges.length) {\n              let r = ranges[0];\n              let from = view.posAtDOM(r.startContainer, r.startOffset), to = view.posAtDOM(r.endContainer, r.endOffset);\n              applyDOMChangeInner(view, { from, to, insert: view.state.toText(text) }, null);\n              return true;\n          }\n      }\n      // Because Chrome Android doesn't fire useful key events, use\n      // beforeinput to detect backspace (and possibly enter and delete,\n      // but those usually don't even seem to fire beforeinput events at\n      // the moment) and fake a key event for it.\n      //\n      // (preventDefault on beforeinput, though supported in the spec,\n      // seems to do nothing at all on Chrome).\n      let pending;\n      if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n          view.observer.delayAndroidKey(pending.key, pending.keyCode);\n          if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n              let startViewHeight = ((_b = window.visualViewport) === null || _b === void 0 ? void 0 : _b.height) || 0;\n              setTimeout(() => {\n                  var _a;\n                  // Backspacing near uneditable nodes on Chrome Android sometimes\n                  // closes the virtual keyboard. This tries to crudely detect\n                  // that and refocus to get it back.\n                  if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                      view.contentDOM.blur();\n                      view.focus();\n                  }\n              }, 100);\n          }\n      }\n      if (browser.ios && event.inputType == \"deleteContentForward\") {\n          // For some reason, DOM changes (and beforeinput) happen _before_\n          // the key event for ctrl-d on iOS when using an external\n          // keyboard.\n          view.observer.flushSoon();\n      }\n      // Safari will occasionally forget to fire compositionend at the end of a dead-key composition\n      if (browser.safari && event.inputType == \"insertText\" && view.inputState.composing >= 0) {\n          setTimeout(() => observers.compositionend(view, event), 20);\n      }\n      return false;\n  };\n  const appliedFirefoxHack = /*@__PURE__*/new Set;\n  // In Firefox, when cut/copy handlers are added to the document, that\n  // somehow avoids a bug where those events aren't fired when the\n  // selection is empty. See https://github.com/codemirror/dev/issues/1082\n  // and https://bugzilla.mozilla.org/show_bug.cgi?id=995961\n  function firefoxCopyCutHack(doc) {\n      if (!appliedFirefoxHack.has(doc)) {\n          appliedFirefoxHack.add(doc);\n          doc.addEventListener(\"copy\", () => { });\n          doc.addEventListener(\"cut\", () => { });\n      }\n  }\n\n  const wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\", \"break-spaces\"];\n  // Used to track, during updateHeight, if any actual heights changed\n  let heightChangeFlag = false;\n  function clearHeightChangeFlag() { heightChangeFlag = false; }\n  class HeightOracle {\n      constructor(lineWrapping) {\n          this.lineWrapping = lineWrapping;\n          this.doc = Text.empty;\n          this.heightSamples = {};\n          this.lineHeight = 14; // The height of an entire line (line-height)\n          this.charWidth = 7;\n          this.textHeight = 14; // The height of the actual font (font-size)\n          this.lineLength = 30;\n      }\n      heightForGap(from, to) {\n          let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n          if (this.lineWrapping)\n              lines += Math.max(0, Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength));\n          return this.lineHeight * lines;\n      }\n      heightForLine(length) {\n          if (!this.lineWrapping)\n              return this.lineHeight;\n          let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / Math.max(1, this.lineLength - 5)));\n          return lines * this.lineHeight;\n      }\n      setDoc(doc) { this.doc = doc; return this; }\n      mustRefreshForWrapping(whiteSpace) {\n          return (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping;\n      }\n      mustRefreshForHeights(lineHeights) {\n          let newHeight = false;\n          for (let i = 0; i < lineHeights.length; i++) {\n              let h = lineHeights[i];\n              if (h < 0) {\n                  i++;\n              }\n              else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                  newHeight = true;\n                  this.heightSamples[Math.floor(h * 10)] = true;\n              }\n          }\n          return newHeight;\n      }\n      refresh(whiteSpace, lineHeight, charWidth, textHeight, lineLength, knownHeights) {\n          let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n          let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n          this.lineWrapping = lineWrapping;\n          this.lineHeight = lineHeight;\n          this.charWidth = charWidth;\n          this.textHeight = textHeight;\n          this.lineLength = lineLength;\n          if (changed) {\n              this.heightSamples = {};\n              for (let i = 0; i < knownHeights.length; i++) {\n                  let h = knownHeights[i];\n                  if (h < 0)\n                      i++;\n                  else\n                      this.heightSamples[Math.floor(h * 10)] = true;\n              }\n          }\n          return changed;\n      }\n  }\n  // This object is used by `updateHeight` to make DOM measurements\n  // arrive at the right nides. The `heights` array is a sequence of\n  // block heights, starting from position `from`.\n  class MeasuredHeights {\n      constructor(from, heights) {\n          this.from = from;\n          this.heights = heights;\n          this.index = 0;\n      }\n      get more() { return this.index < this.heights.length; }\n  }\n  /**\n  Record used to represent information about a block-level element\n  in the editor view.\n  */\n  class BlockInfo {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The start of the element in the document.\n      */\n      from, \n      /**\n      The length of the element.\n      */\n      length, \n      /**\n      The top position of the element (relative to the top of the\n      document).\n      */\n      top, \n      /**\n      Its height.\n      */\n      height, \n      /**\n      @internal Weird packed field that holds an array of children\n      for composite blocks, a decoration for block widgets, and a\n      number indicating the amount of widget-create line breaks for\n      text blocks.\n      */\n      _content) {\n          this.from = from;\n          this.length = length;\n          this.top = top;\n          this.height = height;\n          this._content = _content;\n      }\n      /**\n      The type of element this is. When querying lines, this may be\n      an array of all the blocks that make up the line.\n      */\n      get type() {\n          return typeof this._content == \"number\" ? BlockType.Text :\n              Array.isArray(this._content) ? this._content : this._content.type;\n      }\n      /**\n      The end of the element as a document position.\n      */\n      get to() { return this.from + this.length; }\n      /**\n      The bottom position of the element.\n      */\n      get bottom() { return this.top + this.height; }\n      /**\n      If this is a widget block, this will return the widget\n      associated with it.\n      */\n      get widget() {\n          return this._content instanceof PointDecoration ? this._content.widget : null;\n      }\n      /**\n      If this is a textblock, this holds the number of line breaks\n      that appear in widgets inside the block.\n      */\n      get widgetLineBreaks() {\n          return typeof this._content == \"number\" ? this._content : 0;\n      }\n      /**\n      @internal\n      */\n      join(other) {\n          let content = (Array.isArray(this._content) ? this._content : [this])\n              .concat(Array.isArray(other._content) ? other._content : [other]);\n          return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, content);\n      }\n  }\n  var QueryType$1 = /*@__PURE__*/(function (QueryType) {\n      QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n      QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n      QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\n  return QueryType})(QueryType$1 || (QueryType$1 = {}));\n  const Epsilon = 1e-3;\n  class HeightMap {\n      constructor(length, // The number of characters covered\n      height, // Height of this part of the document\n      flags = 2 /* Flag.Outdated */) {\n          this.length = length;\n          this.height = height;\n          this.flags = flags;\n      }\n      get outdated() { return (this.flags & 2 /* Flag.Outdated */) > 0; }\n      set outdated(value) { this.flags = (value ? 2 /* Flag.Outdated */ : 0) | (this.flags & -3 /* Flag.Outdated */); }\n      setHeight(height) {\n          if (this.height != height) {\n              if (Math.abs(this.height - height) > Epsilon)\n                  heightChangeFlag = true;\n              this.height = height;\n          }\n      }\n      // Base case is to replace a leaf node, which simply builds a tree\n      // from the new nodes and returns that (HeightMapBranch and\n      // HeightMapGap override this to actually use from/to)\n      replace(_from, _to, nodes) {\n          return HeightMap.of(nodes);\n      }\n      // Again, these are base cases, and are overridden for branch and gap nodes.\n      decomposeLeft(_to, result) { result.push(this); }\n      decomposeRight(_from, result) { result.push(this); }\n      applyChanges(decorations, oldDoc, oracle, changes) {\n          let me = this, doc = oracle.doc;\n          for (let i = changes.length - 1; i >= 0; i--) {\n              let { fromA, toA, fromB, toB } = changes[i];\n              let start = me.lineAt(fromA, QueryType$1.ByPosNoHeight, oracle.setDoc(oldDoc), 0, 0);\n              let end = start.to >= toA ? start : me.lineAt(toA, QueryType$1.ByPosNoHeight, oracle, 0, 0);\n              toB += end.to - toA;\n              toA = end.to;\n              while (i > 0 && start.from <= changes[i - 1].toA) {\n                  fromA = changes[i - 1].fromA;\n                  fromB = changes[i - 1].fromB;\n                  i--;\n                  if (fromA < start.from)\n                      start = me.lineAt(fromA, QueryType$1.ByPosNoHeight, oracle, 0, 0);\n              }\n              fromB += start.from - fromA;\n              fromA = start.from;\n              let nodes = NodeBuilder.build(oracle.setDoc(doc), decorations, fromB, toB);\n              me = replace(me, me.replace(fromA, toA, nodes));\n          }\n          return me.updateHeight(oracle, 0);\n      }\n      static empty() { return new HeightMapText(0, 0); }\n      // nodes uses null values to indicate the position of line breaks.\n      // There are never line breaks at the start or end of the array, or\n      // two line breaks next to each other, and the array isn't allowed\n      // to be empty (same restrictions as return value from the builder).\n      static of(nodes) {\n          if (nodes.length == 1)\n              return nodes[0];\n          let i = 0, j = nodes.length, before = 0, after = 0;\n          for (;;) {\n              if (i == j) {\n                  if (before > after * 2) {\n                      let split = nodes[i - 1];\n                      if (split.break)\n                          nodes.splice(--i, 1, split.left, null, split.right);\n                      else\n                          nodes.splice(--i, 1, split.left, split.right);\n                      j += 1 + split.break;\n                      before -= split.size;\n                  }\n                  else if (after > before * 2) {\n                      let split = nodes[j];\n                      if (split.break)\n                          nodes.splice(j, 1, split.left, null, split.right);\n                      else\n                          nodes.splice(j, 1, split.left, split.right);\n                      j += 2 + split.break;\n                      after -= split.size;\n                  }\n                  else {\n                      break;\n                  }\n              }\n              else if (before < after) {\n                  let next = nodes[i++];\n                  if (next)\n                      before += next.size;\n              }\n              else {\n                  let next = nodes[--j];\n                  if (next)\n                      after += next.size;\n              }\n          }\n          let brk = 0;\n          if (nodes[i - 1] == null) {\n              brk = 1;\n              i--;\n          }\n          else if (nodes[i] == null) {\n              brk = 1;\n              j++;\n          }\n          return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n      }\n  }\n  function replace(old, val) {\n      if (old == val)\n          return old;\n      if (old.constructor != val.constructor)\n          heightChangeFlag = true;\n      return val;\n  }\n  HeightMap.prototype.size = 1;\n  class HeightMapBlock extends HeightMap {\n      constructor(length, height, deco) {\n          super(length, height);\n          this.deco = deco;\n      }\n      blockAt(_height, _oracle, top, offset) {\n          return new BlockInfo(offset, this.length, top, this.height, this.deco || 0);\n      }\n      lineAt(_value, _type, oracle, top, offset) {\n          return this.blockAt(0, oracle, top, offset);\n      }\n      forEachLine(from, to, oracle, top, offset, f) {\n          if (from <= offset + this.length && to >= offset)\n              f(this.blockAt(0, oracle, top, offset));\n      }\n      updateHeight(oracle, offset = 0, _force = false, measured) {\n          if (measured && measured.from <= offset && measured.more)\n              this.setHeight(measured.heights[measured.index++]);\n          this.outdated = false;\n          return this;\n      }\n      toString() { return `block(${this.length})`; }\n  }\n  class HeightMapText extends HeightMapBlock {\n      constructor(length, height) {\n          super(length, height, null);\n          this.collapsed = 0; // Amount of collapsed content in the line\n          this.widgetHeight = 0; // Maximum inline widget height\n          this.breaks = 0; // Number of widget-introduced line breaks on the line\n      }\n      blockAt(_height, _oracle, top, offset) {\n          return new BlockInfo(offset, this.length, top, this.height, this.breaks);\n      }\n      replace(_from, _to, nodes) {\n          let node = nodes[0];\n          if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* Flag.SingleLine */)) &&\n              Math.abs(this.length - node.length) < 10) {\n              if (node instanceof HeightMapGap)\n                  node = new HeightMapText(node.length, this.height);\n              else\n                  node.height = this.height;\n              if (!this.outdated)\n                  node.outdated = false;\n              return node;\n          }\n          else {\n              return HeightMap.of(nodes);\n          }\n      }\n      updateHeight(oracle, offset = 0, force = false, measured) {\n          if (measured && measured.from <= offset && measured.more)\n              this.setHeight(measured.heights[measured.index++]);\n          else if (force || this.outdated)\n              this.setHeight(Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)) +\n                  this.breaks * oracle.lineHeight);\n          this.outdated = false;\n          return this;\n      }\n      toString() {\n          return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n      }\n  }\n  class HeightMapGap extends HeightMap {\n      constructor(length) { super(length, 0); }\n      heightMetrics(oracle, offset) {\n          let firstLine = oracle.doc.lineAt(offset).number, lastLine = oracle.doc.lineAt(offset + this.length).number;\n          let lines = lastLine - firstLine + 1;\n          let perLine, perChar = 0;\n          if (oracle.lineWrapping) {\n              let totalPerLine = Math.min(this.height, oracle.lineHeight * lines);\n              perLine = totalPerLine / lines;\n              if (this.length > lines + 1)\n                  perChar = (this.height - totalPerLine) / (this.length - lines - 1);\n          }\n          else {\n              perLine = this.height / lines;\n          }\n          return { firstLine, lastLine, perLine, perChar };\n      }\n      blockAt(height, oracle, top, offset) {\n          let { firstLine, lastLine, perLine, perChar } = this.heightMetrics(oracle, offset);\n          if (oracle.lineWrapping) {\n              let guess = offset + (height < oracle.lineHeight ? 0\n                  : Math.round(Math.max(0, Math.min(1, (height - top) / this.height)) * this.length));\n              let line = oracle.doc.lineAt(guess), lineHeight = perLine + line.length * perChar;\n              let lineTop = Math.max(top, height - lineHeight / 2);\n              return new BlockInfo(line.from, line.length, lineTop, lineHeight, 0);\n          }\n          else {\n              let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / perLine)));\n              let { from, length } = oracle.doc.line(firstLine + line);\n              return new BlockInfo(from, length, top + perLine * line, perLine, 0);\n          }\n      }\n      lineAt(value, type, oracle, top, offset) {\n          if (type == QueryType$1.ByHeight)\n              return this.blockAt(value, oracle, top, offset);\n          if (type == QueryType$1.ByPosNoHeight) {\n              let { from, to } = oracle.doc.lineAt(value);\n              return new BlockInfo(from, to - from, 0, 0, 0);\n          }\n          let { firstLine, perLine, perChar } = this.heightMetrics(oracle, offset);\n          let line = oracle.doc.lineAt(value), lineHeight = perLine + line.length * perChar;\n          let linesAbove = line.number - firstLine;\n          let lineTop = top + perLine * linesAbove + perChar * (line.from - offset - linesAbove);\n          return new BlockInfo(line.from, line.length, Math.max(top, Math.min(lineTop, top + this.height - lineHeight)), lineHeight, 0);\n      }\n      forEachLine(from, to, oracle, top, offset, f) {\n          from = Math.max(from, offset);\n          to = Math.min(to, offset + this.length);\n          let { firstLine, perLine, perChar } = this.heightMetrics(oracle, offset);\n          for (let pos = from, lineTop = top; pos <= to;) {\n              let line = oracle.doc.lineAt(pos);\n              if (pos == from) {\n                  let linesAbove = line.number - firstLine;\n                  lineTop += perLine * linesAbove + perChar * (from - offset - linesAbove);\n              }\n              let lineHeight = perLine + perChar * line.length;\n              f(new BlockInfo(line.from, line.length, lineTop, lineHeight, 0));\n              lineTop += lineHeight;\n              pos = line.to + 1;\n          }\n      }\n      replace(from, to, nodes) {\n          let after = this.length - to;\n          if (after > 0) {\n              let last = nodes[nodes.length - 1];\n              if (last instanceof HeightMapGap)\n                  nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n              else\n                  nodes.push(null, new HeightMapGap(after - 1));\n          }\n          if (from > 0) {\n              let first = nodes[0];\n              if (first instanceof HeightMapGap)\n                  nodes[0] = new HeightMapGap(from + first.length);\n              else\n                  nodes.unshift(new HeightMapGap(from - 1), null);\n          }\n          return HeightMap.of(nodes);\n      }\n      decomposeLeft(to, result) {\n          result.push(new HeightMapGap(to - 1), null);\n      }\n      decomposeRight(from, result) {\n          result.push(null, new HeightMapGap(this.length - from - 1));\n      }\n      updateHeight(oracle, offset = 0, force = false, measured) {\n          let end = offset + this.length;\n          if (measured && measured.from <= offset + this.length && measured.more) {\n              // Fill in part of this gap with measured lines. We know there\n              // can't be widgets or collapsed ranges in those lines, because\n              // they would already have been added to the heightmap (gaps\n              // only contain plain text).\n              let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;\n              if (measured.from > offset)\n                  nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n              while (pos <= end && measured.more) {\n                  let len = oracle.doc.lineAt(pos).length;\n                  if (nodes.length)\n                      nodes.push(null);\n                  let height = measured.heights[measured.index++];\n                  if (singleHeight == -1)\n                      singleHeight = height;\n                  else if (Math.abs(height - singleHeight) >= Epsilon)\n                      singleHeight = -2;\n                  let line = new HeightMapText(len, height);\n                  line.outdated = false;\n                  nodes.push(line);\n                  pos += len + 1;\n              }\n              if (pos <= end)\n                  nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n              let result = HeightMap.of(nodes);\n              if (singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon ||\n                  Math.abs(singleHeight - this.heightMetrics(oracle, offset).perLine) >= Epsilon)\n                  heightChangeFlag = true;\n              return replace(this, result);\n          }\n          else if (force || this.outdated) {\n              this.setHeight(oracle.heightForGap(offset, offset + this.length));\n              this.outdated = false;\n          }\n          return this;\n      }\n      toString() { return `gap(${this.length})`; }\n  }\n  class HeightMapBranch extends HeightMap {\n      constructor(left, brk, right) {\n          super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Flag.Outdated */ : 0));\n          this.left = left;\n          this.right = right;\n          this.size = left.size + right.size;\n      }\n      get break() { return this.flags & 1 /* Flag.Break */; }\n      blockAt(height, oracle, top, offset) {\n          let mid = top + this.left.height;\n          return height < mid ? this.left.blockAt(height, oracle, top, offset)\n              : this.right.blockAt(height, oracle, mid, offset + this.left.length + this.break);\n      }\n      lineAt(value, type, oracle, top, offset) {\n          let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n          let left = type == QueryType$1.ByHeight ? value < rightTop : value < rightOffset;\n          let base = left ? this.left.lineAt(value, type, oracle, top, offset)\n              : this.right.lineAt(value, type, oracle, rightTop, rightOffset);\n          if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n              return base;\n          let subQuery = type == QueryType$1.ByPosNoHeight ? QueryType$1.ByPosNoHeight : QueryType$1.ByPos;\n          if (left)\n              return base.join(this.right.lineAt(rightOffset, subQuery, oracle, rightTop, rightOffset));\n          else\n              return this.left.lineAt(rightOffset, subQuery, oracle, top, offset).join(base);\n      }\n      forEachLine(from, to, oracle, top, offset, f) {\n          let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n          if (this.break) {\n              if (from < rightOffset)\n                  this.left.forEachLine(from, to, oracle, top, offset, f);\n              if (to >= rightOffset)\n                  this.right.forEachLine(from, to, oracle, rightTop, rightOffset, f);\n          }\n          else {\n              let mid = this.lineAt(rightOffset, QueryType$1.ByPos, oracle, top, offset);\n              if (from < mid.from)\n                  this.left.forEachLine(from, mid.from - 1, oracle, top, offset, f);\n              if (mid.to >= from && mid.from <= to)\n                  f(mid);\n              if (to > mid.to)\n                  this.right.forEachLine(mid.to + 1, to, oracle, rightTop, rightOffset, f);\n          }\n      }\n      replace(from, to, nodes) {\n          let rightStart = this.left.length + this.break;\n          if (to < rightStart)\n              return this.balanced(this.left.replace(from, to, nodes), this.right);\n          if (from > this.left.length)\n              return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n          let result = [];\n          if (from > 0)\n              this.decomposeLeft(from, result);\n          let left = result.length;\n          for (let node of nodes)\n              result.push(node);\n          if (from > 0)\n              mergeGaps(result, left - 1);\n          if (to < this.length) {\n              let right = result.length;\n              this.decomposeRight(to, result);\n              mergeGaps(result, right);\n          }\n          return HeightMap.of(result);\n      }\n      decomposeLeft(to, result) {\n          let left = this.left.length;\n          if (to <= left)\n              return this.left.decomposeLeft(to, result);\n          result.push(this.left);\n          if (this.break) {\n              left++;\n              if (to >= left)\n                  result.push(null);\n          }\n          if (to > left)\n              this.right.decomposeLeft(to - left, result);\n      }\n      decomposeRight(from, result) {\n          let left = this.left.length, right = left + this.break;\n          if (from >= right)\n              return this.right.decomposeRight(from - right, result);\n          if (from < left)\n              this.left.decomposeRight(from, result);\n          if (this.break && from < right)\n              result.push(null);\n          result.push(this.right);\n      }\n      balanced(left, right) {\n          if (left.size > 2 * right.size || right.size > 2 * left.size)\n              return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n          this.left = replace(this.left, left);\n          this.right = replace(this.right, right);\n          this.setHeight(left.height + right.height);\n          this.outdated = left.outdated || right.outdated;\n          this.size = left.size + right.size;\n          this.length = left.length + this.break + right.length;\n          return this;\n      }\n      updateHeight(oracle, offset = 0, force = false, measured) {\n          let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n          if (measured && measured.from <= offset + left.length && measured.more)\n              rebalance = left = left.updateHeight(oracle, offset, force, measured);\n          else\n              left.updateHeight(oracle, offset, force);\n          if (measured && measured.from <= rightStart + right.length && measured.more)\n              rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n          else\n              right.updateHeight(oracle, rightStart, force);\n          if (rebalance)\n              return this.balanced(left, right);\n          this.height = this.left.height + this.right.height;\n          this.outdated = false;\n          return this;\n      }\n      toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n  }\n  function mergeGaps(nodes, around) {\n      let before, after;\n      if (nodes[around] == null &&\n          (before = nodes[around - 1]) instanceof HeightMapGap &&\n          (after = nodes[around + 1]) instanceof HeightMapGap)\n          nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n  }\n  const relevantWidgetHeight = 5;\n  class NodeBuilder {\n      constructor(pos, oracle) {\n          this.pos = pos;\n          this.oracle = oracle;\n          this.nodes = [];\n          this.lineStart = -1;\n          this.lineEnd = -1;\n          this.covering = null;\n          this.writtenTo = pos;\n      }\n      get isCovered() {\n          return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n      }\n      span(_from, to) {\n          if (this.lineStart > -1) {\n              let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n              if (last instanceof HeightMapText)\n                  last.length += end - this.pos;\n              else if (end > this.pos || !this.isCovered)\n                  this.nodes.push(new HeightMapText(end - this.pos, -1));\n              this.writtenTo = end;\n              if (to > end) {\n                  this.nodes.push(null);\n                  this.writtenTo++;\n                  this.lineStart = -1;\n              }\n          }\n          this.pos = to;\n      }\n      point(from, to, deco) {\n          if (from < to || deco.heightRelevant) {\n              let height = deco.widget ? deco.widget.estimatedHeight : 0;\n              let breaks = deco.widget ? deco.widget.lineBreaks : 0;\n              if (height < 0)\n                  height = this.oracle.lineHeight;\n              let len = to - from;\n              if (deco.block) {\n                  this.addBlock(new HeightMapBlock(len, height, deco));\n              }\n              else if (len || breaks || height >= relevantWidgetHeight) {\n                  this.addLineDeco(height, breaks, len);\n              }\n          }\n          else if (to > from) {\n              this.span(from, to);\n          }\n          if (this.lineEnd > -1 && this.lineEnd < this.pos)\n              this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n      }\n      enterLine() {\n          if (this.lineStart > -1)\n              return;\n          let { from, to } = this.oracle.doc.lineAt(this.pos);\n          this.lineStart = from;\n          this.lineEnd = to;\n          if (this.writtenTo < from) {\n              if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                  this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n              this.nodes.push(null);\n          }\n          if (this.pos > from)\n              this.nodes.push(new HeightMapText(this.pos - from, -1));\n          this.writtenTo = this.pos;\n      }\n      blankContent(from, to) {\n          let gap = new HeightMapGap(to - from);\n          if (this.oracle.doc.lineAt(from).to == to)\n              gap.flags |= 4 /* Flag.SingleLine */;\n          return gap;\n      }\n      ensureLine() {\n          this.enterLine();\n          let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n          if (last instanceof HeightMapText)\n              return last;\n          let line = new HeightMapText(0, -1);\n          this.nodes.push(line);\n          return line;\n      }\n      addBlock(block) {\n          this.enterLine();\n          let deco = block.deco;\n          if (deco && deco.startSide > 0 && !this.isCovered)\n              this.ensureLine();\n          this.nodes.push(block);\n          this.writtenTo = this.pos = this.pos + block.length;\n          if (deco && deco.endSide > 0)\n              this.covering = block;\n      }\n      addLineDeco(height, breaks, length) {\n          let line = this.ensureLine();\n          line.length += length;\n          line.collapsed += length;\n          line.widgetHeight = Math.max(line.widgetHeight, height);\n          line.breaks += breaks;\n          this.writtenTo = this.pos = this.pos + length;\n      }\n      finish(from) {\n          let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n          if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n              this.nodes.push(new HeightMapText(0, -1));\n          else if (this.writtenTo < this.pos || last == null)\n              this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n          let pos = from;\n          for (let node of this.nodes) {\n              if (node instanceof HeightMapText)\n                  node.updateHeight(this.oracle, pos);\n              pos += node ? node.length : 1;\n          }\n          return this.nodes;\n      }\n      // Always called with a region that on both sides either stretches\n      // to a line break or the end of the document.\n      // The returned array uses null to indicate line breaks, but never\n      // starts or ends in a line break, or has multiple line breaks next\n      // to each other.\n      static build(oracle, decorations, from, to) {\n          let builder = new NodeBuilder(from, oracle);\n          RangeSet.spans(decorations, from, to, builder, 0);\n          return builder.finish(from);\n      }\n  }\n  function heightRelevantDecoChanges(a, b, diff) {\n      let comp = new DecorationComparator;\n      RangeSet.compare(a, b, diff, comp, 0);\n      return comp.changes;\n  }\n  class DecorationComparator {\n      constructor() {\n          this.changes = [];\n      }\n      compareRange() { }\n      comparePoint(from, to, a, b) {\n          if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n              addRange(from, to, this.changes, 5);\n      }\n  }\n\n  function visiblePixelRange(dom, paddingTop) {\n      let rect = dom.getBoundingClientRect();\n      let doc = dom.ownerDocument, win = doc.defaultView || window;\n      let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);\n      let top = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);\n      for (let parent = dom.parentNode; parent && parent != doc.body;) {\n          if (parent.nodeType == 1) {\n              let elt = parent;\n              let style = window.getComputedStyle(elt);\n              if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                  style.overflow != \"visible\") {\n                  let parentRect = elt.getBoundingClientRect();\n                  left = Math.max(left, parentRect.left);\n                  right = Math.min(right, parentRect.right);\n                  top = Math.max(top, parentRect.top);\n                  bottom = Math.min(parent == dom.parentNode ? win.innerHeight : bottom, parentRect.bottom);\n              }\n              parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n          }\n          else if (parent.nodeType == 11) { // Shadow root\n              parent = parent.host;\n          }\n          else {\n              break;\n          }\n      }\n      return { left: left - rect.left, right: Math.max(left, right) - rect.left,\n          top: top - (rect.top + paddingTop), bottom: Math.max(top, bottom) - (rect.top + paddingTop) };\n  }\n  function inWindow(elt) {\n      let rect = elt.getBoundingClientRect(), win = elt.ownerDocument.defaultView || window;\n      return rect.left < win.innerWidth && rect.right > 0 &&\n          rect.top < win.innerHeight && rect.bottom > 0;\n  }\n  function fullPixelRange(dom, paddingTop) {\n      let rect = dom.getBoundingClientRect();\n      return { left: 0, right: rect.right - rect.left,\n          top: paddingTop, bottom: rect.bottom - (rect.top + paddingTop) };\n  }\n  // Line gaps are placeholder widgets used to hide pieces of overlong\n  // lines within the viewport, as a kludge to keep the editor\n  // responsive when a ridiculously long line is loaded into it.\n  class LineGap {\n      constructor(from, to, size, displaySize) {\n          this.from = from;\n          this.to = to;\n          this.size = size;\n          this.displaySize = displaySize;\n      }\n      static same(a, b) {\n          if (a.length != b.length)\n              return false;\n          for (let i = 0; i < a.length; i++) {\n              let gA = a[i], gB = b[i];\n              if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                  return false;\n          }\n          return true;\n      }\n      draw(viewState, wrapping) {\n          return Decoration.replace({\n              widget: new LineGapWidget(this.displaySize * (wrapping ? viewState.scaleY : viewState.scaleX), wrapping)\n          }).range(this.from, this.to);\n      }\n  }\n  class LineGapWidget extends WidgetType {\n      constructor(size, vertical) {\n          super();\n          this.size = size;\n          this.vertical = vertical;\n      }\n      eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n      toDOM() {\n          let elt = document.createElement(\"div\");\n          if (this.vertical) {\n              elt.style.height = this.size + \"px\";\n          }\n          else {\n              elt.style.width = this.size + \"px\";\n              elt.style.height = \"2px\";\n              elt.style.display = \"inline-block\";\n          }\n          return elt;\n      }\n      get estimatedHeight() { return this.vertical ? this.size : -1; }\n  }\n  class ViewState {\n      constructor(state) {\n          this.state = state;\n          // These are contentDOM-local coordinates\n          this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n          this.inView = true;\n          this.paddingTop = 0; // Padding above the document, scaled\n          this.paddingBottom = 0; // Padding below the document, scaled\n          this.contentDOMWidth = 0; // contentDOM.getBoundingClientRect().width\n          this.contentDOMHeight = 0; // contentDOM.getBoundingClientRect().height\n          this.editorHeight = 0; // scrollDOM.clientHeight, unscaled\n          this.editorWidth = 0; // scrollDOM.clientWidth, unscaled\n          this.scrollTop = 0; // Last seen scrollDOM.scrollTop, scaled\n          this.scrolledToBottom = false;\n          // The CSS-transformation scale of the editor (transformed size /\n          // concrete size)\n          this.scaleX = 1;\n          this.scaleY = 1;\n          // The vertical position (document-relative) to which to anchor the\n          // scroll position. -1 means anchor to the end of the document.\n          this.scrollAnchorPos = 0;\n          // The height at the anchor position. Set by the DOM update phase.\n          // -1 means no height available.\n          this.scrollAnchorHeight = -1;\n          // See VP.MaxDOMHeight\n          this.scaler = IdScaler;\n          this.scrollTarget = null;\n          // Briefly set to true when printing, to disable viewport limiting\n          this.printing = false;\n          // Flag set when editor content was redrawn, so that the next\n          // measure stage knows it must read DOM layout\n          this.mustMeasureContent = true;\n          this.defaultTextDirection = Direction.LTR;\n          this.visibleRanges = [];\n          // Cursor 'assoc' is only significant when the cursor is on a line\n          // wrap point, where it must stick to the character that it is\n          // associated with. Since browsers don't provide a reasonable\n          // interface to set or query this, when a selection is set that\n          // might cause this to be significant, this flag is set. The next\n          // measure phase will check whether the cursor is on a line-wrapping\n          // boundary and, if so, reset it to make sure it is positioned in\n          // the right place.\n          this.mustEnforceCursorAssoc = false;\n          let guessWrapping = state.facet(contentAttributes).some(v => typeof v != \"function\" && v.class == \"cm-lineWrapping\");\n          this.heightOracle = new HeightOracle(guessWrapping);\n          this.stateDeco = state.facet(decorations).filter(d => typeof d != \"function\");\n          this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n          for (let i = 0; i < 2; i++) {\n              this.viewport = this.getViewport(0, null);\n              if (!this.updateForViewport())\n                  break;\n          }\n          this.updateViewportLines();\n          this.lineGaps = this.ensureLineGaps([]);\n          this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(this, false)));\n          this.computeVisibleRanges();\n      }\n      updateForViewport() {\n          let viewports = [this.viewport], { main } = this.state.selection;\n          for (let i = 0; i <= 1; i++) {\n              let pos = i ? main.head : main.anchor;\n              if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                  let { from, to } = this.lineBlockAt(pos);\n                  viewports.push(new Viewport(from, to));\n              }\n          }\n          this.viewports = viewports.sort((a, b) => a.from - b.from);\n          return this.updateScaler();\n      }\n      updateScaler() {\n          let scaler = this.scaler;\n          this.scaler = this.heightMap.height <= 7000000 /* VP.MaxDOMHeight */ ? IdScaler :\n              new BigScaler(this.heightOracle, this.heightMap, this.viewports);\n          return scaler.eq(this.scaler) ? 0 : 2 /* UpdateFlag.Height */;\n      }\n      updateViewportLines() {\n          this.viewportLines = [];\n          this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.heightOracle.setDoc(this.state.doc), 0, 0, block => {\n              this.viewportLines.push(scaleBlock(block, this.scaler));\n          });\n      }\n      update(update, scrollTarget = null) {\n          this.state = update.state;\n          let prevDeco = this.stateDeco;\n          this.stateDeco = this.state.facet(decorations).filter(d => typeof d != \"function\");\n          let contentChanges = update.changedRanges;\n          let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n          let prevHeight = this.heightMap.height;\n          let scrollAnchor = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);\n          clearHeightChangeFlag();\n          this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n          if (this.heightMap.height != prevHeight || heightChangeFlag)\n              update.flags |= 2 /* UpdateFlag.Height */;\n          if (scrollAnchor) {\n              this.scrollAnchorPos = update.changes.mapPos(scrollAnchor.from, -1);\n              this.scrollAnchorHeight = scrollAnchor.top;\n          }\n          else {\n              this.scrollAnchorPos = -1;\n              this.scrollAnchorHeight = prevHeight;\n          }\n          let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n          if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n              !this.viewportIsAppropriate(viewport))\n              viewport = this.getViewport(0, scrollTarget);\n          let viewportChange = viewport.from != this.viewport.from || viewport.to != this.viewport.to;\n          this.viewport = viewport;\n          update.flags |= this.updateForViewport();\n          if (viewportChange || !update.changes.empty || (update.flags & 2 /* UpdateFlag.Height */))\n              this.updateViewportLines();\n          if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n              this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n          update.flags |= this.computeVisibleRanges(update.changes);\n          if (scrollTarget)\n              this.scrollTarget = scrollTarget;\n          if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n              update.state.selection.main.empty && update.state.selection.main.assoc &&\n              !update.state.facet(nativeSelectionHidden))\n              this.mustEnforceCursorAssoc = true;\n      }\n      measure(view) {\n          let dom = view.contentDOM, style = window.getComputedStyle(dom);\n          let oracle = this.heightOracle;\n          let whiteSpace = style.whiteSpace;\n          this.defaultTextDirection = style.direction == \"rtl\" ? Direction.RTL : Direction.LTR;\n          let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);\n          let domRect = dom.getBoundingClientRect();\n          let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != domRect.height;\n          this.contentDOMHeight = domRect.height;\n          this.mustMeasureContent = false;\n          let result = 0, bias = 0;\n          if (domRect.width && domRect.height) {\n              let { scaleX, scaleY } = getScale(dom, domRect);\n              if (scaleX > .005 && Math.abs(this.scaleX - scaleX) > .005 ||\n                  scaleY > .005 && Math.abs(this.scaleY - scaleY) > .005) {\n                  this.scaleX = scaleX;\n                  this.scaleY = scaleY;\n                  result |= 16 /* UpdateFlag.Geometry */;\n                  refresh = measureContent = true;\n              }\n          }\n          // Vertical padding\n          let paddingTop = (parseInt(style.paddingTop) || 0) * this.scaleY;\n          let paddingBottom = (parseInt(style.paddingBottom) || 0) * this.scaleY;\n          if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n              this.paddingTop = paddingTop;\n              this.paddingBottom = paddingBottom;\n              result |= 16 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */;\n          }\n          if (this.editorWidth != view.scrollDOM.clientWidth) {\n              if (oracle.lineWrapping)\n                  measureContent = true;\n              this.editorWidth = view.scrollDOM.clientWidth;\n              result |= 16 /* UpdateFlag.Geometry */;\n          }\n          let scrollTop = view.scrollDOM.scrollTop * this.scaleY;\n          if (this.scrollTop != scrollTop) {\n              this.scrollAnchorHeight = -1;\n              this.scrollTop = scrollTop;\n          }\n          this.scrolledToBottom = isScrolledToBottom(view.scrollDOM);\n          // Pixel viewport\n          let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);\n          let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n          this.pixelViewport = pixelViewport;\n          let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n          if (inView != this.inView) {\n              this.inView = inView;\n              if (inView)\n                  measureContent = true;\n          }\n          if (!this.inView && !this.scrollTarget && !inWindow(view.dom))\n              return 0;\n          let contentWidth = domRect.width;\n          if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {\n              this.contentDOMWidth = domRect.width;\n              this.editorHeight = view.scrollDOM.clientHeight;\n              result |= 16 /* UpdateFlag.Geometry */;\n          }\n          if (measureContent) {\n              let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);\n              if (oracle.mustRefreshForHeights(lineHeights))\n                  refresh = true;\n              if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {\n                  let { lineHeight, charWidth, textHeight } = view.docView.measureTextSize();\n                  refresh = lineHeight > 0 && oracle.refresh(whiteSpace, lineHeight, charWidth, textHeight, Math.max(5, contentWidth / charWidth), lineHeights);\n                  if (refresh) {\n                      view.docView.minWidth = 0;\n                      result |= 16 /* UpdateFlag.Geometry */;\n                  }\n              }\n              if (dTop > 0 && dBottom > 0)\n                  bias = Math.max(dTop, dBottom);\n              else if (dTop < 0 && dBottom < 0)\n                  bias = Math.min(dTop, dBottom);\n              clearHeightChangeFlag();\n              for (let vp of this.viewports) {\n                  let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);\n                  this.heightMap = (refresh ? HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle, [new ChangedRange(0, 0, 0, view.state.doc.length)]) : this.heightMap).updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));\n              }\n              if (heightChangeFlag)\n                  result |= 2 /* UpdateFlag.Height */;\n          }\n          let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) ||\n              this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from ||\n                  this.scrollTarget.range.head > this.viewport.to);\n          if (viewportChange) {\n              if (result & 2 /* UpdateFlag.Height */)\n                  result |= this.updateScaler();\n              this.viewport = this.getViewport(bias, this.scrollTarget);\n              result |= this.updateForViewport();\n          }\n          if ((result & 2 /* UpdateFlag.Height */) || viewportChange)\n              this.updateViewportLines();\n          if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n              this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps, view));\n          result |= this.computeVisibleRanges();\n          if (this.mustEnforceCursorAssoc) {\n              this.mustEnforceCursorAssoc = false;\n              // This is done in the read stage, because moving the selection\n              // to a line end is going to trigger a layout anyway, so it\n              // can't be a pure write. It should be rare that it does any\n              // writing.\n              view.docView.enforceCursorAssoc();\n          }\n          return result;\n      }\n      get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top); }\n      get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom); }\n      getViewport(bias, scrollTarget) {\n          // This will divide VP.Margin between the top and the\n          // bottom, depending on the bias (the change in viewport position\n          // since the last update). It'll hold a number between 0 and 1\n          let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* VP.Margin */ / 2));\n          let map = this.heightMap, oracle = this.heightOracle;\n          let { visibleTop, visibleBottom } = this;\n          let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* VP.Margin */, QueryType$1.ByHeight, oracle, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* VP.Margin */, QueryType$1.ByHeight, oracle, 0, 0).to);\n          // If scrollTarget is given, make sure the viewport includes that position\n          if (scrollTarget) {\n              let { head } = scrollTarget.range;\n              if (head < viewport.from || head > viewport.to) {\n                  let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);\n                  let block = map.lineAt(head, QueryType$1.ByPos, oracle, 0, 0), topPos;\n                  if (scrollTarget.y == \"center\")\n                      topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                  else if (scrollTarget.y == \"start\" || scrollTarget.y == \"nearest\" && head < viewport.from)\n                      topPos = block.top;\n                  else\n                      topPos = block.bottom - viewHeight;\n                  viewport = new Viewport(map.lineAt(topPos - 1000 /* VP.Margin */ / 2, QueryType$1.ByHeight, oracle, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* VP.Margin */ / 2, QueryType$1.ByHeight, oracle, 0, 0).to);\n              }\n          }\n          return viewport;\n      }\n      mapViewport(viewport, changes) {\n          let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n          return new Viewport(this.heightMap.lineAt(from, QueryType$1.ByPos, this.heightOracle, 0, 0).from, this.heightMap.lineAt(to, QueryType$1.ByPos, this.heightOracle, 0, 0).to);\n      }\n      // Checks if a given viewport covers the visible part of the\n      // document and not too much beyond that.\n      viewportIsAppropriate({ from, to }, bias = 0) {\n          if (!this.inView)\n              return true;\n          let { top } = this.heightMap.lineAt(from, QueryType$1.ByPos, this.heightOracle, 0, 0);\n          let { bottom } = this.heightMap.lineAt(to, QueryType$1.ByPos, this.heightOracle, 0, 0);\n          let { visibleTop, visibleBottom } = this;\n          return (from == 0 || top <= visibleTop - Math.max(10 /* VP.MinCoverMargin */, Math.min(-bias, 250 /* VP.MaxCoverMargin */))) &&\n              (to == this.state.doc.length ||\n                  bottom >= visibleBottom + Math.max(10 /* VP.MinCoverMargin */, Math.min(bias, 250 /* VP.MaxCoverMargin */))) &&\n              (top > visibleTop - 2 * 1000 /* VP.Margin */ && bottom < visibleBottom + 2 * 1000 /* VP.Margin */);\n      }\n      mapLineGaps(gaps, changes) {\n          if (!gaps.length || changes.empty)\n              return gaps;\n          let mapped = [];\n          for (let gap of gaps)\n              if (!changes.touchesRange(gap.from, gap.to))\n                  mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size, gap.displaySize));\n          return mapped;\n      }\n      // Computes positions in the viewport where the start or end of a\n      // line should be hidden, trying to reuse existing line gaps when\n      // appropriate to avoid unneccesary redraws.\n      // Uses crude character-counting for the positioning and sizing,\n      // since actual DOM coordinates aren't always available and\n      // predictable. Relies on generous margins (see LG.Margin) to hide\n      // the artifacts this might produce from the user.\n      ensureLineGaps(current, mayMeasure) {\n          let wrapping = this.heightOracle.lineWrapping;\n          let margin = wrapping ? 10000 /* LG.MarginWrap */ : 2000 /* LG.Margin */, halfMargin = margin >> 1, doubleMargin = margin << 1;\n          // The non-wrapping logic won't work at all in predominantly right-to-left text.\n          if (this.defaultTextDirection != Direction.LTR && !wrapping)\n              return [];\n          let gaps = [];\n          let addGap = (from, to, line, structure) => {\n              if (to - from < halfMargin)\n                  return;\n              let sel = this.state.selection.main, avoid = [sel.from];\n              if (!sel.empty)\n                  avoid.push(sel.to);\n              for (let pos of avoid) {\n                  if (pos > from && pos < to) {\n                      addGap(from, pos - 10 /* LG.SelectionMargin */, line, structure);\n                      addGap(pos + 10 /* LG.SelectionMargin */, to, line, structure);\n                      return;\n                  }\n              }\n              let gap = find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                  Math.abs(gap.from - from) < halfMargin && Math.abs(gap.to - to) < halfMargin &&\n                  !avoid.some(pos => gap.from < pos && gap.to > pos));\n              if (!gap) {\n                  // When scrolling down, snap gap ends to line starts to avoid shifts in wrapping\n                  if (to < line.to && mayMeasure && wrapping &&\n                      mayMeasure.visibleRanges.some(r => r.from <= to && r.to >= to)) {\n                      let lineStart = mayMeasure.moveToLineBoundary(EditorSelection.cursor(to), false, true).head;\n                      if (lineStart > from)\n                          to = lineStart;\n                  }\n                  let size = this.gapSize(line, from, to, structure);\n                  let displaySize = wrapping || size < 2000000 /* VP.MaxHorizGap */ ? size : 2000000 /* VP.MaxHorizGap */;\n                  gap = new LineGap(from, to, size, displaySize);\n              }\n              gaps.push(gap);\n          };\n          let checkLine = (line) => {\n              if (line.length < doubleMargin || line.type != BlockType.Text)\n                  return;\n              let structure = lineStructure(line.from, line.to, this.stateDeco);\n              if (structure.total < doubleMargin)\n                  return;\n              let target = this.scrollTarget ? this.scrollTarget.range.head : null;\n              let viewFrom, viewTo;\n              if (wrapping) {\n                  let marginHeight = (margin / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                  let top, bot;\n                  if (target != null) {\n                      let targetFrac = findFraction(structure, target);\n                      let spaceFrac = ((this.visibleBottom - this.visibleTop) / 2 + marginHeight) / line.height;\n                      top = targetFrac - spaceFrac;\n                      bot = targetFrac + spaceFrac;\n                  }\n                  else {\n                      top = (this.visibleTop - line.top - marginHeight) / line.height;\n                      bot = (this.visibleBottom - line.top + marginHeight) / line.height;\n                  }\n                  viewFrom = findPosition(structure, top);\n                  viewTo = findPosition(structure, bot);\n              }\n              else {\n                  let totalWidth = structure.total * this.heightOracle.charWidth;\n                  let marginWidth = margin * this.heightOracle.charWidth;\n                  let horizOffset = 0;\n                  if (totalWidth > 2000000 /* VP.MaxHorizGap */)\n                      for (let old of current) {\n                          if (old.from >= line.from && old.from < line.to && old.size != old.displaySize &&\n                              old.from * this.heightOracle.charWidth + horizOffset < this.pixelViewport.left)\n                              horizOffset = old.size - old.displaySize;\n                      }\n                  let pxLeft = this.pixelViewport.left + horizOffset, pxRight = this.pixelViewport.right + horizOffset;\n                  let left, right;\n                  if (target != null) {\n                      let targetFrac = findFraction(structure, target);\n                      let spaceFrac = ((pxRight - pxLeft) / 2 + marginWidth) / totalWidth;\n                      left = targetFrac - spaceFrac;\n                      right = targetFrac + spaceFrac;\n                  }\n                  else {\n                      left = (pxLeft - marginWidth) / totalWidth;\n                      right = (pxRight + marginWidth) / totalWidth;\n                  }\n                  viewFrom = findPosition(structure, left);\n                  viewTo = findPosition(structure, right);\n              }\n              if (viewFrom > line.from)\n                  addGap(line.from, viewFrom, line, structure);\n              if (viewTo < line.to)\n                  addGap(viewTo, line.to, line, structure);\n          };\n          for (let line of this.viewportLines) {\n              if (Array.isArray(line.type))\n                  line.type.forEach(checkLine);\n              else\n                  checkLine(line);\n          }\n          return gaps;\n      }\n      gapSize(line, from, to, structure) {\n          let fraction = findFraction(structure, to) - findFraction(structure, from);\n          if (this.heightOracle.lineWrapping) {\n              return line.height * fraction;\n          }\n          else {\n              return structure.total * this.heightOracle.charWidth * fraction;\n          }\n      }\n      updateLineGaps(gaps) {\n          if (!LineGap.same(gaps, this.lineGaps)) {\n              this.lineGaps = gaps;\n              this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this, this.heightOracle.lineWrapping)));\n          }\n      }\n      computeVisibleRanges(changes) {\n          let deco = this.stateDeco;\n          if (this.lineGaps.length)\n              deco = deco.concat(this.lineGapDeco);\n          let ranges = [];\n          RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n              span(from, to) { ranges.push({ from, to }); },\n              point() { }\n          }, 20);\n          let changed = 0;\n          if (ranges.length != this.visibleRanges.length) {\n              changed = 8 /* UpdateFlag.ViewportMoved */ | 4 /* UpdateFlag.Viewport */;\n          }\n          else {\n              for (let i = 0; i < ranges.length && !(changed & 8 /* UpdateFlag.ViewportMoved */); i++) {\n                  let old = this.visibleRanges[i], nw = ranges[i];\n                  if (old.from != nw.from || old.to != nw.to) {\n                      changed |= 4 /* UpdateFlag.Viewport */;\n                      if (!(changes && changes.mapPos(old.from, -1) == nw.from && changes.mapPos(old.to, 1) == nw.to))\n                          changed |= 8 /* UpdateFlag.ViewportMoved */;\n                  }\n              }\n          }\n          this.visibleRanges = ranges;\n          return changed;\n      }\n      lineBlockAt(pos) {\n          return (pos >= this.viewport.from && pos <= this.viewport.to &&\n              this.viewportLines.find(b => b.from <= pos && b.to >= pos)) ||\n              scaleBlock(this.heightMap.lineAt(pos, QueryType$1.ByPos, this.heightOracle, 0, 0), this.scaler);\n      }\n      lineBlockAtHeight(height) {\n          return (height >= this.viewportLines[0].top && height <= this.viewportLines[this.viewportLines.length - 1].bottom &&\n              this.viewportLines.find(l => l.top <= height && l.bottom >= height)) ||\n              scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType$1.ByHeight, this.heightOracle, 0, 0), this.scaler);\n      }\n      scrollAnchorAt(scrollTop) {\n          let block = this.lineBlockAtHeight(scrollTop + 8);\n          return block.from >= this.viewport.from || this.viewportLines[0].top - scrollTop > 200 ? block : this.viewportLines[0];\n      }\n      elementAtHeight(height) {\n          return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.heightOracle, 0, 0), this.scaler);\n      }\n      get docHeight() {\n          return this.scaler.toDOM(this.heightMap.height);\n      }\n      get contentHeight() {\n          return this.docHeight + this.paddingTop + this.paddingBottom;\n      }\n  }\n  class Viewport {\n      constructor(from, to) {\n          this.from = from;\n          this.to = to;\n      }\n  }\n  function lineStructure(from, to, stateDeco) {\n      let ranges = [], pos = from, total = 0;\n      RangeSet.spans(stateDeco, from, to, {\n          span() { },\n          point(from, to) {\n              if (from > pos) {\n                  ranges.push({ from: pos, to: from });\n                  total += from - pos;\n              }\n              pos = to;\n          }\n      }, 20); // We're only interested in collapsed ranges of a significant size\n      if (pos < to) {\n          ranges.push({ from: pos, to });\n          total += to - pos;\n      }\n      return { total, ranges };\n  }\n  function findPosition({ total, ranges }, ratio) {\n      if (ratio <= 0)\n          return ranges[0].from;\n      if (ratio >= 1)\n          return ranges[ranges.length - 1].to;\n      let dist = Math.floor(total * ratio);\n      for (let i = 0;; i++) {\n          let { from, to } = ranges[i], size = to - from;\n          if (dist <= size)\n              return from + dist;\n          dist -= size;\n      }\n  }\n  function findFraction(structure, pos) {\n      let counted = 0;\n      for (let { from, to } of structure.ranges) {\n          if (pos <= to) {\n              counted += pos - from;\n              break;\n          }\n          counted += to - from;\n      }\n      return counted / structure.total;\n  }\n  function find(array, f) {\n      for (let val of array)\n          if (f(val))\n              return val;\n      return undefined;\n  }\n  // Don't scale when the document height is within the range of what\n  // the DOM can handle.\n  const IdScaler = {\n      toDOM(n) { return n; },\n      fromDOM(n) { return n; },\n      scale: 1,\n      eq(other) { return other == this; }\n  };\n  // When the height is too big (> VP.MaxDOMHeight), scale down the\n  // regions outside the viewports so that the total height is\n  // VP.MaxDOMHeight.\n  class BigScaler {\n      constructor(oracle, heightMap, viewports) {\n          let vpHeight = 0, base = 0, domBase = 0;\n          this.viewports = viewports.map(({ from, to }) => {\n              let top = heightMap.lineAt(from, QueryType$1.ByPos, oracle, 0, 0).top;\n              let bottom = heightMap.lineAt(to, QueryType$1.ByPos, oracle, 0, 0).bottom;\n              vpHeight += bottom - top;\n              return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n          });\n          this.scale = (7000000 /* VP.MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n          for (let obj of this.viewports) {\n              obj.domTop = domBase + (obj.top - base) * this.scale;\n              domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n              base = obj.bottom;\n          }\n      }\n      toDOM(n) {\n          for (let i = 0, base = 0, domBase = 0;; i++) {\n              let vp = i < this.viewports.length ? this.viewports[i] : null;\n              if (!vp || n < vp.top)\n                  return domBase + (n - base) * this.scale;\n              if (n <= vp.bottom)\n                  return vp.domTop + (n - vp.top);\n              base = vp.bottom;\n              domBase = vp.domBottom;\n          }\n      }\n      fromDOM(n) {\n          for (let i = 0, base = 0, domBase = 0;; i++) {\n              let vp = i < this.viewports.length ? this.viewports[i] : null;\n              if (!vp || n < vp.domTop)\n                  return base + (n - domBase) / this.scale;\n              if (n <= vp.domBottom)\n                  return vp.top + (n - vp.domTop);\n              base = vp.bottom;\n              domBase = vp.domBottom;\n          }\n      }\n      eq(other) {\n          if (!(other instanceof BigScaler))\n              return false;\n          return this.scale == other.scale && this.viewports.length == other.viewports.length &&\n              this.viewports.every((vp, i) => vp.from == other.viewports[i].from && vp.to == other.viewports[i].to);\n      }\n  }\n  function scaleBlock(block, scaler) {\n      if (scaler.scale == 1)\n          return block;\n      let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);\n      return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block._content) ? block._content.map(b => scaleBlock(b, scaler)) : block._content);\n  }\n\n  const theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\n  const darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\n  const baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\n  const lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\n  function buildTheme(main, spec, scopes) {\n      return new StyleModule(spec, {\n          finish(sel) {\n              return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                  if (m == \"&\")\n                      return main;\n                  if (!scopes || !scopes[m])\n                      throw new RangeError(`Unsupported selector: ${m}`);\n                  return scopes[m];\n              }) : main + \" \" + sel;\n          }\n      });\n  }\n  const baseTheme$1$3 = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n      \"&\": {\n          position: \"relative !important\",\n          boxSizing: \"border-box\",\n          \"&.cm-focused\": {\n              // Provide a simple default outline to make sure a focused\n              // editor is visually distinct. Can't leave the default behavior\n              // because that will apply to the content element, which is\n              // inside the scrollable container and doesn't include the\n              // gutters. We also can't use an 'auto' outline, since those\n              // are, for some reason, drawn behind the element content, which\n              // will cause things like the active line background to cover\n              // the outline (#297).\n              outline: \"1px dotted #212121\"\n          },\n          display: \"flex !important\",\n          flexDirection: \"column\"\n      },\n      \".cm-scroller\": {\n          display: \"flex !important\",\n          alignItems: \"flex-start !important\",\n          fontFamily: \"monospace\",\n          lineHeight: 1.4,\n          height: \"100%\",\n          overflowX: \"auto\",\n          position: \"relative\",\n          zIndex: 0,\n          overflowAnchor: \"none\",\n      },\n      \".cm-content\": {\n          margin: 0,\n          flexGrow: 2,\n          flexShrink: 0,\n          display: \"block\",\n          whiteSpace: \"pre\",\n          wordWrap: \"normal\", // https://github.com/codemirror/dev/issues/456\n          boxSizing: \"border-box\",\n          minHeight: \"100%\",\n          padding: \"4px 0\",\n          outline: \"none\",\n          \"&[contenteditable=true]\": {\n              WebkitUserModify: \"read-write-plaintext-only\",\n          }\n      },\n      \".cm-lineWrapping\": {\n          whiteSpace_fallback: \"pre-wrap\", // For IE\n          whiteSpace: \"break-spaces\",\n          wordBreak: \"break-word\", // For Safari, which doesn't support overflow-wrap: anywhere\n          overflowWrap: \"anywhere\",\n          flexShrink: 1\n      },\n      \"&light .cm-content\": { caretColor: \"black\" },\n      \"&dark .cm-content\": { caretColor: \"white\" },\n      \".cm-line\": {\n          display: \"block\",\n          padding: \"0 2px 0 6px\"\n      },\n      \".cm-layer\": {\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          contain: \"size style\",\n          \"& > *\": {\n              position: \"absolute\"\n          }\n      },\n      \"&light .cm-selectionBackground\": {\n          background: \"#d9d9d9\"\n      },\n      \"&dark .cm-selectionBackground\": {\n          background: \"#222\"\n      },\n      \"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\": {\n          background: \"#d7d4f0\"\n      },\n      \"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\": {\n          background: \"#233\"\n      },\n      \".cm-cursorLayer\": {\n          pointerEvents: \"none\"\n      },\n      \"&.cm-focused > .cm-scroller > .cm-cursorLayer\": {\n          animation: \"steps(1) cm-blink 1.2s infinite\"\n      },\n      // Two animations defined so that we can switch between them to\n      // restart the animation without forcing another style\n      // recomputation.\n      \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n      \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n      \".cm-cursor, .cm-dropCursor\": {\n          borderLeft: \"1.2px solid black\",\n          marginLeft: \"-0.6px\",\n          pointerEvents: \"none\",\n      },\n      \".cm-cursor\": {\n          display: \"none\"\n      },\n      \"&dark .cm-cursor\": {\n          borderLeftColor: \"#ddd\"\n      },\n      \".cm-dropCursor\": {\n          position: \"absolute\"\n      },\n      \"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor\": {\n          display: \"block\"\n      },\n      \".cm-iso\": {\n          unicodeBidi: \"isolate\"\n      },\n      \".cm-announced\": {\n          position: \"fixed\",\n          top: \"-10000px\"\n      },\n      \"@media print\": {\n          \".cm-announced\": { display: \"none\" }\n      },\n      \"&light .cm-activeLine\": { backgroundColor: \"#cceeff44\" },\n      \"&dark .cm-activeLine\": { backgroundColor: \"#99eeff33\" },\n      \"&light .cm-specialChar\": { color: \"red\" },\n      \"&dark .cm-specialChar\": { color: \"#f78\" },\n      \".cm-gutters\": {\n          flexShrink: 0,\n          display: \"flex\",\n          height: \"100%\",\n          boxSizing: \"border-box\",\n          zIndex: 200,\n      },\n      \".cm-gutters-before\": { insetInlineStart: 0 },\n      \".cm-gutters-after\": { insetInlineEnd: 0 },\n      \"&light .cm-gutters\": {\n          backgroundColor: \"#f5f5f5\",\n          color: \"#6c6c6c\",\n          border: \"0px solid #ddd\",\n          \"&.cm-gutters-before\": { borderRightWidth: \"1px\" },\n          \"&.cm-gutters-after\": { borderLeftWidth: \"1px\" },\n      },\n      \"&dark .cm-gutters\": {\n          backgroundColor: \"#333338\",\n          color: \"#ccc\"\n      },\n      \".cm-gutter\": {\n          display: \"flex !important\", // Necessary -- prevents margin collapsing\n          flexDirection: \"column\",\n          flexShrink: 0,\n          boxSizing: \"border-box\",\n          minHeight: \"100%\",\n          overflow: \"hidden\"\n      },\n      \".cm-gutterElement\": {\n          boxSizing: \"border-box\"\n      },\n      \".cm-lineNumbers .cm-gutterElement\": {\n          padding: \"0 3px 0 5px\",\n          minWidth: \"20px\",\n          textAlign: \"right\",\n          whiteSpace: \"nowrap\"\n      },\n      \"&light .cm-activeLineGutter\": {\n          backgroundColor: \"#e2f2ff\"\n      },\n      \"&dark .cm-activeLineGutter\": {\n          backgroundColor: \"#222227\"\n      },\n      \".cm-panels\": {\n          boxSizing: \"border-box\",\n          position: \"sticky\",\n          left: 0,\n          right: 0,\n          zIndex: 300\n      },\n      \"&light .cm-panels\": {\n          backgroundColor: \"#f5f5f5\",\n          color: \"black\"\n      },\n      \"&light .cm-panels-top\": {\n          borderBottom: \"1px solid #ddd\"\n      },\n      \"&light .cm-panels-bottom\": {\n          borderTop: \"1px solid #ddd\"\n      },\n      \"&dark .cm-panels\": {\n          backgroundColor: \"#333338\",\n          color: \"white\"\n      },\n      \".cm-dialog\": {\n          padding: \"2px 19px 4px 6px\",\n          position: \"relative\",\n          \"& label\": { fontSize: \"80%\" },\n      },\n      \".cm-dialog-close\": {\n          position: \"absolute\",\n          top: \"3px\",\n          right: \"4px\",\n          backgroundColor: \"inherit\",\n          border: \"none\",\n          font: \"inherit\",\n          fontSize: \"14px\",\n          padding: \"0\"\n      },\n      \".cm-tab\": {\n          display: \"inline-block\",\n          overflow: \"hidden\",\n          verticalAlign: \"bottom\"\n      },\n      \".cm-widgetBuffer\": {\n          verticalAlign: \"text-top\",\n          height: \"1em\",\n          width: 0,\n          display: \"inline\"\n      },\n      \".cm-placeholder\": {\n          color: \"#888\",\n          display: \"inline-block\",\n          verticalAlign: \"top\",\n          userSelect: \"none\"\n      },\n      \".cm-highlightSpace\": {\n          backgroundImage: \"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)\",\n          backgroundPosition: \"center\",\n      },\n      \".cm-highlightTab\": {\n          backgroundImage: `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"20\"><path stroke=\"%23888\" stroke-width=\"1\" fill=\"none\" d=\"M1 10H196L190 5M190 15L196 10M197 4L197 16\"/></svg>')`,\n          backgroundSize: \"auto 100%\",\n          backgroundPosition: \"right 90%\",\n          backgroundRepeat: \"no-repeat\"\n      },\n      \".cm-trailingSpace\": {\n          backgroundColor: \"#ff332255\"\n      },\n      \".cm-button\": {\n          verticalAlign: \"middle\",\n          color: \"inherit\",\n          fontSize: \"70%\",\n          padding: \".2em 1em\",\n          borderRadius: \"1px\"\n      },\n      \"&light .cm-button\": {\n          backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n          border: \"1px solid #888\",\n          \"&:active\": {\n              backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n          }\n      },\n      \"&dark .cm-button\": {\n          backgroundImage: \"linear-gradient(#393939, #111)\",\n          border: \"1px solid #888\",\n          \"&:active\": {\n              backgroundImage: \"linear-gradient(#111, #333)\"\n          }\n      },\n      \".cm-textfield\": {\n          verticalAlign: \"middle\",\n          color: \"inherit\",\n          fontSize: \"70%\",\n          border: \"1px solid silver\",\n          padding: \".2em .5em\"\n      },\n      \"&light .cm-textfield\": {\n          backgroundColor: \"white\"\n      },\n      \"&dark .cm-textfield\": {\n          border: \"1px solid #555\",\n          backgroundColor: \"inherit\"\n      }\n  }, lightDarkIDs);\n\n  const observeOptions = {\n      childList: true,\n      characterData: true,\n      subtree: true,\n      attributes: true,\n      characterDataOldValue: true\n  };\n  // IE11 has very broken mutation observers, so we also listen to\n  // DOMCharacterDataModified there\n  const useCharData = browser.ie && browser.ie_version <= 11;\n  class DOMObserver {\n      constructor(view) {\n          this.view = view;\n          this.active = false;\n          this.editContext = null;\n          // The known selection. Kept in our own object, as opposed to just\n          // directly accessing the selection because:\n          //  - Safari doesn't report the right selection in shadow DOM\n          //  - Reading from the selection forces a DOM layout\n          //  - This way, we can ignore selectionchange events if we have\n          //    already seen the 'new' selection\n          this.selectionRange = new DOMSelectionState;\n          // Set when a selection change is detected, cleared on flush\n          this.selectionChanged = false;\n          this.delayedFlush = -1;\n          this.resizeTimeout = -1;\n          this.queue = [];\n          this.delayedAndroidKey = null;\n          this.flushingAndroidKey = -1;\n          this.lastChange = 0;\n          this.scrollTargets = [];\n          this.intersection = null;\n          this.resizeScroll = null;\n          this.intersecting = false;\n          this.gapIntersection = null;\n          this.gaps = [];\n          this.printQuery = null;\n          // Timeout for scheduling check of the parents that need scroll handlers\n          this.parentCheck = -1;\n          this.dom = view.contentDOM;\n          this.observer = new MutationObserver(mutations => {\n              for (let mut of mutations)\n                  this.queue.push(mut);\n              // IE11 will sometimes (on typing over a selection or\n              // backspacing out a single character text node) call the\n              // observer callback before actually updating the DOM.\n              //\n              // Unrelatedly, iOS Safari will, when ending a composition,\n              // sometimes first clear it, deliver the mutations, and then\n              // reinsert the finished text. CodeMirror's handling of the\n              // deletion will prevent the reinsertion from happening,\n              // breaking composition.\n              if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                  mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                      m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                  this.flushSoon();\n              else\n                  this.flush();\n          });\n          if (window.EditContext && browser.android && view.constructor.EDIT_CONTEXT !== false &&\n              // Chrome <126 doesn't support inverted selections in edit context (#1392)\n              !(browser.chrome && browser.chrome_version < 126)) {\n              this.editContext = new EditContextManager(view);\n              if (view.state.facet(editable))\n                  view.contentDOM.editContext = this.editContext.editContext;\n          }\n          if (useCharData)\n              this.onCharData = (event) => {\n                  this.queue.push({ target: event.target,\n                      type: \"characterData\",\n                      oldValue: event.prevValue });\n                  this.flushSoon();\n              };\n          this.onSelectionChange = this.onSelectionChange.bind(this);\n          this.onResize = this.onResize.bind(this);\n          this.onPrint = this.onPrint.bind(this);\n          this.onScroll = this.onScroll.bind(this);\n          if (window.matchMedia)\n              this.printQuery = window.matchMedia(\"print\");\n          if (typeof ResizeObserver == \"function\") {\n              this.resizeScroll = new ResizeObserver(() => {\n                  var _a;\n                  if (((_a = this.view.docView) === null || _a === void 0 ? void 0 : _a.lastUpdate) < Date.now() - 75)\n                      this.onResize();\n              });\n              this.resizeScroll.observe(view.scrollDOM);\n          }\n          this.addWindowListeners(this.win = view.win);\n          this.start();\n          if (typeof IntersectionObserver == \"function\") {\n              this.intersection = new IntersectionObserver(entries => {\n                  if (this.parentCheck < 0)\n                      this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                  if (entries.length > 0 && (entries[entries.length - 1].intersectionRatio > 0) != this.intersecting) {\n                      this.intersecting = !this.intersecting;\n                      if (this.intersecting != this.view.inView)\n                          this.onScrollChanged(document.createEvent(\"Event\"));\n                  }\n              }, { threshold: [0, .001] });\n              this.intersection.observe(this.dom);\n              this.gapIntersection = new IntersectionObserver(entries => {\n                  if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                      this.onScrollChanged(document.createEvent(\"Event\"));\n              }, {});\n          }\n          this.listenForScroll();\n          this.readSelectionRange();\n      }\n      onScrollChanged(e) {\n          this.view.inputState.runHandlers(\"scroll\", e);\n          if (this.intersecting)\n              this.view.measure();\n      }\n      onScroll(e) {\n          if (this.intersecting)\n              this.flush(false);\n          if (this.editContext)\n              this.view.requestMeasure(this.editContext.measureReq);\n          this.onScrollChanged(e);\n      }\n      onResize() {\n          if (this.resizeTimeout < 0)\n              this.resizeTimeout = setTimeout(() => {\n                  this.resizeTimeout = -1;\n                  this.view.requestMeasure();\n              }, 50);\n      }\n      onPrint(event) {\n          if ((event.type == \"change\" || !event.type) && !event.matches)\n              return;\n          this.view.viewState.printing = true;\n          this.view.measure();\n          setTimeout(() => {\n              this.view.viewState.printing = false;\n              this.view.requestMeasure();\n          }, 500);\n      }\n      updateGaps(gaps) {\n          if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n              this.gapIntersection.disconnect();\n              for (let gap of gaps)\n                  this.gapIntersection.observe(gap);\n              this.gaps = gaps;\n          }\n      }\n      onSelectionChange(event) {\n          let wasChanged = this.selectionChanged;\n          if (!this.readSelectionRange() || this.delayedAndroidKey)\n              return;\n          let { view } = this, sel = this.selectionRange;\n          if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(this.dom, sel))\n              return;\n          let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n          if (context && context.ignoreEvent(event)) {\n              if (!wasChanged)\n                  this.selectionChanged = false;\n              return;\n          }\n          // Deletions on IE11 fire their events in the wrong order, giving\n          // us a selection change event before the DOM changes are\n          // reported.\n          // Chrome Android has a similar issue when backspacing out a\n          // selection (#645).\n          if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty &&\n              // (Selection.isCollapsed isn't reliable on IE)\n              sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n              this.flushSoon();\n          else\n              this.flush(false);\n      }\n      readSelectionRange() {\n          let { view } = this;\n          // The Selection object is broken in shadow roots in Safari. See\n          // https://github.com/codemirror/dev/issues/414\n          let selection = getSelection(view.root);\n          if (!selection)\n              return false;\n          let range = browser.safari && view.root.nodeType == 11 &&\n              view.root.activeElement == this.dom &&\n              safariSelectionRangeHack(this.view, selection) || selection;\n          if (!range || this.selectionRange.eq(range))\n              return false;\n          let local = hasSelection(this.dom, range);\n          // Detect the situation where the browser has, on focus, moved the\n          // selection to the start of the content element. Reset it to the\n          // position from the editor state.\n          if (local && !this.selectionChanged &&\n              view.inputState.lastFocusTime > Date.now() - 200 &&\n              view.inputState.lastTouchTime < Date.now() - 300 &&\n              atElementStart(this.dom, range)) {\n              this.view.inputState.lastFocusTime = 0;\n              view.docView.updateSelection();\n              return false;\n          }\n          this.selectionRange.setRange(range);\n          if (local)\n              this.selectionChanged = true;\n          return true;\n      }\n      setSelectionRange(anchor, head) {\n          this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);\n          this.selectionChanged = false;\n      }\n      clearSelectionRange() {\n          this.selectionRange.set(null, 0, null, 0);\n      }\n      listenForScroll() {\n          this.parentCheck = -1;\n          let i = 0, changed = null;\n          for (let dom = this.dom; dom;) {\n              if (dom.nodeType == 1) {\n                  if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                      i++;\n                  else if (!changed)\n                      changed = this.scrollTargets.slice(0, i);\n                  if (changed)\n                      changed.push(dom);\n                  dom = dom.assignedSlot || dom.parentNode;\n              }\n              else if (dom.nodeType == 11) { // Shadow root\n                  dom = dom.host;\n              }\n              else {\n                  break;\n              }\n          }\n          if (i < this.scrollTargets.length && !changed)\n              changed = this.scrollTargets.slice(0, i);\n          if (changed) {\n              for (let dom of this.scrollTargets)\n                  dom.removeEventListener(\"scroll\", this.onScroll);\n              for (let dom of this.scrollTargets = changed)\n                  dom.addEventListener(\"scroll\", this.onScroll);\n          }\n      }\n      ignore(f) {\n          if (!this.active)\n              return f();\n          try {\n              this.stop();\n              return f();\n          }\n          finally {\n              this.start();\n              this.clear();\n          }\n      }\n      start() {\n          if (this.active)\n              return;\n          this.observer.observe(this.dom, observeOptions);\n          if (useCharData)\n              this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n          this.active = true;\n      }\n      stop() {\n          if (!this.active)\n              return;\n          this.active = false;\n          this.observer.disconnect();\n          if (useCharData)\n              this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n      }\n      // Throw away any pending changes\n      clear() {\n          this.processRecords();\n          this.queue.length = 0;\n          this.selectionChanged = false;\n      }\n      // Chrome Android, especially in combination with GBoard, not only\n      // doesn't reliably fire regular key events, but also often\n      // surrounds the effect of enter or backspace with a bunch of\n      // composition events that, when interrupted, cause text duplication\n      // or other kinds of corruption. This hack makes the editor back off\n      // from handling DOM changes for a moment when such a key is\n      // detected (via beforeinput or keydown), and then tries to flush\n      // them or, if that has no effect, dispatches the given key.\n      delayAndroidKey(key, keyCode) {\n          var _a;\n          if (!this.delayedAndroidKey) {\n              let flush = () => {\n                  let key = this.delayedAndroidKey;\n                  if (key) {\n                      this.clearDelayedAndroidKey();\n                      this.view.inputState.lastKeyCode = key.keyCode;\n                      this.view.inputState.lastKeyTime = Date.now();\n                      let flushed = this.flush();\n                      if (!flushed && key.force)\n                          dispatchKey(this.dom, key.key, key.keyCode);\n                  }\n              };\n              this.flushingAndroidKey = this.view.win.requestAnimationFrame(flush);\n          }\n          // Since backspace beforeinput is sometimes signalled spuriously,\n          // Enter always takes precedence.\n          if (!this.delayedAndroidKey || key == \"Enter\")\n              this.delayedAndroidKey = {\n                  key, keyCode,\n                  // Only run the key handler when no changes are detected if\n                  // this isn't coming right after another change, in which case\n                  // it is probably part of a weird chain of updates, and should\n                  // be ignored if it returns the DOM to its previous state.\n                  force: this.lastChange < Date.now() - 50 || !!((_a = this.delayedAndroidKey) === null || _a === void 0 ? void 0 : _a.force)\n              };\n      }\n      clearDelayedAndroidKey() {\n          this.win.cancelAnimationFrame(this.flushingAndroidKey);\n          this.delayedAndroidKey = null;\n          this.flushingAndroidKey = -1;\n      }\n      flushSoon() {\n          if (this.delayedFlush < 0)\n              this.delayedFlush = this.view.win.requestAnimationFrame(() => { this.delayedFlush = -1; this.flush(); });\n      }\n      forceFlush() {\n          if (this.delayedFlush >= 0) {\n              this.view.win.cancelAnimationFrame(this.delayedFlush);\n              this.delayedFlush = -1;\n          }\n          this.flush();\n      }\n      pendingRecords() {\n          for (let mut of this.observer.takeRecords())\n              this.queue.push(mut);\n          return this.queue;\n      }\n      processRecords() {\n          let records = this.pendingRecords();\n          if (records.length)\n              this.queue = [];\n          let from = -1, to = -1, typeOver = false;\n          for (let record of records) {\n              let range = this.readMutation(record);\n              if (!range)\n                  continue;\n              if (range.typeOver)\n                  typeOver = true;\n              if (from == -1) {\n                  ({ from, to } = range);\n              }\n              else {\n                  from = Math.min(range.from, from);\n                  to = Math.max(range.to, to);\n              }\n          }\n          return { from, to, typeOver };\n      }\n      readChange() {\n          let { from, to, typeOver } = this.processRecords();\n          let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);\n          if (from < 0 && !newSel)\n              return null;\n          if (from > -1)\n              this.lastChange = Date.now();\n          this.view.inputState.lastFocusTime = 0;\n          this.selectionChanged = false;\n          let change = new DOMChange(this.view, from, to, typeOver);\n          this.view.docView.domChanged = { newSel: change.newSel ? change.newSel.main : null };\n          return change;\n      }\n      // Apply pending changes, if any\n      flush(readSelection = true) {\n          // Completely hold off flushing when pending keys are setthe code\n          // managing those will make sure processRecords is called and the\n          // view is resynchronized after\n          if (this.delayedFlush >= 0 || this.delayedAndroidKey)\n              return false;\n          if (readSelection)\n              this.readSelectionRange();\n          let domChange = this.readChange();\n          if (!domChange) {\n              this.view.requestMeasure();\n              return false;\n          }\n          let startState = this.view.state;\n          let handled = applyDOMChange(this.view, domChange);\n          // The view wasn't updated but DOM/selection changes were seen. Reset the view.\n          if (this.view.state == startState &&\n              (domChange.domChanged || domChange.newSel && !domChange.newSel.main.eq(this.view.state.selection.main)))\n              this.view.update([]);\n          return handled;\n      }\n      readMutation(rec) {\n          let cView = this.view.docView.nearest(rec.target);\n          if (!cView || cView.ignoreMutation(rec))\n              return null;\n          cView.markDirty(rec.type == \"attributes\");\n          if (rec.type == \"attributes\")\n              cView.flags |= 4 /* ViewFlag.AttrsDirty */;\n          if (rec.type == \"childList\") {\n              let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n              let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n              return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                  to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n          }\n          else if (rec.type == \"characterData\") {\n              return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n          }\n          else {\n              return null;\n          }\n      }\n      setWindow(win) {\n          if (win != this.win) {\n              this.removeWindowListeners(this.win);\n              this.win = win;\n              this.addWindowListeners(this.win);\n          }\n      }\n      addWindowListeners(win) {\n          win.addEventListener(\"resize\", this.onResize);\n          if (this.printQuery) {\n              if (this.printQuery.addEventListener)\n                  this.printQuery.addEventListener(\"change\", this.onPrint);\n              else\n                  this.printQuery.addListener(this.onPrint);\n          }\n          else\n              win.addEventListener(\"beforeprint\", this.onPrint);\n          win.addEventListener(\"scroll\", this.onScroll);\n          win.document.addEventListener(\"selectionchange\", this.onSelectionChange);\n      }\n      removeWindowListeners(win) {\n          win.removeEventListener(\"scroll\", this.onScroll);\n          win.removeEventListener(\"resize\", this.onResize);\n          if (this.printQuery) {\n              if (this.printQuery.removeEventListener)\n                  this.printQuery.removeEventListener(\"change\", this.onPrint);\n              else\n                  this.printQuery.removeListener(this.onPrint);\n          }\n          else\n              win.removeEventListener(\"beforeprint\", this.onPrint);\n          win.document.removeEventListener(\"selectionchange\", this.onSelectionChange);\n      }\n      update(update) {\n          if (this.editContext) {\n              this.editContext.update(update);\n              if (update.startState.facet(editable) != update.state.facet(editable))\n                  update.view.contentDOM.editContext = update.state.facet(editable) ? this.editContext.editContext : null;\n          }\n      }\n      destroy() {\n          var _a, _b, _c;\n          this.stop();\n          (_a = this.intersection) === null || _a === void 0 ? void 0 : _a.disconnect();\n          (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();\n          (_c = this.resizeScroll) === null || _c === void 0 ? void 0 : _c.disconnect();\n          for (let dom of this.scrollTargets)\n              dom.removeEventListener(\"scroll\", this.onScroll);\n          this.removeWindowListeners(this.win);\n          clearTimeout(this.parentCheck);\n          clearTimeout(this.resizeTimeout);\n          this.win.cancelAnimationFrame(this.delayedFlush);\n          this.win.cancelAnimationFrame(this.flushingAndroidKey);\n          if (this.editContext) {\n              this.view.contentDOM.editContext = null;\n              this.editContext.destroy();\n          }\n      }\n  }\n  function findChild(cView, dom, dir) {\n      while (dom) {\n          let curView = ContentView.get(dom);\n          if (curView && curView.parent == cView)\n              return curView;\n          let parent = dom.parentNode;\n          dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n      }\n      return null;\n  }\n  function buildSelectionRangeFromRange(view, range) {\n      let anchorNode = range.startContainer, anchorOffset = range.startOffset;\n      let focusNode = range.endContainer, focusOffset = range.endOffset;\n      let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n      // Since such a range doesn't distinguish between anchor and head,\n      // use a heuristic that flips it around if its end matches the\n      // current anchor.\n      if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n          [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n      return { anchorNode, anchorOffset, focusNode, focusOffset };\n  }\n  // Used to work around a Safari Selection/shadow DOM bug (#414)\n  function safariSelectionRangeHack(view, selection) {\n      if (selection.getComposedRanges) {\n          let range = selection.getComposedRanges(view.root)[0];\n          if (range)\n              return buildSelectionRangeFromRange(view, range);\n      }\n      let found = null;\n      // Because Safari (at least in 2018-2021) doesn't provide regular\n      // access to the selection inside a shadowroot, we have to perform a\n      // ridiculous hack to get at itusing `execCommand` to trigger a\n      // `beforeInput` event so that we can read the target range from the\n      // event.\n      function read(event) {\n          event.preventDefault();\n          event.stopImmediatePropagation();\n          found = event.getTargetRanges()[0];\n      }\n      view.contentDOM.addEventListener(\"beforeinput\", read, true);\n      view.dom.ownerDocument.execCommand(\"indent\");\n      view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n      return found ? buildSelectionRangeFromRange(view, found) : null;\n  }\n  class EditContextManager {\n      constructor(view) {\n          // The document window for which the text in the context is\n          // maintained. For large documents, this may be smaller than the\n          // editor document. This window always includes the selection head.\n          this.from = 0;\n          this.to = 0;\n          // When applying a transaction, this is used to compare the change\n          // made to the context content to the change in the transaction in\n          // order to make the minimal changes to the context (since touching\n          // that sometimes breaks series of multiple edits made for a single\n          // user action on some Android keyboards)\n          this.pendingContextChange = null;\n          this.handlers = Object.create(null);\n          // Kludge to work around the fact that EditContext does not respond\n          // well to having its content updated during a composition (see #1472)\n          this.composing = null;\n          this.resetRange(view.state);\n          let context = this.editContext = new window.EditContext({\n              text: view.state.doc.sliceString(this.from, this.to),\n              selectionStart: this.toContextPos(Math.max(this.from, Math.min(this.to, view.state.selection.main.anchor))),\n              selectionEnd: this.toContextPos(view.state.selection.main.head)\n          });\n          this.handlers.textupdate = e => {\n              let main = view.state.selection.main, { anchor, head } = main;\n              let from = this.toEditorPos(e.updateRangeStart), to = this.toEditorPos(e.updateRangeEnd);\n              if (view.inputState.composing >= 0 && !this.composing)\n                  this.composing = { contextBase: e.updateRangeStart, editorBase: from, drifted: false };\n              let change = { from, to, insert: Text.of(e.text.split(\"\\n\")) };\n              // If the window doesn't include the anchor, assume changes\n              // adjacent to a side go up to the anchor.\n              if (change.from == this.from && anchor < this.from)\n                  change.from = anchor;\n              else if (change.to == this.to && anchor > this.to)\n                  change.to = anchor;\n              // Edit contexts sometimes fire empty changes\n              if (change.from == change.to && !change.insert.length) {\n                  let newSel = EditorSelection.single(this.toEditorPos(e.selectionStart), this.toEditorPos(e.selectionEnd));\n                  if (!newSel.main.eq(main))\n                      view.dispatch({ selection: newSel, userEvent: \"select\" });\n                  return;\n              }\n              if ((browser.mac || browser.android) && change.from == head - 1 &&\n                  /^\\. ?$/.test(e.text) && view.contentDOM.getAttribute(\"autocorrect\") == \"off\")\n                  change = { from, to, insert: Text.of([e.text.replace(\".\", \" \")]) };\n              this.pendingContextChange = change;\n              if (!view.state.readOnly) {\n                  let newLen = this.to - this.from + (change.to - change.from + change.insert.length);\n                  applyDOMChangeInner(view, change, EditorSelection.single(this.toEditorPos(e.selectionStart, newLen), this.toEditorPos(e.selectionEnd, newLen)));\n              }\n              // If the transaction didn't flush our change, revert it so\n              // that the context is in sync with the editor state again.\n              if (this.pendingContextChange) {\n                  this.revertPending(view.state);\n                  this.setSelection(view.state);\n              }\n          };\n          this.handlers.characterboundsupdate = e => {\n              let rects = [], prev = null;\n              for (let i = this.toEditorPos(e.rangeStart), end = this.toEditorPos(e.rangeEnd); i < end; i++) {\n                  let rect = view.coordsForChar(i);\n                  prev = (rect && new DOMRect(rect.left, rect.top, rect.right - rect.left, rect.bottom - rect.top))\n                      || prev || new DOMRect;\n                  rects.push(prev);\n              }\n              context.updateCharacterBounds(e.rangeStart, rects);\n          };\n          this.handlers.textformatupdate = e => {\n              let deco = [];\n              for (let format of e.getTextFormats()) {\n                  let lineStyle = format.underlineStyle, thickness = format.underlineThickness;\n                  if (lineStyle != \"None\" && thickness != \"None\") {\n                      let from = this.toEditorPos(format.rangeStart), to = this.toEditorPos(format.rangeEnd);\n                      if (from < to) {\n                          let style = `text-decoration: underline ${lineStyle == \"Dashed\" ? \"dashed \" : lineStyle == \"Squiggle\" ? \"wavy \" : \"\"}${thickness == \"Thin\" ? 1 : 2}px`;\n                          deco.push(Decoration.mark({ attributes: { style } }).range(from, to));\n                      }\n                  }\n              }\n              view.dispatch({ effects: setEditContextFormatting.of(Decoration.set(deco)) });\n          };\n          this.handlers.compositionstart = () => {\n              if (view.inputState.composing < 0) {\n                  view.inputState.composing = 0;\n                  view.inputState.compositionFirstChange = true;\n              }\n          };\n          this.handlers.compositionend = () => {\n              view.inputState.composing = -1;\n              view.inputState.compositionFirstChange = null;\n              if (this.composing) {\n                  let { drifted } = this.composing;\n                  this.composing = null;\n                  if (drifted)\n                      this.reset(view.state);\n              }\n          };\n          for (let event in this.handlers)\n              context.addEventListener(event, this.handlers[event]);\n          this.measureReq = { read: view => {\n                  this.editContext.updateControlBounds(view.contentDOM.getBoundingClientRect());\n                  let sel = getSelection(view.root);\n                  if (sel && sel.rangeCount)\n                      this.editContext.updateSelectionBounds(sel.getRangeAt(0).getBoundingClientRect());\n              } };\n      }\n      applyEdits(update) {\n          let off = 0, abort = false, pending = this.pendingContextChange;\n          update.changes.iterChanges((fromA, toA, _fromB, _toB, insert) => {\n              if (abort)\n                  return;\n              let dLen = insert.length - (toA - fromA);\n              if (pending && toA >= pending.to) {\n                  if (pending.from == fromA && pending.to == toA && pending.insert.eq(insert)) {\n                      pending = this.pendingContextChange = null; // Match\n                      off += dLen;\n                      this.to += dLen;\n                      return;\n                  }\n                  else { // Mismatch, revert\n                      pending = null;\n                      this.revertPending(update.state);\n                  }\n              }\n              fromA += off;\n              toA += off;\n              if (toA <= this.from) { // Before the window\n                  this.from += dLen;\n                  this.to += dLen;\n              }\n              else if (fromA < this.to) { // Overlaps with window\n                  if (fromA < this.from || toA > this.to || (this.to - this.from) + insert.length > 30000 /* CxVp.MaxSize */) {\n                      abort = true;\n                      return;\n                  }\n                  this.editContext.updateText(this.toContextPos(fromA), this.toContextPos(toA), insert.toString());\n                  this.to += dLen;\n              }\n              off += dLen;\n          });\n          if (pending && !abort)\n              this.revertPending(update.state);\n          return !abort;\n      }\n      update(update) {\n          let reverted = this.pendingContextChange, startSel = update.startState.selection.main;\n          if (this.composing &&\n              (this.composing.drifted ||\n                  (!update.changes.touchesRange(startSel.from, startSel.to) &&\n                      update.transactions.some(tr => !tr.isUserEvent(\"input.type\") && tr.changes.touchesRange(this.from, this.to))))) {\n              this.composing.drifted = true;\n              this.composing.editorBase = update.changes.mapPos(this.composing.editorBase);\n          }\n          else if (!this.applyEdits(update) || !this.rangeIsValid(update.state)) {\n              this.pendingContextChange = null;\n              this.reset(update.state);\n          }\n          else if (update.docChanged || update.selectionSet || reverted) {\n              this.setSelection(update.state);\n          }\n          if (update.geometryChanged || update.docChanged || update.selectionSet)\n              update.view.requestMeasure(this.measureReq);\n      }\n      resetRange(state) {\n          let { head } = state.selection.main;\n          this.from = Math.max(0, head - 10000 /* CxVp.Margin */);\n          this.to = Math.min(state.doc.length, head + 10000 /* CxVp.Margin */);\n      }\n      reset(state) {\n          this.resetRange(state);\n          this.editContext.updateText(0, this.editContext.text.length, state.doc.sliceString(this.from, this.to));\n          this.setSelection(state);\n      }\n      revertPending(state) {\n          let pending = this.pendingContextChange;\n          this.pendingContextChange = null;\n          this.editContext.updateText(this.toContextPos(pending.from), this.toContextPos(pending.from + pending.insert.length), state.doc.sliceString(pending.from, pending.to));\n      }\n      setSelection(state) {\n          let { main } = state.selection;\n          let start = this.toContextPos(Math.max(this.from, Math.min(this.to, main.anchor)));\n          let end = this.toContextPos(main.head);\n          if (this.editContext.selectionStart != start || this.editContext.selectionEnd != end)\n              this.editContext.updateSelection(start, end);\n      }\n      rangeIsValid(state) {\n          let { head } = state.selection.main;\n          return !(this.from > 0 && head - this.from < 500 /* CxVp.MinMargin */ ||\n              this.to < state.doc.length && this.to - head < 500 /* CxVp.MinMargin */ ||\n              this.to - this.from > 10000 /* CxVp.Margin */ * 3);\n      }\n      toEditorPos(contextPos, clipLen = this.to - this.from) {\n          contextPos = Math.min(contextPos, clipLen);\n          let c = this.composing;\n          return c && c.drifted ? c.editorBase + (contextPos - c.contextBase) : contextPos + this.from;\n      }\n      toContextPos(editorPos) {\n          let c = this.composing;\n          return c && c.drifted ? c.contextBase + (editorPos - c.editorBase) : editorPos - this.from;\n      }\n      destroy() {\n          for (let event in this.handlers)\n              this.editContext.removeEventListener(event, this.handlers[event]);\n      }\n  }\n\n  // The editor's update state machine looks something like this:\n  //\n  //     Idle  Updating  Idle (unchecked)  Measuring  Idle\n  //                                               \n  //                                         Updating (measure)\n  //\n  // The difference between 'Idle' and 'Idle (unchecked)' lies in\n  // whether a layout check has been scheduled. A regular update through\n  // the `update` method updates the DOM in a write-only fashion, and\n  // relies on a check (scheduled with `requestAnimationFrame`) to make\n  // sure everything is where it should be and the viewport covers the\n  // visible code. That check continues to measure and then optionally\n  // update until it reaches a coherent state.\n  /**\n  An editor view represents the editor's user interface. It holds\n  the editable DOM surface, and possibly other elements such as the\n  line number gutter. It handles events and dispatches state\n  transactions for editing actions.\n  */\n  class EditorView {\n      /**\n      The current editor state.\n      */\n      get state() { return this.viewState.state; }\n      /**\n      To be able to display large documents without consuming too much\n      memory or overloading the browser, CodeMirror only draws the\n      code that is visible (plus a margin around it) to the DOM. This\n      property tells you the extent of the current drawn viewport, in\n      document positions.\n      */\n      get viewport() { return this.viewState.viewport; }\n      /**\n      When there are, for example, large collapsed ranges in the\n      viewport, its size can be a lot bigger than the actual visible\n      content. Thus, if you are doing something like styling the\n      content in the viewport, it is preferable to only do so for\n      these ranges, which are the subset of the viewport that is\n      actually drawn.\n      */\n      get visibleRanges() { return this.viewState.visibleRanges; }\n      /**\n      Returns false when the editor is entirely scrolled out of view\n      or otherwise hidden.\n      */\n      get inView() { return this.viewState.inView; }\n      /**\n      Indicates whether the user is currently composing text via\n      [IME](https://en.wikipedia.org/wiki/Input_method), and at least\n      one change has been made in the current composition.\n      */\n      get composing() { return !!this.inputState && this.inputState.composing > 0; }\n      /**\n      Indicates whether the user is currently in composing state. Note\n      that on some platforms, like Android, this will be the case a\n      lot, since just putting the cursor on a word starts a\n      composition there.\n      */\n      get compositionStarted() { return !!this.inputState && this.inputState.composing >= 0; }\n      /**\n      The document or shadow root that the view lives in.\n      */\n      get root() { return this._root; }\n      /**\n      @internal\n      */\n      get win() { return this.dom.ownerDocument.defaultView || window; }\n      /**\n      Construct a new view. You'll want to either provide a `parent`\n      option, or put `view.dom` into your document after creating a\n      view, so that the user can see the editor.\n      */\n      constructor(config = {}) {\n          var _a;\n          this.plugins = [];\n          this.pluginMap = new Map;\n          this.editorAttrs = {};\n          this.contentAttrs = {};\n          this.bidiCache = [];\n          this.destroyed = false;\n          /**\n          @internal\n          */\n          this.updateState = 2 /* UpdateState.Updating */;\n          /**\n          @internal\n          */\n          this.measureScheduled = -1;\n          /**\n          @internal\n          */\n          this.measureRequests = [];\n          this.contentDOM = document.createElement(\"div\");\n          this.scrollDOM = document.createElement(\"div\");\n          this.scrollDOM.tabIndex = -1;\n          this.scrollDOM.className = \"cm-scroller\";\n          this.scrollDOM.appendChild(this.contentDOM);\n          this.announceDOM = document.createElement(\"div\");\n          this.announceDOM.className = \"cm-announced\";\n          this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n          this.dom = document.createElement(\"div\");\n          this.dom.appendChild(this.announceDOM);\n          this.dom.appendChild(this.scrollDOM);\n          if (config.parent)\n              config.parent.appendChild(this.dom);\n          let { dispatch } = config;\n          this.dispatchTransactions = config.dispatchTransactions ||\n              (dispatch && ((trs) => trs.forEach(tr => dispatch(tr, this)))) ||\n              ((trs) => this.update(trs));\n          this.dispatch = this.dispatch.bind(this);\n          this._root = (config.root || getRoot(config.parent) || document);\n          this.viewState = new ViewState(config.state || EditorState.create(config));\n          if (config.scrollTo && config.scrollTo.is(scrollIntoView$1))\n              this.viewState.scrollTarget = config.scrollTo.value.clip(this.viewState.state);\n          this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec));\n          for (let plugin of this.plugins)\n              plugin.update(this);\n          this.observer = new DOMObserver(this);\n          this.inputState = new InputState(this);\n          this.inputState.ensureHandlers(this.plugins);\n          this.docView = new DocView(this);\n          this.mountStyles();\n          this.updateAttrs();\n          this.updateState = 0 /* UpdateState.Idle */;\n          this.requestMeasure();\n          if ((_a = document.fonts) === null || _a === void 0 ? void 0 : _a.ready)\n              document.fonts.ready.then(() => this.requestMeasure());\n      }\n      dispatch(...input) {\n          let trs = input.length == 1 && input[0] instanceof Transaction ? input\n              : input.length == 1 && Array.isArray(input[0]) ? input[0]\n                  : [this.state.update(...input)];\n          this.dispatchTransactions(trs, this);\n      }\n      /**\n      Update the view for the given array of transactions. This will\n      update the visible document and selection to match the state\n      produced by the transactions, and notify view plugins of the\n      change. You should usually call\n      [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n      as a primitive.\n      */\n      update(transactions) {\n          if (this.updateState != 0 /* UpdateState.Idle */)\n              throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n          let redrawn = false, attrsChanged = false, update;\n          let state = this.state;\n          for (let tr of transactions) {\n              if (tr.startState != state)\n                  throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n              state = tr.state;\n          }\n          if (this.destroyed) {\n              this.viewState.state = state;\n              return;\n          }\n          let focus = this.hasFocus, focusFlag = 0, dispatchFocus = null;\n          if (transactions.some(tr => tr.annotation(isFocusChange))) {\n              this.inputState.notifiedFocused = focus;\n              // If a focus-change transaction is being dispatched, set this update flag.\n              focusFlag = 1 /* UpdateFlag.Focus */;\n          }\n          else if (focus != this.inputState.notifiedFocused) {\n              this.inputState.notifiedFocused = focus;\n              // Schedule a separate focus transaction if necessary, otherwise\n              // add a flag to this update\n              dispatchFocus = focusChangeTransaction(state, focus);\n              if (!dispatchFocus)\n                  focusFlag = 1 /* UpdateFlag.Focus */;\n          }\n          // If there was a pending DOM change, eagerly read it and try to\n          // apply it after the given transactions.\n          let pendingKey = this.observer.delayedAndroidKey, domChange = null;\n          if (pendingKey) {\n              this.observer.clearDelayedAndroidKey();\n              domChange = this.observer.readChange();\n              // Only try to apply DOM changes if the transactions didn't\n              // change the doc or selection.\n              if (domChange && !this.state.doc.eq(state.doc) || !this.state.selection.eq(state.selection))\n                  domChange = null;\n          }\n          else {\n              this.observer.clear();\n          }\n          // When the phrases change, redraw the editor\n          if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n              return this.setState(state);\n          update = ViewUpdate.create(this, state, transactions);\n          update.flags |= focusFlag;\n          let scrollTarget = this.viewState.scrollTarget;\n          try {\n              this.updateState = 2 /* UpdateState.Updating */;\n              for (let tr of transactions) {\n                  if (scrollTarget)\n                      scrollTarget = scrollTarget.map(tr.changes);\n                  if (tr.scrollIntoView) {\n                      let { main } = tr.state.selection;\n                      scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                  }\n                  for (let e of tr.effects)\n                      if (e.is(scrollIntoView$1))\n                          scrollTarget = e.value.clip(this.state);\n              }\n              this.viewState.update(update, scrollTarget);\n              this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n              if (!update.empty) {\n                  this.updatePlugins(update);\n                  this.inputState.update(update);\n              }\n              redrawn = this.docView.update(update);\n              if (this.state.facet(styleModule) != this.styleModules)\n                  this.mountStyles();\n              attrsChanged = this.updateAttrs();\n              this.showAnnouncements(transactions);\n              this.docView.updateSelection(redrawn, transactions.some(tr => tr.isUserEvent(\"select.pointer\")));\n          }\n          finally {\n              this.updateState = 0 /* UpdateState.Idle */;\n          }\n          if (update.startState.facet(theme) != update.state.facet(theme))\n              this.viewState.mustMeasureContent = true;\n          if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)\n              this.requestMeasure();\n          if (redrawn)\n              this.docViewUpdate();\n          if (!update.empty)\n              for (let listener of this.state.facet(updateListener)) {\n                  try {\n                      listener(update);\n                  }\n                  catch (e) {\n                      logException(this.state, e, \"update listener\");\n                  }\n              }\n          if (dispatchFocus || domChange)\n              Promise.resolve().then(() => {\n                  if (dispatchFocus && this.state == dispatchFocus.startState)\n                      this.dispatch(dispatchFocus);\n                  if (domChange) {\n                      if (!applyDOMChange(this, domChange) && pendingKey.force)\n                          dispatchKey(this.contentDOM, pendingKey.key, pendingKey.keyCode);\n                  }\n              });\n      }\n      /**\n      Reset the view to the given state. (This will cause the entire\n      document to be redrawn and all view plugins to be reinitialized,\n      so you should probably only use it when the new state isn't\n      derived from the old state. Otherwise, use\n      [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n      */\n      setState(newState) {\n          if (this.updateState != 0 /* UpdateState.Idle */)\n              throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n          if (this.destroyed) {\n              this.viewState.state = newState;\n              return;\n          }\n          this.updateState = 2 /* UpdateState.Updating */;\n          let hadFocus = this.hasFocus;\n          try {\n              for (let plugin of this.plugins)\n                  plugin.destroy(this);\n              this.viewState = new ViewState(newState);\n              this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec));\n              this.pluginMap.clear();\n              for (let plugin of this.plugins)\n                  plugin.update(this);\n              this.docView.destroy();\n              this.docView = new DocView(this);\n              this.inputState.ensureHandlers(this.plugins);\n              this.mountStyles();\n              this.updateAttrs();\n              this.bidiCache = [];\n          }\n          finally {\n              this.updateState = 0 /* UpdateState.Idle */;\n          }\n          if (hadFocus)\n              this.focus();\n          this.requestMeasure();\n      }\n      updatePlugins(update) {\n          let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n          if (prevSpecs != specs) {\n              let newPlugins = [];\n              for (let spec of specs) {\n                  let found = prevSpecs.indexOf(spec);\n                  if (found < 0) {\n                      newPlugins.push(new PluginInstance(spec));\n                  }\n                  else {\n                      let plugin = this.plugins[found];\n                      plugin.mustUpdate = update;\n                      newPlugins.push(plugin);\n                  }\n              }\n              for (let plugin of this.plugins)\n                  if (plugin.mustUpdate != update)\n                      plugin.destroy(this);\n              this.plugins = newPlugins;\n              this.pluginMap.clear();\n          }\n          else {\n              for (let p of this.plugins)\n                  p.mustUpdate = update;\n          }\n          for (let i = 0; i < this.plugins.length; i++)\n              this.plugins[i].update(this);\n          if (prevSpecs != specs)\n              this.inputState.ensureHandlers(this.plugins);\n      }\n      docViewUpdate() {\n          for (let plugin of this.plugins) {\n              let val = plugin.value;\n              if (val && val.docViewUpdate) {\n                  try {\n                      val.docViewUpdate(this);\n                  }\n                  catch (e) {\n                      logException(this.state, e, \"doc view update listener\");\n                  }\n              }\n          }\n      }\n      /**\n      @internal\n      */\n      measure(flush = true) {\n          if (this.destroyed)\n              return;\n          if (this.measureScheduled > -1)\n              this.win.cancelAnimationFrame(this.measureScheduled);\n          if (this.observer.delayedAndroidKey) {\n              this.measureScheduled = -1;\n              this.requestMeasure();\n              return;\n          }\n          this.measureScheduled = 0; // Prevent requestMeasure calls from scheduling another animation frame\n          if (flush)\n              this.observer.forceFlush();\n          let updated = null;\n          let sDOM = this.scrollDOM, scrollTop = sDOM.scrollTop * this.scaleY;\n          let { scrollAnchorPos, scrollAnchorHeight } = this.viewState;\n          if (Math.abs(scrollTop - this.viewState.scrollTop) > 1)\n              scrollAnchorHeight = -1;\n          this.viewState.scrollAnchorHeight = -1;\n          try {\n              for (let i = 0;; i++) {\n                  if (scrollAnchorHeight < 0) {\n                      if (isScrolledToBottom(sDOM)) {\n                          scrollAnchorPos = -1;\n                          scrollAnchorHeight = this.viewState.heightMap.height;\n                      }\n                      else {\n                          let block = this.viewState.scrollAnchorAt(scrollTop);\n                          scrollAnchorPos = block.from;\n                          scrollAnchorHeight = block.top;\n                      }\n                  }\n                  this.updateState = 1 /* UpdateState.Measuring */;\n                  let changed = this.viewState.measure(this);\n                  if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                      break;\n                  if (i > 5) {\n                      console.warn(this.measureRequests.length\n                          ? \"Measure loop restarted more than 5 times\"\n                          : \"Viewport failed to stabilize\");\n                      break;\n                  }\n                  let measuring = [];\n                  // Only run measure requests in this cycle when the viewport didn't change\n                  if (!(changed & 4 /* UpdateFlag.Viewport */))\n                      [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                  let measured = measuring.map(m => {\n                      try {\n                          return m.read(this);\n                      }\n                      catch (e) {\n                          logException(this.state, e);\n                          return BadMeasure;\n                      }\n                  });\n                  let update = ViewUpdate.create(this, this.state, []), redrawn = false;\n                  update.flags |= changed;\n                  if (!updated)\n                      updated = update;\n                  else\n                      updated.flags |= changed;\n                  this.updateState = 2 /* UpdateState.Updating */;\n                  if (!update.empty) {\n                      this.updatePlugins(update);\n                      this.inputState.update(update);\n                      this.updateAttrs();\n                      redrawn = this.docView.update(update);\n                      if (redrawn)\n                          this.docViewUpdate();\n                  }\n                  for (let i = 0; i < measuring.length; i++)\n                      if (measured[i] != BadMeasure) {\n                          try {\n                              let m = measuring[i];\n                              if (m.write)\n                                  m.write(measured[i], this);\n                          }\n                          catch (e) {\n                              logException(this.state, e);\n                          }\n                      }\n                  if (redrawn)\n                      this.docView.updateSelection(true);\n                  if (!update.viewportChanged && this.measureRequests.length == 0) {\n                      if (this.viewState.editorHeight) {\n                          if (this.viewState.scrollTarget) {\n                              this.docView.scrollIntoView(this.viewState.scrollTarget);\n                              this.viewState.scrollTarget = null;\n                              scrollAnchorHeight = -1;\n                              continue;\n                          }\n                          else {\n                              let newAnchorHeight = scrollAnchorPos < 0 ? this.viewState.heightMap.height :\n                                  this.viewState.lineBlockAt(scrollAnchorPos).top;\n                              let diff = newAnchorHeight - scrollAnchorHeight;\n                              if (diff > 1 || diff < -1) {\n                                  scrollTop = scrollTop + diff;\n                                  sDOM.scrollTop = scrollTop / this.scaleY;\n                                  scrollAnchorHeight = -1;\n                                  continue;\n                              }\n                          }\n                      }\n                      break;\n                  }\n              }\n          }\n          finally {\n              this.updateState = 0 /* UpdateState.Idle */;\n              this.measureScheduled = -1;\n          }\n          if (updated && !updated.empty)\n              for (let listener of this.state.facet(updateListener))\n                  listener(updated);\n      }\n      /**\n      Get the CSS classes for the currently active editor themes.\n      */\n      get themeClasses() {\n          return baseThemeID + \" \" +\n              (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n              this.state.facet(theme);\n      }\n      updateAttrs() {\n          let editorAttrs = attrsFromFacet(this, editorAttributes, {\n              class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n          });\n          let contentAttrs = {\n              spellcheck: \"false\",\n              autocorrect: \"off\",\n              autocapitalize: \"off\",\n              writingsuggestions: \"false\",\n              translate: \"no\",\n              contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n              class: \"cm-content\",\n              style: `${browser.tabSize}: ${this.state.tabSize}`,\n              role: \"textbox\",\n              \"aria-multiline\": \"true\"\n          };\n          if (this.state.readOnly)\n              contentAttrs[\"aria-readonly\"] = \"true\";\n          attrsFromFacet(this, contentAttributes, contentAttrs);\n          let changed = this.observer.ignore(() => {\n              let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n              let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n              return changedContent || changedEditor;\n          });\n          this.editorAttrs = editorAttrs;\n          this.contentAttrs = contentAttrs;\n          return changed;\n      }\n      showAnnouncements(trs) {\n          let first = true;\n          for (let tr of trs)\n              for (let effect of tr.effects)\n                  if (effect.is(EditorView.announce)) {\n                      if (first)\n                          this.announceDOM.textContent = \"\";\n                      first = false;\n                      let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                      div.textContent = effect.value;\n                  }\n      }\n      mountStyles() {\n          this.styleModules = this.state.facet(styleModule);\n          let nonce = this.state.facet(EditorView.cspNonce);\n          StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1$3).reverse(), nonce ? { nonce } : undefined);\n      }\n      readMeasured() {\n          if (this.updateState == 2 /* UpdateState.Updating */)\n              throw new Error(\"Reading the editor layout isn't allowed during an update\");\n          if (this.updateState == 0 /* UpdateState.Idle */ && this.measureScheduled > -1)\n              this.measure(false);\n      }\n      /**\n      Schedule a layout measurement, optionally providing callbacks to\n      do custom DOM measuring followed by a DOM write phase. Using\n      this is preferable reading DOM layout directly from, for\n      example, an event handler, because it'll make sure measuring and\n      drawing done by other components is synchronized, avoiding\n      unnecessary DOM layout computations.\n      */\n      requestMeasure(request) {\n          if (this.measureScheduled < 0)\n              this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());\n          if (request) {\n              if (this.measureRequests.indexOf(request) > -1)\n                  return;\n              if (request.key != null)\n                  for (let i = 0; i < this.measureRequests.length; i++) {\n                      if (this.measureRequests[i].key === request.key) {\n                          this.measureRequests[i] = request;\n                          return;\n                      }\n                  }\n              this.measureRequests.push(request);\n          }\n      }\n      /**\n      Get the value of a specific plugin, if present. Note that\n      plugins that crash can be dropped from a view, so even when you\n      know you registered a given plugin, it is recommended to check\n      the return value of this method.\n      */\n      plugin(plugin) {\n          let known = this.pluginMap.get(plugin);\n          if (known === undefined || known && known.plugin != plugin)\n              this.pluginMap.set(plugin, known = this.plugins.find(p => p.plugin == plugin) || null);\n          return known && known.update(this).value;\n      }\n      /**\n      The top position of the document, in screen coordinates. This\n      may be negative when the editor is scrolled down. Points\n      directly to the top of the first line, not above the padding.\n      */\n      get documentTop() {\n          return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;\n      }\n      /**\n      Reports the padding above and below the document.\n      */\n      get documentPadding() {\n          return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };\n      }\n      /**\n      If the editor is transformed with CSS, this provides the scale\n      along the X axis. Otherwise, it will just be 1. Note that\n      transforms other than translation and scaling are not supported.\n      */\n      get scaleX() { return this.viewState.scaleX; }\n      /**\n      Provide the CSS transformed scale along the Y axis.\n      */\n      get scaleY() { return this.viewState.scaleY; }\n      /**\n      Find the text line or block widget at the given vertical\n      position (which is interpreted as relative to the [top of the\n      document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).\n      */\n      elementAtHeight(height) {\n          this.readMeasured();\n          return this.viewState.elementAtHeight(height);\n      }\n      /**\n      Find the line block (see\n      [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt)) at the given\n      height, again interpreted relative to the [top of the\n      document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).\n      */\n      lineBlockAtHeight(height) {\n          this.readMeasured();\n          return this.viewState.lineBlockAtHeight(height);\n      }\n      /**\n      Get the extent and vertical position of all [line\n      blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions\n      are relative to the [top of the\n      document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);\n      */\n      get viewportLineBlocks() {\n          return this.viewState.viewportLines;\n      }\n      /**\n      Find the line block around the given document position. A line\n      block is a range delimited on both sides by either a\n      non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line break, or the\n      start/end of the document. It will usually just hold a line of\n      text, but may be broken into multiple textblocks by block\n      widgets.\n      */\n      lineBlockAt(pos) {\n          return this.viewState.lineBlockAt(pos);\n      }\n      /**\n      The editor's total content height.\n      */\n      get contentHeight() {\n          return this.viewState.contentHeight;\n      }\n      /**\n      Move a cursor position by [grapheme\n      cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether\n      the motion is away from the line start, or towards it. In\n      bidirectional text, the line is traversed in visual order, using\n      the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n      When the start position was the last one on the line, the\n      returned position will be across the line break. If there is no\n      further line, the original position is returned.\n      \n      By default, this method moves over a single cluster. The\n      optional `by` argument can be used to move across more. It will\n      be called with the first cluster as argument, and should return\n      a predicate that determines, for each subsequent cluster,\n      whether it should also be moved over.\n      */\n      moveByChar(start, forward, by) {\n          return skipAtoms(this, start, moveByChar(this, start, forward, by));\n      }\n      /**\n      Move a cursor position across the next group of either\n      [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n      non-whitespace characters.\n      */\n      moveByGroup(start, forward) {\n          return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n      }\n      /**\n      Get the cursor position visually at the start or end of a line.\n      Note that this may differ from the _logical_ position at its\n      start or end (which is simply at `line.from`/`line.to`) if text\n      at the start or end goes against the line's base text direction.\n      */\n      visualLineSide(line, end) {\n          let order = this.bidiSpans(line), dir = this.textDirectionAt(line.from);\n          let span = order[end ? order.length - 1 : 0];\n          return EditorSelection.cursor(span.side(end, dir) + line.from, span.forward(!end, dir) ? 1 : -1);\n      }\n      /**\n      Move to the next line boundary in the given direction. If\n      `includeWrap` is true, line wrapping is on, and there is a\n      further wrap point on the current line, the wrap point will be\n      returned. Otherwise this function will return the start or end\n      of the line.\n      */\n      moveToLineBoundary(start, forward, includeWrap = true) {\n          return moveToLineBoundary(this, start, forward, includeWrap);\n      }\n      /**\n      Move a cursor position vertically. When `distance` isn't given,\n      it defaults to moving to the next line (including wrapped\n      lines). Otherwise, `distance` should provide a positive distance\n      in pixels.\n      \n      When `start` has a\n      [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n      motion will use that as a target horizontal position. Otherwise,\n      the cursor's own horizontal position is used. The returned\n      cursor will have its goal column set to whichever column was\n      used.\n      */\n      moveVertically(start, forward, distance) {\n          return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n      }\n      /**\n      Find the DOM parent node and offset (child offset if `node` is\n      an element, character offset when it is a text node) at the\n      given document position.\n      \n      Note that for positions that aren't currently in\n      `visibleRanges`, the resulting DOM position isn't necessarily\n      meaningful (it may just point before or after a placeholder\n      element).\n      */\n      domAtPos(pos) {\n          return this.docView.domAtPos(pos);\n      }\n      /**\n      Find the document position at the given DOM node. Can be useful\n      for associating positions with DOM events. Will raise an error\n      when `node` isn't part of the editor content.\n      */\n      posAtDOM(node, offset = 0) {\n          return this.docView.posFromDOM(node, offset);\n      }\n      posAtCoords(coords, precise = true) {\n          this.readMeasured();\n          return posAtCoords(this, coords, precise);\n      }\n      /**\n      Get the screen coordinates at the given document position.\n      `side` determines whether the coordinates are based on the\n      element before (-1) or after (1) the position (if no element is\n      available on the given side, the method will transparently use\n      another strategy to get reasonable coordinates).\n      */\n      coordsAtPos(pos, side = 1) {\n          this.readMeasured();\n          let rect = this.docView.coordsAt(pos, side);\n          if (!rect || rect.left == rect.right)\n              return rect;\n          let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n          let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n          return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n      }\n      /**\n      Return the rectangle around a given character. If `pos` does not\n      point in front of a character that is in the viewport and\n      rendered (i.e. not replaced, not a line break), this will return\n      null. For space characters that are a line wrap point, this will\n      return the position before the line break.\n      */\n      coordsForChar(pos) {\n          this.readMeasured();\n          return this.docView.coordsForChar(pos);\n      }\n      /**\n      The default width of a character in the editor. May not\n      accurately reflect the width of all characters (given variable\n      width fonts or styling of invididual ranges).\n      */\n      get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n      /**\n      The default height of a line in the editor. May not be accurate\n      for all lines.\n      */\n      get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n      /**\n      The text direction\n      ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n      CSS property) of the editor's content element.\n      */\n      get textDirection() { return this.viewState.defaultTextDirection; }\n      /**\n      Find the text direction of the block at the given position, as\n      assigned by CSS. If\n      [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)\n      isn't enabled, or the given position is outside of the viewport,\n      this will always return the same as\n      [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that\n      this may trigger a DOM layout.\n      */\n      textDirectionAt(pos) {\n          let perLine = this.state.facet(perLineTextDirection);\n          if (!perLine || pos < this.viewport.from || pos > this.viewport.to)\n              return this.textDirection;\n          this.readMeasured();\n          return this.docView.textDirectionAt(pos);\n      }\n      /**\n      Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n      (as determined by the\n      [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n      CSS property of its content element).\n      */\n      get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n      /**\n      Returns the bidirectional text structure of the given line\n      (which should be in the current document) as an array of span\n      objects. The order of these spans matches the [text\n      direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)if that is\n      left-to-right, the leftmost spans come first, otherwise the\n      rightmost spans come first.\n      */\n      bidiSpans(line) {\n          if (line.length > MaxBidiLine)\n              return trivialOrder(line.length);\n          let dir = this.textDirectionAt(line.from), isolates;\n          for (let entry of this.bidiCache) {\n              if (entry.from == line.from && entry.dir == dir &&\n                  (entry.fresh || isolatesEq(entry.isolates, isolates = getIsolatedRanges(this, line))))\n                  return entry.order;\n          }\n          if (!isolates)\n              isolates = getIsolatedRanges(this, line);\n          let order = computeOrder(line.text, dir, isolates);\n          this.bidiCache.push(new CachedOrder(line.from, line.to, dir, isolates, true, order));\n          return order;\n      }\n      /**\n      Check whether the editor has focus.\n      */\n      get hasFocus() {\n          var _a;\n          // Safari return false for hasFocus when the context menu is open\n          // or closing, which leads us to ignore selection changes from the\n          // context menu because it looks like the editor isn't focused.\n          // This kludges around that.\n          return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n              this.root.activeElement == this.contentDOM;\n      }\n      /**\n      Put focus on the editor.\n      */\n      focus() {\n          this.observer.ignore(() => {\n              focusPreventScroll(this.contentDOM);\n              this.docView.updateSelection();\n          });\n      }\n      /**\n      Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only\n      necessary when moving the editor's existing DOM to a new window or shadow root.\n      */\n      setRoot(root) {\n          if (this._root != root) {\n              this._root = root;\n              this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView || window);\n              this.mountStyles();\n          }\n      }\n      /**\n      Clean up this editor view, removing its element from the\n      document, unregistering event handlers, and notifying\n      plugins. The view instance can no longer be used after\n      calling this.\n      */\n      destroy() {\n          if (this.root.activeElement == this.contentDOM)\n              this.contentDOM.blur();\n          for (let plugin of this.plugins)\n              plugin.destroy(this);\n          this.plugins = [];\n          this.inputState.destroy();\n          this.docView.destroy();\n          this.dom.remove();\n          this.observer.destroy();\n          if (this.measureScheduled > -1)\n              this.win.cancelAnimationFrame(this.measureScheduled);\n          this.destroyed = true;\n      }\n      /**\n      Returns an effect that can be\n      [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to\n      cause it to scroll the given position or range into view.\n      */\n      static scrollIntoView(pos, options = {}) {\n          return scrollIntoView$1.of(new ScrollTarget(typeof pos == \"number\" ? EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));\n      }\n      /**\n      Return an effect that resets the editor to its current (at the\n      time this method was called) scroll position. Note that this\n      only affects the editor's own scrollable element, not parents.\n      See also\n      [`EditorViewConfig.scrollTo`](https://codemirror.net/6/docs/ref/#view.EditorViewConfig.scrollTo).\n      \n      The effect should be used with a document identical to the one\n      it was created for. Failing to do so is not an error, but may\n      not scroll to the expected position. You can\n      [map](https://codemirror.net/6/docs/ref/#state.StateEffect.map) the effect to account for changes.\n      */\n      scrollSnapshot() {\n          let { scrollTop, scrollLeft } = this.scrollDOM;\n          let ref = this.viewState.scrollAnchorAt(scrollTop);\n          return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(ref.from), \"start\", \"start\", ref.top - scrollTop, scrollLeft, true));\n      }\n      /**\n      Enable or disable tab-focus mode, which disables key bindings\n      for Tab and Shift-Tab, letting the browser's default\n      focus-changing behavior go through instead. This is useful to\n      prevent trapping keyboard users in your editor.\n      \n      Without argument, this toggles the mode. With a boolean, it\n      enables (true) or disables it (false). Given a number, it\n      temporarily enables the mode until that number of milliseconds\n      have passed or another non-Tab key is pressed.\n      */\n      setTabFocusMode(to) {\n          if (to == null)\n              this.inputState.tabFocusMode = this.inputState.tabFocusMode < 0 ? 0 : -1;\n          else if (typeof to == \"boolean\")\n              this.inputState.tabFocusMode = to ? 0 : -1;\n          else if (this.inputState.tabFocusMode != 0)\n              this.inputState.tabFocusMode = Date.now() + to;\n      }\n      /**\n      Returns an extension that can be used to add DOM event handlers.\n      The value should be an object mapping event names to handler\n      functions. For any given event, such functions are ordered by\n      extension precedence, and the first handler to return true will\n      be assumed to have handled that event, and no other handlers or\n      built-in behavior will be activated for it. These are registered\n      on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except\n      for `scroll` handlers, which will be called any time the\n      editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of\n      its parent nodes is scrolled.\n      */\n      static domEventHandlers(handlers) {\n          return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n      }\n      /**\n      Create an extension that registers DOM event observers. Contrary\n      to event [handlers](https://codemirror.net/6/docs/ref/#view.EditorView^domEventHandlers),\n      observers can't be prevented from running by a higher-precedence\n      handler returning true. They also don't prevent other handlers\n      and observers from running when they return true, and should not\n      call `preventDefault`.\n      */\n      static domEventObservers(observers) {\n          return ViewPlugin.define(() => ({}), { eventObservers: observers });\n      }\n      /**\n      Create a theme extension. The first argument can be a\n      [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n      style spec providing the styles for the theme. These will be\n      prefixed with a generated class for the style.\n      \n      Because the selectors will be prefixed with a scope class, rule\n      that directly match the editor's [wrapper\n      element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)to which the scope class will be\n      addedneed to be explicitly differentiated by adding an `&` to\n      the selector for that elementfor example\n      `&.cm-focused`.\n      \n      When `dark` is set to true, the theme will be marked as dark,\n      which will cause the `&dark` rules from [base\n      themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n      `&light` when a light theme is active).\n      */\n      static theme(spec, options) {\n          let prefix = StyleModule.newName();\n          let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n          if (options && options.dark)\n              result.push(darkTheme.of(true));\n          return result;\n      }\n      /**\n      Create an extension that adds styles to the base theme. Like\n      with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n      place of the editor wrapper element when directly targeting\n      that. You can also use `&dark` or `&light` instead to only\n      target editors with a dark or light theme.\n      */\n      static baseTheme(spec) {\n          return Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n      }\n      /**\n      Retrieve an editor view instance from the view's DOM\n      representation.\n      */\n      static findFromDOM(dom) {\n          var _a;\n          let content = dom.querySelector(\".cm-content\");\n          let cView = content && ContentView.get(content) || ContentView.get(dom);\n          return ((_a = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a === void 0 ? void 0 : _a.view) || null;\n      }\n  }\n  /**\n  Facet to add a [style\n  module](https://github.com/marijnh/style-mod#documentation) to\n  an editor view. The view will ensure that the module is\n  mounted in its [document\n  root](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n  */\n  EditorView.styleModule = styleModule;\n  /**\n  An input handler can override the way changes to the editable\n  DOM content are handled. Handlers are passed the document\n  positions between which the change was found, and the new\n  content. When one returns true, no further input handlers are\n  called and the default behavior is prevented.\n\n  The `insert` argument can be used to get the default transaction\n  that would be applied for this input. This can be useful when\n  dispatching the custom behavior as a separate transaction.\n  */\n  EditorView.inputHandler = inputHandler$1;\n  /**\n  Functions provided in this facet will be used to transform text\n  pasted or dropped into the editor.\n  */\n  EditorView.clipboardInputFilter = clipboardInputFilter;\n  /**\n  Transform text copied or dragged from the editor.\n  */\n  EditorView.clipboardOutputFilter = clipboardOutputFilter;\n  /**\n  Scroll handlers can override how things are scrolled into view.\n  If they return `true`, no further handling happens for the\n  scrolling. If they return false, the default scroll behavior is\n  applied. Scroll handlers should never initiate editor updates.\n  */\n  EditorView.scrollHandler = scrollHandler;\n  /**\n  This facet can be used to provide functions that create effects\n  to be dispatched when the editor's focus state changes.\n  */\n  EditorView.focusChangeEffect = focusChangeEffect;\n  /**\n  By default, the editor assumes all its content has the same\n  [text direction](https://codemirror.net/6/docs/ref/#view.Direction). Configure this with a `true`\n  value to make it read the text direction of every (rendered)\n  line separately.\n  */\n  EditorView.perLineTextDirection = perLineTextDirection;\n  /**\n  Allows you to provide a function that should be called when the\n  library catches an exception from an extension (mostly from view\n  plugins, but may be used by other extensions to route exceptions\n  from user-code-provided callbacks). This is mostly useful for\n  debugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n  */\n  EditorView.exceptionSink = exceptionSink;\n  /**\n  A facet that can be used to register a function to be called\n  every time the view updates.\n  */\n  EditorView.updateListener = updateListener;\n  /**\n  Facet that controls whether the editor content DOM is editable.\n  When its highest-precedence value is `false`, the element will\n  not have its `contenteditable` attribute set. (Note that this\n  doesn't affect API calls that change the editor content, even\n  when those are bound to keys or buttons. See the\n  [`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n  */\n  EditorView.editable = editable;\n  /**\n  Allows you to influence the way mouse selection happens. The\n  functions in this facet will be called for a `mousedown` event\n  on the editor, and can return an object that overrides the way a\n  selection is computed from that mouse click or drag.\n  */\n  EditorView.mouseSelectionStyle = mouseSelectionStyle;\n  /**\n  Facet used to configure whether a given selection drag event\n  should move or copy the selection. The given predicate will be\n  called with the `mousedown` event, and can return `true` when\n  the drag should move the content.\n  */\n  EditorView.dragMovesSelection = dragMovesSelection$1;\n  /**\n  Facet used to configure whether a given selecting click adds a\n  new range to the existing selection or replaces it entirely. The\n  default behavior is to check `event.metaKey` on macOS, and\n  `event.ctrlKey` elsewhere.\n  */\n  EditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n  /**\n  A facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\n  are shown in the view. Decorations can be provided in two\n  waysdirectly, or via a function that takes an editor view.\n\n  Only decoration sets provided directly are allowed to influence\n  the editor's vertical layout structure. The ones provided as\n  functions are called _after_ the new viewport has been computed,\n  and thus **must not** introduce block widgets or replacing\n  decorations that cover line breaks.\n\n  If you want decorated ranges to behave like atomic units for\n  cursor motion and deletion purposes, also provide the range set\n  containing the decorations to\n  [`EditorView.atomicRanges`](https://codemirror.net/6/docs/ref/#view.EditorView^atomicRanges).\n  */\n  EditorView.decorations = decorations;\n  /**\n  Facet that works much like\n  [`decorations`](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), but puts its\n  inputs at the very bottom of the precedence stack, meaning mark\n  decorations provided here will only be split by other, partially\n  overlapping \\`outerDecorations\\` ranges, and wrap around all\n  regular decorations. Use this for mark elements that should, as\n  much as possible, remain in one piece.\n  */\n  EditorView.outerDecorations = outerDecorations;\n  /**\n  Used to provide ranges that should be treated as atoms as far as\n  cursor motion is concerned. This causes methods like\n  [`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n  [`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\n  commands built on top of them) to skip across such regions when\n  a selection endpoint would enter them. This does _not_ prevent\n  direct programmatic [selection\n  updates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\n  regions.\n  */\n  EditorView.atomicRanges = atomicRanges;\n  /**\n  When range decorations add a `unicode-bidi: isolate` style, they\n  should also include a\n  [`bidiIsolate`](https://codemirror.net/6/docs/ref/#view.MarkDecorationSpec.bidiIsolate) property\n  in their decoration spec, and be exposed through this facet, so\n  that the editor can compute the proper text order. (Other values\n  for `unicode-bidi`, except of course `normal`, are not\n  supported.)\n  */\n  EditorView.bidiIsolatedRanges = bidiIsolatedRanges;\n  /**\n  Facet that allows extensions to provide additional scroll\n  margins (space around the sides of the scrolling element that\n  should be considered invisible). This can be useful when the\n  plugin introduces elements that cover part of that element (for\n  example a horizontally fixed gutter).\n  */\n  EditorView.scrollMargins = scrollMargins;\n  /**\n  This facet records whether a dark theme is active. The extension\n  returned by [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme) automatically\n  includes an instance of this when the `dark` option is set to\n  true.\n  */\n  EditorView.darkTheme = darkTheme;\n  /**\n  Provides a Content Security Policy nonce to use when creating\n  the style sheets for the editor. Holds the empty string when no\n  nonce has been provided.\n  */\n  EditorView.cspNonce = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : \"\" });\n  /**\n  Facet that provides additional DOM attributes for the editor's\n  editable DOM element.\n  */\n  EditorView.contentAttributes = contentAttributes;\n  /**\n  Facet that provides DOM attributes for the editor's outer\n  element.\n  */\n  EditorView.editorAttributes = editorAttributes;\n  /**\n  An extension that enables line wrapping in the editor (by\n  setting CSS `white-space` to `pre-wrap` in the content).\n  */\n  EditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n  /**\n  State effect used to include screen reader announcements in a\n  transaction. These will be added to the DOM in a visually hidden\n  element with `aria-live=\"polite\"` set, and should be used to\n  describe effects that are visually obvious but may not be\n  noticed by screen reader users (such as moving to the next\n  search match).\n  */\n  EditorView.announce = /*@__PURE__*/StateEffect.define();\n  // Maximum line length for which we compute accurate bidi info\n  const MaxBidiLine = 4096;\n  const BadMeasure = {};\n  class CachedOrder {\n      constructor(from, to, dir, isolates, fresh, order) {\n          this.from = from;\n          this.to = to;\n          this.dir = dir;\n          this.isolates = isolates;\n          this.fresh = fresh;\n          this.order = order;\n      }\n      static update(cache, changes) {\n          if (changes.empty && !cache.some(c => c.fresh))\n              return cache;\n          let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n          for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n              let entry = cache[i];\n              if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                  result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.isolates, false, entry.order));\n          }\n          return result;\n      }\n  }\n  function attrsFromFacet(view, facet, base) {\n      for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {\n          let source = sources[i], value = typeof source == \"function\" ? source(view) : source;\n          if (value)\n              combineAttrs(value, base);\n      }\n      return base;\n  }\n\n  const currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\n  function normalizeKeyName(name, platform) {\n      const parts = name.split(/-(?!$)/);\n      let result = parts[parts.length - 1];\n      if (result == \"Space\")\n          result = \" \";\n      let alt, ctrl, shift, meta;\n      for (let i = 0; i < parts.length - 1; ++i) {\n          const mod = parts[i];\n          if (/^(cmd|meta|m)$/i.test(mod))\n              meta = true;\n          else if (/^a(lt)?$/i.test(mod))\n              alt = true;\n          else if (/^(c|ctrl|control)$/i.test(mod))\n              ctrl = true;\n          else if (/^s(hift)?$/i.test(mod))\n              shift = true;\n          else if (/^mod$/i.test(mod)) {\n              if (platform == \"mac\")\n                  meta = true;\n              else\n                  ctrl = true;\n          }\n          else\n              throw new Error(\"Unrecognized modifier name: \" + mod);\n      }\n      if (alt)\n          result = \"Alt-\" + result;\n      if (ctrl)\n          result = \"Ctrl-\" + result;\n      if (meta)\n          result = \"Meta-\" + result;\n      if (shift)\n          result = \"Shift-\" + result;\n      return result;\n  }\n  function modifiers(name, event, shift) {\n      if (event.altKey)\n          name = \"Alt-\" + name;\n      if (event.ctrlKey)\n          name = \"Ctrl-\" + name;\n      if (event.metaKey)\n          name = \"Meta-\" + name;\n      if (shift !== false && event.shiftKey)\n          name = \"Shift-\" + name;\n      return name;\n  }\n  const handleKeyEvents = /*@__PURE__*/Prec.default(/*@__PURE__*/EditorView.domEventHandlers({\n      keydown(event, view) {\n          return runHandlers(getKeymap(view.state), event, view, \"editor\");\n      }\n  }));\n  /**\n  Facet used for registering keymaps.\n\n  You can add multiple keymaps to an editor. Their priorities\n  determine their precedence (the ones specified early or with high\n  priority get checked first). When a handler has returned `true`\n  for a given key, no further handlers are called.\n  */\n  const keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\n  const Keymaps = /*@__PURE__*/new WeakMap();\n  // This is hidden behind an indirection, rather than directly computed\n  // by the facet, to keep internal types out of the facet's type.\n  function getKeymap(state) {\n      let bindings = state.facet(keymap);\n      let map = Keymaps.get(bindings);\n      if (!map)\n          Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n      return map;\n  }\n  /**\n  Run the key handlers registered for a given scope. The event\n  object should be a `\"keydown\"` event. Returns true if any of the\n  handlers handled it.\n  */\n  function runScopeHandlers(view, event, scope) {\n      return runHandlers(getKeymap(view.state), event, view, scope);\n  }\n  let storedPrefix = null;\n  const PrefixTimeout = 4000;\n  function buildKeymap(bindings, platform = currentPlatform) {\n      let bound = Object.create(null);\n      let isPrefix = Object.create(null);\n      let checkPrefix = (name, is) => {\n          let current = isPrefix[name];\n          if (current == null)\n              isPrefix[name] = is;\n          else if (current != is)\n              throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n      };\n      let add = (scope, key, command, preventDefault, stopPropagation) => {\n          var _a, _b;\n          let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n          let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n          for (let i = 1; i < parts.length; i++) {\n              let prefix = parts.slice(0, i).join(\" \");\n              checkPrefix(prefix, true);\n              if (!scopeObj[prefix])\n                  scopeObj[prefix] = {\n                      preventDefault: true,\n                      stopPropagation: false,\n                      run: [(view) => {\n                              let ourObj = storedPrefix = { view, prefix, scope };\n                              setTimeout(() => { if (storedPrefix == ourObj)\n                                  storedPrefix = null; }, PrefixTimeout);\n                              return true;\n                          }]\n                  };\n          }\n          let full = parts.join(\" \");\n          checkPrefix(full, false);\n          let binding = scopeObj[full] || (scopeObj[full] = {\n              preventDefault: false,\n              stopPropagation: false,\n              run: ((_b = (_a = scopeObj._any) === null || _a === void 0 ? void 0 : _a.run) === null || _b === void 0 ? void 0 : _b.slice()) || []\n          });\n          if (command)\n              binding.run.push(command);\n          if (preventDefault)\n              binding.preventDefault = true;\n          if (stopPropagation)\n              binding.stopPropagation = true;\n      };\n      for (let b of bindings) {\n          let scopes = b.scope ? b.scope.split(\" \") : [\"editor\"];\n          if (b.any)\n              for (let scope of scopes) {\n                  let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n                  if (!scopeObj._any)\n                      scopeObj._any = { preventDefault: false, stopPropagation: false, run: [] };\n                  let { any } = b;\n                  for (let key in scopeObj)\n                      scopeObj[key].run.push(view => any(view, currentKeyEvent));\n              }\n          let name = b[platform] || b.key;\n          if (!name)\n              continue;\n          for (let scope of scopes) {\n              add(scope, name, b.run, b.preventDefault, b.stopPropagation);\n              if (b.shift)\n                  add(scope, \"Shift-\" + name, b.shift, b.preventDefault, b.stopPropagation);\n          }\n      }\n      return bound;\n  }\n  let currentKeyEvent = null;\n  function runHandlers(map, event, view, scope) {\n      currentKeyEvent = event;\n      let name = keyName(event);\n      let charCode = codePointAt(name, 0), isChar = codePointSize(charCode) == name.length && name != \" \";\n      let prefix = \"\", handled = false, prevented = false, stopPropagation = false;\n      if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n          prefix = storedPrefix.prefix + \" \";\n          if (modifierCodes.indexOf(event.keyCode) < 0) {\n              prevented = true;\n              storedPrefix = null;\n          }\n      }\n      let ran = new Set;\n      let runFor = (binding) => {\n          if (binding) {\n              for (let cmd of binding.run)\n                  if (!ran.has(cmd)) {\n                      ran.add(cmd);\n                      if (cmd(view)) {\n                          if (binding.stopPropagation)\n                              stopPropagation = true;\n                          return true;\n                      }\n                  }\n              if (binding.preventDefault) {\n                  if (binding.stopPropagation)\n                      stopPropagation = true;\n                  prevented = true;\n              }\n          }\n          return false;\n      };\n      let scopeObj = map[scope], baseName, shiftName;\n      if (scopeObj) {\n          if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)])) {\n              handled = true;\n          }\n          else if (isChar && (event.altKey || event.metaKey || event.ctrlKey) &&\n              // Ctrl-Alt may be used for AltGr on Windows\n              !(browser.windows && event.ctrlKey && event.altKey) &&\n              // Alt-combinations on macOS tend to be typed characters\n              !(browser.mac && event.altKey && !(event.ctrlKey || event.metaKey)) &&\n              (baseName = base[event.keyCode]) && baseName != name) {\n              if (runFor(scopeObj[prefix + modifiers(baseName, event, true)])) {\n                  handled = true;\n              }\n              else if (event.shiftKey && (shiftName = shift[event.keyCode]) != name && shiftName != baseName &&\n                  runFor(scopeObj[prefix + modifiers(shiftName, event, false)])) {\n                  handled = true;\n              }\n          }\n          else if (isChar && event.shiftKey &&\n              runFor(scopeObj[prefix + modifiers(name, event, true)])) {\n              handled = true;\n          }\n          if (!handled && runFor(scopeObj._any))\n              handled = true;\n      }\n      if (prevented)\n          handled = true;\n      if (handled && stopPropagation)\n          event.stopPropagation();\n      currentKeyEvent = null;\n      return handled;\n  }\n\n  /**\n  Implementation of [`LayerMarker`](https://codemirror.net/6/docs/ref/#view.LayerMarker) that creates\n  a rectangle at a given set of coordinates.\n  */\n  class RectangleMarker {\n      /**\n      Create a marker with the given class and dimensions. If `width`\n      is null, the DOM element will get no width style.\n      */\n      constructor(className, \n      /**\n      The left position of the marker (in pixels, document-relative).\n      */\n      left, \n      /**\n      The top position of the marker.\n      */\n      top, \n      /**\n      The width of the marker, or null if it shouldn't get a width assigned.\n      */\n      width, \n      /**\n      The height of the marker.\n      */\n      height) {\n          this.className = className;\n          this.left = left;\n          this.top = top;\n          this.width = width;\n          this.height = height;\n      }\n      draw() {\n          let elt = document.createElement(\"div\");\n          elt.className = this.className;\n          this.adjust(elt);\n          return elt;\n      }\n      update(elt, prev) {\n          if (prev.className != this.className)\n              return false;\n          this.adjust(elt);\n          return true;\n      }\n      adjust(elt) {\n          elt.style.left = this.left + \"px\";\n          elt.style.top = this.top + \"px\";\n          if (this.width != null)\n              elt.style.width = this.width + \"px\";\n          elt.style.height = this.height + \"px\";\n      }\n      eq(p) {\n          return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n              this.className == p.className;\n      }\n      /**\n      Create a set of rectangles for the given selection range,\n      assigning them theclass`className`. Will create a single\n      rectangle for empty ranges, and a set of selection-style\n      rectangles covering the range's content (in a bidi-aware\n      way) for non-empty ones.\n      */\n      static forRange(view, className, range) {\n          if (range.empty) {\n              let pos = view.coordsAtPos(range.head, range.assoc || 1);\n              if (!pos)\n                  return [];\n              let base = getBase(view);\n              return [new RectangleMarker(className, pos.left - base.left, pos.top - base.top, null, pos.bottom - pos.top)];\n          }\n          else {\n              return rectanglesForRange(view, className, range);\n          }\n      }\n  }\n  function getBase(view) {\n      let rect = view.scrollDOM.getBoundingClientRect();\n      let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth * view.scaleX;\n      return { left: left - view.scrollDOM.scrollLeft * view.scaleX, top: rect.top - view.scrollDOM.scrollTop * view.scaleY };\n  }\n  function wrappedLine(view, pos, side, inside) {\n      let coords = view.coordsAtPos(pos, side * 2);\n      if (!coords)\n          return inside;\n      let editorRect = view.dom.getBoundingClientRect();\n      let y = (coords.top + coords.bottom) / 2;\n      let left = view.posAtCoords({ x: editorRect.left + 1, y });\n      let right = view.posAtCoords({ x: editorRect.right - 1, y });\n      if (left == null || right == null)\n          return inside;\n      return { from: Math.max(inside.from, Math.min(left, right)), to: Math.min(inside.to, Math.max(left, right)) };\n  }\n  function rectanglesForRange(view, className, range) {\n      if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n          return [];\n      let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n      let ltr = view.textDirection == Direction.LTR;\n      let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n      let lineElt = content.querySelector(\".cm-line\"), lineStyle = lineElt && window.getComputedStyle(lineElt);\n      let leftSide = contentRect.left +\n          (lineStyle ? parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent)) : 0);\n      let rightSide = contentRect.right - (lineStyle ? parseInt(lineStyle.paddingRight) : 0);\n      let startBlock = blockAt(view, from, 1), endBlock = blockAt(view, to, -1);\n      let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n      let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n      if (visualStart && (view.lineWrapping || startBlock.widgetLineBreaks))\n          visualStart = wrappedLine(view, from, 1, visualStart);\n      if (visualEnd && (view.lineWrapping || endBlock.widgetLineBreaks))\n          visualEnd = wrappedLine(view, to, -1, visualEnd);\n      if (visualStart && visualEnd && visualStart.from == visualEnd.from && visualStart.to == visualEnd.to) {\n          return pieces(drawForLine(range.from, range.to, visualStart));\n      }\n      else {\n          let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n          let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n          let between = [];\n          if ((visualStart || startBlock).to < (visualEnd || endBlock).from - (visualStart && visualEnd ? 1 : 0) ||\n              startBlock.widgetLineBreaks > 1 && top.bottom + view.defaultLineHeight / 2 < bottom.top)\n              between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n          else if (top.bottom < bottom.top && view.elementAtHeight((top.bottom + bottom.top) / 2).type == BlockType.Text)\n              top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n          return pieces(top).concat(between).concat(pieces(bottom));\n      }\n      function piece(left, top, right, bottom) {\n          return new RectangleMarker(className, left - base.left, top - base.top, right - left, bottom - top);\n      }\n      function pieces({ top, bottom, horizontal }) {\n          let pieces = [];\n          for (let i = 0; i < horizontal.length; i += 2)\n              pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n          return pieces;\n      }\n      // Gets passed from/to in line-local positions\n      function drawForLine(from, to, line) {\n          let top = 1e9, bottom = -1e9, horizontal = [];\n          function addSpan(from, fromOpen, to, toOpen, dir) {\n              // Passing 2/-2 is a kludge to force the view to return\n              // coordinates on the proper side of block widgets, since\n              // normalizing the side there, though appropriate for most\n              // coordsAtPos queries, would break selection drawing.\n              let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n              let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n              if (!fromCoords || !toCoords)\n                  return;\n              top = Math.min(fromCoords.top, toCoords.top, top);\n              bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n              if (dir == Direction.LTR)\n                  horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n              else\n                  horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n          }\n          let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n          // Split the range by visible range and document line\n          for (let r of view.visibleRanges)\n              if (r.to > start && r.from < end) {\n                  for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                      let docLine = view.state.doc.lineAt(pos);\n                      for (let span of view.bidiSpans(docLine)) {\n                          let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                          if (spanFrom >= endPos)\n                              break;\n                          if (spanTo > pos)\n                              addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                      }\n                      pos = docLine.to + 1;\n                      if (pos >= endPos)\n                          break;\n                  }\n              }\n          if (horizontal.length == 0)\n              addSpan(start, from == null, end, to == null, view.textDirection);\n          return { top, bottom, horizontal };\n      }\n      function drawForWidget(block, top) {\n          let y = contentRect.top + (top ? block.top : block.bottom);\n          return { top: y, bottom: y, horizontal: [] };\n      }\n  }\n  function sameMarker(a, b) {\n      return a.constructor == b.constructor && a.eq(b);\n  }\n  class LayerView {\n      constructor(view, layer) {\n          this.view = view;\n          this.layer = layer;\n          this.drawn = [];\n          this.scaleX = 1;\n          this.scaleY = 1;\n          this.measureReq = { read: this.measure.bind(this), write: this.draw.bind(this) };\n          this.dom = view.scrollDOM.appendChild(document.createElement(\"div\"));\n          this.dom.classList.add(\"cm-layer\");\n          if (layer.above)\n              this.dom.classList.add(\"cm-layer-above\");\n          if (layer.class)\n              this.dom.classList.add(layer.class);\n          this.scale();\n          this.dom.setAttribute(\"aria-hidden\", \"true\");\n          this.setOrder(view.state);\n          view.requestMeasure(this.measureReq);\n          if (layer.mount)\n              layer.mount(this.dom, view);\n      }\n      update(update) {\n          if (update.startState.facet(layerOrder) != update.state.facet(layerOrder))\n              this.setOrder(update.state);\n          if (this.layer.update(update, this.dom) || update.geometryChanged) {\n              this.scale();\n              update.view.requestMeasure(this.measureReq);\n          }\n      }\n      docViewUpdate(view) {\n          if (this.layer.updateOnDocViewUpdate !== false)\n              view.requestMeasure(this.measureReq);\n      }\n      setOrder(state) {\n          let pos = 0, order = state.facet(layerOrder);\n          while (pos < order.length && order[pos] != this.layer)\n              pos++;\n          this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - pos);\n      }\n      measure() {\n          return this.layer.markers(this.view);\n      }\n      scale() {\n          let { scaleX, scaleY } = this.view;\n          if (scaleX != this.scaleX || scaleY != this.scaleY) {\n              this.scaleX = scaleX;\n              this.scaleY = scaleY;\n              this.dom.style.transform = `scale(${1 / scaleX}, ${1 / scaleY})`;\n          }\n      }\n      draw(markers) {\n          if (markers.length != this.drawn.length || markers.some((p, i) => !sameMarker(p, this.drawn[i]))) {\n              let old = this.dom.firstChild, oldI = 0;\n              for (let marker of markers) {\n                  if (marker.update && old && marker.constructor && this.drawn[oldI].constructor &&\n                      marker.update(old, this.drawn[oldI])) {\n                      old = old.nextSibling;\n                      oldI++;\n                  }\n                  else {\n                      this.dom.insertBefore(marker.draw(), old);\n                  }\n              }\n              while (old) {\n                  let next = old.nextSibling;\n                  old.remove();\n                  old = next;\n              }\n              this.drawn = markers;\n          }\n      }\n      destroy() {\n          if (this.layer.destroy)\n              this.layer.destroy(this.dom, this.view);\n          this.dom.remove();\n      }\n  }\n  const layerOrder = /*@__PURE__*/Facet.define();\n  /**\n  Define a layer.\n  */\n  function layer(config) {\n      return [\n          ViewPlugin.define(v => new LayerView(v, config)),\n          layerOrder.of(config)\n      ];\n  }\n\n  const selectionConfig = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          return combineConfig(configs, {\n              cursorBlinkRate: 1200,\n              drawRangeCursor: true\n          }, {\n              cursorBlinkRate: (a, b) => Math.min(a, b),\n              drawRangeCursor: (a, b) => a || b\n          });\n      }\n  });\n  /**\n  Returns an extension that hides the browser's native selection and\n  cursor, replacing the selection with a background behind the text\n  (with the `cm-selectionBackground` class), and the\n  cursors with elements overlaid over the code (using\n  `cm-cursor-primary` and `cm-cursor-secondary`).\n\n  This allows the editor to display secondary selection ranges, and\n  tends to produce a type of selection more in line with that users\n  expect in a text editor (the native selection styling will often\n  leave gaps between lines and won't fill the horizontal space after\n  a line when the selection continues past it).\n\n  It does have a performance cost, in that it requires an extra DOM\n  layout cycle for many updates (the selection is drawn based on DOM\n  layout information that's only available after laying out the\n  content).\n  */\n  function drawSelection(config = {}) {\n      return [\n          selectionConfig.of(config),\n          cursorLayer,\n          selectionLayer,\n          hideNativeSelection,\n          nativeSelectionHidden.of(true)\n      ];\n  }\n  function configChanged(update) {\n      return update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n  }\n  const cursorLayer = /*@__PURE__*/layer({\n      above: true,\n      markers(view) {\n          let { state } = view, conf = state.facet(selectionConfig);\n          let cursors = [];\n          for (let r of state.selection.ranges) {\n              let prim = r == state.selection.main;\n              if (r.empty || conf.drawRangeCursor) {\n                  let className = prim ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\";\n                  let cursor = r.empty ? r : EditorSelection.cursor(r.head, r.head > r.anchor ? -1 : 1);\n                  for (let piece of RectangleMarker.forRange(view, className, cursor))\n                      cursors.push(piece);\n              }\n          }\n          return cursors;\n      },\n      update(update, dom) {\n          if (update.transactions.some(tr => tr.selection))\n              dom.style.animationName = dom.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n          let confChange = configChanged(update);\n          if (confChange)\n              setBlinkRate(update.state, dom);\n          return update.docChanged || update.selectionSet || confChange;\n      },\n      mount(dom, view) {\n          setBlinkRate(view.state, dom);\n      },\n      class: \"cm-cursorLayer\"\n  });\n  function setBlinkRate(state, dom) {\n      dom.style.animationDuration = state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n  }\n  const selectionLayer = /*@__PURE__*/layer({\n      above: false,\n      markers(view) {\n          return view.state.selection.ranges.map(r => r.empty ? [] : RectangleMarker.forRange(view, \"cm-selectionBackground\", r))\n              .reduce((a, b) => a.concat(b));\n      },\n      update(update, dom) {\n          return update.docChanged || update.selectionSet || update.viewportChanged || configChanged(update);\n      },\n      class: \"cm-selectionLayer\"\n  });\n  const hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme({\n      \".cm-line\": {\n          \"& ::selection, &::selection\": { backgroundColor: \"transparent !important\" },\n          caretColor: \"transparent !important\"\n      },\n      \".cm-content\": {\n          caretColor: \"transparent !important\",\n          \"& :focus\": {\n              caretColor: \"initial !important\",\n              \"&::selection, & ::selection\": {\n                  backgroundColor: \"Highlight !important\"\n              }\n          }\n      }\n  }));\n\n  const setDropCursorPos = /*@__PURE__*/StateEffect.define({\n      map(pos, mapping) { return pos == null ? null : mapping.mapPos(pos); }\n  });\n  const dropCursorPos = /*@__PURE__*/StateField.define({\n      create() { return null; },\n      update(pos, tr) {\n          if (pos != null)\n              pos = tr.changes.mapPos(pos);\n          return tr.effects.reduce((pos, e) => e.is(setDropCursorPos) ? e.value : pos, pos);\n      }\n  });\n  const drawDropCursor = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.view = view;\n          this.cursor = null;\n          this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };\n      }\n      update(update) {\n          var _a;\n          let cursorPos = update.state.field(dropCursorPos);\n          if (cursorPos == null) {\n              if (this.cursor != null) {\n                  (_a = this.cursor) === null || _a === void 0 ? void 0 : _a.remove();\n                  this.cursor = null;\n              }\n          }\n          else {\n              if (!this.cursor) {\n                  this.cursor = this.view.scrollDOM.appendChild(document.createElement(\"div\"));\n                  this.cursor.className = \"cm-dropCursor\";\n              }\n              if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)\n                  this.view.requestMeasure(this.measureReq);\n          }\n      }\n      readPos() {\n          let { view } = this;\n          let pos = view.state.field(dropCursorPos);\n          let rect = pos != null && view.coordsAtPos(pos);\n          if (!rect)\n              return null;\n          let outer = view.scrollDOM.getBoundingClientRect();\n          return {\n              left: rect.left - outer.left + view.scrollDOM.scrollLeft * view.scaleX,\n              top: rect.top - outer.top + view.scrollDOM.scrollTop * view.scaleY,\n              height: rect.bottom - rect.top\n          };\n      }\n      drawCursor(pos) {\n          if (this.cursor) {\n              let { scaleX, scaleY } = this.view;\n              if (pos) {\n                  this.cursor.style.left = pos.left / scaleX + \"px\";\n                  this.cursor.style.top = pos.top / scaleY + \"px\";\n                  this.cursor.style.height = pos.height / scaleY + \"px\";\n              }\n              else {\n                  this.cursor.style.left = \"-100000px\";\n              }\n          }\n      }\n      destroy() {\n          if (this.cursor)\n              this.cursor.remove();\n      }\n      setDropPos(pos) {\n          if (this.view.state.field(dropCursorPos) != pos)\n              this.view.dispatch({ effects: setDropCursorPos.of(pos) });\n      }\n  }, {\n      eventObservers: {\n          dragover(event) {\n              this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));\n          },\n          dragleave(event) {\n              if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))\n                  this.setDropPos(null);\n          },\n          dragend() {\n              this.setDropPos(null);\n          },\n          drop() {\n              this.setDropPos(null);\n          }\n      }\n  });\n  /**\n  Draws a cursor at the current drop position when something is\n  dragged over the editor.\n  */\n  function dropCursor() {\n      return [dropCursorPos, drawDropCursor];\n  }\n\n  function iterMatches(doc, re, from, to, f) {\n      re.lastIndex = 0;\n      for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n          if (!cursor.lineBreak)\n              while (m = re.exec(cursor.value))\n                  f(pos + m.index, m);\n      }\n  }\n  function matchRanges(view, maxLength) {\n      let visible = view.visibleRanges;\n      if (visible.length == 1 && visible[0].from == view.viewport.from &&\n          visible[0].to == view.viewport.to)\n          return visible;\n      let result = [];\n      for (let { from, to } of visible) {\n          from = Math.max(view.state.doc.lineAt(from).from, from - maxLength);\n          to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);\n          if (result.length && result[result.length - 1].to >= from)\n              result[result.length - 1].to = to;\n          else\n              result.push({ from, to });\n      }\n      return result;\n  }\n  /**\n  Helper class used to make it easier to maintain decorations on\n  visible code that matches a given regular expression. To be used\n  in a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\n  represent a matching configuration.\n  */\n  class MatchDecorator {\n      /**\n      Create a decorator.\n      */\n      constructor(config) {\n          const { regexp, decoration, decorate, boundary, maxLength = 1000 } = config;\n          if (!regexp.global)\n              throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n          this.regexp = regexp;\n          if (decorate) {\n              this.addMatch = (match, view, from, add) => decorate(add, from, from + match[0].length, match, view);\n          }\n          else if (typeof decoration == \"function\") {\n              this.addMatch = (match, view, from, add) => {\n                  let deco = decoration(match, view, from);\n                  if (deco)\n                      add(from, from + match[0].length, deco);\n              };\n          }\n          else if (decoration) {\n              this.addMatch = (match, _view, from, add) => add(from, from + match[0].length, decoration);\n          }\n          else {\n              throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");\n          }\n          this.boundary = boundary;\n          this.maxLength = maxLength;\n      }\n      /**\n      Compute the full set of decorations for matches in the given\n      view's viewport. You'll want to call this when initializing your\n      plugin.\n      */\n      createDeco(view) {\n          let build = new RangeSetBuilder(), add = build.add.bind(build);\n          for (let { from, to } of matchRanges(view, this.maxLength))\n              iterMatches(view.state.doc, this.regexp, from, to, (from, m) => this.addMatch(m, view, from, add));\n          return build.finish();\n      }\n      /**\n      Update a set of decorations for a view update. `deco` _must_ be\n      the set of decorations produced by _this_ `MatchDecorator` for\n      the view state before the update.\n      */\n      updateDeco(update, deco) {\n          let changeFrom = 1e9, changeTo = -1;\n          if (update.docChanged)\n              update.changes.iterChanges((_f, _t, from, to) => {\n                  if (to >= update.view.viewport.from && from <= update.view.viewport.to) {\n                      changeFrom = Math.min(from, changeFrom);\n                      changeTo = Math.max(to, changeTo);\n                  }\n              });\n          if (update.viewportMoved || changeTo - changeFrom > 1000)\n              return this.createDeco(update.view);\n          if (changeTo > -1)\n              return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n          return deco;\n      }\n      updateRange(view, deco, updateFrom, updateTo) {\n          for (let r of view.visibleRanges) {\n              let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n              if (to >= from) {\n                  let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                  let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                  if (this.boundary) {\n                      for (; from > fromLine.from; from--)\n                          if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                              start = from;\n                              break;\n                          }\n                      for (; to < toLine.to; to++)\n                          if (this.boundary.test(toLine.text[to - toLine.from])) {\n                              end = to;\n                              break;\n                          }\n                  }\n                  let ranges = [], m;\n                  let add = (from, to, deco) => ranges.push(deco.range(from, to));\n                  if (fromLine == toLine) {\n                      this.regexp.lastIndex = start - fromLine.from;\n                      while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from)\n                          this.addMatch(m, view, m.index + fromLine.from, add);\n                  }\n                  else {\n                      iterMatches(view.state.doc, this.regexp, start, end, (from, m) => this.addMatch(m, view, from, add));\n                  }\n                  deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n              }\n          }\n          return deco;\n      }\n  }\n\n  const UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\n  const Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\n  const Names = {\n      0: \"null\",\n      7: \"bell\",\n      8: \"backspace\",\n      10: \"newline\",\n      11: \"vertical tab\",\n      13: \"carriage return\",\n      27: \"escape\",\n      8203: \"zero width space\",\n      8204: \"zero width non-joiner\",\n      8205: \"zero width joiner\",\n      8206: \"left-to-right mark\",\n      8207: \"right-to-left mark\",\n      8232: \"line separator\",\n      8237: \"left-to-right override\",\n      8238: \"right-to-left override\",\n      8294: \"left-to-right isolate\",\n      8295: \"right-to-left isolate\",\n      8297: \"pop directional isolate\",\n      8233: \"paragraph separator\",\n      65279: \"zero width no-break space\",\n      65532: \"object replacement\"\n  };\n  let _supportsTabSize = null;\n  function supportsTabSize() {\n      var _a;\n      if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n          let styles = document.body.style;\n          _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n      }\n      return _supportsTabSize || false;\n  }\n  const specialCharConfig = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          let config = combineConfig(configs, {\n              render: null,\n              specialChars: Specials,\n              addSpecialChars: null\n          });\n          if (config.replaceTabs = !supportsTabSize())\n              config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n          if (config.addSpecialChars)\n              config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n          return config;\n      }\n  });\n  /**\n  Returns an extension that installs highlighting of special\n  characters.\n  */\n  function highlightSpecialChars(\n  /**\n  Configuration options.\n  */\n  config = {}) {\n      return [specialCharConfig.of(config), specialCharPlugin()];\n  }\n  let _plugin = null;\n  function specialCharPlugin() {\n      return _plugin || (_plugin = ViewPlugin.fromClass(class {\n          constructor(view) {\n              this.view = view;\n              this.decorations = Decoration.none;\n              this.decorationCache = Object.create(null);\n              this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n              this.decorations = this.decorator.createDeco(view);\n          }\n          makeDecorator(conf) {\n              return new MatchDecorator({\n                  regexp: conf.specialChars,\n                  decoration: (m, view, pos) => {\n                      let { doc } = view.state;\n                      let code = codePointAt(m[0], 0);\n                      if (code == 9) {\n                          let line = doc.lineAt(pos);\n                          let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);\n                          return Decoration.replace({\n                              widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth / this.view.scaleX)\n                          });\n                      }\n                      return this.decorationCache[code] ||\n                          (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                  },\n                  boundary: conf.replaceTabs ? undefined : /[^]/\n              });\n          }\n          update(update) {\n              let conf = update.state.facet(specialCharConfig);\n              if (update.startState.facet(specialCharConfig) != conf) {\n                  this.decorator = this.makeDecorator(conf);\n                  this.decorations = this.decorator.createDeco(update.view);\n              }\n              else {\n                  this.decorations = this.decorator.updateDeco(update, this.decorations);\n              }\n          }\n      }, {\n          decorations: v => v.decorations\n      }));\n  }\n  const DefaultPlaceholder = \"\\u2022\";\n  // Assigns placeholder characters from the Control Pictures block to\n  // ASCII control characters\n  function placeholder$1(code) {\n      if (code >= 32)\n          return DefaultPlaceholder;\n      if (code == 10)\n          return \"\\u2424\";\n      return String.fromCharCode(9216 + code);\n  }\n  class SpecialCharWidget extends WidgetType {\n      constructor(options, code) {\n          super();\n          this.options = options;\n          this.code = code;\n      }\n      eq(other) { return other.code == this.code; }\n      toDOM(view) {\n          let ph = placeholder$1(this.code);\n          let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n          let custom = this.options.render && this.options.render(this.code, desc, ph);\n          if (custom)\n              return custom;\n          let span = document.createElement(\"span\");\n          span.textContent = ph;\n          span.title = desc;\n          span.setAttribute(\"aria-label\", desc);\n          span.className = \"cm-specialChar\";\n          return span;\n      }\n      ignoreEvent() { return false; }\n  }\n  class TabWidget extends WidgetType {\n      constructor(width) {\n          super();\n          this.width = width;\n      }\n      eq(other) { return other.width == this.width; }\n      toDOM() {\n          let span = document.createElement(\"span\");\n          span.textContent = \"\\t\";\n          span.className = \"cm-tab\";\n          span.style.width = this.width + \"px\";\n          return span;\n      }\n      ignoreEvent() { return false; }\n  }\n\n  /**\n  Mark lines that have a cursor on them with the `\"cm-activeLine\"`\n  DOM class.\n  */\n  function highlightActiveLine() {\n      return activeLineHighlighter;\n  }\n  const lineDeco = /*@__PURE__*/Decoration.line({ class: \"cm-activeLine\" });\n  const activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.decorations = this.getDeco(view);\n      }\n      update(update) {\n          if (update.docChanged || update.selectionSet)\n              this.decorations = this.getDeco(update.view);\n      }\n      getDeco(view) {\n          let lastLineStart = -1, deco = [];\n          for (let r of view.state.selection.ranges) {\n              let line = view.lineBlockAt(r.head);\n              if (line.from > lastLineStart) {\n                  deco.push(lineDeco.range(line.from));\n                  lastLineStart = line.from;\n              }\n          }\n          return Decoration.set(deco);\n      }\n  }, {\n      decorations: v => v.decorations\n  });\n\n  // Don't compute precise column positions for line offsets above this\n  // (since it could get expensive). Assume offset==column for them.\n  const MaxOff = 2000;\n  function rectangleFor(state, a, b) {\n      let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n      let ranges = [];\n      if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n          let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n          for (let i = startLine; i <= endLine; i++) {\n              let line = state.doc.line(i);\n              if (line.length <= endOff)\n                  ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n          }\n      }\n      else {\n          let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n          for (let i = startLine; i <= endLine; i++) {\n              let line = state.doc.line(i);\n              let start = findColumn$1(line.text, startCol, state.tabSize, true);\n              if (start < 0) {\n                  ranges.push(EditorSelection.cursor(line.to));\n              }\n              else {\n                  let end = findColumn$1(line.text, endCol, state.tabSize);\n                  ranges.push(EditorSelection.range(line.from + start, line.from + end));\n              }\n          }\n      }\n      return ranges;\n  }\n  function absoluteColumn(view, x) {\n      let ref = view.coordsAtPos(view.viewport.from);\n      return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n  }\n  function getPos(view, event) {\n      let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n      let line = view.state.doc.lineAt(offset), off = offset - line.from;\n      let col = off > MaxOff ? -1\n          : off == line.length ? absoluteColumn(view, event.clientX)\n              : countColumn(line.text, view.state.tabSize, offset - line.from);\n      return { line: line.number, col, off };\n  }\n  function rectangleSelectionStyle(view, event) {\n      let start = getPos(view, event), startSel = view.state.selection;\n      if (!start)\n          return null;\n      return {\n          update(update) {\n              if (update.docChanged) {\n                  let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                  let newLine = update.state.doc.lineAt(newStart);\n                  start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                  startSel = startSel.map(update.changes);\n              }\n          },\n          get(event, _extend, multiple) {\n              let cur = getPos(view, event);\n              if (!cur)\n                  return startSel;\n              let ranges = rectangleFor(view.state, start, cur);\n              if (!ranges.length)\n                  return startSel;\n              if (multiple)\n                  return EditorSelection.create(ranges.concat(startSel.ranges));\n              else\n                  return EditorSelection.create(ranges);\n          }\n      };\n  }\n  /**\n  Create an extension that enables rectangular selections. By\n  default, it will react to left mouse drag with the Alt key held\n  down. When such a selection occurs, the text within the rectangle\n  that was dragged over will be selected, as one selection\n  [range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n  */\n  function rectangularSelection(options) {\n      let filter = (e => e.altKey && e.button == 0);\n      return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n  }\n  const keys = {\n      Alt: [18, e => !!e.altKey],\n      Control: [17, e => !!e.ctrlKey],\n      Shift: [16, e => !!e.shiftKey],\n      Meta: [91, e => !!e.metaKey]\n  };\n  const showCrosshair = { style: \"cursor: crosshair\" };\n  /**\n  Returns an extension that turns the pointer cursor into a\n  crosshair when a given modifier key, defaulting to Alt, is held\n  down. Can serve as a visual hint that rectangular selection is\n  going to happen when paired with\n  [`rectangularSelection`](https://codemirror.net/6/docs/ref/#view.rectangularSelection).\n  */\n  function crosshairCursor(options = {}) {\n      let [code, getter] = keys[options.key || \"Alt\"];\n      let plugin = ViewPlugin.fromClass(class {\n          constructor(view) {\n              this.view = view;\n              this.isDown = false;\n          }\n          set(isDown) {\n              if (this.isDown != isDown) {\n                  this.isDown = isDown;\n                  this.view.update([]);\n              }\n          }\n      }, {\n          eventObservers: {\n              keydown(e) {\n                  this.set(e.keyCode == code || getter(e));\n              },\n              keyup(e) {\n                  if (e.keyCode == code || !getter(e))\n                      this.set(false);\n              },\n              mousemove(e) {\n                  this.set(getter(e));\n              }\n          }\n      });\n      return [\n          plugin,\n          EditorView.contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.isDown) ? showCrosshair : null; })\n      ];\n  }\n\n  const Outside = \"-10000px\";\n  class TooltipViewManager {\n      constructor(view, facet, createTooltipView, removeTooltipView) {\n          this.facet = facet;\n          this.createTooltipView = createTooltipView;\n          this.removeTooltipView = removeTooltipView;\n          this.input = view.state.facet(facet);\n          this.tooltips = this.input.filter(t => t);\n          let prev = null;\n          this.tooltipViews = this.tooltips.map(t => prev = createTooltipView(t, prev));\n      }\n      update(update, above) {\n          var _a;\n          let input = update.state.facet(this.facet);\n          let tooltips = input.filter(x => x);\n          if (input === this.input) {\n              for (let t of this.tooltipViews)\n                  if (t.update)\n                      t.update(update);\n              return false;\n          }\n          let tooltipViews = [], newAbove = above ? [] : null;\n          for (let i = 0; i < tooltips.length; i++) {\n              let tip = tooltips[i], known = -1;\n              if (!tip)\n                  continue;\n              for (let i = 0; i < this.tooltips.length; i++) {\n                  let other = this.tooltips[i];\n                  if (other && other.create == tip.create)\n                      known = i;\n              }\n              if (known < 0) {\n                  tooltipViews[i] = this.createTooltipView(tip, i ? tooltipViews[i - 1] : null);\n                  if (newAbove)\n                      newAbove[i] = !!tip.above;\n              }\n              else {\n                  let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                  if (newAbove)\n                      newAbove[i] = above[known];\n                  if (tooltipView.update)\n                      tooltipView.update(update);\n              }\n          }\n          for (let t of this.tooltipViews)\n              if (tooltipViews.indexOf(t) < 0) {\n                  this.removeTooltipView(t);\n                  (_a = t.destroy) === null || _a === void 0 ? void 0 : _a.call(t);\n              }\n          if (above) {\n              newAbove.forEach((val, i) => above[i] = val);\n              above.length = newAbove.length;\n          }\n          this.input = input;\n          this.tooltips = tooltips;\n          this.tooltipViews = tooltipViews;\n          return true;\n      }\n  }\n  function windowSpace(view) {\n      let docElt = view.dom.ownerDocument.documentElement;\n      return { top: 0, left: 0, bottom: docElt.clientHeight, right: docElt.clientWidth };\n  }\n  const tooltipConfig = /*@__PURE__*/Facet.define({\n      combine: values => {\n          var _a, _b, _c;\n          return ({\n              position: browser.ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n              parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,\n              tooltipSpace: ((_c = values.find(conf => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace,\n          });\n      }\n  });\n  const knownHeight = /*@__PURE__*/new WeakMap();\n  const tooltipPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.view = view;\n          this.above = [];\n          this.inView = true;\n          this.madeAbsolute = false;\n          this.lastTransaction = 0;\n          this.measureTimeout = -1;\n          let config = view.state.facet(tooltipConfig);\n          this.position = config.position;\n          this.parent = config.parent;\n          this.classes = view.themeClasses;\n          this.createContainer();\n          this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n          this.resizeObserver = typeof ResizeObserver == \"function\" ? new ResizeObserver(() => this.measureSoon()) : null;\n          this.manager = new TooltipViewManager(view, showTooltip, (t, p) => this.createTooltip(t, p), t => {\n              if (this.resizeObserver)\n                  this.resizeObserver.unobserve(t.dom);\n              t.dom.remove();\n          });\n          this.above = this.manager.tooltips.map(t => !!t.above);\n          this.intersectionObserver = typeof IntersectionObserver == \"function\" ? new IntersectionObserver(entries => {\n              if (Date.now() > this.lastTransaction - 50 &&\n                  entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)\n                  this.measureSoon();\n          }, { threshold: [1] }) : null;\n          this.observeIntersection();\n          view.win.addEventListener(\"resize\", this.measureSoon = this.measureSoon.bind(this));\n          this.maybeMeasure();\n      }\n      createContainer() {\n          if (this.parent) {\n              this.container = document.createElement(\"div\");\n              this.container.style.position = \"relative\";\n              this.container.className = this.view.themeClasses;\n              this.parent.appendChild(this.container);\n          }\n          else {\n              this.container = this.view.dom;\n          }\n      }\n      observeIntersection() {\n          if (this.intersectionObserver) {\n              this.intersectionObserver.disconnect();\n              for (let tooltip of this.manager.tooltipViews)\n                  this.intersectionObserver.observe(tooltip.dom);\n          }\n      }\n      measureSoon() {\n          if (this.measureTimeout < 0)\n              this.measureTimeout = setTimeout(() => {\n                  this.measureTimeout = -1;\n                  this.maybeMeasure();\n              }, 50);\n      }\n      update(update) {\n          if (update.transactions.length)\n              this.lastTransaction = Date.now();\n          let updated = this.manager.update(update, this.above);\n          if (updated)\n              this.observeIntersection();\n          let shouldMeasure = updated || update.geometryChanged;\n          let newConfig = update.state.facet(tooltipConfig);\n          if (newConfig.position != this.position && !this.madeAbsolute) {\n              this.position = newConfig.position;\n              for (let t of this.manager.tooltipViews)\n                  t.dom.style.position = this.position;\n              shouldMeasure = true;\n          }\n          if (newConfig.parent != this.parent) {\n              if (this.parent)\n                  this.container.remove();\n              this.parent = newConfig.parent;\n              this.createContainer();\n              for (let t of this.manager.tooltipViews)\n                  this.container.appendChild(t.dom);\n              shouldMeasure = true;\n          }\n          else if (this.parent && this.view.themeClasses != this.classes) {\n              this.classes = this.container.className = this.view.themeClasses;\n          }\n          if (shouldMeasure)\n              this.maybeMeasure();\n      }\n      createTooltip(tooltip, prev) {\n          let tooltipView = tooltip.create(this.view);\n          let before = prev ? prev.dom : null;\n          tooltipView.dom.classList.add(\"cm-tooltip\");\n          if (tooltip.arrow && !tooltipView.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")) {\n              let arrow = document.createElement(\"div\");\n              arrow.className = \"cm-tooltip-arrow\";\n              tooltipView.dom.appendChild(arrow);\n          }\n          tooltipView.dom.style.position = this.position;\n          tooltipView.dom.style.top = Outside;\n          tooltipView.dom.style.left = \"0px\";\n          this.container.insertBefore(tooltipView.dom, before);\n          if (tooltipView.mount)\n              tooltipView.mount(this.view);\n          if (this.resizeObserver)\n              this.resizeObserver.observe(tooltipView.dom);\n          return tooltipView;\n      }\n      destroy() {\n          var _a, _b, _c;\n          this.view.win.removeEventListener(\"resize\", this.measureSoon);\n          for (let tooltipView of this.manager.tooltipViews) {\n              tooltipView.dom.remove();\n              (_a = tooltipView.destroy) === null || _a === void 0 ? void 0 : _a.call(tooltipView);\n          }\n          if (this.parent)\n              this.container.remove();\n          (_b = this.resizeObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n          (_c = this.intersectionObserver) === null || _c === void 0 ? void 0 : _c.disconnect();\n          clearTimeout(this.measureTimeout);\n      }\n      readMeasure() {\n          let scaleX = 1, scaleY = 1, makeAbsolute = false;\n          if (this.position == \"fixed\" && this.manager.tooltipViews.length) {\n              let { dom } = this.manager.tooltipViews[0];\n              if (browser.gecko) {\n                  // Firefox sets the element's `offsetParent` to the\n                  // transformed element when a transform interferes with fixed\n                  // positioning.\n                  makeAbsolute = dom.offsetParent != this.container.ownerDocument.body;\n              }\n              else if (dom.style.top == Outside && dom.style.left == \"0px\") {\n                  // On other browsers, we have to awkwardly try and use other\n                  // information to detect a transform.\n                  let rect = dom.getBoundingClientRect();\n                  makeAbsolute = Math.abs(rect.top + 10000) > 1 || Math.abs(rect.left) > 1;\n              }\n          }\n          if (makeAbsolute || this.position == \"absolute\") {\n              if (this.parent) {\n                  let rect = this.parent.getBoundingClientRect();\n                  if (rect.width && rect.height) {\n                      scaleX = rect.width / this.parent.offsetWidth;\n                      scaleY = rect.height / this.parent.offsetHeight;\n                  }\n              }\n              else {\n                  ({ scaleX, scaleY } = this.view.viewState);\n              }\n          }\n          let visible = this.view.scrollDOM.getBoundingClientRect(), margins = getScrollMargins(this.view);\n          return {\n              visible: {\n                  left: visible.left + margins.left, top: visible.top + margins.top,\n                  right: visible.right - margins.right, bottom: visible.bottom - margins.bottom\n              },\n              parent: this.parent ? this.container.getBoundingClientRect() : this.view.dom.getBoundingClientRect(),\n              pos: this.manager.tooltips.map((t, i) => {\n                  let tv = this.manager.tooltipViews[i];\n                  return tv.getCoords ? tv.getCoords(t.pos) : this.view.coordsAtPos(t.pos);\n              }),\n              size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n              space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),\n              scaleX, scaleY, makeAbsolute\n          };\n      }\n      writeMeasure(measured) {\n          var _a;\n          if (measured.makeAbsolute) {\n              this.madeAbsolute = true;\n              this.position = \"absolute\";\n              for (let t of this.manager.tooltipViews)\n                  t.dom.style.position = \"absolute\";\n          }\n          let { visible, space, scaleX, scaleY } = measured;\n          let others = [];\n          for (let i = 0; i < this.manager.tooltips.length; i++) {\n              let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n              let pos = measured.pos[i], size = measured.size[i];\n              // Hide tooltips that are outside of the editor.\n              if (!pos || tooltip.clip !== false && (pos.bottom <= Math.max(visible.top, space.top) ||\n                  pos.top >= Math.min(visible.bottom, space.bottom) ||\n                  pos.right < Math.max(visible.left, space.left) - .1 ||\n                  pos.left > Math.min(visible.right, space.right) + .1)) {\n                  dom.style.top = Outside;\n                  continue;\n              }\n              let arrow = tooltip.arrow ? tView.dom.querySelector(\".cm-tooltip-arrow\") : null;\n              let arrowHeight = arrow ? 7 /* Arrow.Size */ : 0;\n              let width = size.right - size.left, height = (_a = knownHeight.get(tView)) !== null && _a !== void 0 ? _a : size.bottom - size.top;\n              let offset = tView.offset || noOffset, ltr = this.view.textDirection == Direction.LTR;\n              let left = size.width > space.right - space.left\n                  ? (ltr ? space.left : space.right - size.width)\n                  : ltr ? Math.max(space.left, Math.min(pos.left - (arrow ? 14 /* Arrow.Offset */ : 0) + offset.x, space.right - width))\n                      : Math.min(Math.max(space.left, pos.left - width + (arrow ? 14 /* Arrow.Offset */ : 0) - offset.x), space.right - width);\n              let above = this.above[i];\n              if (!tooltip.strictSide && (above\n                  ? pos.top - height - arrowHeight - offset.y < space.top\n                  : pos.bottom + height + arrowHeight + offset.y > space.bottom) &&\n                  above == (space.bottom - pos.bottom > pos.top - space.top))\n                  above = this.above[i] = !above;\n              let spaceVert = (above ? pos.top - space.top : space.bottom - pos.bottom) - arrowHeight;\n              if (spaceVert < height && tView.resize !== false) {\n                  if (spaceVert < this.view.defaultLineHeight) {\n                      dom.style.top = Outside;\n                      continue;\n                  }\n                  knownHeight.set(tView, height);\n                  dom.style.height = (height = spaceVert) / scaleY + \"px\";\n              }\n              else if (dom.style.height) {\n                  dom.style.height = \"\";\n              }\n              let top = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;\n              let right = left + width;\n              if (tView.overlap !== true)\n                  for (let r of others)\n                      if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                          top = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;\n              if (this.position == \"absolute\") {\n                  dom.style.top = (top - measured.parent.top) / scaleY + \"px\";\n                  setLeftStyle(dom, (left - measured.parent.left) / scaleX);\n              }\n              else {\n                  dom.style.top = top / scaleY + \"px\";\n                  setLeftStyle(dom, left / scaleX);\n              }\n              if (arrow) {\n                  let arrowLeft = pos.left + (ltr ? offset.x : -offset.x) - (left + 14 /* Arrow.Offset */ - 7 /* Arrow.Size */);\n                  arrow.style.left = arrowLeft / scaleX + \"px\";\n              }\n              if (tView.overlap !== true)\n                  others.push({ left, top, right, bottom: top + height });\n              dom.classList.toggle(\"cm-tooltip-above\", above);\n              dom.classList.toggle(\"cm-tooltip-below\", !above);\n              if (tView.positioned)\n                  tView.positioned(measured.space);\n          }\n      }\n      maybeMeasure() {\n          if (this.manager.tooltips.length) {\n              if (this.view.inView)\n                  this.view.requestMeasure(this.measureReq);\n              if (this.inView != this.view.inView) {\n                  this.inView = this.view.inView;\n                  if (!this.inView)\n                      for (let tv of this.manager.tooltipViews)\n                          tv.dom.style.top = Outside;\n              }\n          }\n      }\n  }, {\n      eventObservers: {\n          scroll() { this.maybeMeasure(); }\n      }\n  });\n  function setLeftStyle(elt, value) {\n      let current = parseInt(elt.style.left, 10);\n      if (isNaN(current) || Math.abs(value - current) > 1)\n          elt.style.left = value + \"px\";\n  }\n  const baseTheme$4 = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-tooltip\": {\n          zIndex: 500,\n          boxSizing: \"border-box\"\n      },\n      \"&light .cm-tooltip\": {\n          border: \"1px solid #bbb\",\n          backgroundColor: \"#f5f5f5\"\n      },\n      \"&light .cm-tooltip-section:not(:first-child)\": {\n          borderTop: \"1px solid #bbb\",\n      },\n      \"&dark .cm-tooltip\": {\n          backgroundColor: \"#333338\",\n          color: \"white\"\n      },\n      \".cm-tooltip-arrow\": {\n          height: `${7 /* Arrow.Size */}px`,\n          width: `${7 /* Arrow.Size */ * 2}px`,\n          position: \"absolute\",\n          zIndex: -1,\n          overflow: \"hidden\",\n          \"&:before, &:after\": {\n              content: \"''\",\n              position: \"absolute\",\n              width: 0,\n              height: 0,\n              borderLeft: `${7 /* Arrow.Size */}px solid transparent`,\n              borderRight: `${7 /* Arrow.Size */}px solid transparent`,\n          },\n          \".cm-tooltip-above &\": {\n              bottom: `-${7 /* Arrow.Size */}px`,\n              \"&:before\": {\n                  borderTop: `${7 /* Arrow.Size */}px solid #bbb`,\n              },\n              \"&:after\": {\n                  borderTop: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                  bottom: \"1px\"\n              }\n          },\n          \".cm-tooltip-below &\": {\n              top: `-${7 /* Arrow.Size */}px`,\n              \"&:before\": {\n                  borderBottom: `${7 /* Arrow.Size */}px solid #bbb`,\n              },\n              \"&:after\": {\n                  borderBottom: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                  top: \"1px\"\n              }\n          },\n      },\n      \"&dark .cm-tooltip .cm-tooltip-arrow\": {\n          \"&:before\": {\n              borderTopColor: \"#333338\",\n              borderBottomColor: \"#333338\"\n          },\n          \"&:after\": {\n              borderTopColor: \"transparent\",\n              borderBottomColor: \"transparent\"\n          }\n      }\n  });\n  const noOffset = { x: 0, y: 0 };\n  /**\n  Facet to which an extension can add a value to show a tooltip.\n  */\n  const showTooltip = /*@__PURE__*/Facet.define({\n      enables: [tooltipPlugin, baseTheme$4]\n  });\n  const showHoverTooltip = /*@__PURE__*/Facet.define({\n      combine: inputs => inputs.reduce((a, i) => a.concat(i), [])\n  });\n  class HoverTooltipHost {\n      // Needs to be static so that host tooltip instances always match\n      static create(view) {\n          return new HoverTooltipHost(view);\n      }\n      constructor(view) {\n          this.view = view;\n          this.mounted = false;\n          this.dom = document.createElement(\"div\");\n          this.dom.classList.add(\"cm-tooltip-hover\");\n          this.manager = new TooltipViewManager(view, showHoverTooltip, (t, p) => this.createHostedView(t, p), t => t.dom.remove());\n      }\n      createHostedView(tooltip, prev) {\n          let hostedView = tooltip.create(this.view);\n          hostedView.dom.classList.add(\"cm-tooltip-section\");\n          this.dom.insertBefore(hostedView.dom, prev ? prev.dom.nextSibling : this.dom.firstChild);\n          if (this.mounted && hostedView.mount)\n              hostedView.mount(this.view);\n          return hostedView;\n      }\n      mount(view) {\n          for (let hostedView of this.manager.tooltipViews) {\n              if (hostedView.mount)\n                  hostedView.mount(view);\n          }\n          this.mounted = true;\n      }\n      positioned(space) {\n          for (let hostedView of this.manager.tooltipViews) {\n              if (hostedView.positioned)\n                  hostedView.positioned(space);\n          }\n      }\n      update(update) {\n          this.manager.update(update);\n      }\n      destroy() {\n          var _a;\n          for (let t of this.manager.tooltipViews)\n              (_a = t.destroy) === null || _a === void 0 ? void 0 : _a.call(t);\n      }\n      passProp(name) {\n          let value = undefined;\n          for (let view of this.manager.tooltipViews) {\n              let given = view[name];\n              if (given !== undefined) {\n                  if (value === undefined)\n                      value = given;\n                  else if (value !== given)\n                      return undefined;\n              }\n          }\n          return value;\n      }\n      get offset() { return this.passProp(\"offset\"); }\n      get getCoords() { return this.passProp(\"getCoords\"); }\n      get overlap() { return this.passProp(\"overlap\"); }\n      get resize() { return this.passProp(\"resize\"); }\n  }\n  const showHoverTooltipHost = /*@__PURE__*/showTooltip.compute([showHoverTooltip], state => {\n      let tooltips = state.facet(showHoverTooltip);\n      if (tooltips.length === 0)\n          return null;\n      return {\n          pos: Math.min(...tooltips.map(t => t.pos)),\n          end: Math.max(...tooltips.map(t => { var _a; return (_a = t.end) !== null && _a !== void 0 ? _a : t.pos; })),\n          create: HoverTooltipHost.create,\n          above: tooltips[0].above,\n          arrow: tooltips.some(t => t.arrow),\n      };\n  });\n  class HoverPlugin {\n      constructor(view, source, field, setHover, hoverTime) {\n          this.view = view;\n          this.source = source;\n          this.field = field;\n          this.setHover = setHover;\n          this.hoverTime = hoverTime;\n          this.hoverTimeout = -1;\n          this.restartTimeout = -1;\n          this.pending = null;\n          this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };\n          this.checkHover = this.checkHover.bind(this);\n          view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n          view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n      }\n      update() {\n          if (this.pending) {\n              this.pending = null;\n              clearTimeout(this.restartTimeout);\n              this.restartTimeout = setTimeout(() => this.startHover(), 20);\n          }\n      }\n      get active() {\n          return this.view.state.field(this.field);\n      }\n      checkHover() {\n          this.hoverTimeout = -1;\n          if (this.active.length)\n              return;\n          let hovered = Date.now() - this.lastMove.time;\n          if (hovered < this.hoverTime)\n              this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n          else\n              this.startHover();\n      }\n      startHover() {\n          clearTimeout(this.restartTimeout);\n          let { view, lastMove } = this;\n          let desc = view.docView.nearest(lastMove.target);\n          if (!desc)\n              return;\n          let pos, side = 1;\n          if (desc instanceof WidgetView) {\n              pos = desc.posAtStart;\n          }\n          else {\n              pos = view.posAtCoords(lastMove);\n              if (pos == null)\n                  return;\n              let posCoords = view.coordsAtPos(pos);\n              if (!posCoords ||\n                  lastMove.y < posCoords.top || lastMove.y > posCoords.bottom ||\n                  lastMove.x < posCoords.left - view.defaultCharacterWidth ||\n                  lastMove.x > posCoords.right + view.defaultCharacterWidth)\n                  return;\n              let bidi = view.bidiSpans(view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n              let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n              side = (lastMove.x < posCoords.left ? -rtl : rtl);\n          }\n          let open = this.source(view, pos, side);\n          if (open === null || open === void 0 ? void 0 : open.then) {\n              let pending = this.pending = { pos };\n              open.then(result => {\n                  if (this.pending == pending) {\n                      this.pending = null;\n                      if (result && !(Array.isArray(result) && !result.length))\n                          view.dispatch({ effects: this.setHover.of(Array.isArray(result) ? result : [result]) });\n                  }\n              }, e => logException(view.state, e, \"hover tooltip\"));\n          }\n          else if (open && !(Array.isArray(open) && !open.length)) {\n              view.dispatch({ effects: this.setHover.of(Array.isArray(open) ? open : [open]) });\n          }\n      }\n      get tooltip() {\n          let plugin = this.view.plugin(tooltipPlugin);\n          let index = plugin ? plugin.manager.tooltips.findIndex(t => t.create == HoverTooltipHost.create) : -1;\n          return index > -1 ? plugin.manager.tooltipViews[index] : null;\n      }\n      mousemove(event) {\n          var _a, _b;\n          this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };\n          if (this.hoverTimeout < 0)\n              this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n          let { active, tooltip } = this;\n          if (active.length && tooltip && !isInTooltip(tooltip.dom, event) || this.pending) {\n              let { pos } = active[0] || this.pending, end = (_b = (_a = active[0]) === null || _a === void 0 ? void 0 : _a.end) !== null && _b !== void 0 ? _b : pos;\n              if ((pos == end ? this.view.posAtCoords(this.lastMove) != pos\n                  : !isOverRange(this.view, pos, end, event.clientX, event.clientY))) {\n                  this.view.dispatch({ effects: this.setHover.of([]) });\n                  this.pending = null;\n              }\n          }\n      }\n      mouseleave(event) {\n          clearTimeout(this.hoverTimeout);\n          this.hoverTimeout = -1;\n          let { active } = this;\n          if (active.length) {\n              let { tooltip } = this;\n              let inTooltip = tooltip && tooltip.dom.contains(event.relatedTarget);\n              if (!inTooltip)\n                  this.view.dispatch({ effects: this.setHover.of([]) });\n              else\n                  this.watchTooltipLeave(tooltip.dom);\n          }\n      }\n      watchTooltipLeave(tooltip) {\n          let watch = (event) => {\n              tooltip.removeEventListener(\"mouseleave\", watch);\n              if (this.active.length && !this.view.dom.contains(event.relatedTarget))\n                  this.view.dispatch({ effects: this.setHover.of([]) });\n          };\n          tooltip.addEventListener(\"mouseleave\", watch);\n      }\n      destroy() {\n          clearTimeout(this.hoverTimeout);\n          this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n          this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n      }\n  }\n  const tooltipMargin = 4;\n  function isInTooltip(tooltip, event) {\n      let { left, right, top, bottom } = tooltip.getBoundingClientRect(), arrow;\n      if (arrow = tooltip.querySelector(\".cm-tooltip-arrow\")) {\n          let arrowRect = arrow.getBoundingClientRect();\n          top = Math.min(arrowRect.top, top);\n          bottom = Math.max(arrowRect.bottom, bottom);\n      }\n      return event.clientX >= left - tooltipMargin && event.clientX <= right + tooltipMargin &&\n          event.clientY >= top - tooltipMargin && event.clientY <= bottom + tooltipMargin;\n  }\n  function isOverRange(view, from, to, x, y, margin) {\n      let rect = view.scrollDOM.getBoundingClientRect();\n      let docBottom = view.documentTop + view.documentPadding.top + view.contentHeight;\n      if (rect.left > x || rect.right < x || rect.top > y || Math.min(rect.bottom, docBottom) < y)\n          return false;\n      let pos = view.posAtCoords({ x, y }, false);\n      return pos >= from && pos <= to;\n  }\n  /**\n  Set up a hover tooltip, which shows up when the pointer hovers\n  over ranges of text. The callback is called when the mouse hovers\n  over the document text. It should, if there is a tooltip\n  associated with position `pos`, return the tooltip description\n  (either directly or in a promise). The `side` argument indicates\n  on which side of the position the pointer isit will be -1 if the\n  pointer is before the position, 1 if after the position.\n\n  Note that all hover tooltips are hosted within a single tooltip\n  container element. This allows multiple tooltips over the same\n  range to be \"merged\" together without overlapping.\n\n  The return value is a valid [editor extension](https://codemirror.net/6/docs/ref/#state.Extension)\n  but also provides an `active` property holding a state field that\n  can be used to read the currently active tooltips produced by this\n  extension.\n  */\n  function hoverTooltip(source, options = {}) {\n      let setHover = StateEffect.define();\n      let hoverState = StateField.define({\n          create() { return []; },\n          update(value, tr) {\n              if (value.length) {\n                  if (options.hideOnChange && (tr.docChanged || tr.selection))\n                      value = [];\n                  else if (options.hideOn)\n                      value = value.filter(v => !options.hideOn(tr, v));\n                  if (tr.docChanged) {\n                      let mapped = [];\n                      for (let tooltip of value) {\n                          let newPos = tr.changes.mapPos(tooltip.pos, -1, MapMode.TrackDel);\n                          if (newPos != null) {\n                              let copy = Object.assign(Object.create(null), tooltip);\n                              copy.pos = newPos;\n                              if (copy.end != null)\n                                  copy.end = tr.changes.mapPos(copy.end);\n                              mapped.push(copy);\n                          }\n                      }\n                      value = mapped;\n                  }\n              }\n              for (let effect of tr.effects) {\n                  if (effect.is(setHover))\n                      value = effect.value;\n                  if (effect.is(closeHoverTooltipEffect))\n                      value = [];\n              }\n              return value;\n          },\n          provide: f => showHoverTooltip.from(f)\n      });\n      return {\n          active: hoverState,\n          extension: [\n              hoverState,\n              ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, options.hoverTime || 300 /* Hover.Time */)),\n              showHoverTooltipHost\n          ]\n      };\n  }\n  /**\n  Get the active tooltip view for a given tooltip, if available.\n  */\n  function getTooltip(view, tooltip) {\n      let plugin = view.plugin(tooltipPlugin);\n      if (!plugin)\n          return null;\n      let found = plugin.manager.tooltips.indexOf(tooltip);\n      return found < 0 ? null : plugin.manager.tooltipViews[found];\n  }\n  const closeHoverTooltipEffect = /*@__PURE__*/StateEffect.define();\n\n  const panelConfig = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          let topContainer, bottomContainer;\n          for (let c of configs) {\n              topContainer = topContainer || c.topContainer;\n              bottomContainer = bottomContainer || c.bottomContainer;\n          }\n          return { topContainer, bottomContainer };\n      }\n  });\n  /**\n  Get the active panel created by the given constructor, if any.\n  This can be useful when you need access to your panels' DOM\n  structure.\n  */\n  function getPanel(view, panel) {\n      let plugin = view.plugin(panelPlugin);\n      let index = plugin ? plugin.specs.indexOf(panel) : -1;\n      return index > -1 ? plugin.panels[index] : null;\n  }\n  const panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.input = view.state.facet(showPanel);\n          this.specs = this.input.filter(s => s);\n          this.panels = this.specs.map(spec => spec(view));\n          let conf = view.state.facet(panelConfig);\n          this.top = new PanelGroup(view, true, conf.topContainer);\n          this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n          this.top.sync(this.panels.filter(p => p.top));\n          this.bottom.sync(this.panels.filter(p => !p.top));\n          for (let p of this.panels) {\n              p.dom.classList.add(\"cm-panel\");\n              if (p.mount)\n                  p.mount();\n          }\n      }\n      update(update) {\n          let conf = update.state.facet(panelConfig);\n          if (this.top.container != conf.topContainer) {\n              this.top.sync([]);\n              this.top = new PanelGroup(update.view, true, conf.topContainer);\n          }\n          if (this.bottom.container != conf.bottomContainer) {\n              this.bottom.sync([]);\n              this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n          }\n          this.top.syncClasses();\n          this.bottom.syncClasses();\n          let input = update.state.facet(showPanel);\n          if (input != this.input) {\n              let specs = input.filter(x => x);\n              let panels = [], top = [], bottom = [], mount = [];\n              for (let spec of specs) {\n                  let known = this.specs.indexOf(spec), panel;\n                  if (known < 0) {\n                      panel = spec(update.view);\n                      mount.push(panel);\n                  }\n                  else {\n                      panel = this.panels[known];\n                      if (panel.update)\n                          panel.update(update);\n                  }\n                  panels.push(panel);\n                  (panel.top ? top : bottom).push(panel);\n              }\n              this.specs = specs;\n              this.panels = panels;\n              this.top.sync(top);\n              this.bottom.sync(bottom);\n              for (let p of mount) {\n                  p.dom.classList.add(\"cm-panel\");\n                  if (p.mount)\n                      p.mount();\n              }\n          }\n          else {\n              for (let p of this.panels)\n                  if (p.update)\n                      p.update(update);\n          }\n      }\n      destroy() {\n          this.top.sync([]);\n          this.bottom.sync([]);\n      }\n  }, {\n      provide: plugin => EditorView.scrollMargins.of(view => {\n          let value = view.plugin(plugin);\n          return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };\n      })\n  });\n  class PanelGroup {\n      constructor(view, top, container) {\n          this.view = view;\n          this.top = top;\n          this.container = container;\n          this.dom = undefined;\n          this.classes = \"\";\n          this.panels = [];\n          this.syncClasses();\n      }\n      sync(panels) {\n          for (let p of this.panels)\n              if (p.destroy && panels.indexOf(p) < 0)\n                  p.destroy();\n          this.panels = panels;\n          this.syncDOM();\n      }\n      syncDOM() {\n          if (this.panels.length == 0) {\n              if (this.dom) {\n                  this.dom.remove();\n                  this.dom = undefined;\n              }\n              return;\n          }\n          if (!this.dom) {\n              this.dom = document.createElement(\"div\");\n              this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n              this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n              let parent = this.container || this.view.dom;\n              parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n          }\n          let curDOM = this.dom.firstChild;\n          for (let panel of this.panels) {\n              if (panel.dom.parentNode == this.dom) {\n                  while (curDOM != panel.dom)\n                      curDOM = rm(curDOM);\n                  curDOM = curDOM.nextSibling;\n              }\n              else {\n                  this.dom.insertBefore(panel.dom, curDOM);\n              }\n          }\n          while (curDOM)\n              curDOM = rm(curDOM);\n      }\n      scrollMargin() {\n          return !this.dom || this.container ? 0\n              : Math.max(0, this.top ?\n                  this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                  Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n      }\n      syncClasses() {\n          if (!this.container || this.classes == this.view.themeClasses)\n              return;\n          for (let cls of this.classes.split(\" \"))\n              if (cls)\n                  this.container.classList.remove(cls);\n          for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n              if (cls)\n                  this.container.classList.add(cls);\n      }\n  }\n  function rm(node) {\n      let next = node.nextSibling;\n      node.remove();\n      return next;\n  }\n  /**\n  Opening a panel is done by providing a constructor function for\n  the panel through this facet. (The panel is closed again when its\n  constructor is no longer provided.) Values of `null` are ignored.\n  */\n  const showPanel = /*@__PURE__*/Facet.define({\n      enables: panelPlugin\n  });\n\n  /**\n  A gutter marker represents a bit of information attached to a line\n  in a specific gutter. Your own custom markers have to extend this\n  class.\n  */\n  class GutterMarker extends RangeValue {\n      /**\n      @internal\n      */\n      compare(other) {\n          return this == other || this.constructor == other.constructor && this.eq(other);\n      }\n      /**\n      Compare this marker to another marker of the same type.\n      */\n      eq(other) { return false; }\n      /**\n      Called if the marker has a `toDOM` method and its representation\n      was removed from a gutter.\n      */\n      destroy(dom) { }\n  }\n  GutterMarker.prototype.elementClass = \"\";\n  GutterMarker.prototype.toDOM = undefined;\n  GutterMarker.prototype.mapMode = MapMode.TrackBefore;\n  GutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\n  GutterMarker.prototype.point = true;\n  /**\n  Facet used to add a class to all gutter elements for a given line.\n  Markers given to this facet should _only_ define an\n  [`elementclass`](https://codemirror.net/6/docs/ref/#view.GutterMarker.elementClass), not a\n  [`toDOM`](https://codemirror.net/6/docs/ref/#view.GutterMarker.toDOM) (or the marker will appear\n  in all gutters for the line).\n  */\n  const gutterLineClass = /*@__PURE__*/Facet.define();\n  /**\n  Facet used to add a class to all gutter elements next to a widget.\n  Should not provide widgets with a `toDOM` method.\n  */\n  const gutterWidgetClass = /*@__PURE__*/Facet.define();\n  const defaults$1 = {\n      class: \"\",\n      renderEmptyElements: false,\n      elementStyle: \"\",\n      markers: () => RangeSet.empty,\n      lineMarker: () => null,\n      widgetMarker: () => null,\n      lineMarkerChange: null,\n      initialSpacer: null,\n      updateSpacer: null,\n      domEventHandlers: {},\n      side: \"before\"\n  };\n  const activeGutters = /*@__PURE__*/Facet.define();\n  /**\n  Define an editor gutter. The order in which the gutters appear is\n  determined by their extension priority.\n  */\n  function gutter(config) {\n      return [gutters(), activeGutters.of({ ...defaults$1, ...config })];\n  }\n  const unfixGutters = /*@__PURE__*/Facet.define({\n      combine: values => values.some(x => x)\n  });\n  /**\n  The gutter-drawing plugin is automatically enabled when you add a\n  gutter, but you can use this function to explicitly configure it.\n\n  Unless `fixed` is explicitly set to `false`, the gutters are\n  fixed, meaning they don't scroll along with the content\n  horizontally (except on Internet Explorer, which doesn't support\n  CSS [`position:\n  sticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n  */\n  function gutters(config) {\n      let result = [\n          gutterView,\n      ];\n      return result;\n  }\n  const gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.view = view;\n          this.domAfter = null;\n          this.prevViewport = view.viewport;\n          this.dom = document.createElement(\"div\");\n          this.dom.className = \"cm-gutters cm-gutters-before\";\n          this.dom.setAttribute(\"aria-hidden\", \"true\");\n          this.dom.style.minHeight = (this.view.contentHeight / this.view.scaleY) + \"px\";\n          this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n          this.fixed = !view.state.facet(unfixGutters);\n          for (let gutter of this.gutters) {\n              if (gutter.config.side == \"after\")\n                  this.getDOMAfter().appendChild(gutter.dom);\n              else\n                  this.dom.appendChild(gutter.dom);\n          }\n          if (this.fixed) {\n              // FIXME IE11 fallback, which doesn't support position: sticky,\n              // by using position: relative + event handlers that realign the\n              // gutter (or just force fixed=false on IE11?)\n              this.dom.style.position = \"sticky\";\n          }\n          this.syncGutters(false);\n          view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n      }\n      getDOMAfter() {\n          if (!this.domAfter) {\n              this.domAfter = document.createElement(\"div\");\n              this.domAfter.className = \"cm-gutters cm-gutters-after\";\n              this.domAfter.setAttribute(\"aria-hidden\", \"true\");\n              this.domAfter.style.minHeight = (this.view.contentHeight / this.view.scaleY) + \"px\";\n              this.domAfter.style.position = this.fixed ? \"sticky\" : \"\";\n              this.view.scrollDOM.appendChild(this.domAfter);\n          }\n          return this.domAfter;\n      }\n      update(update) {\n          if (this.updateGutters(update)) {\n              // Detach during sync when the viewport changed significantly\n              // (such as during scrolling), since for large updates that is\n              // faster.\n              let vpA = this.prevViewport, vpB = update.view.viewport;\n              let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);\n              this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);\n          }\n          if (update.geometryChanged) {\n              let min = (this.view.contentHeight / this.view.scaleY) + \"px\";\n              this.dom.style.minHeight = min;\n              if (this.domAfter)\n                  this.domAfter.style.minHeight = min;\n          }\n          if (this.view.state.facet(unfixGutters) != !this.fixed) {\n              this.fixed = !this.fixed;\n              this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n              if (this.domAfter)\n                  this.domAfter.style.position = this.fixed ? \"sticky\" : \"\";\n          }\n          this.prevViewport = update.view.viewport;\n      }\n      syncGutters(detach) {\n          let after = this.dom.nextSibling;\n          if (detach) {\n              this.dom.remove();\n              if (this.domAfter)\n                  this.domAfter.remove();\n          }\n          let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n          let classSet = [];\n          let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport, -this.view.documentPadding.top));\n          for (let line of this.view.viewportLineBlocks) {\n              if (classSet.length)\n                  classSet = [];\n              if (Array.isArray(line.type)) {\n                  let first = true;\n                  for (let b of line.type) {\n                      if (b.type == BlockType.Text && first) {\n                          advanceCursor(lineClasses, classSet, b.from);\n                          for (let cx of contexts)\n                              cx.line(this.view, b, classSet);\n                          first = false;\n                      }\n                      else if (b.widget) {\n                          for (let cx of contexts)\n                              cx.widget(this.view, b);\n                      }\n                  }\n              }\n              else if (line.type == BlockType.Text) {\n                  advanceCursor(lineClasses, classSet, line.from);\n                  for (let cx of contexts)\n                      cx.line(this.view, line, classSet);\n              }\n              else if (line.widget) {\n                  for (let cx of contexts)\n                      cx.widget(this.view, line);\n              }\n          }\n          for (let cx of contexts)\n              cx.finish();\n          if (detach) {\n              this.view.scrollDOM.insertBefore(this.dom, after);\n              if (this.domAfter)\n                  this.view.scrollDOM.appendChild(this.domAfter);\n          }\n      }\n      updateGutters(update) {\n          let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n          let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n              !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n          if (prev == cur) {\n              for (let gutter of this.gutters)\n                  if (gutter.update(update))\n                      change = true;\n          }\n          else {\n              change = true;\n              let gutters = [];\n              for (let conf of cur) {\n                  let known = prev.indexOf(conf);\n                  if (known < 0) {\n                      gutters.push(new SingleGutterView(this.view, conf));\n                  }\n                  else {\n                      this.gutters[known].update(update);\n                      gutters.push(this.gutters[known]);\n                  }\n              }\n              for (let g of this.gutters) {\n                  g.dom.remove();\n                  if (gutters.indexOf(g) < 0)\n                      g.destroy();\n              }\n              for (let g of gutters) {\n                  if (g.config.side == \"after\")\n                      this.getDOMAfter().appendChild(g.dom);\n                  else\n                      this.dom.appendChild(g.dom);\n              }\n              this.gutters = gutters;\n          }\n          return change;\n      }\n      destroy() {\n          for (let view of this.gutters)\n              view.destroy();\n          this.dom.remove();\n          if (this.domAfter)\n              this.domAfter.remove();\n      }\n  }, {\n      provide: plugin => EditorView.scrollMargins.of(view => {\n          let value = view.plugin(plugin);\n          if (!value || value.gutters.length == 0 || !value.fixed)\n              return null;\n          let before = value.dom.offsetWidth * view.scaleX, after = value.domAfter ? value.domAfter.offsetWidth * view.scaleX : 0;\n          return view.textDirection == Direction.LTR\n              ? { left: before, right: after }\n              : { right: before, left: after };\n      })\n  });\n  function asArray(val) { return (Array.isArray(val) ? val : [val]); }\n  function advanceCursor(cursor, collect, pos) {\n      while (cursor.value && cursor.from <= pos) {\n          if (cursor.from == pos)\n              collect.push(cursor.value);\n          cursor.next();\n      }\n  }\n  class UpdateContext {\n      constructor(gutter, viewport, height) {\n          this.gutter = gutter;\n          this.height = height;\n          this.i = 0;\n          this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n      }\n      addElement(view, block, markers) {\n          let { gutter } = this, above = (block.top - this.height) / view.scaleY, height = block.height / view.scaleY;\n          if (this.i == gutter.elements.length) {\n              let newElt = new GutterElement(view, height, above, markers);\n              gutter.elements.push(newElt);\n              gutter.dom.appendChild(newElt.dom);\n          }\n          else {\n              gutter.elements[this.i].update(view, height, above, markers);\n          }\n          this.height = block.bottom;\n          this.i++;\n      }\n      line(view, line, extraMarkers) {\n          let localMarkers = [];\n          advanceCursor(this.cursor, localMarkers, line.from);\n          if (extraMarkers.length)\n              localMarkers = localMarkers.concat(extraMarkers);\n          let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n          if (forLine)\n              localMarkers.unshift(forLine);\n          let gutter = this.gutter;\n          if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n              return;\n          this.addElement(view, line, localMarkers);\n      }\n      widget(view, block) {\n          let marker = this.gutter.config.widgetMarker(view, block.widget, block), markers = marker ? [marker] : null;\n          for (let cls of view.state.facet(gutterWidgetClass)) {\n              let marker = cls(view, block.widget, block);\n              if (marker)\n                  (markers || (markers = [])).push(marker);\n          }\n          if (markers)\n              this.addElement(view, block, markers);\n      }\n      finish() {\n          let gutter = this.gutter;\n          while (gutter.elements.length > this.i) {\n              let last = gutter.elements.pop();\n              gutter.dom.removeChild(last.dom);\n              last.destroy();\n          }\n      }\n  }\n  class SingleGutterView {\n      constructor(view, config) {\n          this.view = view;\n          this.config = config;\n          this.elements = [];\n          this.spacer = null;\n          this.dom = document.createElement(\"div\");\n          this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n          for (let prop in config.domEventHandlers) {\n              this.dom.addEventListener(prop, (event) => {\n                  let target = event.target, y;\n                  if (target != this.dom && this.dom.contains(target)) {\n                      while (target.parentNode != this.dom)\n                          target = target.parentNode;\n                      let rect = target.getBoundingClientRect();\n                      y = (rect.top + rect.bottom) / 2;\n                  }\n                  else {\n                      y = event.clientY;\n                  }\n                  let line = view.lineBlockAtHeight(y - view.documentTop);\n                  if (config.domEventHandlers[prop](view, line, event))\n                      event.preventDefault();\n              });\n          }\n          this.markers = asArray(config.markers(view));\n          if (config.initialSpacer) {\n              this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n              this.dom.appendChild(this.spacer.dom);\n              this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n          }\n      }\n      update(update) {\n          let prevMarkers = this.markers;\n          this.markers = asArray(this.config.markers(update.view));\n          if (this.spacer && this.config.updateSpacer) {\n              let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n              if (updated != this.spacer.markers[0])\n                  this.spacer.update(update.view, 0, 0, [updated]);\n          }\n          let vp = update.view.viewport;\n          return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) ||\n              (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);\n      }\n      destroy() {\n          for (let elt of this.elements)\n              elt.destroy();\n      }\n  }\n  class GutterElement {\n      constructor(view, height, above, markers) {\n          this.height = -1;\n          this.above = 0;\n          this.markers = [];\n          this.dom = document.createElement(\"div\");\n          this.dom.className = \"cm-gutterElement\";\n          this.update(view, height, above, markers);\n      }\n      update(view, height, above, markers) {\n          if (this.height != height) {\n              this.height = height;\n              this.dom.style.height = height + \"px\";\n          }\n          if (this.above != above)\n              this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n          if (!sameMarkers(this.markers, markers))\n              this.setMarkers(view, markers);\n      }\n      setMarkers(view, markers) {\n          let cls = \"cm-gutterElement\", domPos = this.dom.firstChild;\n          for (let iNew = 0, iOld = 0;;) {\n              let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;\n              if (marker) {\n                  let c = marker.elementClass;\n                  if (c)\n                      cls += \" \" + c;\n                  for (let i = iOld; i < this.markers.length; i++)\n                      if (this.markers[i].compare(marker)) {\n                          skipTo = i;\n                          matched = true;\n                          break;\n                      }\n              }\n              else {\n                  skipTo = this.markers.length;\n              }\n              while (iOld < skipTo) {\n                  let next = this.markers[iOld++];\n                  if (next.toDOM) {\n                      next.destroy(domPos);\n                      let after = domPos.nextSibling;\n                      domPos.remove();\n                      domPos = after;\n                  }\n              }\n              if (!marker)\n                  break;\n              if (marker.toDOM) {\n                  if (matched)\n                      domPos = domPos.nextSibling;\n                  else\n                      this.dom.insertBefore(marker.toDOM(view), domPos);\n              }\n              if (matched)\n                  iOld++;\n          }\n          this.dom.className = cls;\n          this.markers = markers;\n      }\n      destroy() {\n          this.setMarkers(null, []); // First argument not used unless creating markers\n      }\n  }\n  function sameMarkers(a, b) {\n      if (a.length != b.length)\n          return false;\n      for (let i = 0; i < a.length; i++)\n          if (!a[i].compare(b[i]))\n              return false;\n      return true;\n  }\n  /**\n  Facet used to provide markers to the line number gutter.\n  */\n  const lineNumberMarkers = /*@__PURE__*/Facet.define();\n  /**\n  Facet used to create markers in the line number gutter next to widgets.\n  */\n  const lineNumberWidgetMarker = /*@__PURE__*/Facet.define();\n  const lineNumberConfig = /*@__PURE__*/Facet.define({\n      combine(values) {\n          return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n              domEventHandlers(a, b) {\n                  let result = Object.assign({}, a);\n                  for (let event in b) {\n                      let exists = result[event], add = b[event];\n                      result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                  }\n                  return result;\n              }\n          });\n      }\n  });\n  class NumberMarker extends GutterMarker {\n      constructor(number) {\n          super();\n          this.number = number;\n      }\n      eq(other) { return this.number == other.number; }\n      toDOM() { return document.createTextNode(this.number); }\n  }\n  function formatNumber(view, number) {\n      return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n  }\n  const lineNumberGutter = /*@__PURE__*/activeGutters.compute([lineNumberConfig], state => ({\n      class: \"cm-lineNumbers\",\n      renderEmptyElements: false,\n      markers(view) { return view.state.facet(lineNumberMarkers); },\n      lineMarker(view, line, others) {\n          if (others.some(m => m.toDOM))\n              return null;\n          return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n      },\n      widgetMarker: (view, widget, block) => {\n          for (let m of view.state.facet(lineNumberWidgetMarker)) {\n              let result = m(view, widget, block);\n              if (result)\n                  return result;\n          }\n          return null;\n      },\n      lineMarkerChange: update => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),\n      initialSpacer(view) {\n          return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n      },\n      updateSpacer(spacer, update) {\n          let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n          return max == spacer.number ? spacer : new NumberMarker(max);\n      },\n      domEventHandlers: state.facet(lineNumberConfig).domEventHandlers,\n      side: \"before\"\n  }));\n  /**\n  Create a line number gutter extension.\n  */\n  function lineNumbers(config = {}) {\n      return [\n          lineNumberConfig.of(config),\n          gutters(),\n          lineNumberGutter\n      ];\n  }\n  function maxLineNumber(lines) {\n      let last = 9;\n      while (last < lines)\n          last = last * 10 + 9;\n      return last;\n  }\n  const activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n      constructor() {\n          super(...arguments);\n          this.elementClass = \"cm-activeLineGutter\";\n      }\n  };\n  const activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n      let marks = [], last = -1;\n      for (let range of state.selection.ranges) {\n          let linePos = state.doc.lineAt(range.head).from;\n          if (linePos > last) {\n              last = linePos;\n              marks.push(activeLineGutterMarker.range(linePos));\n          }\n      }\n      return RangeSet.of(marks);\n  });\n  /**\n  Returns an extension that adds a `cm-activeLineGutter` class to\n  all gutter elements on the [active\n  line](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n  */\n  function highlightActiveLineGutter() {\n      return activeLineGutterHighlighter;\n  }\n\n  /**\n  The default maximum length of a `TreeBuffer` node.\n  */\n  const DefaultBufferLength = 1024;\n  let nextPropID = 0;\n  class Range {\n      constructor(from, to) {\n          this.from = from;\n          this.to = to;\n      }\n  }\n  /**\n  Each [node type](#common.NodeType) or [individual tree](#common.Tree)\n  can have metadata associated with it in props. Instances of this\n  class represent prop names.\n  */\n  class NodeProp {\n      /**\n      Create a new node prop type.\n      */\n      constructor(config = {}) {\n          this.id = nextPropID++;\n          this.perNode = !!config.perNode;\n          this.deserialize = config.deserialize || (() => {\n              throw new Error(\"This node type doesn't define a deserialize function\");\n          });\n      }\n      /**\n      This is meant to be used with\n      [`NodeSet.extend`](#common.NodeSet.extend) or\n      [`LRParser.configure`](#lr.ParserConfig.props) to compute\n      prop values for each node type in the set. Takes a [match\n      object](#common.NodeType^match) or function that returns undefined\n      if the node type doesn't get this prop, and the prop's value if\n      it does.\n      */\n      add(match) {\n          if (this.perNode)\n              throw new RangeError(\"Can't add per-node props to node types\");\n          if (typeof match != \"function\")\n              match = NodeType.match(match);\n          return (type) => {\n              let result = match(type);\n              return result === undefined ? null : [this, result];\n          };\n      }\n  }\n  /**\n  Prop that is used to describe matching delimiters. For opening\n  delimiters, this holds an array of node names (written as a\n  space-separated string when declaring this prop in a grammar)\n  for the node types of closing delimiters that match it.\n  */\n  NodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n  /**\n  The inverse of [`closedBy`](#common.NodeProp^closedBy). This is\n  attached to closing delimiters, holding an array of node names\n  of types of matching opening delimiters.\n  */\n  NodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n  /**\n  Used to assign node types to groups (for example, all node\n  types that represent an expression could be tagged with an\n  `\"Expression\"` group).\n  */\n  NodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\n  /**\n  Attached to nodes to indicate these should be\n  [displayed](https://codemirror.net/docs/ref/#language.syntaxTree)\n  in a bidirectional text isolate, so that direction-neutral\n  characters on their sides don't incorrectly get associated with\n  surrounding text. You'll generally want to set this for nodes\n  that contain arbitrary text, like strings and comments, and for\n  nodes that appear _inside_ arbitrary text, like HTML tags. When\n  not given a value, in a grammar declaration, defaults to\n  `\"auto\"`.\n  */\n  NodeProp.isolate = new NodeProp({ deserialize: value => {\n          if (value && value != \"rtl\" && value != \"ltr\" && value != \"auto\")\n              throw new RangeError(\"Invalid value for isolate: \" + value);\n          return value || \"auto\";\n      } });\n  /**\n  The hash of the [context](#lr.ContextTracker.constructor)\n  that the node was parsed in, if any. Used to limit reuse of\n  contextual nodes.\n  */\n  NodeProp.contextHash = new NodeProp({ perNode: true });\n  /**\n  The distance beyond the end of the node that the tokenizer\n  looked ahead for any of the tokens inside the node. (The LR\n  parser only stores this when it is larger than 25, for\n  efficiency reasons.)\n  */\n  NodeProp.lookAhead = new NodeProp({ perNode: true });\n  /**\n  This per-node prop is used to replace a given node, or part of a\n  node, with another tree. This is useful to include trees from\n  different languages in mixed-language parsers.\n  */\n  NodeProp.mounted = new NodeProp({ perNode: true });\n  /**\n  A mounted tree, which can be [stored](#common.NodeProp^mounted) on\n  a tree node to indicate that parts of its content are\n  represented by another tree.\n  */\n  class MountedTree {\n      constructor(\n      /**\n      The inner tree.\n      */\n      tree, \n      /**\n      If this is null, this tree replaces the entire node (it will\n      be included in the regular iteration instead of its host\n      node). If not, only the given ranges are considered to be\n      covered by this tree. This is used for trees that are mixed in\n      a way that isn't strictly hierarchical. Such mounted trees are\n      only entered by [`resolveInner`](#common.Tree.resolveInner)\n      and [`enter`](#common.SyntaxNode.enter).\n      */\n      overlay, \n      /**\n      The parser used to create this subtree.\n      */\n      parser) {\n          this.tree = tree;\n          this.overlay = overlay;\n          this.parser = parser;\n      }\n      /**\n      @internal\n      */\n      static get(tree) {\n          return tree && tree.props && tree.props[NodeProp.mounted.id];\n      }\n  }\n  const noProps = Object.create(null);\n  /**\n  Each node in a syntax tree has a node type associated with it.\n  */\n  class NodeType {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The name of the node type. Not necessarily unique, but if the\n      grammar was written properly, different node types with the\n      same name within a node set should play the same semantic\n      role.\n      */\n      name, \n      /**\n      @internal\n      */\n      props, \n      /**\n      The id of this node in its set. Corresponds to the term ids\n      used in the parser.\n      */\n      id, \n      /**\n      @internal\n      */\n      flags = 0) {\n          this.name = name;\n          this.props = props;\n          this.id = id;\n          this.flags = flags;\n      }\n      /**\n      Define a node type.\n      */\n      static define(spec) {\n          let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n          let flags = (spec.top ? 1 /* NodeFlag.Top */ : 0) | (spec.skipped ? 2 /* NodeFlag.Skipped */ : 0) |\n              (spec.error ? 4 /* NodeFlag.Error */ : 0) | (spec.name == null ? 8 /* NodeFlag.Anonymous */ : 0);\n          let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n          if (spec.props)\n              for (let src of spec.props) {\n                  if (!Array.isArray(src))\n                      src = src(type);\n                  if (src) {\n                      if (src[0].perNode)\n                          throw new RangeError(\"Can't store a per-node prop on a node type\");\n                      props[src[0].id] = src[1];\n                  }\n              }\n          return type;\n      }\n      /**\n      Retrieves a node prop for this type. Will return `undefined` if\n      the prop isn't present on this node.\n      */\n      prop(prop) { return this.props[prop.id]; }\n      /**\n      True when this is the top node of a grammar.\n      */\n      get isTop() { return (this.flags & 1 /* NodeFlag.Top */) > 0; }\n      /**\n      True when this node is produced by a skip rule.\n      */\n      get isSkipped() { return (this.flags & 2 /* NodeFlag.Skipped */) > 0; }\n      /**\n      Indicates whether this is an error node.\n      */\n      get isError() { return (this.flags & 4 /* NodeFlag.Error */) > 0; }\n      /**\n      When true, this node type doesn't correspond to a user-declared\n      named node, for example because it is used to cache repetition.\n      */\n      get isAnonymous() { return (this.flags & 8 /* NodeFlag.Anonymous */) > 0; }\n      /**\n      Returns true when this node's name or one of its\n      [groups](#common.NodeProp^group) matches the given string.\n      */\n      is(name) {\n          if (typeof name == 'string') {\n              if (this.name == name)\n                  return true;\n              let group = this.prop(NodeProp.group);\n              return group ? group.indexOf(name) > -1 : false;\n          }\n          return this.id == name;\n      }\n      /**\n      Create a function from node types to arbitrary values by\n      specifying an object whose property names are node or\n      [group](#common.NodeProp^group) names. Often useful with\n      [`NodeProp.add`](#common.NodeProp.add). You can put multiple\n      names, separated by spaces, in a single property name to map\n      multiple node names to a single value.\n      */\n      static match(map) {\n          let direct = Object.create(null);\n          for (let prop in map)\n              for (let name of prop.split(\" \"))\n                  direct[name] = map[prop];\n          return (node) => {\n              for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                  let found = direct[i < 0 ? node.name : groups[i]];\n                  if (found)\n                      return found;\n              }\n          };\n      }\n  }\n  /**\n  An empty dummy node type to use when no actual type is available.\n  */\n  NodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* NodeFlag.Anonymous */);\n  /**\n  A node set holds a collection of node types. It is used to\n  compactly represent trees by storing their type ids, rather than a\n  full pointer to the type object, in a numeric array. Each parser\n  [has](#lr.LRParser.nodeSet) a node set, and [tree\n  buffers](#common.TreeBuffer) can only store collections of nodes\n  from the same set. A set can have a maximum of 2**16 (65536) node\n  types in it, so that the ids fit into 16-bit typed array slots.\n  */\n  class NodeSet {\n      /**\n      Create a set with the given types. The `id` property of each\n      type should correspond to its position within the array.\n      */\n      constructor(\n      /**\n      The node types in this set, by id.\n      */\n      types) {\n          this.types = types;\n          for (let i = 0; i < types.length; i++)\n              if (types[i].id != i)\n                  throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n      }\n      /**\n      Create a copy of this set with some node properties added. The\n      arguments to this method can be created with\n      [`NodeProp.add`](#common.NodeProp.add).\n      */\n      extend(...props) {\n          let newTypes = [];\n          for (let type of this.types) {\n              let newProps = null;\n              for (let source of props) {\n                  let add = source(type);\n                  if (add) {\n                      if (!newProps)\n                          newProps = Object.assign({}, type.props);\n                      newProps[add[0].id] = add[1];\n                  }\n              }\n              newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n          }\n          return new NodeSet(newTypes);\n      }\n  }\n  const CachedNode = new WeakMap(), CachedInnerNode = new WeakMap();\n  /**\n  Options that control iteration. Can be combined with the `|`\n  operator to enable multiple ones.\n  */\n  var IterMode;\n  (function (IterMode) {\n      /**\n      When enabled, iteration will only visit [`Tree`](#common.Tree)\n      objects, not nodes packed into\n      [`TreeBuffer`](#common.TreeBuffer)s.\n      */\n      IterMode[IterMode[\"ExcludeBuffers\"] = 1] = \"ExcludeBuffers\";\n      /**\n      Enable this to make iteration include anonymous nodes (such as\n      the nodes that wrap repeated grammar constructs into a balanced\n      tree).\n      */\n      IterMode[IterMode[\"IncludeAnonymous\"] = 2] = \"IncludeAnonymous\";\n      /**\n      By default, regular [mounted](#common.NodeProp^mounted) nodes\n      replace their base node in iteration. Enable this to ignore them\n      instead.\n      */\n      IterMode[IterMode[\"IgnoreMounts\"] = 4] = \"IgnoreMounts\";\n      /**\n      This option only applies in\n      [`enter`](#common.SyntaxNode.enter)-style methods. It tells the\n      library to not enter mounted overlays if one covers the given\n      position.\n      */\n      IterMode[IterMode[\"IgnoreOverlays\"] = 8] = \"IgnoreOverlays\";\n  })(IterMode || (IterMode = {}));\n  /**\n  A piece of syntax tree. There are two ways to approach these\n  trees: the way they are actually stored in memory, and the\n  convenient way.\n\n  Syntax trees are stored as a tree of `Tree` and `TreeBuffer`\n  objects. By packing detail information into `TreeBuffer` leaf\n  nodes, the representation is made a lot more memory-efficient.\n\n  However, when you want to actually work with tree nodes, this\n  representation is very awkward, so most client code will want to\n  use the [`TreeCursor`](#common.TreeCursor) or\n  [`SyntaxNode`](#common.SyntaxNode) interface instead, which provides\n  a view on some part of this data structure, and can be used to\n  move around to adjacent nodes.\n  */\n  class Tree {\n      /**\n      Construct a new tree. See also [`Tree.build`](#common.Tree^build).\n      */\n      constructor(\n      /**\n      The type of the top node.\n      */\n      type, \n      /**\n      This node's child nodes.\n      */\n      children, \n      /**\n      The positions (offsets relative to the start of this tree) of\n      the children.\n      */\n      positions, \n      /**\n      The total length of this tree\n      */\n      length, \n      /**\n      Per-node [node props](#common.NodeProp) to associate with this node.\n      */\n      props) {\n          this.type = type;\n          this.children = children;\n          this.positions = positions;\n          this.length = length;\n          /**\n          @internal\n          */\n          this.props = null;\n          if (props && props.length) {\n              this.props = Object.create(null);\n              for (let [prop, value] of props)\n                  this.props[typeof prop == \"number\" ? prop : prop.id] = value;\n          }\n      }\n      /**\n      @internal\n      */\n      toString() {\n          let mounted = MountedTree.get(this);\n          if (mounted && !mounted.overlay)\n              return mounted.tree.toString();\n          let children = \"\";\n          for (let ch of this.children) {\n              let str = ch.toString();\n              if (str) {\n                  if (children)\n                      children += \",\";\n                  children += str;\n              }\n          }\n          return !this.type.name ? children :\n              (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                  (children.length ? \"(\" + children + \")\" : \"\");\n      }\n      /**\n      Get a [tree cursor](#common.TreeCursor) positioned at the top of\n      the tree. Mode can be used to [control](#common.IterMode) which\n      nodes the cursor visits.\n      */\n      cursor(mode = 0) {\n          return new TreeCursor(this.topNode, mode);\n      }\n      /**\n      Get a [tree cursor](#common.TreeCursor) pointing into this tree\n      at the given position and side (see\n      [`moveTo`](#common.TreeCursor.moveTo).\n      */\n      cursorAt(pos, side = 0, mode = 0) {\n          let scope = CachedNode.get(this) || this.topNode;\n          let cursor = new TreeCursor(scope);\n          cursor.moveTo(pos, side);\n          CachedNode.set(this, cursor._tree);\n          return cursor;\n      }\n      /**\n      Get a [syntax node](#common.SyntaxNode) object for the top of the\n      tree.\n      */\n      get topNode() {\n          return new TreeNode(this, 0, 0, null);\n      }\n      /**\n      Get the [syntax node](#common.SyntaxNode) at the given position.\n      If `side` is -1, this will move into nodes that end at the\n      position. If 1, it'll move into nodes that start at the\n      position. With 0, it'll only enter nodes that cover the position\n      from both sides.\n      \n      Note that this will not enter\n      [overlays](#common.MountedTree.overlay), and you often want\n      [`resolveInner`](#common.Tree.resolveInner) instead.\n      */\n      resolve(pos, side = 0) {\n          let node = resolveNode(CachedNode.get(this) || this.topNode, pos, side, false);\n          CachedNode.set(this, node);\n          return node;\n      }\n      /**\n      Like [`resolve`](#common.Tree.resolve), but will enter\n      [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node\n      pointing into the innermost overlaid tree at the given position\n      (with parent links going through all parent structure, including\n      the host trees).\n      */\n      resolveInner(pos, side = 0) {\n          let node = resolveNode(CachedInnerNode.get(this) || this.topNode, pos, side, true);\n          CachedInnerNode.set(this, node);\n          return node;\n      }\n      /**\n      In some situations, it can be useful to iterate through all\n      nodes around a position, including those in overlays that don't\n      directly cover the position. This method gives you an iterator\n      that will produce all nodes, from small to big, around the given\n      position.\n      */\n      resolveStack(pos, side = 0) {\n          return stackIterator(this, pos, side);\n      }\n      /**\n      Iterate over the tree and its children, calling `enter` for any\n      node that touches the `from`/`to` region (if given) before\n      running over such a node's children, and `leave` (if given) when\n      leaving the node. When `enter` returns `false`, that node will\n      not have its children iterated over (or `leave` called).\n      */\n      iterate(spec) {\n          let { enter, leave, from = 0, to = this.length } = spec;\n          let mode = spec.mode || 0, anon = (mode & IterMode.IncludeAnonymous) > 0;\n          for (let c = this.cursor(mode | IterMode.IncludeAnonymous);;) {\n              let entered = false;\n              if (c.from <= to && c.to >= from && (!anon && c.type.isAnonymous || enter(c) !== false)) {\n                  if (c.firstChild())\n                      continue;\n                  entered = true;\n              }\n              for (;;) {\n                  if (entered && leave && (anon || !c.type.isAnonymous))\n                      leave(c);\n                  if (c.nextSibling())\n                      break;\n                  if (!c.parent())\n                      return;\n                  entered = true;\n              }\n          }\n      }\n      /**\n      Get the value of the given [node prop](#common.NodeProp) for this\n      node. Works with both per-node and per-type props.\n      */\n      prop(prop) {\n          return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : undefined;\n      }\n      /**\n      Returns the node's [per-node props](#common.NodeProp.perNode) in a\n      format that can be passed to the [`Tree`](#common.Tree)\n      constructor.\n      */\n      get propValues() {\n          let result = [];\n          if (this.props)\n              for (let id in this.props)\n                  result.push([+id, this.props[id]]);\n          return result;\n      }\n      /**\n      Balance the direct children of this tree, producing a copy of\n      which may have children grouped into subtrees with type\n      [`NodeType.none`](#common.NodeType^none).\n      */\n      balance(config = {}) {\n          return this.children.length <= 8 /* Balance.BranchFactor */ ? this :\n              balanceRange(NodeType.none, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));\n      }\n      /**\n      Build a tree from a postfix-ordered buffer of node information,\n      or a cursor over such a buffer.\n      */\n      static build(data) { return buildTree(data); }\n  }\n  /**\n  The empty tree\n  */\n  Tree.empty = new Tree(NodeType.none, [], [], 0);\n  class FlatBufferCursor {\n      constructor(buffer, index) {\n          this.buffer = buffer;\n          this.index = index;\n      }\n      get id() { return this.buffer[this.index - 4]; }\n      get start() { return this.buffer[this.index - 3]; }\n      get end() { return this.buffer[this.index - 2]; }\n      get size() { return this.buffer[this.index - 1]; }\n      get pos() { return this.index; }\n      next() { this.index -= 4; }\n      fork() { return new FlatBufferCursor(this.buffer, this.index); }\n  }\n  /**\n  Tree buffers contain (type, start, end, endIndex) quads for each\n  node. In such a buffer, nodes are stored in prefix order (parents\n  before children, with the endIndex of the parent indicating which\n  children belong to it).\n  */\n  class TreeBuffer {\n      /**\n      Create a tree buffer.\n      */\n      constructor(\n      /**\n      The buffer's content.\n      */\n      buffer, \n      /**\n      The total length of the group of nodes in the buffer.\n      */\n      length, \n      /**\n      The node set used in this buffer.\n      */\n      set) {\n          this.buffer = buffer;\n          this.length = length;\n          this.set = set;\n      }\n      /**\n      @internal\n      */\n      get type() { return NodeType.none; }\n      /**\n      @internal\n      */\n      toString() {\n          let result = [];\n          for (let index = 0; index < this.buffer.length;) {\n              result.push(this.childString(index));\n              index = this.buffer[index + 3];\n          }\n          return result.join(\",\");\n      }\n      /**\n      @internal\n      */\n      childString(index) {\n          let id = this.buffer[index], endIndex = this.buffer[index + 3];\n          let type = this.set.types[id], result = type.name;\n          if (/\\W/.test(result) && !type.isError)\n              result = JSON.stringify(result);\n          index += 4;\n          if (endIndex == index)\n              return result;\n          let children = [];\n          while (index < endIndex) {\n              children.push(this.childString(index));\n              index = this.buffer[index + 3];\n          }\n          return result + \"(\" + children.join(\",\") + \")\";\n      }\n      /**\n      @internal\n      */\n      findChild(startIndex, endIndex, dir, pos, side) {\n          let { buffer } = this, pick = -1;\n          for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n              if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {\n                  pick = i;\n                  if (dir > 0)\n                      break;\n              }\n          }\n          return pick;\n      }\n      /**\n      @internal\n      */\n      slice(startI, endI, from) {\n          let b = this.buffer;\n          let copy = new Uint16Array(endI - startI), len = 0;\n          for (let i = startI, j = 0; i < endI;) {\n              copy[j++] = b[i++];\n              copy[j++] = b[i++] - from;\n              let to = copy[j++] = b[i++] - from;\n              copy[j++] = b[i++] - startI;\n              len = Math.max(len, to);\n          }\n          return new TreeBuffer(copy, len, this.set);\n      }\n  }\n  function checkSide(side, pos, from, to) {\n      switch (side) {\n          case -2 /* Side.Before */: return from < pos;\n          case -1 /* Side.AtOrBefore */: return to >= pos && from < pos;\n          case 0 /* Side.Around */: return from < pos && to > pos;\n          case 1 /* Side.AtOrAfter */: return from <= pos && to > pos;\n          case 2 /* Side.After */: return to > pos;\n          case 4 /* Side.DontCare */: return true;\n      }\n  }\n  function resolveNode(node, pos, side, overlays) {\n      var _a;\n      // Move up to a node that actually holds the position, if possible\n      while (node.from == node.to ||\n          (side < 1 ? node.from >= pos : node.from > pos) ||\n          (side > -1 ? node.to <= pos : node.to < pos)) {\n          let parent = !overlays && node instanceof TreeNode && node.index < 0 ? null : node.parent;\n          if (!parent)\n              return node;\n          node = parent;\n      }\n      let mode = overlays ? 0 : IterMode.IgnoreOverlays;\n      // Must go up out of overlays when those do not overlap with pos\n      if (overlays)\n          for (let scan = node, parent = scan.parent; parent; scan = parent, parent = scan.parent) {\n              if (scan instanceof TreeNode && scan.index < 0 && ((_a = parent.enter(pos, side, mode)) === null || _a === void 0 ? void 0 : _a.from) != scan.from)\n                  node = parent;\n          }\n      for (;;) {\n          let inner = node.enter(pos, side, mode);\n          if (!inner)\n              return node;\n          node = inner;\n      }\n  }\n  class BaseNode {\n      cursor(mode = 0) { return new TreeCursor(this, mode); }\n      getChild(type, before = null, after = null) {\n          let r = getChildren(this, type, before, after);\n          return r.length ? r[0] : null;\n      }\n      getChildren(type, before = null, after = null) {\n          return getChildren(this, type, before, after);\n      }\n      resolve(pos, side = 0) {\n          return resolveNode(this, pos, side, false);\n      }\n      resolveInner(pos, side = 0) {\n          return resolveNode(this, pos, side, true);\n      }\n      matchContext(context) {\n          return matchNodeContext(this.parent, context);\n      }\n      enterUnfinishedNodesBefore(pos) {\n          let scan = this.childBefore(pos), node = this;\n          while (scan) {\n              let last = scan.lastChild;\n              if (!last || last.to != scan.to)\n                  break;\n              if (last.type.isError && last.from == last.to) {\n                  node = scan;\n                  scan = last.prevSibling;\n              }\n              else {\n                  scan = last;\n              }\n          }\n          return node;\n      }\n      get node() { return this; }\n      get next() { return this.parent; }\n  }\n  class TreeNode extends BaseNode {\n      constructor(_tree, from, \n      // Index in parent node, set to -1 if the node is not a direct child of _parent.node (overlay)\n      index, _parent) {\n          super();\n          this._tree = _tree;\n          this.from = from;\n          this.index = index;\n          this._parent = _parent;\n      }\n      get type() { return this._tree.type; }\n      get name() { return this._tree.type.name; }\n      get to() { return this.from + this._tree.length; }\n      nextChild(i, dir, pos, side, mode = 0) {\n          for (let parent = this;;) {\n              for (let { children, positions } = parent._tree, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                  let next = children[i], start = positions[i] + parent.from;\n                  if (!checkSide(side, pos, start, start + next.length))\n                      continue;\n                  if (next instanceof TreeBuffer) {\n                      if (mode & IterMode.ExcludeBuffers)\n                          continue;\n                      let index = next.findChild(0, next.buffer.length, dir, pos - start, side);\n                      if (index > -1)\n                          return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                  }\n                  else if ((mode & IterMode.IncludeAnonymous) || (!next.type.isAnonymous || hasChild(next))) {\n                      let mounted;\n                      if (!(mode & IterMode.IgnoreMounts) && (mounted = MountedTree.get(next)) && !mounted.overlay)\n                          return new TreeNode(mounted.tree, start, i, parent);\n                      let inner = new TreeNode(next, start, i, parent);\n                      return (mode & IterMode.IncludeAnonymous) || !inner.type.isAnonymous ? inner\n                          : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);\n                  }\n              }\n              if ((mode & IterMode.IncludeAnonymous) || !parent.type.isAnonymous)\n                  return null;\n              if (parent.index >= 0)\n                  i = parent.index + dir;\n              else\n                  i = dir < 0 ? -1 : parent._parent._tree.children.length;\n              parent = parent._parent;\n              if (!parent)\n                  return null;\n          }\n      }\n      get firstChild() { return this.nextChild(0, 1, 0, 4 /* Side.DontCare */); }\n      get lastChild() { return this.nextChild(this._tree.children.length - 1, -1, 0, 4 /* Side.DontCare */); }\n      childAfter(pos) { return this.nextChild(0, 1, pos, 2 /* Side.After */); }\n      childBefore(pos) { return this.nextChild(this._tree.children.length - 1, -1, pos, -2 /* Side.Before */); }\n      enter(pos, side, mode = 0) {\n          let mounted;\n          if (!(mode & IterMode.IgnoreOverlays) && (mounted = MountedTree.get(this._tree)) && mounted.overlay) {\n              let rPos = pos - this.from;\n              for (let { from, to } of mounted.overlay) {\n                  if ((side > 0 ? from <= rPos : from < rPos) &&\n                      (side < 0 ? to >= rPos : to > rPos))\n                      return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);\n              }\n          }\n          return this.nextChild(0, 1, pos, side, mode);\n      }\n      nextSignificantParent() {\n          let val = this;\n          while (val.type.isAnonymous && val._parent)\n              val = val._parent;\n          return val;\n      }\n      get parent() {\n          return this._parent ? this._parent.nextSignificantParent() : null;\n      }\n      get nextSibling() {\n          return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4 /* Side.DontCare */) : null;\n      }\n      get prevSibling() {\n          return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4 /* Side.DontCare */) : null;\n      }\n      get tree() { return this._tree; }\n      toTree() { return this._tree; }\n      /**\n      @internal\n      */\n      toString() { return this._tree.toString(); }\n  }\n  function getChildren(node, type, before, after) {\n      let cur = node.cursor(), result = [];\n      if (!cur.firstChild())\n          return result;\n      if (before != null)\n          for (let found = false; !found;) {\n              found = cur.type.is(before);\n              if (!cur.nextSibling())\n                  return result;\n          }\n      for (;;) {\n          if (after != null && cur.type.is(after))\n              return result;\n          if (cur.type.is(type))\n              result.push(cur.node);\n          if (!cur.nextSibling())\n              return after == null ? result : [];\n      }\n  }\n  function matchNodeContext(node, context, i = context.length - 1) {\n      for (let p = node; i >= 0; p = p.parent) {\n          if (!p)\n              return false;\n          if (!p.type.isAnonymous) {\n              if (context[i] && context[i] != p.name)\n                  return false;\n              i--;\n          }\n      }\n      return true;\n  }\n  class BufferContext {\n      constructor(parent, buffer, index, start) {\n          this.parent = parent;\n          this.buffer = buffer;\n          this.index = index;\n          this.start = start;\n      }\n  }\n  class BufferNode extends BaseNode {\n      get name() { return this.type.name; }\n      get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n      get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n      constructor(context, _parent, index) {\n          super();\n          this.context = context;\n          this._parent = _parent;\n          this.index = index;\n          this.type = context.buffer.set.types[context.buffer.buffer[index]];\n      }\n      child(dir, pos, side) {\n          let { buffer } = this.context;\n          let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);\n          return index < 0 ? null : new BufferNode(this.context, this, index);\n      }\n      get firstChild() { return this.child(1, 0, 4 /* Side.DontCare */); }\n      get lastChild() { return this.child(-1, 0, 4 /* Side.DontCare */); }\n      childAfter(pos) { return this.child(1, pos, 2 /* Side.After */); }\n      childBefore(pos) { return this.child(-1, pos, -2 /* Side.Before */); }\n      enter(pos, side, mode = 0) {\n          if (mode & IterMode.ExcludeBuffers)\n              return null;\n          let { buffer } = this.context;\n          let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);\n          return index < 0 ? null : new BufferNode(this.context, this, index);\n      }\n      get parent() {\n          return this._parent || this.context.parent.nextSignificantParent();\n      }\n      externalSibling(dir) {\n          return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4 /* Side.DontCare */);\n      }\n      get nextSibling() {\n          let { buffer } = this.context;\n          let after = buffer.buffer[this.index + 3];\n          if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n              return new BufferNode(this.context, this._parent, after);\n          return this.externalSibling(1);\n      }\n      get prevSibling() {\n          let { buffer } = this.context;\n          let parentStart = this._parent ? this._parent.index + 4 : 0;\n          if (this.index == parentStart)\n              return this.externalSibling(-1);\n          return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4 /* Side.DontCare */));\n      }\n      get tree() { return null; }\n      toTree() {\n          let children = [], positions = [];\n          let { buffer } = this.context;\n          let startI = this.index + 4, endI = buffer.buffer[this.index + 3];\n          if (endI > startI) {\n              let from = buffer.buffer[this.index + 1];\n              children.push(buffer.slice(startI, endI, from));\n              positions.push(0);\n          }\n          return new Tree(this.type, children, positions, this.to - this.from);\n      }\n      /**\n      @internal\n      */\n      toString() { return this.context.buffer.childString(this.index); }\n  }\n  function iterStack(heads) {\n      if (!heads.length)\n          return null;\n      let pick = 0, picked = heads[0];\n      for (let i = 1; i < heads.length; i++) {\n          let node = heads[i];\n          if (node.from > picked.from || node.to < picked.to) {\n              picked = node;\n              pick = i;\n          }\n      }\n      let next = picked instanceof TreeNode && picked.index < 0 ? null : picked.parent;\n      let newHeads = heads.slice();\n      if (next)\n          newHeads[pick] = next;\n      else\n          newHeads.splice(pick, 1);\n      return new StackIterator(newHeads, picked);\n  }\n  class StackIterator {\n      constructor(heads, node) {\n          this.heads = heads;\n          this.node = node;\n      }\n      get next() { return iterStack(this.heads); }\n  }\n  function stackIterator(tree, pos, side) {\n      let inner = tree.resolveInner(pos, side), layers = null;\n      for (let scan = inner instanceof TreeNode ? inner : inner.context.parent; scan; scan = scan.parent) {\n          if (scan.index < 0) { // This is an overlay root\n              let parent = scan.parent;\n              (layers || (layers = [inner])).push(parent.resolve(pos, side));\n              scan = parent;\n          }\n          else {\n              let mount = MountedTree.get(scan.tree);\n              // Relevant overlay branching off\n              if (mount && mount.overlay && mount.overlay[0].from <= pos && mount.overlay[mount.overlay.length - 1].to >= pos) {\n                  let root = new TreeNode(mount.tree, mount.overlay[0].from + scan.from, -1, scan);\n                  (layers || (layers = [inner])).push(resolveNode(root, pos, side, false));\n              }\n          }\n      }\n      return layers ? iterStack(layers) : inner;\n  }\n  /**\n  A tree cursor object focuses on a given node in a syntax tree, and\n  allows you to move to adjacent nodes.\n  */\n  class TreeCursor {\n      /**\n      Shorthand for `.type.name`.\n      */\n      get name() { return this.type.name; }\n      /**\n      @internal\n      */\n      constructor(node, \n      /**\n      @internal\n      */\n      mode = 0) {\n          this.mode = mode;\n          /**\n          @internal\n          */\n          this.buffer = null;\n          this.stack = [];\n          /**\n          @internal\n          */\n          this.index = 0;\n          this.bufferNode = null;\n          if (node instanceof TreeNode) {\n              this.yieldNode(node);\n          }\n          else {\n              this._tree = node.context.parent;\n              this.buffer = node.context;\n              for (let n = node._parent; n; n = n._parent)\n                  this.stack.unshift(n.index);\n              this.bufferNode = node;\n              this.yieldBuf(node.index);\n          }\n      }\n      yieldNode(node) {\n          if (!node)\n              return false;\n          this._tree = node;\n          this.type = node.type;\n          this.from = node.from;\n          this.to = node.to;\n          return true;\n      }\n      yieldBuf(index, type) {\n          this.index = index;\n          let { start, buffer } = this.buffer;\n          this.type = type || buffer.set.types[buffer.buffer[index]];\n          this.from = start + buffer.buffer[index + 1];\n          this.to = start + buffer.buffer[index + 2];\n          return true;\n      }\n      /**\n      @internal\n      */\n      yield(node) {\n          if (!node)\n              return false;\n          if (node instanceof TreeNode) {\n              this.buffer = null;\n              return this.yieldNode(node);\n          }\n          this.buffer = node.context;\n          return this.yieldBuf(node.index, node.type);\n      }\n      /**\n      @internal\n      */\n      toString() {\n          return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n      }\n      /**\n      @internal\n      */\n      enterChild(dir, pos, side) {\n          if (!this.buffer)\n              return this.yield(this._tree.nextChild(dir < 0 ? this._tree._tree.children.length - 1 : 0, dir, pos, side, this.mode));\n          let { buffer } = this.buffer;\n          let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);\n          if (index < 0)\n              return false;\n          this.stack.push(this.index);\n          return this.yieldBuf(index);\n      }\n      /**\n      Move the cursor to this node's first child. When this returns\n      false, the node has no child, and the cursor has not been moved.\n      */\n      firstChild() { return this.enterChild(1, 0, 4 /* Side.DontCare */); }\n      /**\n      Move the cursor to this node's last child.\n      */\n      lastChild() { return this.enterChild(-1, 0, 4 /* Side.DontCare */); }\n      /**\n      Move the cursor to the first child that ends after `pos`.\n      */\n      childAfter(pos) { return this.enterChild(1, pos, 2 /* Side.After */); }\n      /**\n      Move to the last child that starts before `pos`.\n      */\n      childBefore(pos) { return this.enterChild(-1, pos, -2 /* Side.Before */); }\n      /**\n      Move the cursor to the child around `pos`. If side is -1 the\n      child may end at that position, when 1 it may start there. This\n      will also enter [overlaid](#common.MountedTree.overlay)\n      [mounted](#common.NodeProp^mounted) trees unless `overlays` is\n      set to false.\n      */\n      enter(pos, side, mode = this.mode) {\n          if (!this.buffer)\n              return this.yield(this._tree.enter(pos, side, mode));\n          return mode & IterMode.ExcludeBuffers ? false : this.enterChild(1, pos, side);\n      }\n      /**\n      Move to the node's parent node, if this isn't the top node.\n      */\n      parent() {\n          if (!this.buffer)\n              return this.yieldNode((this.mode & IterMode.IncludeAnonymous) ? this._tree._parent : this._tree.parent);\n          if (this.stack.length)\n              return this.yieldBuf(this.stack.pop());\n          let parent = (this.mode & IterMode.IncludeAnonymous) ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n          this.buffer = null;\n          return this.yieldNode(parent);\n      }\n      /**\n      @internal\n      */\n      sibling(dir) {\n          if (!this.buffer)\n              return !this._tree._parent ? false\n                  : this.yield(this._tree.index < 0 ? null\n                      : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4 /* Side.DontCare */, this.mode));\n          let { buffer } = this.buffer, d = this.stack.length - 1;\n          if (dir < 0) {\n              let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n              if (this.index != parentStart)\n                  return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4 /* Side.DontCare */));\n          }\n          else {\n              let after = buffer.buffer[this.index + 3];\n              if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                  return this.yieldBuf(after);\n          }\n          return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4 /* Side.DontCare */, this.mode)) : false;\n      }\n      /**\n      Move to this node's next sibling, if any.\n      */\n      nextSibling() { return this.sibling(1); }\n      /**\n      Move to this node's previous sibling, if any.\n      */\n      prevSibling() { return this.sibling(-1); }\n      atLastNode(dir) {\n          let index, parent, { buffer } = this;\n          if (buffer) {\n              if (dir > 0) {\n                  if (this.index < buffer.buffer.buffer.length)\n                      return false;\n              }\n              else {\n                  for (let i = 0; i < this.index; i++)\n                      if (buffer.buffer.buffer[i + 3] < this.index)\n                          return false;\n              }\n              ({ index, parent } = buffer);\n          }\n          else {\n              ({ index, _parent: parent } = this._tree);\n          }\n          for (; parent; { index, _parent: parent } = parent) {\n              if (index > -1)\n                  for (let i = index + dir, e = dir < 0 ? -1 : parent._tree.children.length; i != e; i += dir) {\n                      let child = parent._tree.children[i];\n                      if ((this.mode & IterMode.IncludeAnonymous) ||\n                          child instanceof TreeBuffer ||\n                          !child.type.isAnonymous ||\n                          hasChild(child))\n                          return false;\n                  }\n          }\n          return true;\n      }\n      move(dir, enter) {\n          if (enter && this.enterChild(dir, 0, 4 /* Side.DontCare */))\n              return true;\n          for (;;) {\n              if (this.sibling(dir))\n                  return true;\n              if (this.atLastNode(dir) || !this.parent())\n                  return false;\n          }\n      }\n      /**\n      Move to the next node in a\n      [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR)\n      traversal, going from a node to its first child or, if the\n      current node is empty or `enter` is false, its next sibling or\n      the next sibling of the first parent node that has one.\n      */\n      next(enter = true) { return this.move(1, enter); }\n      /**\n      Move to the next node in a last-to-first pre-order traversal. A\n      node is followed by its last child or, if it has none, its\n      previous sibling or the previous sibling of the first parent\n      node that has one.\n      */\n      prev(enter = true) { return this.move(-1, enter); }\n      /**\n      Move the cursor to the innermost node that covers `pos`. If\n      `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n      it will enter nodes that start at `pos`.\n      */\n      moveTo(pos, side = 0) {\n          // Move up to a node that actually holds the position, if possible\n          while (this.from == this.to ||\n              (side < 1 ? this.from >= pos : this.from > pos) ||\n              (side > -1 ? this.to <= pos : this.to < pos))\n              if (!this.parent())\n                  break;\n          // Then scan down into child nodes as far as possible\n          while (this.enterChild(1, pos, side)) { }\n          return this;\n      }\n      /**\n      Get a [syntax node](#common.SyntaxNode) at the cursor's current\n      position.\n      */\n      get node() {\n          if (!this.buffer)\n              return this._tree;\n          let cache = this.bufferNode, result = null, depth = 0;\n          if (cache && cache.context == this.buffer) {\n              scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                  for (let c = cache; c; c = c._parent)\n                      if (c.index == index) {\n                          if (index == this.index)\n                              return c;\n                          result = c;\n                          depth = d + 1;\n                          break scan;\n                      }\n                  index = this.stack[--d];\n              }\n          }\n          for (let i = depth; i < this.stack.length; i++)\n              result = new BufferNode(this.buffer, result, this.stack[i]);\n          return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n      }\n      /**\n      Get the [tree](#common.Tree) that represents the current node, if\n      any. Will return null when the node is in a [tree\n      buffer](#common.TreeBuffer).\n      */\n      get tree() {\n          return this.buffer ? null : this._tree._tree;\n      }\n      /**\n      Iterate over the current node and all its descendants, calling\n      `enter` when entering a node and `leave`, if given, when leaving\n      one. When `enter` returns `false`, any children of that node are\n      skipped, and `leave` isn't called for it.\n      */\n      iterate(enter, leave) {\n          for (let depth = 0;;) {\n              let mustLeave = false;\n              if (this.type.isAnonymous || enter(this) !== false) {\n                  if (this.firstChild()) {\n                      depth++;\n                      continue;\n                  }\n                  if (!this.type.isAnonymous)\n                      mustLeave = true;\n              }\n              for (;;) {\n                  if (mustLeave && leave)\n                      leave(this);\n                  mustLeave = this.type.isAnonymous;\n                  if (!depth)\n                      return;\n                  if (this.nextSibling())\n                      break;\n                  this.parent();\n                  depth--;\n                  mustLeave = true;\n              }\n          }\n      }\n      /**\n      Test whether the current node matches a given contexta sequence\n      of direct parent node names. Empty strings in the context array\n      are treated as wildcards.\n      */\n      matchContext(context) {\n          if (!this.buffer)\n              return matchNodeContext(this.node.parent, context);\n          let { buffer } = this.buffer, { types } = buffer.set;\n          for (let i = context.length - 1, d = this.stack.length - 1; i >= 0; d--) {\n              if (d < 0)\n                  return matchNodeContext(this._tree, context, i);\n              let type = types[buffer.buffer[this.stack[d]]];\n              if (!type.isAnonymous) {\n                  if (context[i] && context[i] != type.name)\n                      return false;\n                  i--;\n              }\n          }\n          return true;\n      }\n  }\n  function hasChild(tree) {\n      return tree.children.some(ch => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));\n  }\n  function buildTree(data) {\n      var _a;\n      let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n      let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n      let types = nodeSet.types;\n      let contextHash = 0, lookAhead = 0;\n      function takeNode(parentStart, minPos, children, positions, inRepeat, depth) {\n          let { id, start, end, size } = cursor;\n          let lookAheadAtStart = lookAhead, contextAtStart = contextHash;\n          while (size < 0) {\n              cursor.next();\n              if (size == -1 /* SpecialRecord.Reuse */) {\n                  let node = reused[id];\n                  children.push(node);\n                  positions.push(start - parentStart);\n                  return;\n              }\n              else if (size == -3 /* SpecialRecord.ContextChange */) { // Context change\n                  contextHash = id;\n                  return;\n              }\n              else if (size == -4 /* SpecialRecord.LookAhead */) {\n                  lookAhead = id;\n                  return;\n              }\n              else {\n                  throw new RangeError(`Unrecognized record size: ${size}`);\n              }\n          }\n          let type = types[id], node, buffer;\n          let startPos = start - parentStart;\n          if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n              // Small enough for a buffer, and no reused nodes inside\n              let data = new Uint16Array(buffer.size - buffer.skip);\n              let endPos = cursor.pos - buffer.size, index = data.length;\n              while (cursor.pos > endPos)\n                  index = copyToBuffer(buffer.start, data, index);\n              node = new TreeBuffer(data, end - buffer.start, nodeSet);\n              startPos = buffer.start - parentStart;\n          }\n          else { // Make it a node\n              let endPos = cursor.pos - size;\n              cursor.next();\n              let localChildren = [], localPositions = [];\n              let localInRepeat = id >= minRepeatType ? id : -1;\n              let lastGroup = 0, lastEnd = end;\n              while (cursor.pos > endPos) {\n                  if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {\n                      if (cursor.end <= lastEnd - maxBufferLength) {\n                          makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart, contextAtStart);\n                          lastGroup = localChildren.length;\n                          lastEnd = cursor.end;\n                      }\n                      cursor.next();\n                  }\n                  else if (depth > 2500 /* CutOff.Depth */) {\n                      takeFlatNode(start, endPos, localChildren, localPositions);\n                  }\n                  else {\n                      takeNode(start, endPos, localChildren, localPositions, localInRepeat, depth + 1);\n                  }\n              }\n              if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)\n                  makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart, contextAtStart);\n              localChildren.reverse();\n              localPositions.reverse();\n              if (localInRepeat > -1 && lastGroup > 0) {\n                  let make = makeBalanced(type, contextAtStart);\n                  node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);\n              }\n              else {\n                  node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end, contextAtStart);\n              }\n          }\n          children.push(node);\n          positions.push(startPos);\n      }\n      function takeFlatNode(parentStart, minPos, children, positions) {\n          let nodes = []; // Temporary, inverted array of leaf nodes found, with absolute positions\n          let nodeCount = 0, stopAt = -1;\n          while (cursor.pos > minPos) {\n              let { id, start, end, size } = cursor;\n              if (size > 4) { // Not a leaf\n                  cursor.next();\n              }\n              else if (stopAt > -1 && start < stopAt) {\n                  break;\n              }\n              else {\n                  if (stopAt < 0)\n                      stopAt = end - maxBufferLength;\n                  nodes.push(id, start, end);\n                  nodeCount++;\n                  cursor.next();\n              }\n          }\n          if (nodeCount) {\n              let buffer = new Uint16Array(nodeCount * 4);\n              let start = nodes[nodes.length - 2];\n              for (let i = nodes.length - 3, j = 0; i >= 0; i -= 3) {\n                  buffer[j++] = nodes[i];\n                  buffer[j++] = nodes[i + 1] - start;\n                  buffer[j++] = nodes[i + 2] - start;\n                  buffer[j++] = j;\n              }\n              children.push(new TreeBuffer(buffer, nodes[2] - start, nodeSet));\n              positions.push(start - parentStart);\n          }\n      }\n      function makeBalanced(type, contextHash) {\n          return (children, positions, length) => {\n              let lookAhead = 0, lastI = children.length - 1, last, lookAheadProp;\n              if (lastI >= 0 && (last = children[lastI]) instanceof Tree) {\n                  if (!lastI && last.type == type && last.length == length)\n                      return last;\n                  if (lookAheadProp = last.prop(NodeProp.lookAhead))\n                      lookAhead = positions[lastI] + last.length + lookAheadProp;\n              }\n              return makeTree(type, children, positions, length, lookAhead, contextHash);\n          };\n      }\n      function makeRepeatLeaf(children, positions, base, i, from, to, type, lookAhead, contextHash) {\n          let localChildren = [], localPositions = [];\n          while (children.length > i) {\n              localChildren.push(children.pop());\n              localPositions.push(positions.pop() + base - from);\n          }\n          children.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from, lookAhead - to, contextHash));\n          positions.push(from - base);\n      }\n      function makeTree(type, children, positions, length, lookAhead, contextHash, props) {\n          if (contextHash) {\n              let pair = [NodeProp.contextHash, contextHash];\n              props = props ? [pair].concat(props) : [pair];\n          }\n          if (lookAhead > 25) {\n              let pair = [NodeProp.lookAhead, lookAhead];\n              props = props ? [pair].concat(props) : [pair];\n          }\n          return new Tree(type, children, positions, length, props);\n      }\n      function findBufferSize(maxSize, inRepeat) {\n          // Scan through the buffer to find previous siblings that fit\n          // together in a TreeBuffer, and don't contain any reused nodes\n          // (which can't be stored in a buffer).\n          // If `inRepeat` is > -1, ignore node boundaries of that type for\n          // nesting, but make sure the end falls either at the start\n          // (`maxSize`) or before such a node.\n          let fork = cursor.fork();\n          let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n          let result = { size: 0, start: 0, skip: 0 };\n          scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n              let nodeSize = fork.size;\n              // Pretend nested repeat nodes of the same type don't exist\n              if (fork.id == inRepeat && nodeSize >= 0) {\n                  // Except that we store the current state as a valid return\n                  // value.\n                  result.size = size;\n                  result.start = start;\n                  result.skip = skip;\n                  skip += 4;\n                  size += 4;\n                  fork.next();\n                  continue;\n              }\n              let startPos = fork.pos - nodeSize;\n              if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                  break;\n              let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n              let nodeStart = fork.start;\n              fork.next();\n              while (fork.pos > startPos) {\n                  if (fork.size < 0) {\n                      if (fork.size == -3 /* SpecialRecord.ContextChange */)\n                          localSkipped += 4;\n                      else\n                          break scan;\n                  }\n                  else if (fork.id >= minRepeatType) {\n                      localSkipped += 4;\n                  }\n                  fork.next();\n              }\n              start = nodeStart;\n              size += nodeSize;\n              skip += localSkipped;\n          }\n          if (inRepeat < 0 || size == maxSize) {\n              result.size = size;\n              result.start = start;\n              result.skip = skip;\n          }\n          return result.size > 4 ? result : undefined;\n      }\n      function copyToBuffer(bufferStart, buffer, index) {\n          let { id, start, end, size } = cursor;\n          cursor.next();\n          if (size >= 0 && id < minRepeatType) {\n              let startIndex = index;\n              if (size > 4) {\n                  let endPos = cursor.pos - (size - 4);\n                  while (cursor.pos > endPos)\n                      index = copyToBuffer(bufferStart, buffer, index);\n              }\n              buffer[--index] = startIndex;\n              buffer[--index] = end - bufferStart;\n              buffer[--index] = start - bufferStart;\n              buffer[--index] = id;\n          }\n          else if (size == -3 /* SpecialRecord.ContextChange */) {\n              contextHash = id;\n          }\n          else if (size == -4 /* SpecialRecord.LookAhead */) {\n              lookAhead = id;\n          }\n          return index;\n      }\n      let children = [], positions = [];\n      while (cursor.pos > 0)\n          takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1, 0);\n      let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n      return new Tree(types[data.topID], children.reverse(), positions.reverse(), length);\n  }\n  const nodeSizeCache = new WeakMap;\n  function nodeSize(balanceType, node) {\n      if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)\n          return 1;\n      let size = nodeSizeCache.get(node);\n      if (size == null) {\n          size = 1;\n          for (let child of node.children) {\n              if (child.type != balanceType || !(child instanceof Tree)) {\n                  size = 1;\n                  break;\n              }\n              size += nodeSize(balanceType, child);\n          }\n          nodeSizeCache.set(node, size);\n      }\n      return size;\n  }\n  function balanceRange(\n  // The type the balanced tree's inner nodes.\n  balanceType, \n  // The direct children and their positions\n  children, positions, \n  // The index range in children/positions to use\n  from, to, \n  // The start position of the nodes, relative to their parent.\n  start, \n  // Length of the outer node\n  length, \n  // Function to build the top node of the balanced tree\n  mkTop, \n  // Function to build internal nodes for the balanced tree\n  mkTree) {\n      let total = 0;\n      for (let i = from; i < to; i++)\n          total += nodeSize(balanceType, children[i]);\n      let maxChild = Math.ceil((total * 1.5) / 8 /* Balance.BranchFactor */);\n      let localChildren = [], localPositions = [];\n      function divide(children, positions, from, to, offset) {\n          for (let i = from; i < to;) {\n              let groupFrom = i, groupStart = positions[i], groupSize = nodeSize(balanceType, children[i]);\n              i++;\n              for (; i < to; i++) {\n                  let nextSize = nodeSize(balanceType, children[i]);\n                  if (groupSize + nextSize >= maxChild)\n                      break;\n                  groupSize += nextSize;\n              }\n              if (i == groupFrom + 1) {\n                  if (groupSize > maxChild) {\n                      let only = children[groupFrom]; // Only trees can have a size > 1\n                      divide(only.children, only.positions, 0, only.children.length, positions[groupFrom] + offset);\n                      continue;\n                  }\n                  localChildren.push(children[groupFrom]);\n              }\n              else {\n                  let length = positions[i - 1] + children[i - 1].length - groupStart;\n                  localChildren.push(balanceRange(balanceType, children, positions, groupFrom, i, groupStart, length, null, mkTree));\n              }\n              localPositions.push(groupStart + offset - start);\n          }\n      }\n      divide(children, positions, from, to, 0);\n      return (mkTop || mkTree)(localChildren, localPositions, length);\n  }\n  /**\n  Provides a way to associate values with pieces of trees. As long\n  as that part of the tree is reused, the associated values can be\n  retrieved from an updated tree.\n  */\n  class NodeWeakMap {\n      constructor() {\n          this.map = new WeakMap();\n      }\n      setBuffer(buffer, index, value) {\n          let inner = this.map.get(buffer);\n          if (!inner)\n              this.map.set(buffer, inner = new Map);\n          inner.set(index, value);\n      }\n      getBuffer(buffer, index) {\n          let inner = this.map.get(buffer);\n          return inner && inner.get(index);\n      }\n      /**\n      Set the value for this syntax node.\n      */\n      set(node, value) {\n          if (node instanceof BufferNode)\n              this.setBuffer(node.context.buffer, node.index, value);\n          else if (node instanceof TreeNode)\n              this.map.set(node.tree, value);\n      }\n      /**\n      Retrieve value for this syntax node, if it exists in the map.\n      */\n      get(node) {\n          return node instanceof BufferNode ? this.getBuffer(node.context.buffer, node.index)\n              : node instanceof TreeNode ? this.map.get(node.tree) : undefined;\n      }\n      /**\n      Set the value for the node that a cursor currently points to.\n      */\n      cursorSet(cursor, value) {\n          if (cursor.buffer)\n              this.setBuffer(cursor.buffer.buffer, cursor.index, value);\n          else\n              this.map.set(cursor.tree, value);\n      }\n      /**\n      Retrieve the value for the node that a cursor currently points\n      to.\n      */\n      cursorGet(cursor) {\n          return cursor.buffer ? this.getBuffer(cursor.buffer.buffer, cursor.index) : this.map.get(cursor.tree);\n      }\n  }\n\n  /**\n  Tree fragments are used during [incremental\n  parsing](#common.Parser.startParse) to track parts of old trees\n  that can be reused in a new parse. An array of fragments is used\n  to track regions of an old tree whose nodes might be reused in new\n  parses. Use the static\n  [`applyChanges`](#common.TreeFragment^applyChanges) method to\n  update fragments for document changes.\n  */\n  class TreeFragment {\n      /**\n      Construct a tree fragment. You'll usually want to use\n      [`addTree`](#common.TreeFragment^addTree) and\n      [`applyChanges`](#common.TreeFragment^applyChanges) instead of\n      calling this directly.\n      */\n      constructor(\n      /**\n      The start of the unchanged range pointed to by this fragment.\n      This refers to an offset in the _updated_ document (as opposed\n      to the original tree).\n      */\n      from, \n      /**\n      The end of the unchanged range.\n      */\n      to, \n      /**\n      The tree that this fragment is based on.\n      */\n      tree, \n      /**\n      The offset between the fragment's tree and the document that\n      this fragment can be used against. Add this when going from\n      document to tree positions, subtract it to go from tree to\n      document positions.\n      */\n      offset, openStart = false, openEnd = false) {\n          this.from = from;\n          this.to = to;\n          this.tree = tree;\n          this.offset = offset;\n          this.open = (openStart ? 1 /* Open.Start */ : 0) | (openEnd ? 2 /* Open.End */ : 0);\n      }\n      /**\n      Whether the start of the fragment represents the start of a\n      parse, or the end of a change. (In the second case, it may not\n      be safe to reuse some nodes at the start, depending on the\n      parsing algorithm.)\n      */\n      get openStart() { return (this.open & 1 /* Open.Start */) > 0; }\n      /**\n      Whether the end of the fragment represents the end of a\n      full-document parse, or the start of a change.\n      */\n      get openEnd() { return (this.open & 2 /* Open.End */) > 0; }\n      /**\n      Create a set of fragments from a freshly parsed tree, or update\n      an existing set of fragments by replacing the ones that overlap\n      with a tree with content from the new tree. When `partial` is\n      true, the parse is treated as incomplete, and the resulting\n      fragment has [`openEnd`](#common.TreeFragment.openEnd) set to\n      true.\n      */\n      static addTree(tree, fragments = [], partial = false) {\n          let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];\n          for (let f of fragments)\n              if (f.to > tree.length)\n                  result.push(f);\n          return result;\n      }\n      /**\n      Apply a set of edits to an array of fragments, removing or\n      splitting fragments as necessary to remove edited ranges, and\n      adjusting offsets for fragments that moved.\n      */\n      static applyChanges(fragments, changes, minGap = 128) {\n          if (!changes.length)\n              return fragments;\n          let result = [];\n          let fI = 1, nextF = fragments.length ? fragments[0] : null;\n          for (let cI = 0, pos = 0, off = 0;; cI++) {\n              let nextC = cI < changes.length ? changes[cI] : null;\n              let nextPos = nextC ? nextC.fromA : 1e9;\n              if (nextPos - pos >= minGap)\n                  while (nextF && nextF.from < nextPos) {\n                      let cut = nextF;\n                      if (pos >= cut.from || nextPos <= cut.to || off) {\n                          let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                          cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);\n                      }\n                      if (cut)\n                          result.push(cut);\n                      if (nextF.to > nextPos)\n                          break;\n                      nextF = fI < fragments.length ? fragments[fI++] : null;\n                  }\n              if (!nextC)\n                  break;\n              pos = nextC.toA;\n              off = nextC.toA - nextC.toB;\n          }\n          return result;\n      }\n  }\n  /**\n  A superclass that parsers should extend.\n  */\n  class Parser {\n      /**\n      Start a parse, returning a [partial parse](#common.PartialParse)\n      object. [`fragments`](#common.TreeFragment) can be passed in to\n      make the parse incremental.\n      \n      By default, the entire input is parsed. You can pass `ranges`,\n      which should be a sorted array of non-empty, non-overlapping\n      ranges, to parse only those ranges. The tree returned in that\n      case will start at `ranges[0].from`.\n      */\n      startParse(input, fragments, ranges) {\n          if (typeof input == \"string\")\n              input = new StringInput(input);\n          ranges = !ranges ? [new Range(0, input.length)] : ranges.length ? ranges.map(r => new Range(r.from, r.to)) : [new Range(0, 0)];\n          return this.createParse(input, fragments || [], ranges);\n      }\n      /**\n      Run a full parse, returning the resulting tree.\n      */\n      parse(input, fragments, ranges) {\n          let parse = this.startParse(input, fragments, ranges);\n          for (;;) {\n              let done = parse.advance();\n              if (done)\n                  return done;\n          }\n      }\n  }\n  class StringInput {\n      constructor(string) {\n          this.string = string;\n      }\n      get length() { return this.string.length; }\n      chunk(from) { return this.string.slice(from); }\n      get lineChunks() { return false; }\n      read(from, to) { return this.string.slice(from, to); }\n  }\n\n  /**\n  Create a parse wrapper that, after the inner parse completes,\n  scans its tree for mixed language regions with the `nest`\n  function, runs the resulting [inner parses](#common.NestedParse),\n  and then [mounts](#common.NodeProp^mounted) their results onto the\n  tree.\n  */\n  function parseMixed(nest) {\n      return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);\n  }\n  class InnerParse {\n      constructor(parser, parse, overlay, target, from) {\n          this.parser = parser;\n          this.parse = parse;\n          this.overlay = overlay;\n          this.target = target;\n          this.from = from;\n      }\n  }\n  function checkRanges(ranges) {\n      if (!ranges.length || ranges.some(r => r.from >= r.to))\n          throw new RangeError(\"Invalid inner parse ranges given: \" + JSON.stringify(ranges));\n  }\n  class ActiveOverlay {\n      constructor(parser, predicate, mounts, index, start, target, prev) {\n          this.parser = parser;\n          this.predicate = predicate;\n          this.mounts = mounts;\n          this.index = index;\n          this.start = start;\n          this.target = target;\n          this.prev = prev;\n          this.depth = 0;\n          this.ranges = [];\n      }\n  }\n  const stoppedInner = new NodeProp({ perNode: true });\n  class MixedParse {\n      constructor(base, nest, input, fragments, ranges) {\n          this.nest = nest;\n          this.input = input;\n          this.fragments = fragments;\n          this.ranges = ranges;\n          this.inner = [];\n          this.innerDone = 0;\n          this.baseTree = null;\n          this.stoppedAt = null;\n          this.baseParse = base;\n      }\n      advance() {\n          if (this.baseParse) {\n              let done = this.baseParse.advance();\n              if (!done)\n                  return null;\n              this.baseParse = null;\n              this.baseTree = done;\n              this.startInner();\n              if (this.stoppedAt != null)\n                  for (let inner of this.inner)\n                      inner.parse.stopAt(this.stoppedAt);\n          }\n          if (this.innerDone == this.inner.length) {\n              let result = this.baseTree;\n              if (this.stoppedAt != null)\n                  result = new Tree(result.type, result.children, result.positions, result.length, result.propValues.concat([[stoppedInner, this.stoppedAt]]));\n              return result;\n          }\n          let inner = this.inner[this.innerDone], done = inner.parse.advance();\n          if (done) {\n              this.innerDone++;\n              // This is a somewhat dodgy but super helpful hack where we\n              // patch up nodes created by the inner parse (and thus\n              // presumably not aliased anywhere else) to hold the information\n              // about the inner parse.\n              let props = Object.assign(Object.create(null), inner.target.props);\n              props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);\n              inner.target.props = props;\n          }\n          return null;\n      }\n      get parsedPos() {\n          if (this.baseParse)\n              return 0;\n          let pos = this.input.length;\n          for (let i = this.innerDone; i < this.inner.length; i++) {\n              if (this.inner[i].from < pos)\n                  pos = Math.min(pos, this.inner[i].parse.parsedPos);\n          }\n          return pos;\n      }\n      stopAt(pos) {\n          this.stoppedAt = pos;\n          if (this.baseParse)\n              this.baseParse.stopAt(pos);\n          else\n              for (let i = this.innerDone; i < this.inner.length; i++)\n                  this.inner[i].parse.stopAt(pos);\n      }\n      startInner() {\n          let fragmentCursor = new FragmentCursor$2(this.fragments);\n          let overlay = null;\n          let covered = null;\n          let cursor = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), IterMode.IncludeAnonymous | IterMode.IgnoreMounts);\n          scan: for (let nest, isCovered;;) {\n              let enter = true, range;\n              if (this.stoppedAt != null && cursor.from >= this.stoppedAt) {\n                  enter = false;\n              }\n              else if (fragmentCursor.hasNode(cursor)) {\n                  if (overlay) {\n                      let match = overlay.mounts.find(m => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);\n                      if (match)\n                          for (let r of match.mount.overlay) {\n                              let from = r.from + match.pos, to = r.to + match.pos;\n                              if (from >= cursor.from && to <= cursor.to && !overlay.ranges.some(r => r.from < to && r.to > from))\n                                  overlay.ranges.push({ from, to });\n                          }\n                  }\n                  enter = false;\n              }\n              else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {\n                  enter = isCovered != 2 /* Cover.Full */;\n              }\n              else if (!cursor.type.isAnonymous && (nest = this.nest(cursor, this.input)) &&\n                  (cursor.from < cursor.to || !nest.overlay)) {\n                  if (!cursor.tree)\n                      materialize(cursor);\n                  let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);\n                  if (typeof nest.overlay == \"function\") {\n                      overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);\n                  }\n                  else {\n                      let ranges = punchRanges(this.ranges, nest.overlay ||\n                          (cursor.from < cursor.to ? [new Range(cursor.from, cursor.to)] : []));\n                      if (ranges.length)\n                          checkRanges(ranges);\n                      if (ranges.length || !nest.overlay)\n                          this.inner.push(new InnerParse(nest.parser, ranges.length ? nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges)\n                              : nest.parser.startParse(\"\"), nest.overlay ? nest.overlay.map(r => new Range(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree, ranges.length ? ranges[0].from : cursor.from));\n                      if (!nest.overlay)\n                          enter = false;\n                      else if (ranges.length)\n                          covered = { ranges, depth: 0, prev: covered };\n                  }\n              }\n              else if (overlay && (range = overlay.predicate(cursor))) {\n                  if (range === true)\n                      range = new Range(cursor.from, cursor.to);\n                  if (range.from < range.to) {\n                      let last = overlay.ranges.length - 1;\n                      if (last >= 0 && overlay.ranges[last].to == range.from)\n                          overlay.ranges[last] = { from: overlay.ranges[last].from, to: range.to };\n                      else\n                          overlay.ranges.push(range);\n                  }\n              }\n              if (enter && cursor.firstChild()) {\n                  if (overlay)\n                      overlay.depth++;\n                  if (covered)\n                      covered.depth++;\n              }\n              else {\n                  for (;;) {\n                      if (cursor.nextSibling())\n                          break;\n                      if (!cursor.parent())\n                          break scan;\n                      if (overlay && !--overlay.depth) {\n                          let ranges = punchRanges(this.ranges, overlay.ranges);\n                          if (ranges.length) {\n                              checkRanges(ranges);\n                              this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map(r => new Range(r.from - overlay.start, r.to - overlay.start)), overlay.target, ranges[0].from));\n                          }\n                          overlay = overlay.prev;\n                      }\n                      if (covered && !--covered.depth)\n                          covered = covered.prev;\n                  }\n              }\n          }\n      }\n  }\n  function checkCover(covered, from, to) {\n      for (let range of covered) {\n          if (range.from >= to)\n              break;\n          if (range.to > from)\n              return range.from <= from && range.to >= to ? 2 /* Cover.Full */ : 1 /* Cover.Partial */;\n      }\n      return 0 /* Cover.None */;\n  }\n  // Take a piece of buffer and convert it into a stand-alone\n  // TreeBuffer.\n  function sliceBuf(buf, startI, endI, nodes, positions, off) {\n      if (startI < endI) {\n          let from = buf.buffer[startI + 1];\n          nodes.push(buf.slice(startI, endI, from));\n          positions.push(from - off);\n      }\n  }\n  // This function takes a node that's in a buffer, and converts it, and\n  // its parent buffer nodes, into a Tree. This is again acting on the\n  // assumption that the trees and buffers have been constructed by the\n  // parse that was ran via the mix parser, and thus aren't shared with\n  // any other code, making violations of the immutability safe.\n  function materialize(cursor) {\n      let { node } = cursor, stack = [];\n      let buffer = node.context.buffer;\n      // Scan up to the nearest tree\n      do {\n          stack.push(cursor.index);\n          cursor.parent();\n      } while (!cursor.tree);\n      // Find the index of the buffer in that tree\n      let base = cursor.tree, i = base.children.indexOf(buffer);\n      let buf = base.children[i], b = buf.buffer, newStack = [i];\n      // Split a level in the buffer, putting the nodes before and after\n      // the child that contains `node` into new buffers.\n      function split(startI, endI, type, innerOffset, length, stackPos) {\n          let targetI = stack[stackPos];\n          let children = [], positions = [];\n          sliceBuf(buf, startI, targetI, children, positions, innerOffset);\n          let from = b[targetI + 1], to = b[targetI + 2];\n          newStack.push(children.length);\n          let child = stackPos\n              ? split(targetI + 4, b[targetI + 3], buf.set.types[b[targetI]], from, to - from, stackPos - 1)\n              : node.toTree();\n          children.push(child);\n          positions.push(from - innerOffset);\n          sliceBuf(buf, b[targetI + 3], endI, children, positions, innerOffset);\n          return new Tree(type, children, positions, length);\n      }\n      base.children[i] = split(0, b.length, NodeType.none, 0, buf.length, stack.length - 1);\n      // Move the cursor back to the target node\n      for (let index of newStack) {\n          let tree = cursor.tree.children[index], pos = cursor.tree.positions[index];\n          cursor.yield(new TreeNode(tree, pos + cursor.from, index, cursor._tree));\n      }\n  }\n  class StructureCursor {\n      constructor(root, offset) {\n          this.offset = offset;\n          this.done = false;\n          this.cursor = root.cursor(IterMode.IncludeAnonymous | IterMode.IgnoreMounts);\n      }\n      // Move to the first node (in pre-order) that starts at or after `pos`.\n      moveTo(pos) {\n          let { cursor } = this, p = pos - this.offset;\n          while (!this.done && cursor.from < p) {\n              if (cursor.to >= pos && cursor.enter(p, 1, IterMode.IgnoreOverlays | IterMode.ExcludeBuffers)) ;\n              else if (!cursor.next(false))\n                  this.done = true;\n          }\n      }\n      hasNode(cursor) {\n          this.moveTo(cursor.from);\n          if (!this.done && this.cursor.from + this.offset == cursor.from && this.cursor.tree) {\n              for (let tree = this.cursor.tree;;) {\n                  if (tree == cursor.tree)\n                      return true;\n                  if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)\n                      tree = tree.children[0];\n                  else\n                      break;\n              }\n          }\n          return false;\n      }\n  }\n  let FragmentCursor$2 = class FragmentCursor {\n      constructor(fragments) {\n          var _a;\n          this.fragments = fragments;\n          this.curTo = 0;\n          this.fragI = 0;\n          if (fragments.length) {\n              let first = this.curFrag = fragments[0];\n              this.curTo = (_a = first.tree.prop(stoppedInner)) !== null && _a !== void 0 ? _a : first.to;\n              this.inner = new StructureCursor(first.tree, -first.offset);\n          }\n          else {\n              this.curFrag = this.inner = null;\n          }\n      }\n      hasNode(node) {\n          while (this.curFrag && node.from >= this.curTo)\n              this.nextFrag();\n          return this.curFrag && this.curFrag.from <= node.from && this.curTo >= node.to && this.inner.hasNode(node);\n      }\n      nextFrag() {\n          var _a;\n          this.fragI++;\n          if (this.fragI == this.fragments.length) {\n              this.curFrag = this.inner = null;\n          }\n          else {\n              let frag = this.curFrag = this.fragments[this.fragI];\n              this.curTo = (_a = frag.tree.prop(stoppedInner)) !== null && _a !== void 0 ? _a : frag.to;\n              this.inner = new StructureCursor(frag.tree, -frag.offset);\n          }\n      }\n      findMounts(pos, parser) {\n          var _a;\n          let result = [];\n          if (this.inner) {\n              this.inner.cursor.moveTo(pos, 1);\n              for (let pos = this.inner.cursor.node; pos; pos = pos.parent) {\n                  let mount = (_a = pos.tree) === null || _a === void 0 ? void 0 : _a.prop(NodeProp.mounted);\n                  if (mount && mount.parser == parser) {\n                      for (let i = this.fragI; i < this.fragments.length; i++) {\n                          let frag = this.fragments[i];\n                          if (frag.from >= pos.to)\n                              break;\n                          if (frag.tree == this.curFrag.tree)\n                              result.push({\n                                  frag,\n                                  pos: pos.from - frag.offset,\n                                  mount\n                              });\n                      }\n                  }\n              }\n          }\n          return result;\n      }\n  };\n  function punchRanges(outer, ranges) {\n      let copy = null, current = ranges;\n      for (let i = 1, j = 0; i < outer.length; i++) {\n          let gapFrom = outer[i - 1].to, gapTo = outer[i].from;\n          for (; j < current.length; j++) {\n              let r = current[j];\n              if (r.from >= gapTo)\n                  break;\n              if (r.to <= gapFrom)\n                  continue;\n              if (!copy)\n                  current = copy = ranges.slice();\n              if (r.from < gapFrom) {\n                  copy[j] = new Range(r.from, gapFrom);\n                  if (r.to > gapTo)\n                      copy.splice(j + 1, 0, new Range(gapTo, r.to));\n              }\n              else if (r.to > gapTo) {\n                  copy[j--] = new Range(gapTo, r.to);\n              }\n              else {\n                  copy.splice(j--, 1);\n              }\n          }\n      }\n      return current;\n  }\n  function findCoverChanges(a, b, from, to) {\n      let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;\n      let result = [];\n      for (;;) {\n          let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;\n          let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;\n          if (inA != inB) {\n              let start = Math.max(pos, from), end = Math.min(nextA, nextB, to);\n              if (start < end)\n                  result.push(new Range(start, end));\n          }\n          pos = Math.min(nextA, nextB);\n          if (pos == 1e9)\n              break;\n          if (nextA == pos) {\n              if (!inA)\n                  inA = true;\n              else {\n                  inA = false;\n                  iA++;\n              }\n          }\n          if (nextB == pos) {\n              if (!inB)\n                  inB = true;\n              else {\n                  inB = false;\n                  iB++;\n              }\n          }\n      }\n      return result;\n  }\n  // Given a number of fragments for the outer tree, and a set of ranges\n  // to parse, find fragments for inner trees mounted around those\n  // ranges, if any.\n  function enterFragments(mounts, ranges) {\n      let result = [];\n      for (let { pos, mount, frag } of mounts) {\n          let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;\n          let from = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);\n          if (mount.overlay) {\n              let overlay = mount.overlay.map(r => new Range(r.from + pos, r.to + pos));\n              let changes = findCoverChanges(ranges, overlay, from, to);\n              for (let i = 0, pos = from;; i++) {\n                  let last = i == changes.length, end = last ? to : changes[i].from;\n                  if (end > pos)\n                      result.push(new TreeFragment(pos, end, mount.tree, -startPos, frag.from >= pos || frag.openStart, frag.to <= end || frag.openEnd));\n                  if (last)\n                      break;\n                  pos = changes[i].to;\n              }\n          }\n          else {\n              result.push(new TreeFragment(from, to, mount.tree, -startPos, frag.from >= startPos || frag.openStart, frag.to <= endPos || frag.openEnd));\n          }\n      }\n      return result;\n  }\n\n  let nextTagID = 0;\n  /**\n  Highlighting tags are markers that denote a highlighting category.\n  They are [associated](#highlight.styleTags) with parts of a syntax\n  tree by a language mode, and then mapped to an actual CSS style by\n  a [highlighter](#highlight.Highlighter).\n\n  Because syntax tree node types and highlight styles have to be\n  able to talk the same language, CodeMirror uses a mostly _closed_\n  [vocabulary](#highlight.tags) of syntax tags (as opposed to\n  traditional open string-based systems, which make it hard for\n  highlighting themes to cover all the tokens produced by the\n  various languages).\n\n  It _is_ possible to [define](#highlight.Tag^define) your own\n  highlighting tags for system-internal use (where you control both\n  the language package and the highlighter), but such tags will not\n  be picked up by regular highlighters (though you can derive them\n  from standard tags to allow highlighters to fall back to those).\n  */\n  let Tag$1 = class Tag {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The optional name of the base tag @internal\n      */\n      name, \n      /**\n      The set of this tag and all its parent tags, starting with\n      this one itself and sorted in order of decreasing specificity.\n      */\n      set, \n      /**\n      The base unmodified tag that this one is based on, if it's\n      modified @internal\n      */\n      base, \n      /**\n      The modifiers applied to this.base @internal\n      */\n      modified) {\n          this.name = name;\n          this.set = set;\n          this.base = base;\n          this.modified = modified;\n          /**\n          @internal\n          */\n          this.id = nextTagID++;\n      }\n      toString() {\n          let { name } = this;\n          for (let mod of this.modified)\n              if (mod.name)\n                  name = `${mod.name}(${name})`;\n          return name;\n      }\n      static define(nameOrParent, parent) {\n          let name = typeof nameOrParent == \"string\" ? nameOrParent : \"?\";\n          if (nameOrParent instanceof Tag)\n              parent = nameOrParent;\n          if (parent === null || parent === void 0 ? void 0 : parent.base)\n              throw new Error(\"Can not derive from a modified tag\");\n          let tag = new Tag(name, [], null, []);\n          tag.set.push(tag);\n          if (parent)\n              for (let t of parent.set)\n                  tag.set.push(t);\n          return tag;\n      }\n      /**\n      Define a tag _modifier_, which is a function that, given a tag,\n      will return a tag that is a subtag of the original. Applying the\n      same modifier to a twice tag will return the same value (`m1(t1)\n      == m1(t1)`) and applying multiple modifiers will, regardless or\n      order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n      \n      When multiple modifiers are applied to a given base tag, each\n      smaller set of modifiers is registered as a parent, so that for\n      example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n      `m1(m3(t1)`, and so on.\n      */\n      static defineModifier(name) {\n          let mod = new Modifier(name);\n          return (tag) => {\n              if (tag.modified.indexOf(mod) > -1)\n                  return tag;\n              return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n          };\n      }\n  };\n  let nextModifierID = 0;\n  class Modifier {\n      constructor(name) {\n          this.name = name;\n          this.instances = [];\n          this.id = nextModifierID++;\n      }\n      static get(base, mods) {\n          if (!mods.length)\n              return base;\n          let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n          if (exists)\n              return exists;\n          let set = [], tag = new Tag$1(base.name, set, base, mods);\n          for (let m of mods)\n              m.instances.push(tag);\n          let configs = powerSet(mods);\n          for (let parent of base.set)\n              if (!parent.modified.length)\n                  for (let config of configs)\n                      set.push(Modifier.get(parent, config));\n          return tag;\n      }\n  }\n  function sameArray(a, b) {\n      return a.length == b.length && a.every((x, i) => x == b[i]);\n  }\n  function powerSet(array) {\n      let sets = [[]];\n      for (let i = 0; i < array.length; i++) {\n          for (let j = 0, e = sets.length; j < e; j++) {\n              sets.push(sets[j].concat(array[i]));\n          }\n      }\n      return sets.sort((a, b) => b.length - a.length);\n  }\n  /**\n  This function is used to add a set of tags to a language syntax\n  via [`NodeSet.extend`](#common.NodeSet.extend) or\n  [`LRParser.configure`](#lr.LRParser.configure).\n\n  The argument object maps node selectors to [highlighting\n  tags](#highlight.Tag) or arrays of tags.\n\n  Node selectors may hold one or more (space-separated) node paths.\n  Such a path can be a [node name](#common.NodeType.name), or\n  multiple node names (or `*` wildcards) separated by slash\n  characters, as in `\"Block/Declaration/VariableName\"`. Such a path\n  matches the final node but only if its direct parent nodes are the\n  other nodes mentioned. A `*` in such a path matches any parent,\n  but only a single levelwildcards that match multiple parents\n  aren't supported, both for efficiency reasons and because Lezer\n  trees make it rather hard to reason about what they would match.)\n\n  A path can be ended with `/...` to indicate that the tag assigned\n  to the node should also apply to all child nodes, even if they\n  match their own style (by default, only the innermost style is\n  used).\n\n  When a path ends in `!`, as in `Attribute!`, no further matching\n  happens for the node's child nodes, and the entire node gets the\n  given style.\n\n  In this notation, node names that contain `/`, `!`, `*`, or `...`\n  must be quoted as JSON strings.\n\n  For example:\n\n  ```javascript\n  parser.withProps(\n    styleTags({\n      // Style Number and BigNumber nodes\n      \"Number BigNumber\": tags.number,\n      // Style Escape nodes whose parent is String\n      \"String/Escape\": tags.escape,\n      // Style anything inside Attributes nodes\n      \"Attributes!\": tags.meta,\n      // Add a style to all content inside Italic nodes\n      \"Italic/...\": tags.emphasis,\n      // Style InvalidString nodes as both `string` and `invalid`\n      \"InvalidString\": [tags.string, tags.invalid],\n      // Style the node named \"/\" as punctuation\n      '\"/\"': tags.punctuation\n    })\n  )\n  ```\n  */\n  function styleTags(spec) {\n      let byName = Object.create(null);\n      for (let prop in spec) {\n          let tags = spec[prop];\n          if (!Array.isArray(tags))\n              tags = [tags];\n          for (let part of prop.split(\" \"))\n              if (part) {\n                  let pieces = [], mode = 2 /* Mode.Normal */, rest = part;\n                  for (let pos = 0;;) {\n                      if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                          mode = 1 /* Mode.Inherit */;\n                          break;\n                      }\n                      let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                      if (!m)\n                          throw new RangeError(\"Invalid path: \" + part);\n                      pieces.push(m[0] == \"*\" ? \"\" : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                      pos += m[0].length;\n                      if (pos == part.length)\n                          break;\n                      let next = part[pos++];\n                      if (pos == part.length && next == \"!\") {\n                          mode = 0 /* Mode.Opaque */;\n                          break;\n                      }\n                      if (next != \"/\")\n                          throw new RangeError(\"Invalid path: \" + part);\n                      rest = part.slice(pos);\n                  }\n                  let last = pieces.length - 1, inner = pieces[last];\n                  if (!inner)\n                      throw new RangeError(\"Invalid path: \" + part);\n                  let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                  byName[inner] = rule.sort(byName[inner]);\n              }\n      }\n      return ruleNodeProp.add(byName);\n  }\n  const ruleNodeProp = new NodeProp();\n  class Rule {\n      constructor(tags, mode, context, next) {\n          this.tags = tags;\n          this.mode = mode;\n          this.context = context;\n          this.next = next;\n      }\n      get opaque() { return this.mode == 0 /* Mode.Opaque */; }\n      get inherit() { return this.mode == 1 /* Mode.Inherit */; }\n      sort(other) {\n          if (!other || other.depth < this.depth) {\n              this.next = other;\n              return this;\n          }\n          other.next = this.sort(other.next);\n          return other;\n      }\n      get depth() { return this.context ? this.context.length : 0; }\n  }\n  Rule.empty = new Rule([], 2 /* Mode.Normal */, null);\n  /**\n  Define a [highlighter](#highlight.Highlighter) from an array of\n  tag/class pairs. Classes associated with more specific tags will\n  take precedence.\n  */\n  function tagHighlighter(tags, options) {\n      let map = Object.create(null);\n      for (let style of tags) {\n          if (!Array.isArray(style.tag))\n              map[style.tag.id] = style.class;\n          else\n              for (let tag of style.tag)\n                  map[tag.id] = style.class;\n      }\n      let { scope, all = null } = options || {};\n      return {\n          style: (tags) => {\n              let cls = all;\n              for (let tag of tags) {\n                  for (let sub of tag.set) {\n                      let tagClass = map[sub.id];\n                      if (tagClass) {\n                          cls = cls ? cls + \" \" + tagClass : tagClass;\n                          break;\n                      }\n                  }\n              }\n              return cls;\n          },\n          scope\n      };\n  }\n  function highlightTags(highlighters, tags) {\n      let result = null;\n      for (let highlighter of highlighters) {\n          let value = highlighter.style(tags);\n          if (value)\n              result = result ? result + \" \" + value : value;\n      }\n      return result;\n  }\n  /**\n  Highlight the given [tree](#common.Tree) with the given\n  [highlighter](#highlight.Highlighter). Often, the higher-level\n  [`highlightCode`](#highlight.highlightCode) function is easier to\n  use.\n  */\n  function highlightTree(tree, highlighter, \n  /**\n  Assign styling to a region of the text. Will be called, in order\n  of position, for any ranges where more than zero classes apply.\n  `classes` is a space separated string of CSS classes.\n  */\n  putStyle, \n  /**\n  The start of the range to highlight.\n  */\n  from = 0, \n  /**\n  The end of the range.\n  */\n  to = tree.length) {\n      let builder = new HighlightBuilder(from, Array.isArray(highlighter) ? highlighter : [highlighter], putStyle);\n      builder.highlightRange(tree.cursor(), from, to, \"\", builder.highlighters);\n      builder.flush(to);\n  }\n  class HighlightBuilder {\n      constructor(at, highlighters, span) {\n          this.at = at;\n          this.highlighters = highlighters;\n          this.span = span;\n          this.class = \"\";\n      }\n      startSpan(at, cls) {\n          if (cls != this.class) {\n              this.flush(at);\n              if (at > this.at)\n                  this.at = at;\n              this.class = cls;\n          }\n      }\n      flush(to) {\n          if (to > this.at && this.class)\n              this.span(this.at, to, this.class);\n      }\n      highlightRange(cursor, from, to, inheritedClass, highlighters) {\n          let { type, from: start, to: end } = cursor;\n          if (start >= to || end <= from)\n              return;\n          if (type.isTop)\n              highlighters = this.highlighters.filter(h => !h.scope || h.scope(type));\n          let cls = inheritedClass;\n          let rule = getStyleTags(cursor) || Rule.empty;\n          let tagCls = highlightTags(highlighters, rule.tags);\n          if (tagCls) {\n              if (cls)\n                  cls += \" \";\n              cls += tagCls;\n              if (rule.mode == 1 /* Mode.Inherit */)\n                  inheritedClass += (inheritedClass ? \" \" : \"\") + tagCls;\n          }\n          this.startSpan(Math.max(from, start), cls);\n          if (rule.opaque)\n              return;\n          let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);\n          if (mounted && mounted.overlay) {\n              let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);\n              let innerHighlighters = this.highlighters.filter(h => !h.scope || h.scope(mounted.tree.type));\n              let hasChild = cursor.firstChild();\n              for (let i = 0, pos = start;; i++) {\n                  let next = i < mounted.overlay.length ? mounted.overlay[i] : null;\n                  let nextPos = next ? next.from + start : end;\n                  let rangeFrom = Math.max(from, pos), rangeTo = Math.min(to, nextPos);\n                  if (rangeFrom < rangeTo && hasChild) {\n                      while (cursor.from < rangeTo) {\n                          this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, highlighters);\n                          this.startSpan(Math.min(rangeTo, cursor.to), cls);\n                          if (cursor.to >= nextPos || !cursor.nextSibling())\n                              break;\n                      }\n                  }\n                  if (!next || nextPos > to)\n                      break;\n                  pos = next.to + start;\n                  if (pos > from) {\n                      this.highlightRange(inner.cursor(), Math.max(from, next.from + start), Math.min(to, pos), \"\", innerHighlighters);\n                      this.startSpan(Math.min(to, pos), cls);\n                  }\n              }\n              if (hasChild)\n                  cursor.parent();\n          }\n          else if (cursor.firstChild()) {\n              if (mounted)\n                  inheritedClass = \"\";\n              do {\n                  if (cursor.to <= from)\n                      continue;\n                  if (cursor.from >= to)\n                      break;\n                  this.highlightRange(cursor, from, to, inheritedClass, highlighters);\n                  this.startSpan(Math.min(to, cursor.to), cls);\n              } while (cursor.nextSibling());\n              cursor.parent();\n          }\n      }\n  }\n  /**\n  Match a syntax node's [highlight rules](#highlight.styleTags). If\n  there's a match, return its set of tags, and whether it is\n  opaque (uses a `!`) or applies to all child nodes (`/...`).\n  */\n  function getStyleTags(node) {\n      let rule = node.type.prop(ruleNodeProp);\n      while (rule && rule.context && !node.matchContext(rule.context))\n          rule = rule.next;\n      return rule || null;\n  }\n  const t = Tag$1.define;\n  const comment = t(), name = t(), typeName = t(name), propertyName = t(name), literal = t(), string = t(literal), number = t(literal), content = t(), heading = t(content), keyword = t(), operator = t(), punctuation = t(), bracket = t(punctuation), meta = t();\n  /**\n  The default set of highlighting [tags](#highlight.Tag).\n\n  This collection is heavily biased towards programming languages,\n  and necessarily incomplete. A full ontology of syntactic\n  constructs would fill a stack of books, and be impractical to\n  write themes for. So try to make do with this set. If all else\n  fails, [open an\n  issue](https://github.com/codemirror/codemirror.next) to propose a\n  new tag, or [define](#highlight.Tag^define) a local custom tag for\n  your use case.\n\n  Note that it is not obligatory to always attach the most specific\n  tag possible to an elementif your grammar can't easily\n  distinguish a certain type of element (such as a local variable),\n  it is okay to style it as its more general variant (a variable).\n\n  For tags that extend some parent tag, the documentation links to\n  the parent.\n  */\n  const tags$1 = {\n      /**\n      A comment.\n      */\n      comment,\n      /**\n      A line [comment](#highlight.tags.comment).\n      */\n      lineComment: t(comment),\n      /**\n      A block [comment](#highlight.tags.comment).\n      */\n      blockComment: t(comment),\n      /**\n      A documentation [comment](#highlight.tags.comment).\n      */\n      docComment: t(comment),\n      /**\n      Any kind of identifier.\n      */\n      name,\n      /**\n      The [name](#highlight.tags.name) of a variable.\n      */\n      variableName: t(name),\n      /**\n      A type [name](#highlight.tags.name).\n      */\n      typeName: typeName,\n      /**\n      A tag name (subtag of [`typeName`](#highlight.tags.typeName)).\n      */\n      tagName: t(typeName),\n      /**\n      A property or field [name](#highlight.tags.name).\n      */\n      propertyName: propertyName,\n      /**\n      An attribute name (subtag of [`propertyName`](#highlight.tags.propertyName)).\n      */\n      attributeName: t(propertyName),\n      /**\n      The [name](#highlight.tags.name) of a class.\n      */\n      className: t(name),\n      /**\n      A label [name](#highlight.tags.name).\n      */\n      labelName: t(name),\n      /**\n      A namespace [name](#highlight.tags.name).\n      */\n      namespace: t(name),\n      /**\n      The [name](#highlight.tags.name) of a macro.\n      */\n      macroName: t(name),\n      /**\n      A literal value.\n      */\n      literal,\n      /**\n      A string [literal](#highlight.tags.literal).\n      */\n      string,\n      /**\n      A documentation [string](#highlight.tags.string).\n      */\n      docString: t(string),\n      /**\n      A character literal (subtag of [string](#highlight.tags.string)).\n      */\n      character: t(string),\n      /**\n      An attribute value (subtag of [string](#highlight.tags.string)).\n      */\n      attributeValue: t(string),\n      /**\n      A number [literal](#highlight.tags.literal).\n      */\n      number,\n      /**\n      An integer [number](#highlight.tags.number) literal.\n      */\n      integer: t(number),\n      /**\n      A floating-point [number](#highlight.tags.number) literal.\n      */\n      float: t(number),\n      /**\n      A boolean [literal](#highlight.tags.literal).\n      */\n      bool: t(literal),\n      /**\n      Regular expression [literal](#highlight.tags.literal).\n      */\n      regexp: t(literal),\n      /**\n      An escape [literal](#highlight.tags.literal), for example a\n      backslash escape in a string.\n      */\n      escape: t(literal),\n      /**\n      A color [literal](#highlight.tags.literal).\n      */\n      color: t(literal),\n      /**\n      A URL [literal](#highlight.tags.literal).\n      */\n      url: t(literal),\n      /**\n      A language keyword.\n      */\n      keyword,\n      /**\n      The [keyword](#highlight.tags.keyword) for the self or this\n      object.\n      */\n      self: t(keyword),\n      /**\n      The [keyword](#highlight.tags.keyword) for null.\n      */\n      null: t(keyword),\n      /**\n      A [keyword](#highlight.tags.keyword) denoting some atomic value.\n      */\n      atom: t(keyword),\n      /**\n      A [keyword](#highlight.tags.keyword) that represents a unit.\n      */\n      unit: t(keyword),\n      /**\n      A modifier [keyword](#highlight.tags.keyword).\n      */\n      modifier: t(keyword),\n      /**\n      A [keyword](#highlight.tags.keyword) that acts as an operator.\n      */\n      operatorKeyword: t(keyword),\n      /**\n      A control-flow related [keyword](#highlight.tags.keyword).\n      */\n      controlKeyword: t(keyword),\n      /**\n      A [keyword](#highlight.tags.keyword) that defines something.\n      */\n      definitionKeyword: t(keyword),\n      /**\n      A [keyword](#highlight.tags.keyword) related to defining or\n      interfacing with modules.\n      */\n      moduleKeyword: t(keyword),\n      /**\n      An operator.\n      */\n      operator,\n      /**\n      An [operator](#highlight.tags.operator) that dereferences something.\n      */\n      derefOperator: t(operator),\n      /**\n      Arithmetic-related [operator](#highlight.tags.operator).\n      */\n      arithmeticOperator: t(operator),\n      /**\n      Logical [operator](#highlight.tags.operator).\n      */\n      logicOperator: t(operator),\n      /**\n      Bit [operator](#highlight.tags.operator).\n      */\n      bitwiseOperator: t(operator),\n      /**\n      Comparison [operator](#highlight.tags.operator).\n      */\n      compareOperator: t(operator),\n      /**\n      [Operator](#highlight.tags.operator) that updates its operand.\n      */\n      updateOperator: t(operator),\n      /**\n      [Operator](#highlight.tags.operator) that defines something.\n      */\n      definitionOperator: t(operator),\n      /**\n      Type-related [operator](#highlight.tags.operator).\n      */\n      typeOperator: t(operator),\n      /**\n      Control-flow [operator](#highlight.tags.operator).\n      */\n      controlOperator: t(operator),\n      /**\n      Program or markup punctuation.\n      */\n      punctuation,\n      /**\n      [Punctuation](#highlight.tags.punctuation) that separates\n      things.\n      */\n      separator: t(punctuation),\n      /**\n      Bracket-style [punctuation](#highlight.tags.punctuation).\n      */\n      bracket,\n      /**\n      Angle [brackets](#highlight.tags.bracket) (usually `<` and `>`\n      tokens).\n      */\n      angleBracket: t(bracket),\n      /**\n      Square [brackets](#highlight.tags.bracket) (usually `[` and `]`\n      tokens).\n      */\n      squareBracket: t(bracket),\n      /**\n      Parentheses (usually `(` and `)` tokens). Subtag of\n      [bracket](#highlight.tags.bracket).\n      */\n      paren: t(bracket),\n      /**\n      Braces (usually `{` and `}` tokens). Subtag of\n      [bracket](#highlight.tags.bracket).\n      */\n      brace: t(bracket),\n      /**\n      Content, for example plain text in XML or markup documents.\n      */\n      content,\n      /**\n      [Content](#highlight.tags.content) that represents a heading.\n      */\n      heading,\n      /**\n      A level 1 [heading](#highlight.tags.heading).\n      */\n      heading1: t(heading),\n      /**\n      A level 2 [heading](#highlight.tags.heading).\n      */\n      heading2: t(heading),\n      /**\n      A level 3 [heading](#highlight.tags.heading).\n      */\n      heading3: t(heading),\n      /**\n      A level 4 [heading](#highlight.tags.heading).\n      */\n      heading4: t(heading),\n      /**\n      A level 5 [heading](#highlight.tags.heading).\n      */\n      heading5: t(heading),\n      /**\n      A level 6 [heading](#highlight.tags.heading).\n      */\n      heading6: t(heading),\n      /**\n      A prose [content](#highlight.tags.content) separator (such as a horizontal rule).\n      */\n      contentSeparator: t(content),\n      /**\n      [Content](#highlight.tags.content) that represents a list.\n      */\n      list: t(content),\n      /**\n      [Content](#highlight.tags.content) that represents a quote.\n      */\n      quote: t(content),\n      /**\n      [Content](#highlight.tags.content) that is emphasized.\n      */\n      emphasis: t(content),\n      /**\n      [Content](#highlight.tags.content) that is styled strong.\n      */\n      strong: t(content),\n      /**\n      [Content](#highlight.tags.content) that is part of a link.\n      */\n      link: t(content),\n      /**\n      [Content](#highlight.tags.content) that is styled as code or\n      monospace.\n      */\n      monospace: t(content),\n      /**\n      [Content](#highlight.tags.content) that has a strike-through\n      style.\n      */\n      strikethrough: t(content),\n      /**\n      Inserted text in a change-tracking format.\n      */\n      inserted: t(),\n      /**\n      Deleted text.\n      */\n      deleted: t(),\n      /**\n      Changed text.\n      */\n      changed: t(),\n      /**\n      An invalid or unsyntactic element.\n      */\n      invalid: t(),\n      /**\n      Metadata or meta-instruction.\n      */\n      meta,\n      /**\n      [Metadata](#highlight.tags.meta) that applies to the entire\n      document.\n      */\n      documentMeta: t(meta),\n      /**\n      [Metadata](#highlight.tags.meta) that annotates or adds\n      attributes to a given syntactic element.\n      */\n      annotation: t(meta),\n      /**\n      Processing instruction or preprocessor directive. Subtag of\n      [meta](#highlight.tags.meta).\n      */\n      processingInstruction: t(meta),\n      /**\n      [Modifier](#highlight.Tag^defineModifier) that indicates that a\n      given element is being defined. Expected to be used with the\n      various [name](#highlight.tags.name) tags.\n      */\n      definition: Tag$1.defineModifier(\"definition\"),\n      /**\n      [Modifier](#highlight.Tag^defineModifier) that indicates that\n      something is constant. Mostly expected to be used with\n      [variable names](#highlight.tags.variableName).\n      */\n      constant: Tag$1.defineModifier(\"constant\"),\n      /**\n      [Modifier](#highlight.Tag^defineModifier) used to indicate that\n      a [variable](#highlight.tags.variableName) or [property\n      name](#highlight.tags.propertyName) is being called or defined\n      as a function.\n      */\n      function: Tag$1.defineModifier(\"function\"),\n      /**\n      [Modifier](#highlight.Tag^defineModifier) that can be applied to\n      [names](#highlight.tags.name) to indicate that they belong to\n      the language's standard environment.\n      */\n      standard: Tag$1.defineModifier(\"standard\"),\n      /**\n      [Modifier](#highlight.Tag^defineModifier) that indicates a given\n      [names](#highlight.tags.name) is local to some scope.\n      */\n      local: Tag$1.defineModifier(\"local\"),\n      /**\n      A generic variant [modifier](#highlight.Tag^defineModifier) that\n      can be used to tag language-specific alternative variants of\n      some common tag. It is recommended for themes to define special\n      forms of at least the [string](#highlight.tags.string) and\n      [variable name](#highlight.tags.variableName) tags, since those\n      come up a lot.\n      */\n      special: Tag$1.defineModifier(\"special\")\n  };\n  for (let name in tags$1) {\n      let val = tags$1[name];\n      if (val instanceof Tag$1)\n          val.name = name;\n  }\n  /**\n  This is a highlighter that adds stable, predictable classes to\n  tokens, for styling with external CSS.\n\n  The following tags are mapped to their name prefixed with `\"tok-\"`\n  (for example `\"tok-comment\"`):\n\n  * [`link`](#highlight.tags.link)\n  * [`heading`](#highlight.tags.heading)\n  * [`emphasis`](#highlight.tags.emphasis)\n  * [`strong`](#highlight.tags.strong)\n  * [`keyword`](#highlight.tags.keyword)\n  * [`atom`](#highlight.tags.atom)\n  * [`bool`](#highlight.tags.bool)\n  * [`url`](#highlight.tags.url)\n  * [`labelName`](#highlight.tags.labelName)\n  * [`inserted`](#highlight.tags.inserted)\n  * [`deleted`](#highlight.tags.deleted)\n  * [`literal`](#highlight.tags.literal)\n  * [`string`](#highlight.tags.string)\n  * [`number`](#highlight.tags.number)\n  * [`variableName`](#highlight.tags.variableName)\n  * [`typeName`](#highlight.tags.typeName)\n  * [`namespace`](#highlight.tags.namespace)\n  * [`className`](#highlight.tags.className)\n  * [`macroName`](#highlight.tags.macroName)\n  * [`propertyName`](#highlight.tags.propertyName)\n  * [`operator`](#highlight.tags.operator)\n  * [`comment`](#highlight.tags.comment)\n  * [`meta`](#highlight.tags.meta)\n  * [`punctuation`](#highlight.tags.punctuation)\n  * [`invalid`](#highlight.tags.invalid)\n\n  In addition, these mappings are provided:\n\n  * [`regexp`](#highlight.tags.regexp),\n    [`escape`](#highlight.tags.escape), and\n    [`special`](#highlight.tags.special)[`(string)`](#highlight.tags.string)\n    are mapped to `\"tok-string2\"`\n  * [`special`](#highlight.tags.special)[`(variableName)`](#highlight.tags.variableName)\n    to `\"tok-variableName2\"`\n  * [`local`](#highlight.tags.local)[`(variableName)`](#highlight.tags.variableName)\n    to `\"tok-variableName tok-local\"`\n  * [`definition`](#highlight.tags.definition)[`(variableName)`](#highlight.tags.variableName)\n    to `\"tok-variableName tok-definition\"`\n  * [`definition`](#highlight.tags.definition)[`(propertyName)`](#highlight.tags.propertyName)\n    to `\"tok-propertyName tok-definition\"`\n  */\n  tagHighlighter([\n      { tag: tags$1.link, class: \"tok-link\" },\n      { tag: tags$1.heading, class: \"tok-heading\" },\n      { tag: tags$1.emphasis, class: \"tok-emphasis\" },\n      { tag: tags$1.strong, class: \"tok-strong\" },\n      { tag: tags$1.keyword, class: \"tok-keyword\" },\n      { tag: tags$1.atom, class: \"tok-atom\" },\n      { tag: tags$1.bool, class: \"tok-bool\" },\n      { tag: tags$1.url, class: \"tok-url\" },\n      { tag: tags$1.labelName, class: \"tok-labelName\" },\n      { tag: tags$1.inserted, class: \"tok-inserted\" },\n      { tag: tags$1.deleted, class: \"tok-deleted\" },\n      { tag: tags$1.literal, class: \"tok-literal\" },\n      { tag: tags$1.string, class: \"tok-string\" },\n      { tag: tags$1.number, class: \"tok-number\" },\n      { tag: [tags$1.regexp, tags$1.escape, tags$1.special(tags$1.string)], class: \"tok-string2\" },\n      { tag: tags$1.variableName, class: \"tok-variableName\" },\n      { tag: tags$1.local(tags$1.variableName), class: \"tok-variableName tok-local\" },\n      { tag: tags$1.definition(tags$1.variableName), class: \"tok-variableName tok-definition\" },\n      { tag: tags$1.special(tags$1.variableName), class: \"tok-variableName2\" },\n      { tag: tags$1.definition(tags$1.propertyName), class: \"tok-propertyName tok-definition\" },\n      { tag: tags$1.typeName, class: \"tok-typeName\" },\n      { tag: tags$1.namespace, class: \"tok-namespace\" },\n      { tag: tags$1.className, class: \"tok-className\" },\n      { tag: tags$1.macroName, class: \"tok-macroName\" },\n      { tag: tags$1.propertyName, class: \"tok-propertyName\" },\n      { tag: tags$1.operator, class: \"tok-operator\" },\n      { tag: tags$1.comment, class: \"tok-comment\" },\n      { tag: tags$1.meta, class: \"tok-meta\" },\n      { tag: tags$1.invalid, class: \"tok-invalid\" },\n      { tag: tags$1.punctuation, class: \"tok-punctuation\" }\n  ]);\n\n  var _a;\n  /**\n  Node prop stored in a parser's top syntax node to provide the\n  facet that stores language-specific data for that language.\n  */\n  const languageDataProp = /*@__PURE__*/new NodeProp();\n  /**\n  Helper function to define a facet (to be added to the top syntax\n  node(s) for a language via\n  [`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\n  used to associate language data with the language. You\n  probably only need this when subclassing\n  [`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n  */\n  function defineLanguageFacet(baseData) {\n      return Facet.define({\n          combine: baseData ? values => values.concat(baseData) : undefined\n      });\n  }\n  /**\n  Syntax node prop used to register sublanguages. Should be added to\n  the top level node type for the language.\n  */\n  const sublanguageProp = /*@__PURE__*/new NodeProp();\n  /**\n  A language object manages parsing and per-language\n  [metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\n  managed as a [Lezer](https://lezer.codemirror.net) tree. The class\n  can be used directly, via the [`LRLanguage`](https://codemirror.net/6/docs/ref/#language.LRLanguage)\n  subclass for [Lezer](https://lezer.codemirror.net/) LR parsers, or\n  via the [`StreamLanguage`](https://codemirror.net/6/docs/ref/#language.StreamLanguage) subclass\n  for stream parsers.\n  */\n  class Language {\n      /**\n      Construct a language object. If you need to invoke this\n      directly, first define a data facet with\n      [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet), and then\n      configure your parser to [attach](https://codemirror.net/6/docs/ref/#language.languageDataProp) it\n      to the language's outer syntax node.\n      */\n      constructor(\n      /**\n      The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) facet\n      used for this language.\n      */\n      data, parser, extraExtensions = [], \n      /**\n      A language name.\n      */\n      name = \"\") {\n          this.data = data;\n          this.name = name;\n          // Kludge to define EditorState.tree as a debugging helper,\n          // without the EditorState package actually knowing about\n          // languages and lezer trees.\n          if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n              Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n          this.parser = parser;\n          this.extension = [\n              language.of(this),\n              EditorState.languageData.of((state, pos, side) => {\n                  let top = topNodeAt(state, pos, side), data = top.type.prop(languageDataProp);\n                  if (!data)\n                      return [];\n                  let base = state.facet(data), sub = top.type.prop(sublanguageProp);\n                  if (sub) {\n                      let innerNode = top.resolve(pos - top.from, side);\n                      for (let sublang of sub)\n                          if (sublang.test(innerNode, state)) {\n                              let data = state.facet(sublang.facet);\n                              return sublang.type == \"replace\" ? data : data.concat(base);\n                          }\n                  }\n                  return base;\n              })\n          ].concat(extraExtensions);\n      }\n      /**\n      Query whether this language is active at the given position.\n      */\n      isActiveAt(state, pos, side = -1) {\n          return topNodeAt(state, pos, side).type.prop(languageDataProp) == this.data;\n      }\n      /**\n      Find the document regions that were parsed using this language.\n      The returned regions will _include_ any nested languages rooted\n      in this language, when those exist.\n      */\n      findRegions(state) {\n          let lang = state.facet(language);\n          if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n              return [{ from: 0, to: state.doc.length }];\n          if (!lang || !lang.allowsNesting)\n              return [];\n          let result = [];\n          let explore = (tree, from) => {\n              if (tree.prop(languageDataProp) == this.data) {\n                  result.push({ from, to: from + tree.length });\n                  return;\n              }\n              let mount = tree.prop(NodeProp.mounted);\n              if (mount) {\n                  if (mount.tree.prop(languageDataProp) == this.data) {\n                      if (mount.overlay)\n                          for (let r of mount.overlay)\n                              result.push({ from: r.from + from, to: r.to + from });\n                      else\n                          result.push({ from: from, to: from + tree.length });\n                      return;\n                  }\n                  else if (mount.overlay) {\n                      let size = result.length;\n                      explore(mount.tree, mount.overlay[0].from + from);\n                      if (result.length > size)\n                          return;\n                  }\n              }\n              for (let i = 0; i < tree.children.length; i++) {\n                  let ch = tree.children[i];\n                  if (ch instanceof Tree)\n                      explore(ch, tree.positions[i] + from);\n              }\n          };\n          explore(syntaxTree(state), 0);\n          return result;\n      }\n      /**\n      Indicates whether this language allows nested languages. The\n      default implementation returns true.\n      */\n      get allowsNesting() { return true; }\n  }\n  /**\n  @internal\n  */\n  Language.setState = /*@__PURE__*/StateEffect.define();\n  function topNodeAt(state, pos, side) {\n      let topLang = state.facet(language), tree = syntaxTree(state).topNode;\n      if (!topLang || topLang.allowsNesting) {\n          for (let node = tree; node; node = node.enter(pos, side, IterMode.ExcludeBuffers))\n              if (node.type.isTop)\n                  tree = node;\n      }\n      return tree;\n  }\n  /**\n  A subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with Lezer\n  [LR parsers](https://lezer.codemirror.net/docs/ref#lr.LRParser)\n  parsers.\n  */\n  class LRLanguage extends Language {\n      constructor(data, parser, name) {\n          super(data, parser, [], name);\n          this.parser = parser;\n      }\n      /**\n      Define a language from a parser.\n      */\n      static define(spec) {\n          let data = defineLanguageFacet(spec.languageData);\n          return new LRLanguage(data, spec.parser.configure({\n              props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n          }), spec.name);\n      }\n      /**\n      Create a new instance of this language with a reconfigured\n      version of its parser and optionally a new name.\n      */\n      configure(options, name) {\n          return new LRLanguage(this.data, this.parser.configure(options), name || this.name);\n      }\n      get allowsNesting() { return this.parser.hasWrappers(); }\n  }\n  /**\n  Get the syntax tree for a state, which is the current (possibly\n  incomplete) parse tree of the active\n  [language](https://codemirror.net/6/docs/ref/#language.Language), or the empty tree if there is no\n  language available.\n  */\n  function syntaxTree(state) {\n      let field = state.field(Language.state, false);\n      return field ? field.tree : Tree.empty;\n  }\n  /**\n  Lezer-style\n  [`Input`](https://lezer.codemirror.net/docs/ref#common.Input)\n  object for a [`Text`](https://codemirror.net/6/docs/ref/#state.Text) object.\n  */\n  class DocInput {\n      /**\n      Create an input object for the given document.\n      */\n      constructor(doc) {\n          this.doc = doc;\n          this.cursorPos = 0;\n          this.string = \"\";\n          this.cursor = doc.iter();\n      }\n      get length() { return this.doc.length; }\n      syncTo(pos) {\n          this.string = this.cursor.next(pos - this.cursorPos).value;\n          this.cursorPos = pos + this.string.length;\n          return this.cursorPos - this.string.length;\n      }\n      chunk(pos) {\n          this.syncTo(pos);\n          return this.string;\n      }\n      get lineChunks() { return true; }\n      read(from, to) {\n          let stringStart = this.cursorPos - this.string.length;\n          if (from < stringStart || to >= this.cursorPos)\n              return this.doc.sliceString(from, to);\n          else\n              return this.string.slice(from - stringStart, to - stringStart);\n      }\n  }\n  let currentContext = null;\n  /**\n  A parse context provided to parsers working on the editor content.\n  */\n  class ParseContext {\n      constructor(parser, \n      /**\n      The current editor state.\n      */\n      state, \n      /**\n      Tree fragments that can be reused by incremental re-parses.\n      */\n      fragments = [], \n      /**\n      @internal\n      */\n      tree, \n      /**\n      @internal\n      */\n      treeLen, \n      /**\n      The current editor viewport (or some overapproximation\n      thereof). Intended to be used for opportunistically avoiding\n      work (in which case\n      [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.ParseContext.skipUntilInView)\n      should be called to make sure the parser is restarted when the\n      skipped region becomes visible).\n      */\n      viewport, \n      /**\n      @internal\n      */\n      skipped, \n      /**\n      This is where skipping parsers can register a promise that,\n      when resolved, will schedule a new parse. It is cleared when\n      the parse worker picks up the promise. @internal\n      */\n      scheduleOn) {\n          this.parser = parser;\n          this.state = state;\n          this.fragments = fragments;\n          this.tree = tree;\n          this.treeLen = treeLen;\n          this.viewport = viewport;\n          this.skipped = skipped;\n          this.scheduleOn = scheduleOn;\n          this.parse = null;\n          /**\n          @internal\n          */\n          this.tempSkipped = [];\n      }\n      /**\n      @internal\n      */\n      static create(parser, state, viewport) {\n          return new ParseContext(parser, state, [], Tree.empty, 0, viewport, [], null);\n      }\n      startParse() {\n          return this.parser.startParse(new DocInput(this.state.doc), this.fragments);\n      }\n      /**\n      @internal\n      */\n      work(until, upto) {\n          if (upto != null && upto >= this.state.doc.length)\n              upto = undefined;\n          if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {\n              this.takeTree();\n              return true;\n          }\n          return this.withContext(() => {\n              var _a;\n              if (typeof until == \"number\") {\n                  let endTime = Date.now() + until;\n                  until = () => Date.now() > endTime;\n              }\n              if (!this.parse)\n                  this.parse = this.startParse();\n              if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) &&\n                  upto < this.state.doc.length)\n                  this.parse.stopAt(upto);\n              for (;;) {\n                  let done = this.parse.advance();\n                  if (done) {\n                      this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));\n                      this.treeLen = (_a = this.parse.stoppedAt) !== null && _a !== void 0 ? _a : this.state.doc.length;\n                      this.tree = done;\n                      this.parse = null;\n                      if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))\n                          this.parse = this.startParse();\n                      else\n                          return true;\n                  }\n                  if (until())\n                      return false;\n              }\n          });\n      }\n      /**\n      @internal\n      */\n      takeTree() {\n          let pos, tree;\n          if (this.parse && (pos = this.parse.parsedPos) >= this.treeLen) {\n              if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)\n                  this.parse.stopAt(pos);\n              this.withContext(() => { while (!(tree = this.parse.advance())) { } });\n              this.treeLen = pos;\n              this.tree = tree;\n              this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n              this.parse = null;\n          }\n      }\n      withContext(f) {\n          let prev = currentContext;\n          currentContext = this;\n          try {\n              return f();\n          }\n          finally {\n              currentContext = prev;\n          }\n      }\n      withoutTempSkipped(fragments) {\n          for (let r; r = this.tempSkipped.pop();)\n              fragments = cutFragments(fragments, r.from, r.to);\n          return fragments;\n      }\n      /**\n      @internal\n      */\n      changes(changes, newState) {\n          let { fragments, tree, treeLen, viewport, skipped } = this;\n          this.takeTree();\n          if (!changes.empty) {\n              let ranges = [];\n              changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n              fragments = TreeFragment.applyChanges(fragments, ranges);\n              tree = Tree.empty;\n              treeLen = 0;\n              viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n              if (this.skipped.length) {\n                  skipped = [];\n                  for (let r of this.skipped) {\n                      let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                      if (from < to)\n                          skipped.push({ from, to });\n                  }\n              }\n          }\n          return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);\n      }\n      /**\n      @internal\n      */\n      updateViewport(viewport) {\n          if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)\n              return false;\n          this.viewport = viewport;\n          let startLen = this.skipped.length;\n          for (let i = 0; i < this.skipped.length; i++) {\n              let { from, to } = this.skipped[i];\n              if (from < viewport.to && to > viewport.from) {\n                  this.fragments = cutFragments(this.fragments, from, to);\n                  this.skipped.splice(i--, 1);\n              }\n          }\n          if (this.skipped.length >= startLen)\n              return false;\n          this.reset();\n          return true;\n      }\n      /**\n      @internal\n      */\n      reset() {\n          if (this.parse) {\n              this.takeTree();\n              this.parse = null;\n          }\n      }\n      /**\n      Notify the parse scheduler that the given region was skipped\n      because it wasn't in view, and the parse should be restarted\n      when it comes into view.\n      */\n      skipUntilInView(from, to) {\n          this.skipped.push({ from, to });\n      }\n      /**\n      Returns a parser intended to be used as placeholder when\n      asynchronously loading a nested parser. It'll skip its input and\n      mark it as not-really-parsed, so that the next update will parse\n      it again.\n      \n      When `until` is given, a reparse will be scheduled when that\n      promise resolves.\n      */\n      static getSkippingParser(until) {\n          return new class extends Parser {\n              createParse(input, fragments, ranges) {\n                  let from = ranges[0].from, to = ranges[ranges.length - 1].to;\n                  let parser = {\n                      parsedPos: from,\n                      advance() {\n                          let cx = currentContext;\n                          if (cx) {\n                              for (let r of ranges)\n                                  cx.tempSkipped.push(r);\n                              if (until)\n                                  cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;\n                          }\n                          this.parsedPos = to;\n                          return new Tree(NodeType.none, [], [], to - from);\n                      },\n                      stoppedAt: null,\n                      stopAt() { }\n                  };\n                  return parser;\n              }\n          };\n      }\n      /**\n      @internal\n      */\n      isDone(upto) {\n          upto = Math.min(upto, this.state.doc.length);\n          let frags = this.fragments;\n          return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;\n      }\n      /**\n      Get the context for the current parse, or `null` if no editor\n      parse is in progress.\n      */\n      static get() { return currentContext; }\n  }\n  function cutFragments(fragments, from, to) {\n      return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n  }\n  class LanguageState {\n      constructor(\n      // A mutable parse state that is used to preserve work done during\n      // the lifetime of a state when moving to the next state.\n      context) {\n          this.context = context;\n          this.tree = context.tree;\n      }\n      apply(tr) {\n          if (!tr.docChanged && this.tree == this.context.tree)\n              return this;\n          let newCx = this.context.changes(tr.changes, tr.state);\n          // If the previous parse wasn't done, go forward only up to its\n          // end position or the end of the viewport, to avoid slowing down\n          // state updates with parse work beyond the viewport.\n          let upto = this.context.treeLen == tr.startState.doc.length ? undefined\n              : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);\n          if (!newCx.work(20 /* Work.Apply */, upto))\n              newCx.takeTree();\n          return new LanguageState(newCx);\n      }\n      static init(state) {\n          let vpTo = Math.min(3000 /* Work.InitViewport */, state.doc.length);\n          let parseState = ParseContext.create(state.facet(language).parser, state, { from: 0, to: vpTo });\n          if (!parseState.work(20 /* Work.Apply */, vpTo))\n              parseState.takeTree();\n          return new LanguageState(parseState);\n      }\n  }\n  Language.state = /*@__PURE__*/StateField.define({\n      create: LanguageState.init,\n      update(value, tr) {\n          for (let e of tr.effects)\n              if (e.is(Language.setState))\n                  return e.value;\n          if (tr.startState.facet(language) != tr.state.facet(language))\n              return LanguageState.init(tr.state);\n          return value.apply(tr);\n      }\n  });\n  let requestIdle = (callback) => {\n      let timeout = setTimeout(() => callback(), 500 /* Work.MaxPause */);\n      return () => clearTimeout(timeout);\n  };\n  if (typeof requestIdleCallback != \"undefined\")\n      requestIdle = (callback) => {\n          let idle = -1, timeout = setTimeout(() => {\n              idle = requestIdleCallback(callback, { timeout: 500 /* Work.MaxPause */ - 100 /* Work.MinPause */ });\n          }, 100 /* Work.MinPause */);\n          return () => idle < 0 ? clearTimeout(timeout) : cancelIdleCallback(idle);\n      };\n  const isInputPending = typeof navigator != \"undefined\" && ((_a = navigator.scheduling) === null || _a === void 0 ? void 0 : _a.isInputPending)\n      ? () => navigator.scheduling.isInputPending() : null;\n  const parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n      constructor(view) {\n          this.view = view;\n          this.working = null;\n          this.workScheduled = 0;\n          // End of the current time chunk\n          this.chunkEnd = -1;\n          // Milliseconds of budget left for this chunk\n          this.chunkBudget = -1;\n          this.work = this.work.bind(this);\n          this.scheduleWork();\n      }\n      update(update) {\n          let cx = this.view.state.field(Language.state).context;\n          if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)\n              this.scheduleWork();\n          if (update.docChanged || update.selectionSet) {\n              if (this.view.hasFocus)\n                  this.chunkBudget += 50 /* Work.ChangeBonus */;\n              this.scheduleWork();\n          }\n          this.checkAsyncSchedule(cx);\n      }\n      scheduleWork() {\n          if (this.working)\n              return;\n          let { state } = this.view, field = state.field(Language.state);\n          if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))\n              this.working = requestIdle(this.work);\n      }\n      work(deadline) {\n          this.working = null;\n          let now = Date.now();\n          if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n              this.chunkEnd = now + 30000 /* Work.ChunkTime */;\n              this.chunkBudget = 3000 /* Work.ChunkBudget */;\n          }\n          if (this.chunkBudget <= 0)\n              return; // No more budget\n          let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n          if (field.tree == field.context.tree && field.context.isDone(vpTo + 100000 /* Work.MaxParseAhead */))\n              return;\n          let endTime = Date.now() + Math.min(this.chunkBudget, 100 /* Work.Slice */, deadline && !isInputPending ? Math.max(25 /* Work.MinSlice */, deadline.timeRemaining() - 5) : 1e9);\n          let viewportFirst = field.context.treeLen < vpTo && state.doc.length > vpTo + 1000;\n          let done = field.context.work(() => {\n              return isInputPending && isInputPending() || Date.now() > endTime;\n          }, vpTo + (viewportFirst ? 0 : 100000 /* Work.MaxParseAhead */));\n          this.chunkBudget -= Date.now() - now;\n          if (done || this.chunkBudget <= 0) {\n              field.context.takeTree();\n              this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n          }\n          if (this.chunkBudget > 0 && !(done && !viewportFirst))\n              this.scheduleWork();\n          this.checkAsyncSchedule(field.context);\n      }\n      checkAsyncSchedule(cx) {\n          if (cx.scheduleOn) {\n              this.workScheduled++;\n              cx.scheduleOn\n                  .then(() => this.scheduleWork())\n                  .catch(err => logException(this.view.state, err))\n                  .then(() => this.workScheduled--);\n              cx.scheduleOn = null;\n          }\n      }\n      destroy() {\n          if (this.working)\n              this.working();\n      }\n      isWorking() {\n          return !!(this.working || this.workScheduled > 0);\n      }\n  }, {\n      eventHandlers: { focus() { this.scheduleWork(); } }\n  });\n  /**\n  The facet used to associate a language with an editor state. Used\n  by `Language` object's `extension` property (so you don't need to\n  manually wrap your languages in this). Can be used to access the\n  current language on a state.\n  */\n  const language = /*@__PURE__*/Facet.define({\n      combine(languages) { return languages.length ? languages[0] : null; },\n      enables: language => [\n          Language.state,\n          parseWorker,\n          EditorView.contentAttributes.compute([language], state => {\n              let lang = state.facet(language);\n              return lang && lang.name ? { \"data-language\": lang.name } : {};\n          })\n      ]\n  });\n  /**\n  This class bundles a [language](https://codemirror.net/6/docs/ref/#language.Language) with an\n  optional set of supporting extensions. Language packages are\n  encouraged to export a function that optionally takes a\n  configuration object and returns a `LanguageSupport` instance, as\n  the main way for client code to use the package.\n  */\n  class LanguageSupport {\n      /**\n      Create a language support object.\n      */\n      constructor(\n      /**\n      The language object.\n      */\n      language, \n      /**\n      An optional set of supporting extensions. When nesting a\n      language in another language, the outer language is encouraged\n      to include the supporting extensions for its inner languages\n      in its own set of support extensions.\n      */\n      support = []) {\n          this.language = language;\n          this.support = support;\n          this.extension = [language, support];\n      }\n  }\n  /**\n  Language descriptions are used to store metadata about languages\n  and to dynamically load them. Their main role is finding the\n  appropriate language for a filename or dynamically loading nested\n  parsers.\n  */\n  class LanguageDescription {\n      constructor(\n      /**\n      The name of this language.\n      */\n      name, \n      /**\n      Alternative names for the mode (lowercased, includes `this.name`).\n      */\n      alias, \n      /**\n      File extensions associated with this language.\n      */\n      extensions, \n      /**\n      Optional filename pattern that should be associated with this\n      language.\n      */\n      filename, loadFunc, \n      /**\n      If the language has been loaded, this will hold its value.\n      */\n      support = undefined) {\n          this.name = name;\n          this.alias = alias;\n          this.extensions = extensions;\n          this.filename = filename;\n          this.loadFunc = loadFunc;\n          this.support = support;\n          this.loading = null;\n      }\n      /**\n      Start loading the the language. Will return a promise that\n      resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n      object when the language successfully loads.\n      */\n      load() {\n          return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n      }\n      /**\n      Create a language description.\n      */\n      static of(spec) {\n          let { load, support } = spec;\n          if (!load) {\n              if (!support)\n                  throw new RangeError(\"Must pass either 'load' or 'support' to LanguageDescription.of\");\n              load = () => Promise.resolve(support);\n          }\n          return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, load, support);\n      }\n      /**\n      Look for a language in the given array of descriptions that\n      matches the filename. Will first match\n      [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n      and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n      and return the first language that matches.\n      */\n      static matchFilename(descs, filename) {\n          for (let d of descs)\n              if (d.filename && d.filename.test(filename))\n                  return d;\n          let ext = /\\.([^.]+)$/.exec(filename);\n          if (ext)\n              for (let d of descs)\n                  if (d.extensions.indexOf(ext[1]) > -1)\n                      return d;\n          return null;\n      }\n      /**\n      Look for a language whose name or alias matches the the given\n      name (case-insensitively). If `fuzzy` is true, and no direct\n      matchs is found, this'll also search for a language whose name\n      or alias occurs in the string (for names shorter than three\n      characters, only when surrounded by non-word characters).\n      */\n      static matchLanguageName(descs, name, fuzzy = true) {\n          name = name.toLowerCase();\n          for (let d of descs)\n              if (d.alias.some(a => a == name))\n                  return d;\n          if (fuzzy)\n              for (let d of descs)\n                  for (let a of d.alias) {\n                      let found = name.indexOf(a);\n                      if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                          return d;\n                  }\n          return null;\n      }\n  }\n\n  /**\n  Facet that defines a way to provide a function that computes the\n  appropriate indentation depth, as a column number (see\n  [`indentString`](https://codemirror.net/6/docs/ref/#language.indentString)), at the start of a given\n  line. A return value of `null` indicates no indentation can be\n  determined, and the line should inherit the indentation of the one\n  above it. A return value of `undefined` defers to the next indent\n  service.\n  */\n  const indentService = /*@__PURE__*/Facet.define();\n  /**\n  Facet for overriding the unit by which indentation happens. Should\n  be a string consisting entirely of the same whitespace character.\n  When not set, this defaults to 2 spaces.\n  */\n  const indentUnit = /*@__PURE__*/Facet.define({\n      combine: values => {\n          if (!values.length)\n              return \"  \";\n          let unit = values[0];\n          if (!unit || /\\S/.test(unit) || Array.from(unit).some(e => e != unit[0]))\n              throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n          return unit;\n      }\n  });\n  /**\n  Return the _column width_ of an indent unit in the state.\n  Determined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\n  facet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\n  contains tabs.\n  */\n  function getIndentUnit(state) {\n      let unit = state.facet(indentUnit);\n      return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n  }\n  /**\n  Create an indentation string that covers columns 0 to `cols`.\n  Will use tabs for as much of the columns as possible when the\n  [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\n  tabs.\n  */\n  function indentString(state, cols) {\n      let result = \"\", ts = state.tabSize, ch = state.facet(indentUnit)[0];\n      if (ch == \"\\t\") {\n          while (cols >= ts) {\n              result += \"\\t\";\n              cols -= ts;\n          }\n          ch = \" \";\n      }\n      for (let i = 0; i < cols; i++)\n          result += ch;\n      return result;\n  }\n  /**\n  Get the indentation, as a column number, at the given position.\n  Will first consult any [indent services](https://codemirror.net/6/docs/ref/#language.indentService)\n  that are registered, and if none of those return an indentation,\n  this will check the syntax tree for the [indent node\n  prop](https://codemirror.net/6/docs/ref/#language.indentNodeProp) and use that if found. Returns a\n  number when an indentation could be determined, and null\n  otherwise.\n  */\n  function getIndentation(context, pos) {\n      if (context instanceof EditorState)\n          context = new IndentContext(context);\n      for (let service of context.state.facet(indentService)) {\n          let result = service(context, pos);\n          if (result !== undefined)\n              return result;\n      }\n      let tree = syntaxTree(context.state);\n      return tree.length >= pos ? syntaxIndentation(context, tree, pos) : null;\n  }\n  /**\n  Indentation contexts are used when calling [indentation\n  services](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\n  useful in indentation logic, and can selectively override the\n  indentation reported for some lines.\n  */\n  class IndentContext {\n      /**\n      Create an indent context.\n      */\n      constructor(\n      /**\n      The editor state.\n      */\n      state, \n      /**\n      @internal\n      */\n      options = {}) {\n          this.state = state;\n          this.options = options;\n          this.unit = getIndentUnit(state);\n      }\n      /**\n      Get a description of the line at the given position, taking\n      [simulated line\n      breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n      into account. If there is such a break at `pos`, the `bias`\n      argument determines whether the part of the line line before or\n      after the break is used.\n      */\n      lineAt(pos, bias = 1) {\n          let line = this.state.doc.lineAt(pos);\n          let { simulateBreak, simulateDoubleBreak } = this.options;\n          if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {\n              if (simulateDoubleBreak && simulateBreak == pos)\n                  return { text: \"\", from: pos };\n              else if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)\n                  return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };\n              else\n                  return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };\n          }\n          return line;\n      }\n      /**\n      Get the text directly after `pos`, either the entire line\n      or the next 100 characters, whichever is shorter.\n      */\n      textAfterPos(pos, bias = 1) {\n          if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)\n              return \"\";\n          let { text, from } = this.lineAt(pos, bias);\n          return text.slice(pos - from, Math.min(text.length, pos + 100 - from));\n      }\n      /**\n      Find the column for the given position.\n      */\n      column(pos, bias = 1) {\n          let { text, from } = this.lineAt(pos, bias);\n          let result = this.countColumn(text, pos - from);\n          let override = this.options.overrideIndentation ? this.options.overrideIndentation(from) : -1;\n          if (override > -1)\n              result += override - this.countColumn(text, text.search(/\\S|$/));\n          return result;\n      }\n      /**\n      Find the column position (taking tabs into account) of the given\n      position in the given string.\n      */\n      countColumn(line, pos = line.length) {\n          return countColumn(line, this.state.tabSize, pos);\n      }\n      /**\n      Find the indentation column of the line at the given point.\n      */\n      lineIndent(pos, bias = 1) {\n          let { text, from } = this.lineAt(pos, bias);\n          let override = this.options.overrideIndentation;\n          if (override) {\n              let overriden = override(from);\n              if (overriden > -1)\n                  return overriden;\n          }\n          return this.countColumn(text, text.search(/\\S|$/));\n      }\n      /**\n      Returns the [simulated line\n      break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n      for this context, if any.\n      */\n      get simulatedBreak() {\n          return this.options.simulateBreak || null;\n      }\n  }\n  /**\n  A syntax tree node prop used to associate indentation strategies\n  with node types. Such a strategy is a function from an indentation\n  context to a column number (see also\n  [`indentString`](https://codemirror.net/6/docs/ref/#language.indentString)) or null, where null\n  indicates that no definitive indentation can be determined.\n  */\n  const indentNodeProp = /*@__PURE__*/new NodeProp();\n  // Compute the indentation for a given position from the syntax tree.\n  function syntaxIndentation(cx, ast, pos) {\n      let stack = ast.resolveStack(pos);\n      let inner = ast.resolveInner(pos, -1).resolve(pos, 0).enterUnfinishedNodesBefore(pos);\n      if (inner != stack.node) {\n          let add = [];\n          for (let cur = inner; cur && !(cur.from < stack.node.from || cur.to > stack.node.to ||\n              cur.from == stack.node.from && cur.type == stack.node.type); cur = cur.parent)\n              add.push(cur);\n          for (let i = add.length - 1; i >= 0; i--)\n              stack = { node: add[i], next: stack };\n      }\n      return indentFor(stack, cx, pos);\n  }\n  function indentFor(stack, cx, pos) {\n      for (let cur = stack; cur; cur = cur.next) {\n          let strategy = indentStrategy(cur.node);\n          if (strategy)\n              return strategy(TreeIndentContext.create(cx, pos, cur));\n      }\n      return 0;\n  }\n  function ignoreClosed(cx) {\n      return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;\n  }\n  function indentStrategy(tree) {\n      let strategy = tree.type.prop(indentNodeProp);\n      if (strategy)\n          return strategy;\n      let first = tree.firstChild, close;\n      if (first && (close = first.type.prop(NodeProp.closedBy))) {\n          let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n          return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n      }\n      return tree.parent == null ? topIndent$1 : null;\n  }\n  function topIndent$1() { return 0; }\n  /**\n  Objects of this type provide context information and helper\n  methods to indentation functions registered on syntax nodes.\n  */\n  class TreeIndentContext extends IndentContext {\n      constructor(base, \n      /**\n      The position at which indentation is being computed.\n      */\n      pos, \n      /**\n      @internal\n      */\n      context) {\n          super(base.state, base.options);\n          this.base = base;\n          this.pos = pos;\n          this.context = context;\n      }\n      /**\n      The syntax tree node to which the indentation strategy\n      applies.\n      */\n      get node() { return this.context.node; }\n      /**\n      @internal\n      */\n      static create(base, pos, context) {\n          return new TreeIndentContext(base, pos, context);\n      }\n      /**\n      Get the text directly after `this.pos`, either the entire line\n      or the next 100 characters, whichever is shorter.\n      */\n      get textAfter() {\n          return this.textAfterPos(this.pos);\n      }\n      /**\n      Get the indentation at the reference line for `this.node`, which\n      is the line on which it starts, unless there is a node that is\n      _not_ a parent of this node covering the start of that line. If\n      so, the line at the start of that node is tried, again skipping\n      on if it is covered by another such node.\n      */\n      get baseIndent() {\n          return this.baseIndentFor(this.node);\n      }\n      /**\n      Get the indentation for the reference line of the given node\n      (see [`baseIndent`](https://codemirror.net/6/docs/ref/#language.TreeIndentContext.baseIndent)).\n      */\n      baseIndentFor(node) {\n          let line = this.state.doc.lineAt(node.from);\n          // Skip line starts that are covered by a sibling (or cousin, etc)\n          for (;;) {\n              let atBreak = node.resolve(line.from);\n              while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                  atBreak = atBreak.parent;\n              if (isParent(atBreak, node))\n                  break;\n              line = this.state.doc.lineAt(atBreak.from);\n          }\n          return this.lineIndent(line.from);\n      }\n      /**\n      Continue looking for indentations in the node's parent nodes,\n      and return the result of that.\n      */\n      continue() {\n          return indentFor(this.context.next, this.base, this.pos);\n      }\n  }\n  function isParent(parent, of) {\n      for (let cur = of; cur; cur = cur.parent)\n          if (parent == cur)\n              return true;\n      return false;\n  }\n  // Check whether a delimited node is aligned (meaning there are\n  // non-skipped nodes on the same line as the opening delimiter). And\n  // if so, return the opening token.\n  function bracketedAligned(context) {\n      let tree = context.node;\n      let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n      if (!openToken)\n          return null;\n      let sim = context.options.simulateBreak;\n      let openLine = context.state.doc.lineAt(openToken.from);\n      let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n      for (let pos = openToken.to;;) {\n          let next = tree.childAfter(pos);\n          if (!next || next == last)\n              return null;\n          if (!next.type.isSkipped) {\n              if (next.from >= lineEnd)\n                  return null;\n              let space = /^ */.exec(openLine.text.slice(openToken.to - openLine.from))[0].length;\n              return { from: openToken.from, to: openToken.to + space };\n          }\n          pos = next.to;\n      }\n  }\n  /**\n  An indentation strategy for delimited (usually bracketed) nodes.\n  Will, by default, indent one unit more than the parent's base\n  indent unless the line starts with a closing token. When `align`\n  is true and there are non-skipped nodes on the node's opening\n  line, the content of the node will be aligned with the end of the\n  opening node, like this:\n\n      foo(bar,\n          baz)\n  */\n  function delimitedIndent({ closing, align = true, units = 1 }) {\n      return (context) => delimitedStrategy(context, align, units, closing);\n  }\n  function delimitedStrategy(context, align, units, closing, closedAt) {\n      let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n      let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n      let aligned = align ? bracketedAligned(context) : null;\n      if (aligned)\n          return closed ? context.column(aligned.from) : context.column(aligned.to);\n      return context.baseIndent + (closed ? 0 : context.unit * units);\n  }\n  /**\n  An indentation strategy that aligns a node's content to its base\n  indentation.\n  */\n  const flatIndent = (context) => context.baseIndent;\n  /**\n  Creates an indentation strategy that, by default, indents\n  continued lines one unit more than the node's base indentation.\n  You can provide `except` to prevent indentation of lines that\n  match a pattern (for example `/^else\\b/` in `if`/`else`\n  constructs), and you can change the amount of units used with the\n  `units` option.\n  */\n  function continuedIndent({ except, units = 1 } = {}) {\n      return (context) => {\n          let matchExcept = except && except.test(context.textAfter);\n          return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n      };\n  }\n  const DontIndentBeyond = 200;\n  /**\n  Enables reindentation on input. When a language defines an\n  `indentOnInput` field in its [language\n  data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\n  expression, the line at the cursor will be reindented whenever new\n  text is typed and the input from the start of the line up to the\n  cursor matches that regexp.\n\n  To avoid unneccesary reindents, it is recommended to start the\n  regexp with `^` (usually followed by `\\s*`), and end it with `$`.\n  For example, `/^\\s*\\}$/` will reindent when a closing brace is\n  added at the start of a line.\n  */\n  function indentOnInput() {\n      return EditorState.transactionFilter.of(tr => {\n          if (!tr.docChanged || !tr.isUserEvent(\"input.type\") && !tr.isUserEvent(\"input.complete\"))\n              return tr;\n          let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n          if (!rules.length)\n              return tr;\n          let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n          if (head > line.from + DontIndentBeyond)\n              return tr;\n          let lineStart = doc.sliceString(line.from, head);\n          if (!rules.some(r => r.test(lineStart)))\n              return tr;\n          let { state } = tr, last = -1, changes = [];\n          for (let { head } of state.selection.ranges) {\n              let line = state.doc.lineAt(head);\n              if (line.from == last)\n                  continue;\n              last = line.from;\n              let indent = getIndentation(state, line.from);\n              if (indent == null)\n                  continue;\n              let cur = /^\\s*/.exec(line.text)[0];\n              let norm = indentString(state, indent);\n              if (cur != norm)\n                  changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n          }\n          return changes.length ? [tr, { changes, sequential: true }] : tr;\n      });\n  }\n\n  /**\n  A facet that registers a code folding service. When called with\n  the extent of a line, such a function should return a foldable\n  range that starts on that line (but continues beyond it), if one\n  can be found.\n  */\n  const foldService = /*@__PURE__*/Facet.define();\n  /**\n  This node prop is used to associate folding information with\n  syntax node types. Given a syntax node, it should check whether\n  that tree is foldable and return the range that can be collapsed\n  when it is.\n  */\n  const foldNodeProp = /*@__PURE__*/new NodeProp();\n  /**\n  [Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\n  the first and the last child of a syntax node. Useful for nodes\n  that start and end with delimiters.\n  */\n  function foldInside(node) {\n      let first = node.firstChild, last = node.lastChild;\n      return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n  }\n  function syntaxFolding(state, start, end) {\n      let tree = syntaxTree(state);\n      if (tree.length < end)\n          return null;\n      let stack = tree.resolveStack(end, 1);\n      let found = null;\n      for (let iter = stack; iter; iter = iter.next) {\n          let cur = iter.node;\n          if (cur.to <= end || cur.from > end)\n              continue;\n          if (found && cur.from < start)\n              break;\n          let prop = cur.type.prop(foldNodeProp);\n          if (prop && (cur.to < tree.length - 50 || tree.length == state.doc.length || !isUnfinished(cur))) {\n              let value = prop(cur, state);\n              if (value && value.from <= end && value.from >= start && value.to > end)\n                  found = value;\n          }\n      }\n      return found;\n  }\n  function isUnfinished(node) {\n      let ch = node.lastChild;\n      return ch && ch.to == node.to && ch.type.isError;\n  }\n  /**\n  Check whether the given line is foldable. First asks any fold\n  services registered through\n  [`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\n  a result, tries to query the [fold node\n  prop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\n  of the line.\n  */\n  function foldable(state, lineStart, lineEnd) {\n      for (let service of state.facet(foldService)) {\n          let result = service(state, lineStart, lineEnd);\n          if (result)\n              return result;\n      }\n      return syntaxFolding(state, lineStart, lineEnd);\n  }\n  function mapRange(range, mapping) {\n      let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n      return from >= to ? undefined : { from, to };\n  }\n  /**\n  State effect that can be attached to a transaction to fold the\n  given range. (You probably only need this in exceptional\n  circumstancesusually you'll just want to let\n  [`foldCode`](https://codemirror.net/6/docs/ref/#language.foldCode) and the [fold\n  gutter](https://codemirror.net/6/docs/ref/#language.foldGutter) create the transactions.)\n  */\n  const foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n  /**\n  State effect that unfolds the given range (if it was folded).\n  */\n  const unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n  function selectedLines(view) {\n      let lines = [];\n      for (let { head } of view.state.selection.ranges) {\n          if (lines.some(l => l.from <= head && l.to >= head))\n              continue;\n          lines.push(view.lineBlockAt(head));\n      }\n      return lines;\n  }\n  /**\n  The state field that stores the folded ranges (as a [decoration\n  set](https://codemirror.net/6/docs/ref/#view.DecorationSet)). Can be passed to\n  [`EditorState.toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) and\n  [`fromJSON`](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) to serialize the fold\n  state.\n  */\n  const foldState = /*@__PURE__*/StateField.define({\n      create() {\n          return Decoration.none;\n      },\n      update(folded, tr) {\n          if (tr.isUserEvent(\"delete\"))\n              tr.changes.iterChangedRanges((fromA, toA) => folded = clearTouchedFolds(folded, fromA, toA));\n          folded = folded.map(tr.changes);\n          for (let e of tr.effects) {\n              if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to)) {\n                  let { preparePlaceholder } = tr.state.facet(foldConfig);\n                  let widget = !preparePlaceholder ? foldWidget :\n                      Decoration.replace({ widget: new PreparedFoldWidget(preparePlaceholder(tr.state, e.value)) });\n                  folded = folded.update({ add: [widget.range(e.value.from, e.value.to)] });\n              }\n              else if (e.is(unfoldEffect)) {\n                  folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                      filterFrom: e.value.from, filterTo: e.value.to });\n              }\n          }\n          // Clear folded ranges that cover the selection head\n          if (tr.selection)\n              folded = clearTouchedFolds(folded, tr.selection.main.head);\n          return folded;\n      },\n      provide: f => EditorView.decorations.from(f),\n      toJSON(folded, state) {\n          let ranges = [];\n          folded.between(0, state.doc.length, (from, to) => { ranges.push(from, to); });\n          return ranges;\n      },\n      fromJSON(value) {\n          if (!Array.isArray(value) || value.length % 2)\n              throw new RangeError(\"Invalid JSON for fold state\");\n          let ranges = [];\n          for (let i = 0; i < value.length;) {\n              let from = value[i++], to = value[i++];\n              if (typeof from != \"number\" || typeof to != \"number\")\n                  throw new RangeError(\"Invalid JSON for fold state\");\n              ranges.push(foldWidget.range(from, to));\n          }\n          return Decoration.set(ranges, true);\n      }\n  });\n  function clearTouchedFolds(folded, from, to = from) {\n      let touched = false;\n      folded.between(from, to, (a, b) => { if (a < to && b > from)\n          touched = true; });\n      return !touched ? folded : folded.update({\n          filterFrom: from,\n          filterTo: to,\n          filter: (a, b) => a >= to || b <= from\n      });\n  }\n  function findFold(state, from, to) {\n      var _a;\n      let found = null;\n      (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n          if (!found || found.from > from)\n              found = { from, to };\n      });\n      return found;\n  }\n  function foldExists(folded, from, to) {\n      let found = false;\n      folded.between(from, from, (a, b) => { if (a == from && b == to)\n          found = true; });\n      return found;\n  }\n  function maybeEnable(state, other) {\n      return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n  }\n  /**\n  Fold the lines that are selected, if possible.\n  */\n  const foldCode = view => {\n      for (let line of selectedLines(view)) {\n          let range = foldable(view.state, line.from, line.to);\n          if (range) {\n              view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n              return true;\n          }\n      }\n      return false;\n  };\n  /**\n  Unfold folded ranges on selected lines.\n  */\n  const unfoldCode = view => {\n      if (!view.state.field(foldState, false))\n          return false;\n      let effects = [];\n      for (let line of selectedLines(view)) {\n          let folded = findFold(view.state, line.from, line.to);\n          if (folded)\n              effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n      }\n      if (effects.length)\n          view.dispatch({ effects });\n      return effects.length > 0;\n  };\n  function announceFold(view, range, fold = true) {\n      let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n      return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n  }\n  /**\n  Fold all top-level foldable ranges. Note that, in most cases,\n  folding information will depend on the [syntax\n  tree](https://codemirror.net/6/docs/ref/#language.syntaxTree), and folding everything may not work\n  reliably when the document hasn't been fully parsed (either\n  because the editor state was only just initialized, or because the\n  document is so big that the parser decided not to parse it\n  entirely).\n  */\n  const foldAll = view => {\n      let { state } = view, effects = [];\n      for (let pos = 0; pos < state.doc.length;) {\n          let line = view.lineBlockAt(pos), range = foldable(state, line.from, line.to);\n          if (range)\n              effects.push(foldEffect.of(range));\n          pos = (range ? view.lineBlockAt(range.to) : line).to + 1;\n      }\n      if (effects.length)\n          view.dispatch({ effects: maybeEnable(view.state, effects) });\n      return !!effects.length;\n  };\n  /**\n  Unfold all folded code.\n  */\n  const unfoldAll = view => {\n      let field = view.state.field(foldState, false);\n      if (!field || !field.size)\n          return false;\n      let effects = [];\n      field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n      view.dispatch({ effects });\n      return true;\n  };\n  /**\n  Default fold-related key bindings.\n\n   - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#language.foldCode).\n   - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#language.unfoldCode).\n   - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#language.foldAll).\n   - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#language.unfoldAll).\n  */\n  const foldKeymap = [\n      { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n      { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n      { key: \"Ctrl-Alt-[\", run: foldAll },\n      { key: \"Ctrl-Alt-]\", run: unfoldAll }\n  ];\n  const defaultConfig = {\n      placeholderDOM: null,\n      preparePlaceholder: null,\n      placeholderText: \"\"\n  };\n  const foldConfig = /*@__PURE__*/Facet.define({\n      combine(values) { return combineConfig(values, defaultConfig); }\n  });\n  /**\n  Create an extension that configures code folding.\n  */\n  function codeFolding(config) {\n      let result = [foldState, baseTheme$1$2];\n      return result;\n  }\n  function widgetToDOM(view, prepared) {\n      let { state } = view, conf = state.facet(foldConfig);\n      let onclick = (event) => {\n          let line = view.lineBlockAt(view.posAtDOM(event.target));\n          let folded = findFold(view.state, line.from, line.to);\n          if (folded)\n              view.dispatch({ effects: unfoldEffect.of(folded) });\n          event.preventDefault();\n      };\n      if (conf.placeholderDOM)\n          return conf.placeholderDOM(view, onclick, prepared);\n      let element = document.createElement(\"span\");\n      element.textContent = conf.placeholderText;\n      element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n      element.title = state.phrase(\"unfold\");\n      element.className = \"cm-foldPlaceholder\";\n      element.onclick = onclick;\n      return element;\n  }\n  const foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n          toDOM(view) { return widgetToDOM(view, null); }\n      } });\n  class PreparedFoldWidget extends WidgetType {\n      constructor(value) {\n          super();\n          this.value = value;\n      }\n      eq(other) { return this.value == other.value; }\n      toDOM(view) { return widgetToDOM(view, this.value); }\n  }\n  const foldGutterDefaults = {\n      openText: \"\",\n      closedText: \"\",\n      markerDOM: null,\n      domEventHandlers: {},\n      foldingChanged: () => false\n  };\n  class FoldMarker extends GutterMarker {\n      constructor(config, open) {\n          super();\n          this.config = config;\n          this.open = open;\n      }\n      eq(other) { return this.config == other.config && this.open == other.open; }\n      toDOM(view) {\n          if (this.config.markerDOM)\n              return this.config.markerDOM(this.open);\n          let span = document.createElement(\"span\");\n          span.textContent = this.open ? this.config.openText : this.config.closedText;\n          span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n          return span;\n      }\n  }\n  /**\n  Create an extension that registers a fold gutter, which shows a\n  fold status indicator before foldable lines (which can be clicked\n  to fold or unfold the line).\n  */\n  function foldGutter(config = {}) {\n      let fullConfig = { ...foldGutterDefaults, ...config };\n      let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n      let markers = ViewPlugin.fromClass(class {\n          constructor(view) {\n              this.from = view.viewport.from;\n              this.markers = this.buildMarkers(view);\n          }\n          update(update) {\n              if (update.docChanged || update.viewportChanged ||\n                  update.startState.facet(language) != update.state.facet(language) ||\n                  update.startState.field(foldState, false) != update.state.field(foldState, false) ||\n                  syntaxTree(update.startState) != syntaxTree(update.state) ||\n                  fullConfig.foldingChanged(update))\n                  this.markers = this.buildMarkers(update.view);\n          }\n          buildMarkers(view) {\n              let builder = new RangeSetBuilder();\n              for (let line of view.viewportLineBlocks) {\n                  let mark = findFold(view.state, line.from, line.to) ? canUnfold\n                      : foldable(view.state, line.from, line.to) ? canFold : null;\n                  if (mark)\n                      builder.add(line.from, line.from, mark);\n              }\n              return builder.finish();\n          }\n      });\n      let { domEventHandlers } = fullConfig;\n      return [\n          markers,\n          gutter({\n              class: \"cm-foldGutter\",\n              markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n              initialSpacer() {\n                  return new FoldMarker(fullConfig, false);\n              },\n              domEventHandlers: {\n                  ...domEventHandlers,\n                  click: (view, line, event) => {\n                      if (domEventHandlers.click && domEventHandlers.click(view, line, event))\n                          return true;\n                      let folded = findFold(view.state, line.from, line.to);\n                      if (folded) {\n                          view.dispatch({ effects: unfoldEffect.of(folded) });\n                          return true;\n                      }\n                      let range = foldable(view.state, line.from, line.to);\n                      if (range) {\n                          view.dispatch({ effects: foldEffect.of(range) });\n                          return true;\n                      }\n                      return false;\n                  }\n              }\n          }),\n          codeFolding()\n      ];\n  }\n  const baseTheme$1$2 = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-foldPlaceholder\": {\n          backgroundColor: \"#eee\",\n          border: \"1px solid #ddd\",\n          color: \"#888\",\n          borderRadius: \".2em\",\n          margin: \"0 1px\",\n          padding: \"0 1px\",\n          cursor: \"pointer\"\n      },\n      \".cm-foldGutter span\": {\n          padding: \"0 1px\",\n          cursor: \"pointer\"\n      }\n  });\n\n  /**\n  A highlight style associates CSS styles with higlighting\n  [tags](https://lezer.codemirror.net/docs/ref#highlight.Tag).\n  */\n  class HighlightStyle {\n      constructor(\n      /**\n      The tag styles used to create this highlight style.\n      */\n      specs, options) {\n          this.specs = specs;\n          let modSpec;\n          function def(spec) {\n              let cls = StyleModule.newName();\n              (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n              return cls;\n          }\n          const all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : undefined;\n          const scopeOpt = options.scope;\n          this.scope = scopeOpt instanceof Language ? (type) => type.prop(languageDataProp) == scopeOpt.data\n              : scopeOpt ? (type) => type == scopeOpt : undefined;\n          this.style = tagHighlighter(specs.map(style => ({\n              tag: style.tag,\n              class: style.class || def(Object.assign({}, style, { tag: null }))\n          })), {\n              all,\n          }).style;\n          this.module = modSpec ? new StyleModule(modSpec) : null;\n          this.themeType = options.themeType;\n      }\n      /**\n      Create a highlighter style that associates the given styles to\n      the given tags. The specs must be objects that hold a style tag\n      or array of tags in their `tag` property, and either a single\n      `class` property providing a static CSS class (for highlighter\n      that rely on external styling), or a\n      [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n      set of CSS properties (which define the styling for those tags).\n      \n      The CSS rules created for a highlighter will be emitted in the\n      order of the spec's properties. That means that for elements that\n      have multiple tags associated with them, styles defined further\n      down in the list will have a higher CSS precedence than styles\n      defined earlier.\n      */\n      static define(specs, options) {\n          return new HighlightStyle(specs, options || {});\n      }\n  }\n  const highlighterFacet = /*@__PURE__*/Facet.define();\n  const fallbackHighlighter = /*@__PURE__*/Facet.define({\n      combine(values) { return values.length ? [values[0]] : null; }\n  });\n  function getHighlighters(state) {\n      let main = state.facet(highlighterFacet);\n      return main.length ? main : state.facet(fallbackHighlighter);\n  }\n  /**\n  Wrap a highlighter in an editor extension that uses it to apply\n  syntax highlighting to the editor content.\n\n  When multiple (non-fallback) styles are provided, the styling\n  applied is the union of the classes they emit.\n  */\n  function syntaxHighlighting(highlighter, options) {\n      let ext = [treeHighlighter], themeType;\n      if (highlighter instanceof HighlightStyle) {\n          if (highlighter.module)\n              ext.push(EditorView.styleModule.of(highlighter.module));\n          themeType = highlighter.themeType;\n      }\n      if (options === null || options === void 0 ? void 0 : options.fallback)\n          ext.push(fallbackHighlighter.of(highlighter));\n      else if (themeType)\n          ext.push(highlighterFacet.computeN([EditorView.darkTheme], state => {\n              return state.facet(EditorView.darkTheme) == (themeType == \"dark\") ? [highlighter] : [];\n          }));\n      else\n          ext.push(highlighterFacet.of(highlighter));\n      return ext;\n  }\n  class TreeHighlighter {\n      constructor(view) {\n          this.markCache = Object.create(null);\n          this.tree = syntaxTree(view.state);\n          this.decorations = this.buildDeco(view, getHighlighters(view.state));\n          this.decoratedTo = view.viewport.to;\n      }\n      update(update) {\n          let tree = syntaxTree(update.state), highlighters = getHighlighters(update.state);\n          let styleChange = highlighters != getHighlighters(update.startState);\n          let { viewport } = update.view, decoratedToMapped = update.changes.mapPos(this.decoratedTo, 1);\n          if (tree.length < viewport.to && !styleChange && tree.type == this.tree.type && decoratedToMapped >= viewport.to) {\n              this.decorations = this.decorations.map(update.changes);\n              this.decoratedTo = decoratedToMapped;\n          }\n          else if (tree != this.tree || update.viewportChanged || styleChange) {\n              this.tree = tree;\n              this.decorations = this.buildDeco(update.view, highlighters);\n              this.decoratedTo = viewport.to;\n          }\n      }\n      buildDeco(view, highlighters) {\n          if (!highlighters || !this.tree.length)\n              return Decoration.none;\n          let builder = new RangeSetBuilder();\n          for (let { from, to } of view.visibleRanges) {\n              highlightTree(this.tree, highlighters, (from, to, style) => {\n                  builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n              }, from, to);\n          }\n          return builder.finish();\n      }\n  }\n  const treeHighlighter = /*@__PURE__*/Prec.high(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n      decorations: v => v.decorations\n  }));\n  /**\n  A default highlight style (works well with light themes).\n  */\n  const defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n      { tag: tags$1.meta,\n          color: \"#404740\" },\n      { tag: tags$1.link,\n          textDecoration: \"underline\" },\n      { tag: tags$1.heading,\n          textDecoration: \"underline\",\n          fontWeight: \"bold\" },\n      { tag: tags$1.emphasis,\n          fontStyle: \"italic\" },\n      { tag: tags$1.strong,\n          fontWeight: \"bold\" },\n      { tag: tags$1.strikethrough,\n          textDecoration: \"line-through\" },\n      { tag: tags$1.keyword,\n          color: \"#708\" },\n      { tag: [tags$1.atom, tags$1.bool, tags$1.url, tags$1.contentSeparator, tags$1.labelName],\n          color: \"#219\" },\n      { tag: [tags$1.literal, tags$1.inserted],\n          color: \"#164\" },\n      { tag: [tags$1.string, tags$1.deleted],\n          color: \"#a11\" },\n      { tag: [tags$1.regexp, tags$1.escape, /*@__PURE__*/tags$1.special(tags$1.string)],\n          color: \"#e40\" },\n      { tag: /*@__PURE__*/tags$1.definition(tags$1.variableName),\n          color: \"#00f\" },\n      { tag: /*@__PURE__*/tags$1.local(tags$1.variableName),\n          color: \"#30a\" },\n      { tag: [tags$1.typeName, tags$1.namespace],\n          color: \"#085\" },\n      { tag: tags$1.className,\n          color: \"#167\" },\n      { tag: [/*@__PURE__*/tags$1.special(tags$1.variableName), tags$1.macroName],\n          color: \"#256\" },\n      { tag: /*@__PURE__*/tags$1.definition(tags$1.propertyName),\n          color: \"#00c\" },\n      { tag: tags$1.comment,\n          color: \"#940\" },\n      { tag: tags$1.invalid,\n          color: \"#f00\" }\n  ]);\n\n  const baseTheme$3 = /*@__PURE__*/EditorView.baseTheme({\n      \"&.cm-focused .cm-matchingBracket\": { backgroundColor: \"#328c8252\" },\n      \"&.cm-focused .cm-nonmatchingBracket\": { backgroundColor: \"#bb555544\" }\n  });\n  const DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\n  const bracketMatchingConfig = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          return combineConfig(configs, {\n              afterCursor: true,\n              brackets: DefaultBrackets,\n              maxScanDistance: DefaultScanDist,\n              renderMatch: defaultRenderMatch\n          });\n      }\n  });\n  const matchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-nonmatchingBracket\" });\n  function defaultRenderMatch(match) {\n      let decorations = [];\n      let mark = match.matched ? matchingMark : nonmatchingMark;\n      decorations.push(mark.range(match.start.from, match.start.to));\n      if (match.end)\n          decorations.push(mark.range(match.end.from, match.end.to));\n      return decorations;\n  }\n  const bracketMatchingState = /*@__PURE__*/StateField.define({\n      create() { return Decoration.none; },\n      update(deco, tr) {\n          if (!tr.docChanged && !tr.selection)\n              return deco;\n          let decorations = [];\n          let config = tr.state.facet(bracketMatchingConfig);\n          for (let range of tr.state.selection.ranges) {\n              if (!range.empty)\n                  continue;\n              let match = matchBrackets(tr.state, range.head, -1, config)\n                  || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                  || (config.afterCursor &&\n                      (matchBrackets(tr.state, range.head, 1, config) ||\n                          (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n              if (match)\n                  decorations = decorations.concat(config.renderMatch(match, tr.state));\n          }\n          return Decoration.set(decorations, true);\n      },\n      provide: f => EditorView.decorations.from(f)\n  });\n  const bracketMatchingUnique = [\n      bracketMatchingState,\n      baseTheme$3\n  ];\n  /**\n  Create an extension that enables bracket matching. Whenever the\n  cursor is next to a bracket, that bracket and the one it matches\n  are highlighted. Or, when no matching bracket is found, another\n  highlighting style is used to indicate this.\n  */\n  function bracketMatching(config = {}) {\n      return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n  }\n  /**\n  When larger syntax nodes, such as HTML tags, are marked as\n  opening/closing, it can be a bit messy to treat the whole node as\n  a matchable bracket. This node prop allows you to define, for such\n  a node, a handlethe part of the node that is highlighted, and\n  that the cursor must be on to activate highlighting in the first\n  place.\n  */\n  const bracketMatchingHandle = /*@__PURE__*/new NodeProp();\n  function matchingNodes(node, dir, brackets) {\n      let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n      if (byProp)\n          return byProp;\n      if (node.name.length == 1) {\n          let index = brackets.indexOf(node.name);\n          if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n              return [brackets[index + dir]];\n      }\n      return null;\n  }\n  function findHandle(node) {\n      let hasHandle = node.type.prop(bracketMatchingHandle);\n      return hasHandle ? hasHandle(node.node) : node;\n  }\n  /**\n  Find the matching bracket for the token at `pos`, scanning\n  direction `dir`. Only the `brackets` and `maxScanDistance`\n  properties are used from `config`, if given. Returns null if no\n  bracket was found at `pos`, or a match result otherwise.\n  */\n  function matchBrackets(state, pos, dir, config = {}) {\n      let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n      let tree = syntaxTree(state), node = tree.resolveInner(pos, dir);\n      for (let cur = node; cur; cur = cur.parent) {\n          let matches = matchingNodes(cur.type, dir, brackets);\n          if (matches && cur.from < cur.to) {\n              let handle = findHandle(cur);\n              if (handle && (dir > 0 ? pos >= handle.from && pos < handle.to : pos > handle.from && pos <= handle.to))\n                  return matchMarkedBrackets(state, pos, dir, cur, handle, matches, brackets);\n          }\n      }\n      return matchPlainBrackets(state, pos, dir, tree, node.type, maxScanDistance, brackets);\n  }\n  function matchMarkedBrackets(_state, _pos, dir, token, handle, matching, brackets) {\n      let parent = token.parent, firstToken = { from: handle.from, to: handle.to };\n      let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor();\n      if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n          do {\n              if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                  if (depth == 0 && matching.indexOf(cursor.type.name) > -1 && cursor.from < cursor.to) {\n                      let endHandle = findHandle(cursor);\n                      return { start: firstToken, end: endHandle ? { from: endHandle.from, to: endHandle.to } : undefined, matched: true };\n                  }\n                  else if (matchingNodes(cursor.type, dir, brackets)) {\n                      depth++;\n                  }\n                  else if (matchingNodes(cursor.type, -dir, brackets)) {\n                      if (depth == 0) {\n                          let endHandle = findHandle(cursor);\n                          return {\n                              start: firstToken,\n                              end: endHandle && endHandle.from < endHandle.to ? { from: endHandle.from, to: endHandle.to } : undefined,\n                              matched: false\n                          };\n                      }\n                      depth--;\n                  }\n              }\n          } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n      return { start: firstToken, matched: false };\n  }\n  function matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n      let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n      let bracket = brackets.indexOf(startCh);\n      if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n          return null;\n      let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n      let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n      for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n          let text = iter.value;\n          if (dir < 0)\n              distance += text.length;\n          let basePos = pos + distance * dir;\n          for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n              let found = brackets.indexOf(text[pos]);\n              if (found < 0 || tree.resolveInner(basePos + pos, 1).type != tokenType)\n                  continue;\n              if ((found % 2 == 0) == (dir > 0)) {\n                  depth++;\n              }\n              else if (depth == 1) { // Closing\n                  return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n              }\n              else {\n                  depth--;\n              }\n          }\n          if (dir > 0)\n              distance += text.length;\n      }\n      return iter.done ? { start: startToken, matched: false } : null;\n  }\n  const noTokens = /*@__PURE__*/Object.create(null);\n  const typeArray = [NodeType.none];\n  const warned = [];\n  // Cache of node types by name and tags\n  const byTag = /*@__PURE__*/Object.create(null);\n  const defaultTable = /*@__PURE__*/Object.create(null);\n  for (let [legacyName, name] of [\n      [\"variable\", \"variableName\"],\n      [\"variable-2\", \"variableName.special\"],\n      [\"string-2\", \"string.special\"],\n      [\"def\", \"variableName.definition\"],\n      [\"tag\", \"tagName\"],\n      [\"attribute\", \"attributeName\"],\n      [\"type\", \"typeName\"],\n      [\"builtin\", \"variableName.standard\"],\n      [\"qualifier\", \"modifier\"],\n      [\"error\", \"invalid\"],\n      [\"header\", \"heading\"],\n      [\"property\", \"propertyName\"]\n  ])\n      defaultTable[legacyName] = /*@__PURE__*/createTokenType(noTokens, name);\n  function warnForPart(part, msg) {\n      if (warned.indexOf(part) > -1)\n          return;\n      warned.push(part);\n      console.warn(msg);\n  }\n  function createTokenType(extra, tagStr) {\n      let tags$1$1 = [];\n      for (let name of tagStr.split(\" \")) {\n          let found = [];\n          for (let part of name.split(\".\")) {\n              let value = (extra[part] || tags$1[part]);\n              if (!value) {\n                  warnForPart(part, `Unknown highlighting tag ${part}`);\n              }\n              else if (typeof value == \"function\") {\n                  if (!found.length)\n                      warnForPart(part, `Modifier ${part} used at start of tag`);\n                  else\n                      found = found.map(value);\n              }\n              else {\n                  if (found.length)\n                      warnForPart(part, `Tag ${part} used as modifier`);\n                  else\n                      found = Array.isArray(value) ? value : [value];\n              }\n          }\n          for (let tag of found)\n              tags$1$1.push(tag);\n      }\n      if (!tags$1$1.length)\n          return 0;\n      let name = tagStr.replace(/ /g, \"_\"), key = name + \" \" + tags$1$1.map(t => t.id);\n      let known = byTag[key];\n      if (known)\n          return known.id;\n      let type = byTag[key] = NodeType.define({\n          id: typeArray.length,\n          name,\n          props: [styleTags({ [name]: tags$1$1 })]\n      });\n      typeArray.push(type);\n      return type.id;\n  }\n  ({\n      rtl: /*@__PURE__*/Decoration.mark({ class: \"cm-iso\", inclusive: true, attributes: { dir: \"rtl\" }, bidiIsolate: Direction.RTL }),\n      ltr: /*@__PURE__*/Decoration.mark({ class: \"cm-iso\", inclusive: true, attributes: { dir: \"ltr\" }, bidiIsolate: Direction.LTR })});\n\n  /**\n  Comment or uncomment the current selection. Will use line comments\n  if available, otherwise falling back to block comments.\n  */\n  const toggleComment = target => {\n      let { state } = target, line = state.doc.lineAt(state.selection.main.from), config = getConfig(target.state, line.from);\n      return config.line ? toggleLineComment(target) : config.block ? toggleBlockCommentByLine(target) : false;\n  };\n  function command(f, option) {\n      return ({ state, dispatch }) => {\n          if (state.readOnly)\n              return false;\n          let tr = f(option, state);\n          if (!tr)\n              return false;\n          dispatch(state.update(tr));\n          return true;\n      };\n  }\n  /**\n  Comment or uncomment the current selection using line comments.\n  The line comment syntax is taken from the\n  [`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\n  data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n  */\n  const toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* CommentOption.Toggle */);\n  /**\n  Comment or uncomment the current selection using block comments.\n  The block comment syntax is taken from the\n  [`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\n  data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n  */\n  const toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* CommentOption.Toggle */);\n  /**\n  Comment or uncomment the lines around the current selection using\n  block comments.\n  */\n  const toggleBlockCommentByLine = /*@__PURE__*/command((o, s) => changeBlockComment(o, s, selectedLineRanges(s)), 0 /* CommentOption.Toggle */);\n  function getConfig(state, pos) {\n      let data = state.languageDataAt(\"commentTokens\", pos, 1);\n      return data.length ? data[0] : {};\n  }\n  const SearchMargin = 50;\n  /**\n  Determines if the given range is block-commented in the given\n  state.\n  */\n  function findBlockComment(state, { open, close }, from, to) {\n      let textBefore = state.sliceDoc(from - SearchMargin, from);\n      let textAfter = state.sliceDoc(to, to + SearchMargin);\n      let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n      let beforeOff = textBefore.length - spaceBefore;\n      if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n          textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n          return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n              close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n      }\n      let startText, endText;\n      if (to - from <= 2 * SearchMargin) {\n          startText = endText = state.sliceDoc(from, to);\n      }\n      else {\n          startText = state.sliceDoc(from, from + SearchMargin);\n          endText = state.sliceDoc(to - SearchMargin, to);\n      }\n      let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n      let endOff = endText.length - endSpace - close.length;\n      if (startText.slice(startSpace, startSpace + open.length) == open &&\n          endText.slice(endOff, endOff + close.length) == close) {\n          return { open: { pos: from + startSpace + open.length,\n                  margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n              close: { pos: to - endSpace - close.length,\n                  margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n      }\n      return null;\n  }\n  function selectedLineRanges(state) {\n      let ranges = [];\n      for (let r of state.selection.ranges) {\n          let fromLine = state.doc.lineAt(r.from);\n          let toLine = r.to <= fromLine.to ? fromLine : state.doc.lineAt(r.to);\n          if (toLine.from > fromLine.from && toLine.from == r.to)\n              toLine = r.to == fromLine.to + 1 ? fromLine : state.doc.lineAt(r.to - 1);\n          let last = ranges.length - 1;\n          if (last >= 0 && ranges[last].to > fromLine.from)\n              ranges[last].to = toLine.to;\n          else\n              ranges.push({ from: fromLine.from + /^\\s*/.exec(fromLine.text)[0].length, to: toLine.to });\n      }\n      return ranges;\n  }\n  // Performs toggle, comment and uncomment of block comments in\n  // languages that support them.\n  function changeBlockComment(option, state, ranges = state.selection.ranges) {\n      let tokens = ranges.map(r => getConfig(state, r.from).block);\n      if (!tokens.every(c => c))\n          return null;\n      let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n      if (option != 2 /* CommentOption.Uncomment */ && !comments.every(c => c)) {\n          return { changes: state.changes(ranges.map((range, i) => {\n                  if (comments[i])\n                      return [];\n                  return [{ from: range.from, insert: tokens[i].open + \" \" }, { from: range.to, insert: \" \" + tokens[i].close }];\n              })) };\n      }\n      else if (option != 1 /* CommentOption.Comment */ && comments.some(c => c)) {\n          let changes = [];\n          for (let i = 0, comment; i < comments.length; i++)\n              if (comment = comments[i]) {\n                  let token = tokens[i], { open, close } = comment;\n                  changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n              }\n          return { changes };\n      }\n      return null;\n  }\n  // Performs toggle, comment and uncomment of line comments.\n  function changeLineComment(option, state, ranges = state.selection.ranges) {\n      let lines = [];\n      let prevLine = -1;\n      for (let { from, to } of ranges) {\n          let startI = lines.length, minIndent = 1e9;\n          let token = getConfig(state, from).line;\n          if (!token)\n              continue;\n          for (let pos = from; pos <= to;) {\n              let line = state.doc.lineAt(pos);\n              if (line.from > prevLine && (from == to || to > line.from)) {\n                  prevLine = line.from;\n                  let indent = /^\\s*/.exec(line.text)[0].length;\n                  let empty = indent == line.length;\n                  let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                  if (indent < line.text.length && indent < minIndent)\n                      minIndent = indent;\n                  lines.push({ line, comment, token, indent, empty, single: false });\n              }\n              pos = line.to + 1;\n          }\n          if (minIndent < 1e9)\n              for (let i = startI; i < lines.length; i++)\n                  if (lines[i].indent < lines[i].line.text.length)\n                      lines[i].indent = minIndent;\n          if (lines.length == startI + 1)\n              lines[startI].single = true;\n      }\n      if (option != 2 /* CommentOption.Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n          let changes = [];\n          for (let { line, token, indent, empty, single } of lines)\n              if (single || !empty)\n                  changes.push({ from: line.from + indent, insert: token + \" \" });\n          let changeSet = state.changes(changes);\n          return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n      }\n      else if (option != 1 /* CommentOption.Comment */ && lines.some(l => l.comment >= 0)) {\n          let changes = [];\n          for (let { line, comment, token } of lines)\n              if (comment >= 0) {\n                  let from = line.from + comment, to = from + token.length;\n                  if (line.text[to - line.from] == \" \")\n                      to++;\n                  changes.push({ from, to });\n              }\n          return { changes };\n      }\n      return null;\n  }\n\n  const fromHistory = /*@__PURE__*/Annotation.define();\n  /**\n  Transaction annotation that will prevent that transaction from\n  being combined with other transactions in the undo history. Given\n  `\"before\"`, it'll prevent merging with previous transactions. With\n  `\"after\"`, subsequent transactions won't be combined with this\n  one. With `\"full\"`, the transaction is isolated on both sides.\n  */\n  const isolateHistory = /*@__PURE__*/Annotation.define();\n  /**\n  This facet provides a way to register functions that, given a\n  transaction, provide a set of effects that the history should\n  store when inverting the transaction. This can be used to\n  integrate some kinds of effects in the history, so that they can\n  be undone (and redone again).\n  */\n  const invertedEffects = /*@__PURE__*/Facet.define();\n  const historyConfig = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          return combineConfig(configs, {\n              minDepth: 100,\n              newGroupDelay: 500,\n              joinToEvent: (_t, isAdjacent) => isAdjacent,\n          }, {\n              minDepth: Math.max,\n              newGroupDelay: Math.min,\n              joinToEvent: (a, b) => (tr, adj) => a(tr, adj) || b(tr, adj)\n          });\n      }\n  });\n  const historyField_ = /*@__PURE__*/StateField.define({\n      create() {\n          return HistoryState.empty;\n      },\n      update(state, tr) {\n          let config = tr.state.facet(historyConfig);\n          let fromHist = tr.annotation(fromHistory);\n          if (fromHist) {\n              let item = HistEvent.fromTransaction(tr, fromHist.selection), from = fromHist.side;\n              let other = from == 0 /* BranchName.Done */ ? state.undone : state.done;\n              if (item)\n                  other = updateBranch(other, other.length, config.minDepth, item);\n              else\n                  other = addSelection(other, tr.startState.selection);\n              return new HistoryState(from == 0 /* BranchName.Done */ ? fromHist.rest : other, from == 0 /* BranchName.Done */ ? other : fromHist.rest);\n          }\n          let isolate = tr.annotation(isolateHistory);\n          if (isolate == \"full\" || isolate == \"before\")\n              state = state.isolate();\n          if (tr.annotation(Transaction.addToHistory) === false)\n              return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n          let event = HistEvent.fromTransaction(tr);\n          let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n          if (event)\n              state = state.addChanges(event, time, userEvent, config, tr);\n          else if (tr.selection)\n              state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n          if (isolate == \"full\" || isolate == \"after\")\n              state = state.isolate();\n          return state;\n      },\n      toJSON(value) {\n          return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n      },\n      fromJSON(json) {\n          return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n      }\n  });\n  /**\n  Create a history extension with the given configuration.\n  */\n  function history(config = {}) {\n      return [\n          historyField_,\n          historyConfig.of(config),\n          EditorView.domEventHandlers({\n              beforeinput(e, view) {\n                  let command = e.inputType == \"historyUndo\" ? undo : e.inputType == \"historyRedo\" ? redo : null;\n                  if (!command)\n                      return false;\n                  e.preventDefault();\n                  return command(view);\n              }\n          })\n      ];\n  }\n  function cmd(side, selection) {\n      return function ({ state, dispatch }) {\n          if (!selection && state.readOnly)\n              return false;\n          let historyState = state.field(historyField_, false);\n          if (!historyState)\n              return false;\n          let tr = historyState.pop(side, state, selection);\n          if (!tr)\n              return false;\n          dispatch(tr);\n          return true;\n      };\n  }\n  /**\n  Undo a single group of history events. Returns false if no group\n  was available.\n  */\n  const undo = /*@__PURE__*/cmd(0 /* BranchName.Done */, false);\n  /**\n  Redo a group of history events. Returns false if no group was\n  available.\n  */\n  const redo = /*@__PURE__*/cmd(1 /* BranchName.Undone */, false);\n  /**\n  Undo a change or selection change.\n  */\n  const undoSelection = /*@__PURE__*/cmd(0 /* BranchName.Done */, true);\n  /**\n  Redo a change or selection change.\n  */\n  const redoSelection = /*@__PURE__*/cmd(1 /* BranchName.Undone */, true);\n  // History events store groups of changes or effects that need to be\n  // undone/redone together.\n  class HistEvent {\n      constructor(\n      // The changes in this event. Normal events hold at least one\n      // change or effect. But it may be necessary to store selection\n      // events before the first change, in which case a special type of\n      // instance is created which doesn't hold any changes, with\n      // changes == startSelection == undefined\n      changes, \n      // The effects associated with this event\n      effects, \n      // Accumulated mapping (from addToHistory==false) that should be\n      // applied to events below this one.\n      mapped, \n      // The selection before this event\n      startSelection, \n      // Stores selection changes after this event, to be used for\n      // selection undo/redo.\n      selectionsAfter) {\n          this.changes = changes;\n          this.effects = effects;\n          this.mapped = mapped;\n          this.startSelection = startSelection;\n          this.selectionsAfter = selectionsAfter;\n      }\n      setSelAfter(after) {\n          return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n      }\n      toJSON() {\n          var _a, _b, _c;\n          return {\n              changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n              mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n              startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n              selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n          };\n      }\n      static fromJSON(json) {\n          return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n      }\n      // This does not check `addToHistory` and such, it assumes the\n      // transaction needs to be converted to an item. Returns null when\n      // there are no changes or effects in the transaction.\n      static fromTransaction(tr, selection) {\n          let effects = none$2;\n          for (let invert of tr.startState.facet(invertedEffects)) {\n              let result = invert(tr);\n              if (result.length)\n                  effects = effects.concat(result);\n          }\n          if (!effects.length && tr.changes.empty)\n              return null;\n          return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, selection || tr.startState.selection, none$2);\n      }\n      static selection(selections) {\n          return new HistEvent(undefined, none$2, undefined, undefined, selections);\n      }\n  }\n  function updateBranch(branch, to, maxLen, newEvent) {\n      let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n      let newBranch = branch.slice(start, to);\n      newBranch.push(newEvent);\n      return newBranch;\n  }\n  function isAdjacent(a, b) {\n      let ranges = [], isAdjacent = false;\n      a.iterChangedRanges((f, t) => ranges.push(f, t));\n      b.iterChangedRanges((_f, _t, f, t) => {\n          for (let i = 0; i < ranges.length;) {\n              let from = ranges[i++], to = ranges[i++];\n              if (t >= from && f <= to)\n                  isAdjacent = true;\n          }\n      });\n      return isAdjacent;\n  }\n  function eqSelectionShape(a, b) {\n      return a.ranges.length == b.ranges.length &&\n          a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n  }\n  function conc(a, b) {\n      return !a.length ? b : !b.length ? a : a.concat(b);\n  }\n  const none$2 = [];\n  const MaxSelectionsPerEvent = 200;\n  function addSelection(branch, selection) {\n      if (!branch.length) {\n          return [HistEvent.selection([selection])];\n      }\n      else {\n          let lastEvent = branch[branch.length - 1];\n          let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n          if (sels.length && sels[sels.length - 1].eq(selection))\n              return branch;\n          sels.push(selection);\n          return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n      }\n  }\n  // Assumes the top item has one or more selectionAfter values\n  function popSelection(branch) {\n      let last = branch[branch.length - 1];\n      let newBranch = branch.slice();\n      newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n      return newBranch;\n  }\n  // Add a mapping to the top event in the given branch. If this maps\n  // away all the changes and effects in that item, drop it and\n  // propagate the mapping to the next item.\n  function addMappingToBranch(branch, mapping) {\n      if (!branch.length)\n          return branch;\n      let length = branch.length, selections = none$2;\n      while (length) {\n          let event = mapEvent(branch[length - 1], mapping, selections);\n          if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n              let result = branch.slice(0, length);\n              result[length - 1] = event;\n              return result;\n          }\n          else { // Drop this event, since there's no changes or effects left\n              mapping = event.mapped;\n              length--;\n              selections = event.selectionsAfter;\n          }\n      }\n      return selections.length ? [HistEvent.selection(selections)] : none$2;\n  }\n  function mapEvent(event, mapping, extraSelections) {\n      let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none$2, extraSelections);\n      // Change-less events don't store mappings (they are always the last event in a branch)\n      if (!event.changes)\n          return HistEvent.selection(selections);\n      let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n      let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n      return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n  }\n  const joinableUserEvent = /^(input\\.type|delete)($|\\.)/;\n  class HistoryState {\n      constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n          this.done = done;\n          this.undone = undone;\n          this.prevTime = prevTime;\n          this.prevUserEvent = prevUserEvent;\n      }\n      isolate() {\n          return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n      }\n      addChanges(event, time, userEvent, config, tr) {\n          let done = this.done, lastEvent = done[done.length - 1];\n          if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n              (!userEvent || joinableUserEvent.test(userEvent)) &&\n              ((!lastEvent.selectionsAfter.length &&\n                  time - this.prevTime < config.newGroupDelay &&\n                  config.joinToEvent(tr, isAdjacent(lastEvent.changes, event.changes))) ||\n                  // For compose (but not compose.start) events, always join with previous event\n                  userEvent == \"input.type.compose\")) {\n              done = updateBranch(done, done.length - 1, config.minDepth, new HistEvent(event.changes.compose(lastEvent.changes), conc(StateEffect.mapEffects(event.effects, lastEvent.changes), lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none$2));\n          }\n          else {\n              done = updateBranch(done, done.length, config.minDepth, event);\n          }\n          return new HistoryState(done, none$2, time, userEvent);\n      }\n      addSelection(selection, time, userEvent, newGroupDelay) {\n          let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none$2;\n          if (last.length > 0 &&\n              time - this.prevTime < newGroupDelay &&\n              userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n              eqSelectionShape(last[last.length - 1], selection))\n              return this;\n          return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n      }\n      addMapping(mapping) {\n          return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n      }\n      pop(side, state, onlySelection) {\n          let branch = side == 0 /* BranchName.Done */ ? this.done : this.undone;\n          if (branch.length == 0)\n              return null;\n          let event = branch[branch.length - 1], selection = event.selectionsAfter[0] || state.selection;\n          if (onlySelection && event.selectionsAfter.length) {\n              return state.update({\n                  selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                  annotations: fromHistory.of({ side, rest: popSelection(branch), selection }),\n                  userEvent: side == 0 /* BranchName.Done */ ? \"select.undo\" : \"select.redo\",\n                  scrollIntoView: true\n              });\n          }\n          else if (!event.changes) {\n              return null;\n          }\n          else {\n              let rest = branch.length == 1 ? none$2 : branch.slice(0, branch.length - 1);\n              if (event.mapped)\n                  rest = addMappingToBranch(rest, event.mapped);\n              return state.update({\n                  changes: event.changes,\n                  selection: event.startSelection,\n                  effects: event.effects,\n                  annotations: fromHistory.of({ side, rest, selection }),\n                  filter: false,\n                  userEvent: side == 0 /* BranchName.Done */ ? \"undo\" : \"redo\",\n                  scrollIntoView: true\n              });\n          }\n      }\n  }\n  HistoryState.empty = /*@__PURE__*/new HistoryState(none$2, none$2);\n  /**\n  Default key bindings for the undo history.\n\n  - Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#commands.undo).\n  - Mod-y (Mod-Shift-z on macOS) + Ctrl-Shift-z on Linux: [`redo`](https://codemirror.net/6/docs/ref/#commands.redo).\n  - Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#commands.undoSelection).\n  - Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#commands.redoSelection).\n  */\n  const historyKeymap = [\n      { key: \"Mod-z\", run: undo, preventDefault: true },\n      { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n      { linux: \"Ctrl-Shift-z\", run: redo, preventDefault: true },\n      { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n      { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n  ];\n\n  function updateSel(sel, by) {\n      return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n  }\n  function setSel(state, selection) {\n      return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n  }\n  function moveSel({ state, dispatch }, how) {\n      let selection = updateSel(state.selection, how);\n      if (selection.eq(state.selection, true))\n          return false;\n      dispatch(setSel(state, selection));\n      return true;\n  }\n  function rangeEnd(range, forward) {\n      return EditorSelection.cursor(forward ? range.to : range.from);\n  }\n  function cursorByChar(view, forward) {\n      return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n  }\n  function ltrAtCursor(view) {\n      return view.textDirectionAt(view.state.selection.main.head) == Direction.LTR;\n  }\n  /**\n  Move the selection one character to the left (which is backward in\n  left-to-right text, forward in right-to-left text).\n  */\n  const cursorCharLeft = view => cursorByChar(view, !ltrAtCursor(view));\n  /**\n  Move the selection one character to the right.\n  */\n  const cursorCharRight = view => cursorByChar(view, ltrAtCursor(view));\n  function cursorByGroup(view, forward) {\n      return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n  }\n  /**\n  Move the selection to the left across one group of word or\n  non-word (but also non-space) characters.\n  */\n  const cursorGroupLeft = view => cursorByGroup(view, !ltrAtCursor(view));\n  /**\n  Move the selection one group to the right.\n  */\n  const cursorGroupRight = view => cursorByGroup(view, ltrAtCursor(view));\n  function interestingNode(state, node, bracketProp) {\n      if (node.type.prop(bracketProp))\n          return true;\n      let len = node.to - node.from;\n      return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n  }\n  function moveBySyntax(state, start, forward) {\n      let pos = syntaxTree(state).resolveInner(start.head);\n      let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n      // Scan forward through child nodes to see if there's an interesting\n      // node ahead.\n      for (let at = start.head;;) {\n          let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n          if (!next)\n              break;\n          if (interestingNode(state, next, bracketProp))\n              pos = next;\n          else\n              at = forward ? next.to : next.from;\n      }\n      let bracket = pos.type.prop(bracketProp), match, newPos;\n      if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n          newPos = forward ? match.end.to : match.end.from;\n      else\n          newPos = forward ? pos.to : pos.from;\n      return EditorSelection.cursor(newPos, forward ? -1 : 1);\n  }\n  /**\n  Move the cursor over the next syntactic element to the left.\n  */\n  const cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n  /**\n  Move the cursor over the next syntactic element to the right.\n  */\n  const cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\n  function cursorByLine(view, forward) {\n      return moveSel(view, range => {\n          if (!range.empty)\n              return rangeEnd(range, forward);\n          let moved = view.moveVertically(range, forward);\n          return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n      });\n  }\n  /**\n  Move the selection one line up.\n  */\n  const cursorLineUp = view => cursorByLine(view, false);\n  /**\n  Move the selection one line down.\n  */\n  const cursorLineDown = view => cursorByLine(view, true);\n  function pageInfo(view) {\n      let selfScroll = view.scrollDOM.clientHeight < view.scrollDOM.scrollHeight - 2;\n      let marginTop = 0, marginBottom = 0, height;\n      if (selfScroll) {\n          for (let source of view.state.facet(EditorView.scrollMargins)) {\n              let margins = source(view);\n              if (margins === null || margins === void 0 ? void 0 : margins.top)\n                  marginTop = Math.max(margins === null || margins === void 0 ? void 0 : margins.top, marginTop);\n              if (margins === null || margins === void 0 ? void 0 : margins.bottom)\n                  marginBottom = Math.max(margins === null || margins === void 0 ? void 0 : margins.bottom, marginBottom);\n          }\n          height = view.scrollDOM.clientHeight - marginTop - marginBottom;\n      }\n      else {\n          height = (view.dom.ownerDocument.defaultView || window).innerHeight;\n      }\n      return { marginTop, marginBottom, selfScroll,\n          height: Math.max(view.defaultLineHeight, height - 5) };\n  }\n  function cursorByPage(view, forward) {\n      let page = pageInfo(view);\n      let { state } = view, selection = updateSel(state.selection, range => {\n          return range.empty ? view.moveVertically(range, forward, page.height)\n              : rangeEnd(range, forward);\n      });\n      if (selection.eq(state.selection))\n          return false;\n      let effect;\n      if (page.selfScroll) {\n          let startPos = view.coordsAtPos(state.selection.main.head);\n          let scrollRect = view.scrollDOM.getBoundingClientRect();\n          let scrollTop = scrollRect.top + page.marginTop, scrollBottom = scrollRect.bottom - page.marginBottom;\n          if (startPos && startPos.top > scrollTop && startPos.bottom < scrollBottom)\n              effect = EditorView.scrollIntoView(selection.main.head, { y: \"start\", yMargin: startPos.top - scrollTop });\n      }\n      view.dispatch(setSel(state, selection), { effects: effect });\n      return true;\n  }\n  /**\n  Move the selection one page up.\n  */\n  const cursorPageUp = view => cursorByPage(view, false);\n  /**\n  Move the selection one page down.\n  */\n  const cursorPageDown = view => cursorByPage(view, true);\n  function moveByLineBoundary(view, start, forward) {\n      let line = view.lineBlockAt(start.head), moved = view.moveToLineBoundary(start, forward);\n      if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n          moved = view.moveToLineBoundary(start, forward, false);\n      if (!forward && moved.head == line.from && line.length) {\n          let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n          if (space && start.head != line.from + space)\n              moved = EditorSelection.cursor(line.from + space);\n      }\n      return moved;\n  }\n  /**\n  Move the selection to the next line wrap point, or to the end of\n  the line if there isn't one left on this line.\n  */\n  const cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n  /**\n  Move the selection to previous line wrap point, or failing that to\n  the start of the line. If the line is indented, and the cursor\n  isn't already at the end of the indentation, this will move to the\n  end of the indentation instead of the start of the line.\n  */\n  const cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n  /**\n  Move the selection one line wrap point to the left.\n  */\n  const cursorLineBoundaryLeft = view => moveSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n  /**\n  Move the selection one line wrap point to the right.\n  */\n  const cursorLineBoundaryRight = view => moveSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n  /**\n  Move the selection to the start of the line.\n  */\n  const cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from, 1));\n  /**\n  Move the selection to the end of the line.\n  */\n  const cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to, -1));\n  function toMatchingBracket(state, dispatch, extend) {\n      let found = false, selection = updateSel(state.selection, range => {\n          let matching = matchBrackets(state, range.head, -1)\n              || matchBrackets(state, range.head, 1)\n              || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n              || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n          if (!matching || !matching.end)\n              return range;\n          found = true;\n          let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n          return EditorSelection.cursor(head);\n      });\n      if (!found)\n          return false;\n      dispatch(setSel(state, selection));\n      return true;\n  }\n  /**\n  Move the selection to the bracket matching the one it is currently\n  on, if any.\n  */\n  const cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch);\n  function extendSel(target, how) {\n      let selection = updateSel(target.state.selection, range => {\n          let head = how(range);\n          return EditorSelection.range(range.anchor, head.head, head.goalColumn, head.bidiLevel || undefined);\n      });\n      if (selection.eq(target.state.selection))\n          return false;\n      target.dispatch(setSel(target.state, selection));\n      return true;\n  }\n  function selectByChar(view, forward) {\n      return extendSel(view, range => view.moveByChar(range, forward));\n  }\n  /**\n  Move the selection head one character to the left, while leaving\n  the anchor in place.\n  */\n  const selectCharLeft = view => selectByChar(view, !ltrAtCursor(view));\n  /**\n  Move the selection head one character to the right.\n  */\n  const selectCharRight = view => selectByChar(view, ltrAtCursor(view));\n  function selectByGroup(view, forward) {\n      return extendSel(view, range => view.moveByGroup(range, forward));\n  }\n  /**\n  Move the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\n  the left.\n  */\n  const selectGroupLeft = view => selectByGroup(view, !ltrAtCursor(view));\n  /**\n  Move the selection head one group to the right.\n  */\n  const selectGroupRight = view => selectByGroup(view, ltrAtCursor(view));\n  /**\n  Move the selection head over the next syntactic element to the left.\n  */\n  const selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n  /**\n  Move the selection head over the next syntactic element to the right.\n  */\n  const selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\n  function selectByLine(view, forward) {\n      return extendSel(view, range => view.moveVertically(range, forward));\n  }\n  /**\n  Move the selection head one line up.\n  */\n  const selectLineUp = view => selectByLine(view, false);\n  /**\n  Move the selection head one line down.\n  */\n  const selectLineDown = view => selectByLine(view, true);\n  function selectByPage(view, forward) {\n      return extendSel(view, range => view.moveVertically(range, forward, pageInfo(view).height));\n  }\n  /**\n  Move the selection head one page up.\n  */\n  const selectPageUp = view => selectByPage(view, false);\n  /**\n  Move the selection head one page down.\n  */\n  const selectPageDown = view => selectByPage(view, true);\n  /**\n  Move the selection head to the next line boundary.\n  */\n  const selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n  /**\n  Move the selection head to the previous line boundary.\n  */\n  const selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n  /**\n  Move the selection head one line boundary to the left.\n  */\n  const selectLineBoundaryLeft = view => extendSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n  /**\n  Move the selection head one line boundary to the right.\n  */\n  const selectLineBoundaryRight = view => extendSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n  /**\n  Move the selection head to the start of the line.\n  */\n  const selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from));\n  /**\n  Move the selection head to the end of the line.\n  */\n  const selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to));\n  /**\n  Move the selection to the start of the document.\n  */\n  const cursorDocStart = ({ state, dispatch }) => {\n      dispatch(setSel(state, { anchor: 0 }));\n      return true;\n  };\n  /**\n  Move the selection to the end of the document.\n  */\n  const cursorDocEnd = ({ state, dispatch }) => {\n      dispatch(setSel(state, { anchor: state.doc.length }));\n      return true;\n  };\n  /**\n  Move the selection head to the start of the document.\n  */\n  const selectDocStart = ({ state, dispatch }) => {\n      dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n      return true;\n  };\n  /**\n  Move the selection head to the end of the document.\n  */\n  const selectDocEnd = ({ state, dispatch }) => {\n      dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n      return true;\n  };\n  /**\n  Select the entire document.\n  */\n  const selectAll = ({ state, dispatch }) => {\n      dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n      return true;\n  };\n  /**\n  Expand the selection to cover entire lines.\n  */\n  const selectLine = ({ state, dispatch }) => {\n      let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n      dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n      return true;\n  };\n  /**\n  Select the next syntactic construct that is larger than the\n  selection. Note that this will only work insofar as the language\n  [provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\n  syntax tree.\n  */\n  const selectParentSyntax = ({ state, dispatch }) => {\n      let selection = updateSel(state.selection, range => {\n          let tree = syntaxTree(state), stack = tree.resolveStack(range.from, 1);\n          if (range.empty) {\n              let stackBefore = tree.resolveStack(range.from, -1);\n              if (stackBefore.node.from >= stack.node.from && stackBefore.node.to <= stack.node.to)\n                  stack = stackBefore;\n          }\n          for (let cur = stack; cur; cur = cur.next) {\n              let { node } = cur;\n              if (((node.from < range.from && node.to >= range.to) ||\n                  (node.to > range.to && node.from <= range.from)) &&\n                  cur.next)\n                  return EditorSelection.range(node.to, node.from);\n          }\n          return range;\n      });\n      if (selection.eq(state.selection))\n          return false;\n      dispatch(setSel(state, selection));\n      return true;\n  };\n  /**\n  Simplify the current selection. When multiple ranges are selected,\n  reduce it to its main range. Otherwise, if the selection is\n  non-empty, convert it to a cursor selection.\n  */\n  const simplifySelection = ({ state, dispatch }) => {\n      let cur = state.selection, selection = null;\n      if (cur.ranges.length > 1)\n          selection = EditorSelection.create([cur.main]);\n      else if (!cur.main.empty)\n          selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n      if (!selection)\n          return false;\n      dispatch(setSel(state, selection));\n      return true;\n  };\n  function deleteBy(target, by) {\n      if (target.state.readOnly)\n          return false;\n      let event = \"delete.selection\", { state } = target;\n      let changes = state.changeByRange(range => {\n          let { from, to } = range;\n          if (from == to) {\n              let towards = by(range);\n              if (towards < from) {\n                  event = \"delete.backward\";\n                  towards = skipAtomic(target, towards, false);\n              }\n              else if (towards > from) {\n                  event = \"delete.forward\";\n                  towards = skipAtomic(target, towards, true);\n              }\n              from = Math.min(from, towards);\n              to = Math.max(to, towards);\n          }\n          else {\n              from = skipAtomic(target, from, false);\n              to = skipAtomic(target, to, true);\n          }\n          return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from, from < range.head ? -1 : 1) };\n      });\n      if (changes.changes.empty)\n          return false;\n      target.dispatch(state.update(changes, {\n          scrollIntoView: true,\n          userEvent: event,\n          effects: event == \"delete.selection\" ? EditorView.announce.of(state.phrase(\"Selection deleted\")) : undefined\n      }));\n      return true;\n  }\n  function skipAtomic(target, pos, forward) {\n      if (target instanceof EditorView)\n          for (let ranges of target.state.facet(EditorView.atomicRanges).map(f => f(target)))\n              ranges.between(pos, pos, (from, to) => {\n                  if (from < pos && to > pos)\n                      pos = forward ? to : from;\n              });\n      return pos;\n  }\n  const deleteByChar = (target, forward, byIndentUnit) => deleteBy(target, range => {\n      let pos = range.from, { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n      if (byIndentUnit && !forward && pos > line.from && pos < line.from + 200 &&\n          !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n          if (before[before.length - 1] == \"\\t\")\n              return pos - 1;\n          let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n          for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n              pos--;\n          targetPos = pos;\n      }\n      else {\n          targetPos = findClusterBreak(line.text, pos - line.from, forward, forward) + line.from;\n          if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n              targetPos += forward ? 1 : -1;\n          else if (!forward && /[\\ufe00-\\ufe0f]/.test(line.text.slice(targetPos - line.from, pos - line.from)))\n              targetPos = findClusterBreak(line.text, targetPos - line.from, false, false) + line.from;\n      }\n      return targetPos;\n  });\n  /**\n  Delete the selection, or, for cursor selections, the character or\n  indentation unit before the cursor.\n  */\n  const deleteCharBackward = view => deleteByChar(view, false, true);\n  /**\n  Delete the selection or the character after the cursor.\n  */\n  const deleteCharForward = view => deleteByChar(view, true, false);\n  const deleteByGroup = (target, forward) => deleteBy(target, range => {\n      let pos = range.head, { state } = target, line = state.doc.lineAt(pos);\n      let categorize = state.charCategorizer(pos);\n      for (let cat = null;;) {\n          if (pos == (forward ? line.to : line.from)) {\n              if (pos == range.head && line.number != (forward ? state.doc.lines : 1))\n                  pos += forward ? 1 : -1;\n              break;\n          }\n          let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n          let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n          let nextCat = categorize(nextChar);\n          if (cat != null && nextCat != cat)\n              break;\n          if (nextChar != \" \" || pos != range.head)\n              cat = nextCat;\n          pos = next;\n      }\n      return pos;\n  });\n  /**\n  Delete the selection or backward until the end of the next\n  [group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\n  whitespace when they consist of a single space.\n  */\n  const deleteGroupBackward = target => deleteByGroup(target, false);\n  /**\n  Delete the selection or forward until the end of the next group.\n  */\n  const deleteGroupForward = target => deleteByGroup(target, true);\n  /**\n  Delete the selection, or, if it is a cursor selection, delete to\n  the end of the line. If the cursor is directly at the end of the\n  line, delete the line break after it.\n  */\n  const deleteToLineEnd = view => deleteBy(view, range => {\n      let lineEnd = view.lineBlockAt(range.head).to;\n      return range.head < lineEnd ? lineEnd : Math.min(view.state.doc.length, range.head + 1);\n  });\n  /**\n  Delete the selection, or, if it is a cursor selection, delete to\n  the start of the line or the next line wrap before the cursor.\n  */\n  const deleteLineBoundaryBackward = view => deleteBy(view, range => {\n      let lineStart = view.moveToLineBoundary(range, false).head;\n      return range.head > lineStart ? lineStart : Math.max(0, range.head - 1);\n  });\n  /**\n  Delete the selection, or, if it is a cursor selection, delete to\n  the end of the line or the next line wrap after the cursor.\n  */\n  const deleteLineBoundaryForward = view => deleteBy(view, range => {\n      let lineStart = view.moveToLineBoundary(range, true).head;\n      return range.head < lineStart ? lineStart : Math.min(view.state.doc.length, range.head + 1);\n  });\n  /**\n  Replace each selection range with a line break, leaving the cursor\n  on the line before the break.\n  */\n  const splitLine = ({ state, dispatch }) => {\n      if (state.readOnly)\n          return false;\n      let changes = state.changeByRange(range => {\n          return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n              range: EditorSelection.cursor(range.from) };\n      });\n      dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n      return true;\n  };\n  /**\n  Flip the characters before and after the cursor(s).\n  */\n  const transposeChars = ({ state, dispatch }) => {\n      if (state.readOnly)\n          return false;\n      let changes = state.changeByRange(range => {\n          if (!range.empty || range.from == 0 || range.from == state.doc.length)\n              return { range };\n          let pos = range.from, line = state.doc.lineAt(pos);\n          let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n          let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n          return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n              range: EditorSelection.cursor(to) };\n      });\n      if (changes.changes.empty)\n          return false;\n      dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n      return true;\n  };\n  function selectedLineBlocks(state) {\n      let blocks = [], upto = -1;\n      for (let range of state.selection.ranges) {\n          let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n          if (!range.empty && range.to == endLine.from)\n              endLine = state.doc.lineAt(range.to - 1);\n          if (upto >= startLine.number) {\n              let prev = blocks[blocks.length - 1];\n              prev.to = endLine.to;\n              prev.ranges.push(range);\n          }\n          else {\n              blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n          }\n          upto = endLine.number + 1;\n      }\n      return blocks;\n  }\n  function moveLine(state, dispatch, forward) {\n      if (state.readOnly)\n          return false;\n      let changes = [], ranges = [];\n      for (let block of selectedLineBlocks(state)) {\n          if (forward ? block.to == state.doc.length : block.from == 0)\n              continue;\n          let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n          let size = nextLine.length + 1;\n          if (forward) {\n              changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n              for (let r of block.ranges)\n                  ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n          }\n          else {\n              changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n              for (let r of block.ranges)\n                  ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n          }\n      }\n      if (!changes.length)\n          return false;\n      dispatch(state.update({\n          changes,\n          scrollIntoView: true,\n          selection: EditorSelection.create(ranges, state.selection.mainIndex),\n          userEvent: \"move.line\"\n      }));\n      return true;\n  }\n  /**\n  Move the selected lines up one line.\n  */\n  const moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n  /**\n  Move the selected lines down one line.\n  */\n  const moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\n  function copyLine(state, dispatch, forward) {\n      if (state.readOnly)\n          return false;\n      let changes = [];\n      for (let block of selectedLineBlocks(state)) {\n          if (forward)\n              changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n          else\n              changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n      }\n      dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n      return true;\n  }\n  /**\n  Create a copy of the selected lines. Keep the selection in the top copy.\n  */\n  const copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n  /**\n  Create a copy of the selected lines. Keep the selection in the bottom copy.\n  */\n  const copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n  /**\n  Delete selected lines.\n  */\n  const deleteLine = view => {\n      if (view.state.readOnly)\n          return false;\n      let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n          if (from > 0)\n              from--;\n          else if (to < state.doc.length)\n              to++;\n          return { from, to };\n      }));\n      let selection = updateSel(state.selection, range => {\n          let dist = undefined;\n          if (view.lineWrapping) {\n              let block = view.lineBlockAt(range.head), pos = view.coordsAtPos(range.head, range.assoc || 1);\n              if (pos)\n                  dist = (block.bottom + view.documentTop) - pos.bottom + view.defaultLineHeight / 2;\n          }\n          return view.moveVertically(range, true, dist);\n      }).map(changes);\n      view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n      return true;\n  };\n  function isBetweenBrackets(state, pos) {\n      if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n          return { from: pos, to: pos };\n      let context = syntaxTree(state).resolveInner(pos);\n      let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n      if (before && after && before.to <= pos && after.from >= pos &&\n          (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n          state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from &&\n          !/\\S/.test(state.sliceDoc(before.to, after.from)))\n          return { from: before.to, to: after.from };\n      return null;\n  }\n  /**\n  Replace the selection with a newline and indent the newly created\n  line(s). If the current line consists only of whitespace, this\n  will also delete that whitespace. When the cursor is between\n  matching brackets, an additional newline will be inserted after\n  the cursor.\n  */\n  const insertNewlineAndIndent = /*@__PURE__*/newlineAndIndent(false);\n  /**\n  Create a blank, indented line below the current line.\n  */\n  const insertBlankLine = /*@__PURE__*/newlineAndIndent(true);\n  function newlineAndIndent(atEof) {\n      return ({ state, dispatch }) => {\n          if (state.readOnly)\n              return false;\n          let changes = state.changeByRange(range => {\n              let { from, to } = range, line = state.doc.lineAt(from);\n              let explode = !atEof && from == to && isBetweenBrackets(state, from);\n              if (atEof)\n                  from = to = (to <= line.to ? line : state.doc.lineAt(to)).to;\n              let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n              let indent = getIndentation(cx, from);\n              if (indent == null)\n                  indent = countColumn(/^\\s*/.exec(state.doc.lineAt(from).text)[0], state.tabSize);\n              while (to < line.to && /\\s/.test(line.text[to - line.from]))\n                  to++;\n              if (explode)\n                  ({ from, to } = explode);\n              else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n                  from = line.from;\n              let insert = [\"\", indentString(state, indent)];\n              if (explode)\n                  insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n              return { changes: { from, to, insert: Text.of(insert) },\n                  range: EditorSelection.cursor(from + 1 + insert[1].length) };\n          });\n          dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n          return true;\n      };\n  }\n  function changeBySelectedLine(state, f) {\n      let atLine = -1;\n      return state.changeByRange(range => {\n          let changes = [];\n          for (let pos = range.from; pos <= range.to;) {\n              let line = state.doc.lineAt(pos);\n              if (line.number > atLine && (range.empty || range.to > line.from)) {\n                  f(line, changes, range);\n                  atLine = line.number;\n              }\n              pos = line.to + 1;\n          }\n          let changeSet = state.changes(changes);\n          return { changes,\n              range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n      });\n  }\n  /**\n  Auto-indent the selected lines. This uses the [indentation service\n  facet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\n  information.\n  */\n  const indentSelection = ({ state, dispatch }) => {\n      if (state.readOnly)\n          return false;\n      let updated = Object.create(null);\n      let context = new IndentContext(state, { overrideIndentation: start => {\n              let found = updated[start];\n              return found == null ? -1 : found;\n          } });\n      let changes = changeBySelectedLine(state, (line, changes, range) => {\n          let indent = getIndentation(context, line.from);\n          if (indent == null)\n              return;\n          if (!/\\S/.test(line.text))\n              indent = 0;\n          let cur = /^\\s*/.exec(line.text)[0];\n          let norm = indentString(state, indent);\n          if (cur != norm || range.from < line.from + cur.length) {\n              updated[line.from] = indent;\n              changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n          }\n      });\n      if (!changes.changes.empty)\n          dispatch(state.update(changes, { userEvent: \"indent\" }));\n      return true;\n  };\n  /**\n  Add a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\n  lines.\n  */\n  const indentMore = ({ state, dispatch }) => {\n      if (state.readOnly)\n          return false;\n      dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n          changes.push({ from: line.from, insert: state.facet(indentUnit) });\n      }), { userEvent: \"input.indent\" }));\n      return true;\n  };\n  /**\n  Remove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\n  selected lines.\n  */\n  const indentLess = ({ state, dispatch }) => {\n      if (state.readOnly)\n          return false;\n      dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n          let space = /^\\s*/.exec(line.text)[0];\n          if (!space)\n              return;\n          let col = countColumn(space, state.tabSize), keep = 0;\n          let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n          while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n              keep++;\n          changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n      }), { userEvent: \"delete.dedent\" }));\n      return true;\n  };\n  /**\n  Enables or disables\n  [tab-focus mode](https://codemirror.net/6/docs/ref/#view.EditorView.setTabFocusMode). While on, this\n  prevents the editor's key bindings from capturing Tab or\n  Shift-Tab, making it possible for the user to move focus out of\n  the editor with the keyboard.\n  */\n  const toggleTabFocusMode = view => {\n      view.setTabFocusMode();\n      return true;\n  };\n  /**\n  Array of key bindings containing the Emacs-style bindings that are\n  available on macOS by default.\n\n   - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n   - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n   - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n   - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n   - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n   - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n   - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n   - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n   - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n   - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n   - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n   - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n   - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n   - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n  */\n  const emacsStyleKeymap = [\n      { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n      { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n      { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n      { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n      { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n      { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n      { key: \"Ctrl-d\", run: deleteCharForward },\n      { key: \"Ctrl-h\", run: deleteCharBackward },\n      { key: \"Ctrl-k\", run: deleteToLineEnd },\n      { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n      { key: \"Ctrl-o\", run: splitLine },\n      { key: \"Ctrl-t\", run: transposeChars },\n      { key: \"Ctrl-v\", run: cursorPageDown },\n  ];\n  /**\n  An array of key bindings closely sticking to platform-standard or\n  widely used bindings. (This includes the bindings from\n  [`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\n  property changed to `mac`.)\n\n   - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n   - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n   - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n   - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n   - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n   - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n   - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n   - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n   - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n   - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n   - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n   - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n   - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n   - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n   - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n   - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n   - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n   - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n   - Enter and Shift-Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n   - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n   - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n   - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n   - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n   - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n   - Cmd-Backspace (macOS): [`deleteLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.deleteLineBoundaryBackward).\n   - Cmd-Delete (macOS): [`deleteLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.deleteLineBoundaryForward).\n  */\n  const standardKeymap = /*@__PURE__*/[\n      { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n      { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft, preventDefault: true },\n      { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryLeft, shift: selectLineBoundaryLeft, preventDefault: true },\n      { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n      { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight, preventDefault: true },\n      { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryRight, shift: selectLineBoundaryRight, preventDefault: true },\n      { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n      { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n      { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n      { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n      { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n      { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n      { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n      { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n      { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward, preventDefault: true },\n      { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n      { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward, preventDefault: true },\n      { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n      { key: \"Enter\", run: insertNewlineAndIndent, shift: insertNewlineAndIndent },\n      { key: \"Mod-a\", run: selectAll },\n      { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n      { key: \"Delete\", run: deleteCharForward },\n      { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n      { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n      { mac: \"Mod-Backspace\", run: deleteLineBoundaryBackward },\n      { mac: \"Mod-Delete\", run: deleteLineBoundaryForward }\n  ].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n  /**\n  The default keymap. Includes all bindings from\n  [`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n  - Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n  - Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n  - Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n  - Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n  - Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n  - Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n  - Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n  - Ctrl-Enter (Cmd-Enter on macOS): [`insertBlankLine`](https://codemirror.net/6/docs/ref/#commands.insertBlankLine)\n  - Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n  - Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n  - Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n  - Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n  - Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n  - Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n  - Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n  - Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#commands.toggleComment).\n  - Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#commands.toggleBlockComment).\n  - Ctrl-m (Alt-Shift-m on macOS): [`toggleTabFocusMode`](https://codemirror.net/6/docs/ref/#commands.toggleTabFocusMode).\n  */\n  const defaultKeymap = /*@__PURE__*/[\n      { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n      { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n      { key: \"Alt-ArrowUp\", run: moveLineUp },\n      { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n      { key: \"Alt-ArrowDown\", run: moveLineDown },\n      { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n      { key: \"Escape\", run: simplifySelection },\n      { key: \"Mod-Enter\", run: insertBlankLine },\n      { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n      { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n      { key: \"Mod-[\", run: indentLess },\n      { key: \"Mod-]\", run: indentMore },\n      { key: \"Mod-Alt-\\\\\", run: indentSelection },\n      { key: \"Shift-Mod-k\", run: deleteLine },\n      { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket },\n      { key: \"Mod-/\", run: toggleComment },\n      { key: \"Alt-A\", run: toggleBlockComment },\n      { key: \"Ctrl-m\", mac: \"Shift-Alt-m\", run: toggleTabFocusMode },\n  ].concat(standardKeymap);\n  /**\n  A binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\n  Shift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\n  Please see the [Tab example](../../examples/tab/) before using\n  this.\n  */\n  const indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\n  const basicNormalize = typeof String.prototype.normalize == \"function\"\n      ? x => x.normalize(\"NFKD\") : x => x;\n  /**\n  A search cursor provides an iterator over text matches in a\n  document.\n  */\n  class SearchCursor {\n      /**\n      Create a text cursor. The query is the search string, `from` to\n      `to` provides the region to search.\n      \n      When `normalize` is given, it will be called, on both the query\n      string and the content it is matched against, before comparing.\n      You can, for example, create a case-insensitive search by\n      passing `s => s.toLowerCase()`.\n      \n      Text is always normalized with\n      [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n      (when supported).\n      */\n      constructor(text, query, from = 0, to = text.length, normalize, test) {\n          this.test = test;\n          /**\n          The current match (only holds a meaningful value after\n          [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n          `done` is false).\n          */\n          this.value = { from: 0, to: 0 };\n          /**\n          Whether the end of the iterated region has been reached.\n          */\n          this.done = false;\n          this.matches = [];\n          this.buffer = \"\";\n          this.bufferPos = 0;\n          this.iter = text.iterRange(from, to);\n          this.bufferStart = from;\n          this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n          this.query = this.normalize(query);\n      }\n      peek() {\n          if (this.bufferPos == this.buffer.length) {\n              this.bufferStart += this.buffer.length;\n              this.iter.next();\n              if (this.iter.done)\n                  return -1;\n              this.bufferPos = 0;\n              this.buffer = this.iter.value;\n          }\n          return codePointAt(this.buffer, this.bufferPos);\n      }\n      /**\n      Look for the next match. Updates the iterator's\n      [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n      [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n      at least once before using the cursor.\n      */\n      next() {\n          while (this.matches.length)\n              this.matches.pop();\n          return this.nextOverlapping();\n      }\n      /**\n      The `next` method will ignore matches that partially overlap a\n      previous match. This method behaves like `next`, but includes\n      such matches.\n      */\n      nextOverlapping() {\n          for (;;) {\n              let next = this.peek();\n              if (next < 0) {\n                  this.done = true;\n                  return this;\n              }\n              let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n              this.bufferPos += codePointSize(next);\n              let norm = this.normalize(str);\n              if (norm.length)\n                  for (let i = 0, pos = start;; i++) {\n                      let code = norm.charCodeAt(i);\n                      let match = this.match(code, pos, this.bufferPos + this.bufferStart);\n                      if (i == norm.length - 1) {\n                          if (match) {\n                              this.value = match;\n                              return this;\n                          }\n                          break;\n                      }\n                      if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                          pos++;\n                  }\n          }\n      }\n      match(code, pos, end) {\n          let match = null;\n          for (let i = 0; i < this.matches.length; i += 2) {\n              let index = this.matches[i], keep = false;\n              if (this.query.charCodeAt(index) == code) {\n                  if (index == this.query.length - 1) {\n                      match = { from: this.matches[i + 1], to: end };\n                  }\n                  else {\n                      this.matches[i]++;\n                      keep = true;\n                  }\n              }\n              if (!keep) {\n                  this.matches.splice(i, 2);\n                  i -= 2;\n              }\n          }\n          if (this.query.charCodeAt(0) == code) {\n              if (this.query.length == 1)\n                  match = { from: pos, to: end };\n              else\n                  this.matches.push(1, pos);\n          }\n          if (match && this.test && !this.test(match.from, match.to, this.buffer, this.bufferStart))\n              match = null;\n          return match;\n      }\n  }\n  if (typeof Symbol != \"undefined\")\n      SearchCursor.prototype[Symbol.iterator] = function () { return this; };\n\n  const empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\n  const baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n  /**\n  This class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\n  but searches for a regular expression pattern instead of a plain\n  string.\n  */\n  class RegExpCursor {\n      /**\n      Create a cursor that will search the given range in the given\n      document. `query` should be the raw pattern (as you'd pass it to\n      `new RegExp`).\n      */\n      constructor(text, query, options, from = 0, to = text.length) {\n          this.text = text;\n          this.to = to;\n          this.curLine = \"\";\n          /**\n          Set to `true` when the cursor has reached the end of the search\n          range.\n          */\n          this.done = false;\n          /**\n          Will contain an object with the extent of the match and the\n          match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n          sucessfully finds a match.\n          */\n          this.value = empty;\n          if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n              return new MultilineRegExpCursor(text, query, options, from, to);\n          this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n          this.test = options === null || options === void 0 ? void 0 : options.test;\n          this.iter = text.iter();\n          let startLine = text.lineAt(from);\n          this.curLineStart = startLine.from;\n          this.matchPos = toCharEnd(text, from);\n          this.getLine(this.curLineStart);\n      }\n      getLine(skip) {\n          this.iter.next(skip);\n          if (this.iter.lineBreak) {\n              this.curLine = \"\";\n          }\n          else {\n              this.curLine = this.iter.value;\n              if (this.curLineStart + this.curLine.length > this.to)\n                  this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n              this.iter.next();\n          }\n      }\n      nextLine() {\n          this.curLineStart = this.curLineStart + this.curLine.length + 1;\n          if (this.curLineStart > this.to)\n              this.curLine = \"\";\n          else\n              this.getLine(0);\n      }\n      /**\n      Move to the next match, if there is one.\n      */\n      next() {\n          for (let off = this.matchPos - this.curLineStart;;) {\n              this.re.lastIndex = off;\n              let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n              if (match) {\n                  let from = this.curLineStart + match.index, to = from + match[0].length;\n                  this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                  if (from == this.curLineStart + this.curLine.length)\n                      this.nextLine();\n                  if ((from < to || from > this.value.to) && (!this.test || this.test(from, to, match))) {\n                      this.value = { from, to, match };\n                      return this;\n                  }\n                  off = this.matchPos - this.curLineStart;\n              }\n              else if (this.curLineStart + this.curLine.length < this.to) {\n                  this.nextLine();\n                  off = 0;\n              }\n              else {\n                  this.done = true;\n                  return this;\n              }\n          }\n      }\n  }\n  const flattened = /*@__PURE__*/new WeakMap();\n  // Reusable (partially) flattened document strings\n  class FlattenedDoc {\n      constructor(from, text) {\n          this.from = from;\n          this.text = text;\n      }\n      get to() { return this.from + this.text.length; }\n      static get(doc, from, to) {\n          let cached = flattened.get(doc);\n          if (!cached || cached.from >= to || cached.to <= from) {\n              let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n              flattened.set(doc, flat);\n              return flat;\n          }\n          if (cached.from == from && cached.to == to)\n              return cached;\n          let { text, from: cachedFrom } = cached;\n          if (cachedFrom > from) {\n              text = doc.sliceString(from, cachedFrom) + text;\n              cachedFrom = from;\n          }\n          if (cached.to < to)\n              text += doc.sliceString(cached.to, to);\n          flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n          return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n      }\n  }\n  class MultilineRegExpCursor {\n      constructor(text, query, options, from, to) {\n          this.text = text;\n          this.to = to;\n          this.done = false;\n          this.value = empty;\n          this.matchPos = toCharEnd(text, from);\n          this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n          this.test = options === null || options === void 0 ? void 0 : options.test;\n          this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Chunk.Base */));\n      }\n      chunkEnd(pos) {\n          return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n      }\n      next() {\n          for (;;) {\n              let off = this.re.lastIndex = this.matchPos - this.flat.from;\n              let match = this.re.exec(this.flat.text);\n              // Skip empty matches directly after the last match\n              if (match && !match[0] && match.index == off) {\n                  this.re.lastIndex = off + 1;\n                  match = this.re.exec(this.flat.text);\n              }\n              if (match) {\n                  let from = this.flat.from + match.index, to = from + match[0].length;\n                  // If a match goes almost to the end of a noncomplete chunk, try\n                  // again, since it'll likely be able to match more\n                  if ((this.flat.to >= this.to || match.index + match[0].length <= this.flat.text.length - 10) &&\n                      (!this.test || this.test(from, to, match))) {\n                      this.value = { from, to, match };\n                      this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                      return this;\n                  }\n              }\n              if (this.flat.to == this.to) {\n                  this.done = true;\n                  return this;\n              }\n              // Grow the flattened doc\n              this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n          }\n      }\n  }\n  if (typeof Symbol != \"undefined\") {\n      RegExpCursor.prototype[Symbol.iterator] = MultilineRegExpCursor.prototype[Symbol.iterator] =\n          function () { return this; };\n  }\n  function validRegExp(source) {\n      try {\n          new RegExp(source, baseFlags);\n          return true;\n      }\n      catch (_a) {\n          return false;\n      }\n  }\n  function toCharEnd(text, pos) {\n      if (pos >= text.length)\n          return pos;\n      let line = text.lineAt(pos), next;\n      while (pos < line.to && (next = line.text.charCodeAt(pos - line.from)) >= 0xDC00 && next < 0xE000)\n          pos++;\n      return pos;\n  }\n\n  function createLineDialog(view) {\n      let line = String(view.state.doc.lineAt(view.state.selection.main.head).number);\n      let input = crelt(\"input\", { class: \"cm-textfield\", name: \"line\", value: line });\n      let dom = crelt(\"form\", {\n          class: \"cm-gotoLine\",\n          onkeydown: (event) => {\n              if (event.keyCode == 27) { // Escape\n                  event.preventDefault();\n                  view.dispatch({ effects: dialogEffect.of(false) });\n                  view.focus();\n              }\n              else if (event.keyCode == 13) { // Enter\n                  event.preventDefault();\n                  go();\n              }\n          },\n          onsubmit: (event) => {\n              event.preventDefault();\n              go();\n          }\n      }, crelt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", crelt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")), crelt(\"button\", {\n          name: \"close\",\n          onclick: () => {\n              view.dispatch({ effects: dialogEffect.of(false) });\n              view.focus();\n          },\n          \"aria-label\": view.state.phrase(\"close\"),\n          type: \"button\"\n      }, [\"\"]));\n      function go() {\n          let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n          if (!match)\n              return;\n          let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n          let [, sign, ln, cl, percent] = match;\n          let col = cl ? +cl.slice(1) : 0;\n          let line = ln ? +ln : startLine.number;\n          if (ln && percent) {\n              let pc = line / 100;\n              if (sign)\n                  pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n              line = Math.round(state.doc.lines * pc);\n          }\n          else if (ln && sign) {\n              line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n          }\n          let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n          let selection = EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length)));\n          view.dispatch({\n              effects: [dialogEffect.of(false), EditorView.scrollIntoView(selection.from, { y: 'center' })],\n              selection,\n          });\n          view.focus();\n      }\n      return { dom };\n  }\n  const dialogEffect = /*@__PURE__*/StateEffect.define();\n  const dialogField = /*@__PURE__*/StateField.define({\n      create() { return true; },\n      update(value, tr) {\n          for (let e of tr.effects)\n              if (e.is(dialogEffect))\n                  value = e.value;\n          return value;\n      },\n      provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n  });\n  /**\n  Command that shows a dialog asking the user for a line number, and\n  when a valid position is provided, moves the cursor to that line.\n\n  Supports line numbers, relative line offsets prefixed with `+` or\n  `-`, document percentages suffixed with `%`, and an optional\n  column position by adding `:` and a second number after the line\n  number.\n  */\n  const gotoLine = view => {\n      let panel = getPanel(view, createLineDialog);\n      if (!panel) {\n          let effects = [dialogEffect.of(true)];\n          if (view.state.field(dialogField, false) == null)\n              effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1$1]));\n          view.dispatch({ effects });\n          panel = getPanel(view, createLineDialog);\n      }\n      if (panel)\n          panel.dom.querySelector(\"input\").select();\n      return true;\n  };\n  const baseTheme$1$1 = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-panel.cm-gotoLine\": {\n          padding: \"2px 6px 4px\",\n          position: \"relative\",\n          \"& label\": { fontSize: \"80%\" },\n          \"& [name=close]\": {\n              position: \"absolute\",\n              top: \"0\", bottom: \"0\",\n              right: \"4px\",\n              backgroundColor: \"inherit\",\n              border: \"none\",\n              font: \"inherit\",\n              padding: \"0\"\n          }\n      }\n  });\n\n  const defaultHighlightOptions = {\n      highlightWordAroundCursor: false,\n      minSelectionLength: 1,\n      maxMatches: 100,\n      wholeWords: false\n  };\n  const highlightConfig = /*@__PURE__*/Facet.define({\n      combine(options) {\n          return combineConfig(options, defaultHighlightOptions, {\n              highlightWordAroundCursor: (a, b) => a || b,\n              minSelectionLength: Math.min,\n              maxMatches: Math.min\n          });\n      }\n  });\n  /**\n  This extension highlights text that matches the selection. It uses\n  the `\"cm-selectionMatch\"` class for the highlighting. When\n  `highlightWordAroundCursor` is enabled, the word at the cursor\n  itself will be highlighted with `\"cm-selectionMatch-main\"`.\n  */\n  function highlightSelectionMatches(options) {\n      let ext = [defaultTheme, matchHighlighter];\n      return ext;\n  }\n  const matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\n  const mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\n  // Whether the characters directly outside the given positions are non-word characters\n  function insideWordBoundaries(check, state, from, to) {\n      return (from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n          (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word);\n  }\n  // Whether the characters directly at the given positions are word characters\n  function insideWord(check, state, from, to) {\n      return check(state.sliceDoc(from, from + 1)) == CharCategory.Word\n          && check(state.sliceDoc(to - 1, to)) == CharCategory.Word;\n  }\n  const matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.decorations = this.getDeco(view);\n      }\n      update(update) {\n          if (update.selectionSet || update.docChanged || update.viewportChanged)\n              this.decorations = this.getDeco(update.view);\n      }\n      getDeco(view) {\n          let conf = view.state.facet(highlightConfig);\n          let { state } = view, sel = state.selection;\n          if (sel.ranges.length > 1)\n              return Decoration.none;\n          let range = sel.main, query, check = null;\n          if (range.empty) {\n              if (!conf.highlightWordAroundCursor)\n                  return Decoration.none;\n              let word = state.wordAt(range.head);\n              if (!word)\n                  return Decoration.none;\n              check = state.charCategorizer(range.head);\n              query = state.sliceDoc(word.from, word.to);\n          }\n          else {\n              let len = range.to - range.from;\n              if (len < conf.minSelectionLength || len > 200)\n                  return Decoration.none;\n              if (conf.wholeWords) {\n                  query = state.sliceDoc(range.from, range.to); // TODO: allow and include leading/trailing space?\n                  check = state.charCategorizer(range.head);\n                  if (!(insideWordBoundaries(check, state, range.from, range.to) &&\n                      insideWord(check, state, range.from, range.to)))\n                      return Decoration.none;\n              }\n              else {\n                  query = state.sliceDoc(range.from, range.to);\n                  if (!query)\n                      return Decoration.none;\n              }\n          }\n          let deco = [];\n          for (let part of view.visibleRanges) {\n              let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n              while (!cursor.next().done) {\n                  let { from, to } = cursor.value;\n                  if (!check || insideWordBoundaries(check, state, from, to)) {\n                      if (range.empty && from <= range.from && to >= range.to)\n                          deco.push(mainMatchDeco.range(from, to));\n                      else if (from >= range.to || to <= range.from)\n                          deco.push(matchDeco.range(from, to));\n                      if (deco.length > conf.maxMatches)\n                          return Decoration.none;\n                  }\n              }\n          }\n          return Decoration.set(deco);\n      }\n  }, {\n      decorations: v => v.decorations\n  });\n  const defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n      \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n  });\n  // Select the words around the cursors.\n  const selectWord = ({ state, dispatch }) => {\n      let { selection } = state;\n      let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n      if (newSel.eq(selection))\n          return false;\n      dispatch(state.update({ selection: newSel }));\n      return true;\n  };\n  // Find next occurrence of query relative to last cursor. Wrap around\n  // the document if there are no more matches.\n  function findNextOccurrence(state, query) {\n      let { main, ranges } = state.selection;\n      let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n      for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n          cursor.next();\n          if (cursor.done) {\n              if (cycled)\n                  return null;\n              cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n              cycled = true;\n          }\n          else {\n              if (cycled && ranges.some(r => r.from == cursor.value.from))\n                  continue;\n              if (fullWord) {\n                  let word = state.wordAt(cursor.value.from);\n                  if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                      continue;\n              }\n              return cursor.value;\n          }\n      }\n  }\n  /**\n  Select next occurrence of the current selection. Expand selection\n  to the surrounding word when the selection is empty.\n  */\n  const selectNextOccurrence = ({ state, dispatch }) => {\n      let { ranges } = state.selection;\n      if (ranges.some(sel => sel.from === sel.to))\n          return selectWord({ state, dispatch });\n      let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n      if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n          return false;\n      let range = findNextOccurrence(state, searchedText);\n      if (!range)\n          return false;\n      dispatch(state.update({\n          selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n          effects: EditorView.scrollIntoView(range.to)\n      }));\n      return true;\n  };\n\n  const searchConfigFacet = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          return combineConfig(configs, {\n              top: false,\n              caseSensitive: false,\n              literal: false,\n              regexp: false,\n              wholeWord: false,\n              createPanel: view => new SearchPanel(view),\n              scrollToMatch: range => EditorView.scrollIntoView(range)\n          });\n      }\n  });\n  /**\n  Add search state to the editor configuration, and optionally\n  configure the search extension.\n  ([`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) will automatically\n  enable this if it isn't already on).\n  */\n  function search(config) {\n      return config ? [searchConfigFacet.of(config), searchExtensions] : searchExtensions;\n  }\n  /**\n  A search query. Part of the editor's search state.\n  */\n  class SearchQuery {\n      /**\n      Create a query object.\n      */\n      constructor(config) {\n          this.search = config.search;\n          this.caseSensitive = !!config.caseSensitive;\n          this.literal = !!config.literal;\n          this.regexp = !!config.regexp;\n          this.replace = config.replace || \"\";\n          this.valid = !!this.search && (!this.regexp || validRegExp(this.search));\n          this.unquoted = this.unquote(this.search);\n          this.wholeWord = !!config.wholeWord;\n      }\n      /**\n      @internal\n      */\n      unquote(text) {\n          return this.literal ? text :\n              text.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n      }\n      /**\n      Compare this query to another query.\n      */\n      eq(other) {\n          return this.search == other.search && this.replace == other.replace &&\n              this.caseSensitive == other.caseSensitive && this.regexp == other.regexp &&\n              this.wholeWord == other.wholeWord;\n      }\n      /**\n      @internal\n      */\n      create() {\n          return this.regexp ? new RegExpQuery(this) : new StringQuery(this);\n      }\n      /**\n      Get a search cursor for this query, searching through the given\n      range in the given state.\n      */\n      getCursor(state, from = 0, to) {\n          let st = state.doc ? state : EditorState.create({ doc: state });\n          if (to == null)\n              to = st.doc.length;\n          return this.regexp ? regexpCursor(this, st, from, to) : stringCursor(this, st, from, to);\n      }\n  }\n  class QueryType {\n      constructor(spec) {\n          this.spec = spec;\n      }\n  }\n  function stringCursor(spec, state, from, to) {\n      return new SearchCursor(state.doc, spec.unquoted, from, to, spec.caseSensitive ? undefined : x => x.toLowerCase(), spec.wholeWord ? stringWordTest(state.doc, state.charCategorizer(state.selection.main.head)) : undefined);\n  }\n  function stringWordTest(doc, categorizer) {\n      return (from, to, buf, bufPos) => {\n          if (bufPos > from || bufPos + buf.length < to) {\n              bufPos = Math.max(0, from - 2);\n              buf = doc.sliceString(bufPos, Math.min(doc.length, to + 2));\n          }\n          return (categorizer(charBefore(buf, from - bufPos)) != CharCategory.Word ||\n              categorizer(charAfter(buf, from - bufPos)) != CharCategory.Word) &&\n              (categorizer(charAfter(buf, to - bufPos)) != CharCategory.Word ||\n                  categorizer(charBefore(buf, to - bufPos)) != CharCategory.Word);\n      };\n  }\n  class StringQuery extends QueryType {\n      constructor(spec) {\n          super(spec);\n      }\n      nextMatch(state, curFrom, curTo) {\n          let cursor = stringCursor(this.spec, state, curTo, state.doc.length).nextOverlapping();\n          if (cursor.done) {\n              let end = Math.min(state.doc.length, curFrom + this.spec.unquoted.length);\n              cursor = stringCursor(this.spec, state, 0, end).nextOverlapping();\n          }\n          return cursor.done || cursor.value.from == curFrom && cursor.value.to == curTo ? null : cursor.value;\n      }\n      // Searching in reverse is, rather than implementing an inverted search\n      // cursor, done by scanning chunk after chunk forward.\n      prevMatchInRange(state, from, to) {\n          for (let pos = to;;) {\n              let start = Math.max(from, pos - 10000 /* FindPrev.ChunkSize */ - this.spec.unquoted.length);\n              let cursor = stringCursor(this.spec, state, start, pos), range = null;\n              while (!cursor.nextOverlapping().done)\n                  range = cursor.value;\n              if (range)\n                  return range;\n              if (start == from)\n                  return null;\n              pos -= 10000 /* FindPrev.ChunkSize */;\n          }\n      }\n      prevMatch(state, curFrom, curTo) {\n          let found = this.prevMatchInRange(state, 0, curFrom);\n          if (!found)\n              found = this.prevMatchInRange(state, Math.max(0, curTo - this.spec.unquoted.length), state.doc.length);\n          return found && (found.from != curFrom || found.to != curTo) ? found : null;\n      }\n      getReplacement(_result) { return this.spec.unquote(this.spec.replace); }\n      matchAll(state, limit) {\n          let cursor = stringCursor(this.spec, state, 0, state.doc.length), ranges = [];\n          while (!cursor.next().done) {\n              if (ranges.length >= limit)\n                  return null;\n              ranges.push(cursor.value);\n          }\n          return ranges;\n      }\n      highlight(state, from, to, add) {\n          let cursor = stringCursor(this.spec, state, Math.max(0, from - this.spec.unquoted.length), Math.min(to + this.spec.unquoted.length, state.doc.length));\n          while (!cursor.next().done)\n              add(cursor.value.from, cursor.value.to);\n      }\n  }\n  function regexpCursor(spec, state, from, to) {\n      return new RegExpCursor(state.doc, spec.search, {\n          ignoreCase: !spec.caseSensitive,\n          test: spec.wholeWord ? regexpWordTest(state.charCategorizer(state.selection.main.head)) : undefined\n      }, from, to);\n  }\n  function charBefore(str, index) {\n      return str.slice(findClusterBreak(str, index, false), index);\n  }\n  function charAfter(str, index) {\n      return str.slice(index, findClusterBreak(str, index));\n  }\n  function regexpWordTest(categorizer) {\n      return (_from, _to, match) => !match[0].length ||\n          (categorizer(charBefore(match.input, match.index)) != CharCategory.Word ||\n              categorizer(charAfter(match.input, match.index)) != CharCategory.Word) &&\n              (categorizer(charAfter(match.input, match.index + match[0].length)) != CharCategory.Word ||\n                  categorizer(charBefore(match.input, match.index + match[0].length)) != CharCategory.Word);\n  }\n  class RegExpQuery extends QueryType {\n      nextMatch(state, curFrom, curTo) {\n          let cursor = regexpCursor(this.spec, state, curTo, state.doc.length).next();\n          if (cursor.done)\n              cursor = regexpCursor(this.spec, state, 0, curFrom).next();\n          return cursor.done ? null : cursor.value;\n      }\n      prevMatchInRange(state, from, to) {\n          for (let size = 1;; size++) {\n              let start = Math.max(from, to - size * 10000 /* FindPrev.ChunkSize */);\n              let cursor = regexpCursor(this.spec, state, start, to), range = null;\n              while (!cursor.next().done)\n                  range = cursor.value;\n              if (range && (start == from || range.from > start + 10))\n                  return range;\n              if (start == from)\n                  return null;\n          }\n      }\n      prevMatch(state, curFrom, curTo) {\n          return this.prevMatchInRange(state, 0, curFrom) ||\n              this.prevMatchInRange(state, curTo, state.doc.length);\n      }\n      getReplacement(result) {\n          return this.spec.unquote(this.spec.replace).replace(/\\$([$&]|\\d+)/g, (m, i) => {\n              if (i == \"&\")\n                  return result.match[0];\n              if (i == \"$\")\n                  return \"$\";\n              for (let l = i.length; l > 0; l--) {\n                  let n = +i.slice(0, l);\n                  if (n > 0 && n < result.match.length)\n                      return result.match[n] + i.slice(l);\n              }\n              return m;\n          });\n      }\n      matchAll(state, limit) {\n          let cursor = regexpCursor(this.spec, state, 0, state.doc.length), ranges = [];\n          while (!cursor.next().done) {\n              if (ranges.length >= limit)\n                  return null;\n              ranges.push(cursor.value);\n          }\n          return ranges;\n      }\n      highlight(state, from, to, add) {\n          let cursor = regexpCursor(this.spec, state, Math.max(0, from - 250 /* RegExp.HighlightMargin */), Math.min(to + 250 /* RegExp.HighlightMargin */, state.doc.length));\n          while (!cursor.next().done)\n              add(cursor.value.from, cursor.value.to);\n      }\n  }\n  /**\n  A state effect that updates the current search query. Note that\n  this only has an effect if the search state has been initialized\n  (by including [`search`](https://codemirror.net/6/docs/ref/#search.search) in your configuration or\n  by running [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) at least\n  once).\n  */\n  const setSearchQuery = /*@__PURE__*/StateEffect.define();\n  const togglePanel$1 = /*@__PURE__*/StateEffect.define();\n  const searchState = /*@__PURE__*/StateField.define({\n      create(state) {\n          return new SearchState(defaultQuery(state).create(), null);\n      },\n      update(value, tr) {\n          for (let effect of tr.effects) {\n              if (effect.is(setSearchQuery))\n                  value = new SearchState(effect.value.create(), value.panel);\n              else if (effect.is(togglePanel$1))\n                  value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n          }\n          return value;\n      },\n      provide: f => showPanel.from(f, val => val.panel)\n  });\n  /**\n  Get the current search query from an editor state.\n  */\n  function getSearchQuery(state) {\n      let curState = state.field(searchState, false);\n      return curState ? curState.query.spec : defaultQuery(state);\n  }\n  class SearchState {\n      constructor(query, panel) {\n          this.query = query;\n          this.panel = panel;\n      }\n  }\n  const matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\n  const searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.view = view;\n          this.decorations = this.highlight(view.state.field(searchState));\n      }\n      update(update) {\n          let state = update.state.field(searchState);\n          if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet || update.viewportChanged)\n              this.decorations = this.highlight(state);\n      }\n      highlight({ query, panel }) {\n          if (!panel || !query.spec.valid)\n              return Decoration.none;\n          let { view } = this;\n          let builder = new RangeSetBuilder();\n          for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n              let { from, to } = ranges[i];\n              while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* RegExp.HighlightMargin */)\n                  to = ranges[++i].to;\n              query.highlight(view.state, from, to, (from, to) => {\n                  let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                  builder.add(from, to, selected ? selectedMatchMark : matchMark);\n              });\n          }\n          return builder.finish();\n      }\n  }, {\n      decorations: v => v.decorations\n  });\n  function searchCommand(f) {\n      return view => {\n          let state = view.state.field(searchState, false);\n          return state && state.query.spec.valid ? f(view, state) : openSearchPanel(view);\n      };\n  }\n  /**\n  Open the search panel if it isn't already open, and move the\n  selection to the first match after the current main selection.\n  Will wrap around to the start of the document when it reaches the\n  end.\n  */\n  const findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n      let { to } = view.state.selection.main;\n      let next = query.nextMatch(view.state, to, to);\n      if (!next)\n          return false;\n      let selection = EditorSelection.single(next.from, next.to);\n      let config = view.state.facet(searchConfigFacet);\n      view.dispatch({\n          selection,\n          effects: [announceMatch(view, next), config.scrollToMatch(selection.main, view)],\n          userEvent: \"select.search\"\n      });\n      selectSearchInput(view);\n      return true;\n  });\n  /**\n  Move the selection to the previous instance of the search query,\n  before the current main selection. Will wrap past the start\n  of the document to start searching at the end again.\n  */\n  const findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n      let { state } = view, { from } = state.selection.main;\n      let prev = query.prevMatch(state, from, from);\n      if (!prev)\n          return false;\n      let selection = EditorSelection.single(prev.from, prev.to);\n      let config = view.state.facet(searchConfigFacet);\n      view.dispatch({\n          selection,\n          effects: [announceMatch(view, prev), config.scrollToMatch(selection.main, view)],\n          userEvent: \"select.search\"\n      });\n      selectSearchInput(view);\n      return true;\n  });\n  /**\n  Select all instances of the search query.\n  */\n  const selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n      let ranges = query.matchAll(view.state, 1000);\n      if (!ranges || !ranges.length)\n          return false;\n      view.dispatch({\n          selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to))),\n          userEvent: \"select.search.matches\"\n      });\n      return true;\n  });\n  /**\n  Select all instances of the currently selected text.\n  */\n  const selectSelectionMatches = ({ state, dispatch }) => {\n      let sel = state.selection;\n      if (sel.ranges.length > 1 || sel.main.empty)\n          return false;\n      let { from, to } = sel.main;\n      let ranges = [], main = 0;\n      for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n          if (ranges.length > 1000)\n              return false;\n          if (cur.value.from == from)\n              main = ranges.length;\n          ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n      }\n      dispatch(state.update({\n          selection: EditorSelection.create(ranges, main),\n          userEvent: \"select.search.matches\"\n      }));\n      return true;\n  };\n  /**\n  Replace the current match of the search query.\n  */\n  const replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n      let { state } = view, { from, to } = state.selection.main;\n      if (state.readOnly)\n          return false;\n      let match = query.nextMatch(state, from, from);\n      if (!match)\n          return false;\n      let next = match;\n      let changes = [], selection, replacement;\n      let effects = [];\n      if (next.from == from && next.to == to) {\n          replacement = state.toText(query.getReplacement(next));\n          changes.push({ from: next.from, to: next.to, insert: replacement });\n          next = query.nextMatch(state, next.from, next.to);\n          effects.push(EditorView.announce.of(state.phrase(\"replaced match on line $\", state.doc.lineAt(from).number) + \".\"));\n      }\n      let changeSet = view.state.changes(changes);\n      if (next) {\n          selection = EditorSelection.single(next.from, next.to).map(changeSet);\n          effects.push(announceMatch(view, next));\n          effects.push(state.facet(searchConfigFacet).scrollToMatch(selection.main, view));\n      }\n      view.dispatch({\n          changes: changeSet,\n          selection,\n          effects,\n          userEvent: \"input.replace\"\n      });\n      return true;\n  });\n  /**\n  Replace all instances of the search query with the given\n  replacement.\n  */\n  const replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n      if (view.state.readOnly)\n          return false;\n      let changes = query.matchAll(view.state, 1e9).map(match => {\n          let { from, to } = match;\n          return { from, to, insert: query.getReplacement(match) };\n      });\n      if (!changes.length)\n          return false;\n      let announceText = view.state.phrase(\"replaced $ matches\", changes.length) + \".\";\n      view.dispatch({\n          changes,\n          effects: EditorView.announce.of(announceText),\n          userEvent: \"input.replace.all\"\n      });\n      return true;\n  });\n  function createSearchPanel(view) {\n      return view.state.facet(searchConfigFacet).createPanel(view);\n  }\n  function defaultQuery(state, fallback) {\n      var _a, _b, _c, _d, _e;\n      let sel = state.selection.main;\n      let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n      if (fallback && !selText)\n          return fallback;\n      let config = state.facet(searchConfigFacet);\n      return new SearchQuery({\n          search: ((_a = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _a !== void 0 ? _a : config.literal) ? selText : selText.replace(/\\n/g, \"\\\\n\"),\n          caseSensitive: (_b = fallback === null || fallback === void 0 ? void 0 : fallback.caseSensitive) !== null && _b !== void 0 ? _b : config.caseSensitive,\n          literal: (_c = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _c !== void 0 ? _c : config.literal,\n          regexp: (_d = fallback === null || fallback === void 0 ? void 0 : fallback.regexp) !== null && _d !== void 0 ? _d : config.regexp,\n          wholeWord: (_e = fallback === null || fallback === void 0 ? void 0 : fallback.wholeWord) !== null && _e !== void 0 ? _e : config.wholeWord\n      });\n  }\n  function getSearchInput(view) {\n      let panel = getPanel(view, createSearchPanel);\n      return panel && panel.dom.querySelector(\"[main-field]\");\n  }\n  function selectSearchInput(view) {\n      let input = getSearchInput(view);\n      if (input && input == view.root.activeElement)\n          input.select();\n  }\n  /**\n  Make sure the search panel is open and focused.\n  */\n  const openSearchPanel = view => {\n      let state = view.state.field(searchState, false);\n      if (state && state.panel) {\n          let searchInput = getSearchInput(view);\n          if (searchInput && searchInput != view.root.activeElement) {\n              let query = defaultQuery(view.state, state.query.spec);\n              if (query.valid)\n                  view.dispatch({ effects: setSearchQuery.of(query) });\n              searchInput.focus();\n              searchInput.select();\n          }\n      }\n      else {\n          view.dispatch({ effects: [\n                  togglePanel$1.of(true),\n                  state ? setSearchQuery.of(defaultQuery(view.state, state.query.spec)) : StateEffect.appendConfig.of(searchExtensions)\n              ] });\n      }\n      return true;\n  };\n  /**\n  Close the search panel.\n  */\n  const closeSearchPanel = view => {\n      let state = view.state.field(searchState, false);\n      if (!state || !state.panel)\n          return false;\n      let panel = getPanel(view, createSearchPanel);\n      if (panel && panel.dom.contains(view.root.activeElement))\n          view.focus();\n      view.dispatch({ effects: togglePanel$1.of(false) });\n      return true;\n  };\n  /**\n  Default search-related key bindings.\n\n   - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n   - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n   - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n   - Mod-Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n   - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n  */\n  const searchKeymap = [\n      { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n      { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n      { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n      { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n      { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n      { key: \"Mod-Alt-g\", run: gotoLine },\n      { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n  ];\n  class SearchPanel {\n      constructor(view) {\n          this.view = view;\n          let query = this.query = view.state.field(searchState).query.spec;\n          this.commit = this.commit.bind(this);\n          this.searchField = crelt(\"input\", {\n              value: query.search,\n              placeholder: phrase(view, \"Find\"),\n              \"aria-label\": phrase(view, \"Find\"),\n              class: \"cm-textfield\",\n              name: \"search\",\n              form: \"\",\n              \"main-field\": \"true\",\n              onchange: this.commit,\n              onkeyup: this.commit\n          });\n          this.replaceField = crelt(\"input\", {\n              value: query.replace,\n              placeholder: phrase(view, \"Replace\"),\n              \"aria-label\": phrase(view, \"Replace\"),\n              class: \"cm-textfield\",\n              name: \"replace\",\n              form: \"\",\n              onchange: this.commit,\n              onkeyup: this.commit\n          });\n          this.caseField = crelt(\"input\", {\n              type: \"checkbox\",\n              name: \"case\",\n              form: \"\",\n              checked: query.caseSensitive,\n              onchange: this.commit\n          });\n          this.reField = crelt(\"input\", {\n              type: \"checkbox\",\n              name: \"re\",\n              form: \"\",\n              checked: query.regexp,\n              onchange: this.commit\n          });\n          this.wordField = crelt(\"input\", {\n              type: \"checkbox\",\n              name: \"word\",\n              form: \"\",\n              checked: query.wholeWord,\n              onchange: this.commit\n          });\n          function button(name, onclick, content) {\n              return crelt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n          }\n          this.dom = crelt(\"div\", { onkeydown: (e) => this.keydown(e), class: \"cm-search\" }, [\n              this.searchField,\n              button(\"next\", () => findNext(view), [phrase(view, \"next\")]),\n              button(\"prev\", () => findPrevious(view), [phrase(view, \"previous\")]),\n              button(\"select\", () => selectMatches(view), [phrase(view, \"all\")]),\n              crelt(\"label\", null, [this.caseField, phrase(view, \"match case\")]),\n              crelt(\"label\", null, [this.reField, phrase(view, \"regexp\")]),\n              crelt(\"label\", null, [this.wordField, phrase(view, \"by word\")]),\n              ...view.state.readOnly ? [] : [\n                  crelt(\"br\"),\n                  this.replaceField,\n                  button(\"replace\", () => replaceNext(view), [phrase(view, \"replace\")]),\n                  button(\"replaceAll\", () => replaceAll(view), [phrase(view, \"replace all\")])\n              ],\n              crelt(\"button\", {\n                  name: \"close\",\n                  onclick: () => closeSearchPanel(view),\n                  \"aria-label\": phrase(view, \"close\"),\n                  type: \"button\"\n              }, [\"\"])\n          ]);\n      }\n      commit() {\n          let query = new SearchQuery({\n              search: this.searchField.value,\n              caseSensitive: this.caseField.checked,\n              regexp: this.reField.checked,\n              wholeWord: this.wordField.checked,\n              replace: this.replaceField.value,\n          });\n          if (!query.eq(this.query)) {\n              this.query = query;\n              this.view.dispatch({ effects: setSearchQuery.of(query) });\n          }\n      }\n      keydown(e) {\n          if (runScopeHandlers(this.view, e, \"search-panel\")) {\n              e.preventDefault();\n          }\n          else if (e.keyCode == 13 && e.target == this.searchField) {\n              e.preventDefault();\n              (e.shiftKey ? findPrevious : findNext)(this.view);\n          }\n          else if (e.keyCode == 13 && e.target == this.replaceField) {\n              e.preventDefault();\n              replaceNext(this.view);\n          }\n      }\n      update(update) {\n          for (let tr of update.transactions)\n              for (let effect of tr.effects) {\n                  if (effect.is(setSearchQuery) && !effect.value.eq(this.query))\n                      this.setQuery(effect.value);\n              }\n      }\n      setQuery(query) {\n          this.query = query;\n          this.searchField.value = query.search;\n          this.replaceField.value = query.replace;\n          this.caseField.checked = query.caseSensitive;\n          this.reField.checked = query.regexp;\n          this.wordField.checked = query.wholeWord;\n      }\n      mount() {\n          this.searchField.select();\n      }\n      get pos() { return 80; }\n      get top() { return this.view.state.facet(searchConfigFacet).top; }\n  }\n  function phrase(view, phrase) { return view.state.phrase(phrase); }\n  const AnnounceMargin = 30;\n  const Break = /[\\s\\.,:;?!]/;\n  function announceMatch(view, { from, to }) {\n      let line = view.state.doc.lineAt(from), lineEnd = view.state.doc.lineAt(to).to;\n      let start = Math.max(line.from, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n      let text = view.state.sliceDoc(start, end);\n      if (start != line.from) {\n          for (let i = 0; i < AnnounceMargin; i++)\n              if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                  text = text.slice(i);\n                  break;\n              }\n      }\n      if (end != lineEnd) {\n          for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n              if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                  text = text.slice(0, i);\n                  break;\n              }\n      }\n      return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${line.number}.`);\n  }\n  const baseTheme$2 = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-panel.cm-search\": {\n          padding: \"2px 6px 4px\",\n          position: \"relative\",\n          \"& [name=close]\": {\n              position: \"absolute\",\n              top: \"0\",\n              right: \"4px\",\n              backgroundColor: \"inherit\",\n              border: \"none\",\n              font: \"inherit\",\n              padding: 0,\n              margin: 0\n          },\n          \"& input, & button, & label\": {\n              margin: \".2em .6em .2em 0\"\n          },\n          \"& input[type=checkbox]\": {\n              marginRight: \".2em\"\n          },\n          \"& label\": {\n              fontSize: \"80%\",\n              whiteSpace: \"pre\"\n          }\n      },\n      \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n      \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n      \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n      \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n  });\n  const searchExtensions = [\n      searchState,\n      /*@__PURE__*/Prec.low(searchHighlighter),\n      baseTheme$2\n  ];\n\n  /**\n  An instance of this is passed to completion source functions.\n  */\n  class CompletionContext {\n      /**\n      Create a new completion context. (Mostly useful for testing\n      completion sourcesin the editor, the extension will create\n      these for you.)\n      */\n      constructor(\n      /**\n      The editor state that the completion happens in.\n      */\n      state, \n      /**\n      The position at which the completion is happening.\n      */\n      pos, \n      /**\n      Indicates whether completion was activated explicitly, or\n      implicitly by typing. The usual way to respond to this is to\n      only return completions when either there is part of a\n      completable entity before the cursor, or `explicit` is true.\n      */\n      explicit, \n      /**\n      The editor view. May be undefined if the context was created\n      in a situation where there is no such view available, such as\n      in synchronous updates via\n      [`CompletionResult.update`](https://codemirror.net/6/docs/ref/#autocomplete.CompletionResult.update)\n      or when called by test code.\n      */\n      view) {\n          this.state = state;\n          this.pos = pos;\n          this.explicit = explicit;\n          this.view = view;\n          /**\n          @internal\n          */\n          this.abortListeners = [];\n          /**\n          @internal\n          */\n          this.abortOnDocChange = false;\n      }\n      /**\n      Get the extent, content, and (if there is a token) type of the\n      token before `this.pos`.\n      */\n      tokenBefore(types) {\n          let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n          while (token && types.indexOf(token.name) < 0)\n              token = token.parent;\n          return token ? { from: token.from, to: this.pos,\n              text: this.state.sliceDoc(token.from, this.pos),\n              type: token.type } : null;\n      }\n      /**\n      Get the match of the given expression directly before the\n      cursor.\n      */\n      matchBefore(expr) {\n          let line = this.state.doc.lineAt(this.pos);\n          let start = Math.max(line.from, this.pos - 250);\n          let str = line.text.slice(start - line.from, this.pos - line.from);\n          let found = str.search(ensureAnchor(expr, false));\n          return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n      }\n      /**\n      Yields true when the query has been aborted. Can be useful in\n      asynchronous queries to avoid doing work that will be ignored.\n      */\n      get aborted() { return this.abortListeners == null; }\n      /**\n      Allows you to register abort handlers, which will be called when\n      the query is\n      [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n      \n      By default, running queries will not be aborted for regular\n      typing or backspacing, on the assumption that they are likely to\n      return a result with a\n      [`validFor`](https://codemirror.net/6/docs/ref/#autocomplete.CompletionResult.validFor) field that\n      allows the result to be used after all. Passing `onDocChange:\n      true` will cause this query to be aborted for any document\n      change.\n      */\n      addEventListener(type, listener, options) {\n          if (type == \"abort\" && this.abortListeners) {\n              this.abortListeners.push(listener);\n              if (options && options.onDocChange)\n                  this.abortOnDocChange = true;\n          }\n      }\n  }\n  function toSet(chars) {\n      let flat = Object.keys(chars).join(\"\");\n      let words = /\\w/.test(flat);\n      if (words)\n          flat = flat.replace(/\\w/g, \"\");\n      return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n  }\n  function prefixMatch(options) {\n      let first = Object.create(null), rest = Object.create(null);\n      for (let { label } of options) {\n          first[label[0]] = true;\n          for (let i = 1; i < label.length; i++)\n              rest[label[i]] = true;\n      }\n      let source = toSet(first) + toSet(rest) + \"*$\";\n      return [new RegExp(\"^\" + source), new RegExp(source)];\n  }\n  /**\n  Given a a fixed array of options, return an autocompleter that\n  completes them.\n  */\n  function completeFromList(list) {\n      let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n      let [validFor, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n      return (context) => {\n          let token = context.matchBefore(match);\n          return token || context.explicit ? { from: token ? token.from : context.pos, options, validFor } : null;\n      };\n  }\n  /**\n  Wrap the given completion source so that it will not fire when the\n  cursor is in a syntax node with one of the given names.\n  */\n  function ifNotIn(nodes, source) {\n      return (context) => {\n          for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent) {\n              if (nodes.indexOf(pos.name) > -1)\n                  return null;\n              if (pos.type.isTop)\n                  break;\n          }\n          return source(context);\n      };\n  }\n  class Option {\n      constructor(completion, source, match, score) {\n          this.completion = completion;\n          this.source = source;\n          this.match = match;\n          this.score = score;\n      }\n  }\n  function cur(state) { return state.selection.main.from; }\n  // Make sure the given regexp has a $ at its end and, if `start` is\n  // true, a ^ at its start.\n  function ensureAnchor(expr, start) {\n      var _a;\n      let { source } = expr;\n      let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n      if (!addStart && !addEnd)\n          return expr;\n      return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n  }\n  /**\n  This annotation is added to transactions that are produced by\n  picking a completion.\n  */\n  const pickedCompletion = /*@__PURE__*/Annotation.define();\n  /**\n  Helper function that returns a transaction spec which inserts a\n  completion's text in the main selection range, and any other\n  selection range that has the same text in front of it.\n  */\n  function insertCompletionText(state, text, from, to) {\n      let { main } = state.selection, fromOff = from - main.from, toOff = to - main.from;\n      return {\n          ...state.changeByRange(range => {\n              if (range != main && from != to &&\n                  state.sliceDoc(range.from + fromOff, range.from + toOff) != state.sliceDoc(from, to))\n                  return { range };\n              let lines = state.toText(text);\n              return {\n                  changes: { from: range.from + fromOff, to: to == main.from ? range.to : range.from + toOff, insert: lines },\n                  range: EditorSelection.cursor(range.from + fromOff + lines.length)\n              };\n          }),\n          scrollIntoView: true,\n          userEvent: \"input.complete\"\n      };\n  }\n  const SourceCache = /*@__PURE__*/new WeakMap();\n  function asSource(source) {\n      if (!Array.isArray(source))\n          return source;\n      let known = SourceCache.get(source);\n      if (!known)\n          SourceCache.set(source, known = completeFromList(source));\n      return known;\n  }\n  const startCompletionEffect = /*@__PURE__*/StateEffect.define();\n  const closeCompletionEffect = /*@__PURE__*/StateEffect.define();\n\n  // A pattern matcher for fuzzy completion matching. Create an instance\n  // once for a pattern, and then use that to match any number of\n  // completions.\n  class FuzzyMatcher {\n      constructor(pattern) {\n          this.pattern = pattern;\n          this.chars = [];\n          this.folded = [];\n          // Buffers reused by calls to `match` to track matched character\n          // positions.\n          this.any = [];\n          this.precise = [];\n          this.byWord = [];\n          this.score = 0;\n          this.matched = [];\n          for (let p = 0; p < pattern.length;) {\n              let char = codePointAt(pattern, p), size = codePointSize(char);\n              this.chars.push(char);\n              let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n              this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n              p += size;\n          }\n          this.astral = pattern.length != this.chars.length;\n      }\n      ret(score, matched) {\n          this.score = score;\n          this.matched = matched;\n          return this;\n      }\n      // Matches a given word (completion) against the pattern (input).\n      // Will return a boolean indicating whether there was a match and,\n      // on success, set `this.score` to the score, `this.matched` to an\n      // array of `from, to` pairs indicating the matched parts of `word`.\n      //\n      // The score is a number that is more negative the worse the match\n      // is. See `Penalty` above.\n      match(word) {\n          if (this.pattern.length == 0)\n              return this.ret(-100 /* Penalty.NotFull */, []);\n          if (word.length < this.pattern.length)\n              return null;\n          let { chars, folded, any, precise, byWord } = this;\n          // For single-character queries, only match when they occur right\n          // at the start\n          if (chars.length == 1) {\n              let first = codePointAt(word, 0), firstSize = codePointSize(first);\n              let score = firstSize == word.length ? 0 : -100 /* Penalty.NotFull */;\n              if (first == chars[0]) ;\n              else if (first == folded[0])\n                  score += -200 /* Penalty.CaseFold */;\n              else\n                  return null;\n              return this.ret(score, [0, firstSize]);\n          }\n          let direct = word.indexOf(this.pattern);\n          if (direct == 0)\n              return this.ret(word.length == this.pattern.length ? 0 : -100 /* Penalty.NotFull */, [0, this.pattern.length]);\n          let len = chars.length, anyTo = 0;\n          if (direct < 0) {\n              for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                  let next = codePointAt(word, i);\n                  if (next == chars[anyTo] || next == folded[anyTo])\n                      any[anyTo++] = i;\n                  i += codePointSize(next);\n              }\n              // No match, exit immediately\n              if (anyTo < len)\n                  return null;\n          }\n          // This tracks the extent of the precise (non-folded, not\n          // necessarily adjacent) match\n          let preciseTo = 0;\n          // Tracks whether there is a match that hits only characters that\n          // appear to be starting words. `byWordFolded` is set to true when\n          // a case folded character is encountered in such a match\n          let byWordTo = 0, byWordFolded = false;\n          // If we've found a partial adjacent match, these track its state\n          let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n          let hasLower = /[a-z]/.test(word), wordAdjacent = true;\n          // Go over the option's text, scanning for the various kinds of matches\n          for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* Tp.NonWord */; i < e && byWordTo < len;) {\n              let next = codePointAt(word, i);\n              if (direct < 0) {\n                  if (preciseTo < len && next == chars[preciseTo])\n                      precise[preciseTo++] = i;\n                  if (adjacentTo < len) {\n                      if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                          if (adjacentTo == 0)\n                              adjacentStart = i;\n                          adjacentEnd = i + 1;\n                          adjacentTo++;\n                      }\n                      else {\n                          adjacentTo = 0;\n                      }\n                  }\n              }\n              let ch, type = next < 0xff\n                  ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Tp.Lower */ : next >= 65 && next <= 90 ? 1 /* Tp.Upper */ : 0 /* Tp.NonWord */)\n                  : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Tp.Upper */ : ch != ch.toUpperCase() ? 2 /* Tp.Lower */ : 0 /* Tp.NonWord */);\n              if (!i || type == 1 /* Tp.Upper */ && hasLower || prevType == 0 /* Tp.NonWord */ && type != 0 /* Tp.NonWord */) {\n                  if (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true)))\n                      byWord[byWordTo++] = i;\n                  else if (byWord.length)\n                      wordAdjacent = false;\n              }\n              prevType = type;\n              i += codePointSize(next);\n          }\n          if (byWordTo == len && byWord[0] == 0 && wordAdjacent)\n              return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0), byWord, word);\n          if (adjacentTo == len && adjacentStart == 0)\n              return this.ret(-200 /* Penalty.CaseFold */ - word.length + (adjacentEnd == word.length ? 0 : -100 /* Penalty.NotFull */), [0, adjacentEnd]);\n          if (direct > -1)\n              return this.ret(-700 /* Penalty.NotStart */ - word.length, [direct, direct + this.pattern.length]);\n          if (adjacentTo == len)\n              return this.ret(-200 /* Penalty.CaseFold */ + -700 /* Penalty.NotStart */ - word.length, [adjacentStart, adjacentEnd]);\n          if (byWordTo == len)\n              return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0) + -700 /* Penalty.NotStart */ +\n                  (wordAdjacent ? 0 : -1100 /* Penalty.Gap */), byWord, word);\n          return chars.length == 2 ? null\n              : this.result((any[0] ? -700 /* Penalty.NotStart */ : 0) + -200 /* Penalty.CaseFold */ + -1100 /* Penalty.Gap */, any, word);\n      }\n      result(score, positions, word) {\n          let result = [], i = 0;\n          for (let pos of positions) {\n              let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n              if (i && result[i - 1] == pos)\n                  result[i - 1] = to;\n              else {\n                  result[i++] = pos;\n                  result[i++] = to;\n              }\n          }\n          return this.ret(score - word.length, result);\n      }\n  }\n  class StrictMatcher {\n      constructor(pattern) {\n          this.pattern = pattern;\n          this.matched = [];\n          this.score = 0;\n          this.folded = pattern.toLowerCase();\n      }\n      match(word) {\n          if (word.length < this.pattern.length)\n              return null;\n          let start = word.slice(0, this.pattern.length);\n          let match = start == this.pattern ? 0 : start.toLowerCase() == this.folded ? -200 /* Penalty.CaseFold */ : null;\n          if (match == null)\n              return null;\n          this.matched = [0, start.length];\n          this.score = match + (word.length == this.pattern.length ? 0 : -100 /* Penalty.NotFull */);\n          return this;\n      }\n  }\n\n  const completionConfig = /*@__PURE__*/Facet.define({\n      combine(configs) {\n          return combineConfig(configs, {\n              activateOnTyping: true,\n              activateOnCompletion: () => false,\n              activateOnTypingDelay: 100,\n              selectOnOpen: true,\n              override: null,\n              closeOnBlur: true,\n              maxRenderedOptions: 100,\n              defaultKeymap: true,\n              tooltipClass: () => \"\",\n              optionClass: () => \"\",\n              aboveCursor: false,\n              icons: true,\n              addToOptions: [],\n              positionInfo: defaultPositionInfo,\n              filterStrict: false,\n              compareCompletions: (a, b) => (a.sortText || a.label).localeCompare(b.sortText || b.label),\n              interactionDelay: 75,\n              updateSyncTime: 100\n          }, {\n              defaultKeymap: (a, b) => a && b,\n              closeOnBlur: (a, b) => a && b,\n              icons: (a, b) => a && b,\n              tooltipClass: (a, b) => c => joinClass(a(c), b(c)),\n              optionClass: (a, b) => c => joinClass(a(c), b(c)),\n              addToOptions: (a, b) => a.concat(b),\n              filterStrict: (a, b) => a || b,\n          });\n      }\n  });\n  function joinClass(a, b) {\n      return a ? b ? a + \" \" + b : a : b;\n  }\n  function defaultPositionInfo(view, list, option, info, space, tooltip) {\n      let rtl = view.textDirection == Direction.RTL, left = rtl, narrow = false;\n      let side = \"top\", offset, maxWidth;\n      let spaceLeft = list.left - space.left, spaceRight = space.right - list.right;\n      let infoWidth = info.right - info.left, infoHeight = info.bottom - info.top;\n      if (left && spaceLeft < Math.min(infoWidth, spaceRight))\n          left = false;\n      else if (!left && spaceRight < Math.min(infoWidth, spaceLeft))\n          left = true;\n      if (infoWidth <= (left ? spaceLeft : spaceRight)) {\n          offset = Math.max(space.top, Math.min(option.top, space.bottom - infoHeight)) - list.top;\n          maxWidth = Math.min(400 /* Info.Width */, left ? spaceLeft : spaceRight);\n      }\n      else {\n          narrow = true;\n          maxWidth = Math.min(400 /* Info.Width */, (rtl ? list.right : space.right - list.left) - 30 /* Info.Margin */);\n          let spaceBelow = space.bottom - list.bottom;\n          if (spaceBelow >= infoHeight || spaceBelow > list.top) { // Below the completion\n              offset = option.bottom - list.top;\n          }\n          else { // Above it\n              side = \"bottom\";\n              offset = list.bottom - option.top;\n          }\n      }\n      let scaleY = (list.bottom - list.top) / tooltip.offsetHeight;\n      let scaleX = (list.right - list.left) / tooltip.offsetWidth;\n      return {\n          style: `${side}: ${offset / scaleY}px; max-width: ${maxWidth / scaleX}px`,\n          class: \"cm-completionInfo-\" + (narrow ? (rtl ? \"left-narrow\" : \"right-narrow\") : left ? \"left\" : \"right\")\n      };\n  }\n\n  function optionContent(config) {\n      let content = config.addToOptions.slice();\n      if (config.icons)\n          content.push({\n              render(completion) {\n                  let icon = document.createElement(\"div\");\n                  icon.classList.add(\"cm-completionIcon\");\n                  if (completion.type)\n                      icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                  icon.setAttribute(\"aria-hidden\", \"true\");\n                  return icon;\n              },\n              position: 20\n          });\n      content.push({\n          render(completion, _s, _v, match) {\n              let labelElt = document.createElement(\"span\");\n              labelElt.className = \"cm-completionLabel\";\n              let label = completion.displayLabel || completion.label, off = 0;\n              for (let j = 0; j < match.length;) {\n                  let from = match[j++], to = match[j++];\n                  if (from > off)\n                      labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                  let span = labelElt.appendChild(document.createElement(\"span\"));\n                  span.appendChild(document.createTextNode(label.slice(from, to)));\n                  span.className = \"cm-completionMatchedText\";\n                  off = to;\n              }\n              if (off < label.length)\n                  labelElt.appendChild(document.createTextNode(label.slice(off)));\n              return labelElt;\n          },\n          position: 50\n      }, {\n          render(completion) {\n              if (!completion.detail)\n                  return null;\n              let detailElt = document.createElement(\"span\");\n              detailElt.className = \"cm-completionDetail\";\n              detailElt.textContent = completion.detail;\n              return detailElt;\n          },\n          position: 80\n      });\n      return content.sort((a, b) => a.position - b.position).map(a => a.render);\n  }\n  function rangeAroundSelected(total, selected, max) {\n      if (total <= max)\n          return { from: 0, to: total };\n      if (selected < 0)\n          selected = 0;\n      if (selected <= (total >> 1)) {\n          let off = Math.floor(selected / max);\n          return { from: off * max, to: (off + 1) * max };\n      }\n      let off = Math.floor((total - selected) / max);\n      return { from: total - (off + 1) * max, to: total - off * max };\n  }\n  class CompletionTooltip {\n      constructor(view, stateField, applyCompletion) {\n          this.view = view;\n          this.stateField = stateField;\n          this.applyCompletion = applyCompletion;\n          this.info = null;\n          this.infoDestroy = null;\n          this.placeInfoReq = {\n              read: () => this.measureInfo(),\n              write: (pos) => this.placeInfo(pos),\n              key: this\n          };\n          this.space = null;\n          this.currentClass = \"\";\n          let cState = view.state.field(stateField);\n          let { options, selected } = cState.open;\n          let config = view.state.facet(completionConfig);\n          this.optionContent = optionContent(config);\n          this.optionClass = config.optionClass;\n          this.tooltipClass = config.tooltipClass;\n          this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n          this.dom = document.createElement(\"div\");\n          this.dom.className = \"cm-tooltip-autocomplete\";\n          this.updateTooltipClass(view.state);\n          this.dom.addEventListener(\"mousedown\", (e) => {\n              let { options } = view.state.field(stateField).open;\n              for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                  if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                      this.applyCompletion(view, options[+match[1]]);\n                      e.preventDefault();\n                      return;\n                  }\n              }\n          });\n          this.dom.addEventListener(\"focusout\", (e) => {\n              let state = view.state.field(this.stateField, false);\n              if (state && state.tooltip && view.state.facet(completionConfig).closeOnBlur &&\n                  e.relatedTarget != view.contentDOM)\n                  view.dispatch({ effects: closeCompletionEffect.of(null) });\n          });\n          this.showOptions(options, cState.id);\n      }\n      mount() { this.updateSel(); }\n      showOptions(options, id) {\n          if (this.list)\n              this.list.remove();\n          this.list = this.dom.appendChild(this.createListBox(options, id, this.range));\n          this.list.addEventListener(\"scroll\", () => {\n              if (this.info)\n                  this.view.requestMeasure(this.placeInfoReq);\n          });\n      }\n      update(update) {\n          var _a;\n          let cState = update.state.field(this.stateField);\n          let prevState = update.startState.field(this.stateField);\n          this.updateTooltipClass(update.state);\n          if (cState != prevState) {\n              let { options, selected, disabled } = cState.open;\n              if (!prevState.open || prevState.open.options != options) {\n                  this.range = rangeAroundSelected(options.length, selected, update.state.facet(completionConfig).maxRenderedOptions);\n                  this.showOptions(options, cState.id);\n              }\n              this.updateSel();\n              if (disabled != ((_a = prevState.open) === null || _a === void 0 ? void 0 : _a.disabled))\n                  this.dom.classList.toggle(\"cm-tooltip-autocomplete-disabled\", !!disabled);\n          }\n      }\n      updateTooltipClass(state) {\n          let cls = this.tooltipClass(state);\n          if (cls != this.currentClass) {\n              for (let c of this.currentClass.split(\" \"))\n                  if (c)\n                      this.dom.classList.remove(c);\n              for (let c of cls.split(\" \"))\n                  if (c)\n                      this.dom.classList.add(c);\n              this.currentClass = cls;\n          }\n      }\n      positioned(space) {\n          this.space = space;\n          if (this.info)\n              this.view.requestMeasure(this.placeInfoReq);\n      }\n      updateSel() {\n          let cState = this.view.state.field(this.stateField), open = cState.open;\n          if (open.selected > -1 && open.selected < this.range.from || open.selected >= this.range.to) {\n              this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n              this.showOptions(open.options, cState.id);\n          }\n          let newSel = this.updateSelectedOption(open.selected);\n          if (newSel) {\n              this.destroyInfo();\n              let { completion } = open.options[open.selected];\n              let { info } = completion;\n              if (!info)\n                  return;\n              let infoResult = typeof info === \"string\" ? document.createTextNode(info) : info(completion);\n              if (!infoResult)\n                  return;\n              if (\"then\" in infoResult) {\n                  infoResult.then(obj => {\n                      if (obj && this.view.state.field(this.stateField, false) == cState)\n                          this.addInfoPane(obj, completion);\n                  }).catch(e => logException(this.view.state, e, \"completion info\"));\n              }\n              else {\n                  this.addInfoPane(infoResult, completion);\n                  newSel.setAttribute(\"aria-describedby\", this.info.id);\n              }\n          }\n      }\n      addInfoPane(content, completion) {\n          this.destroyInfo();\n          let wrap = this.info = document.createElement(\"div\");\n          wrap.className = \"cm-tooltip cm-completionInfo\";\n          wrap.id = \"cm-completionInfo-\" + Math.floor(Math.random() * 0xffff).toString(16);\n          if (content.nodeType != null) {\n              wrap.appendChild(content);\n              this.infoDestroy = null;\n          }\n          else {\n              let { dom, destroy } = content;\n              wrap.appendChild(dom);\n              this.infoDestroy = destroy || null;\n          }\n          this.dom.appendChild(wrap);\n          this.view.requestMeasure(this.placeInfoReq);\n      }\n      updateSelectedOption(selected) {\n          let set = null;\n          for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n              if (opt.nodeName != \"LI\" || !opt.id) {\n                  i--; // A section header\n              }\n              else if (i == selected) {\n                  if (!opt.hasAttribute(\"aria-selected\")) {\n                      opt.setAttribute(\"aria-selected\", \"true\");\n                      set = opt;\n                  }\n              }\n              else {\n                  if (opt.hasAttribute(\"aria-selected\")) {\n                      opt.removeAttribute(\"aria-selected\");\n                      opt.removeAttribute(\"aria-describedby\");\n                  }\n              }\n          }\n          if (set)\n              scrollIntoView(this.list, set);\n          return set;\n      }\n      measureInfo() {\n          let sel = this.dom.querySelector(\"[aria-selected]\");\n          if (!sel || !this.info)\n              return null;\n          let listRect = this.dom.getBoundingClientRect();\n          let infoRect = this.info.getBoundingClientRect();\n          let selRect = sel.getBoundingClientRect();\n          let space = this.space;\n          if (!space) {\n              let docElt = this.dom.ownerDocument.documentElement;\n              space = { left: 0, top: 0, right: docElt.clientWidth, bottom: docElt.clientHeight };\n          }\n          if (selRect.top > Math.min(space.bottom, listRect.bottom) - 10 ||\n              selRect.bottom < Math.max(space.top, listRect.top) + 10)\n              return null;\n          return this.view.state.facet(completionConfig).positionInfo(this.view, listRect, selRect, infoRect, space, this.dom);\n      }\n      placeInfo(pos) {\n          if (this.info) {\n              if (pos) {\n                  if (pos.style)\n                      this.info.style.cssText = pos.style;\n                  this.info.className = \"cm-tooltip cm-completionInfo \" + (pos.class || \"\");\n              }\n              else {\n                  this.info.style.cssText = \"top: -1e6px\";\n              }\n          }\n      }\n      createListBox(options, id, range) {\n          const ul = document.createElement(\"ul\");\n          ul.id = id;\n          ul.setAttribute(\"role\", \"listbox\");\n          ul.setAttribute(\"aria-expanded\", \"true\");\n          ul.setAttribute(\"aria-label\", this.view.state.phrase(\"Completions\"));\n          ul.addEventListener(\"mousedown\", e => {\n              // Prevent focus change when clicking the scrollbar\n              if (e.target == ul)\n                  e.preventDefault();\n          });\n          let curSection = null;\n          for (let i = range.from; i < range.to; i++) {\n              let { completion, match } = options[i], { section } = completion;\n              if (section) {\n                  let name = typeof section == \"string\" ? section : section.name;\n                  if (name != curSection && (i > range.from || range.from == 0)) {\n                      curSection = name;\n                      if (typeof section != \"string\" && section.header) {\n                          ul.appendChild(section.header(section));\n                      }\n                      else {\n                          let header = ul.appendChild(document.createElement(\"completion-section\"));\n                          header.textContent = name;\n                      }\n                  }\n              }\n              const li = ul.appendChild(document.createElement(\"li\"));\n              li.id = id + \"-\" + i;\n              li.setAttribute(\"role\", \"option\");\n              let cls = this.optionClass(completion);\n              if (cls)\n                  li.className = cls;\n              for (let source of this.optionContent) {\n                  let node = source(completion, this.view.state, this.view, match);\n                  if (node)\n                      li.appendChild(node);\n              }\n          }\n          if (range.from)\n              ul.classList.add(\"cm-completionListIncompleteTop\");\n          if (range.to < options.length)\n              ul.classList.add(\"cm-completionListIncompleteBottom\");\n          return ul;\n      }\n      destroyInfo() {\n          if (this.info) {\n              if (this.infoDestroy)\n                  this.infoDestroy();\n              this.info.remove();\n              this.info = null;\n          }\n      }\n      destroy() {\n          this.destroyInfo();\n      }\n  }\n  function completionTooltip(stateField, applyCompletion) {\n      return (view) => new CompletionTooltip(view, stateField, applyCompletion);\n  }\n  function scrollIntoView(container, element) {\n      let parent = container.getBoundingClientRect();\n      let self = element.getBoundingClientRect();\n      let scaleY = parent.height / container.offsetHeight;\n      if (self.top < parent.top)\n          container.scrollTop -= (parent.top - self.top) / scaleY;\n      else if (self.bottom > parent.bottom)\n          container.scrollTop += (self.bottom - parent.bottom) / scaleY;\n  }\n\n  // Used to pick a preferred option when two options with the same\n  // label occur in the result.\n  function score(option) {\n      return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n          (option.type ? 1 : 0);\n  }\n  function sortOptions(active, state) {\n      let options = [];\n      let sections = null, dynamicSectionScore = null;\n      let addOption = (option) => {\n          options.push(option);\n          let { section } = option.completion;\n          if (section) {\n              if (!sections)\n                  sections = [];\n              let name = typeof section == \"string\" ? section : section.name;\n              if (!sections.some(s => s.name == name))\n                  sections.push(typeof section == \"string\" ? { name } : section);\n          }\n      };\n      let conf = state.facet(completionConfig);\n      for (let a of active)\n          if (a.hasResult()) {\n              let getMatch = a.result.getMatch;\n              if (a.result.filter === false) {\n                  for (let option of a.result.options) {\n                      addOption(new Option(option, a.source, getMatch ? getMatch(option) : [], 1e9 - options.length));\n                  }\n              }\n              else {\n                  let pattern = state.sliceDoc(a.from, a.to), match;\n                  let matcher = conf.filterStrict ? new StrictMatcher(pattern) : new FuzzyMatcher(pattern);\n                  for (let option of a.result.options)\n                      if (match = matcher.match(option.label)) {\n                          let matched = !option.displayLabel ? match.matched : getMatch ? getMatch(option, match.matched) : [];\n                          let score = match.score + (option.boost || 0);\n                          addOption(new Option(option, a.source, matched, score));\n                          if (typeof option.section == \"object\" && option.section.rank === \"dynamic\") {\n                              let { name } = option.section;\n                              if (!dynamicSectionScore)\n                                  dynamicSectionScore = Object.create(null);\n                              dynamicSectionScore[name] = Math.max(score, dynamicSectionScore[name] || -1e9);\n                          }\n                      }\n              }\n          }\n      if (sections) {\n          let sectionOrder = Object.create(null), pos = 0;\n          let cmp = (a, b) => {\n              return (a.rank === \"dynamic\" && b.rank === \"dynamic\" ? dynamicSectionScore[b.name] - dynamicSectionScore[a.name] : 0) ||\n                  (typeof a.rank == \"number\" ? a.rank : 1e9) - (typeof b.rank == \"number\" ? b.rank : 1e9) ||\n                  (a.name < b.name ? -1 : 1);\n          };\n          for (let s of sections.sort(cmp)) {\n              pos -= 1e5;\n              sectionOrder[s.name] = pos;\n          }\n          for (let option of options) {\n              let { section } = option.completion;\n              if (section)\n                  option.score += sectionOrder[typeof section == \"string\" ? section : section.name];\n          }\n      }\n      let result = [], prev = null;\n      let compare = conf.compareCompletions;\n      for (let opt of options.sort((a, b) => (b.score - a.score) || compare(a.completion, b.completion))) {\n          let cur = opt.completion;\n          if (!prev || prev.label != cur.label || prev.detail != cur.detail ||\n              (prev.type != null && cur.type != null && prev.type != cur.type) ||\n              prev.apply != cur.apply || prev.boost != cur.boost)\n              result.push(opt);\n          else if (score(opt.completion) > score(prev))\n              result[result.length - 1] = opt;\n          prev = opt.completion;\n      }\n      return result;\n  }\n  class CompletionDialog {\n      constructor(options, attrs, tooltip, timestamp, selected, disabled) {\n          this.options = options;\n          this.attrs = attrs;\n          this.tooltip = tooltip;\n          this.timestamp = timestamp;\n          this.selected = selected;\n          this.disabled = disabled;\n      }\n      setSelected(selected, id) {\n          return selected == this.selected || selected >= this.options.length ? this\n              : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected, this.disabled);\n      }\n      static build(active, state, id, prev, conf, didSetActive) {\n          if (prev && !didSetActive && active.some(s => s.isPending))\n              return prev.setDisabled();\n          let options = sortOptions(active, state);\n          if (!options.length)\n              return prev && active.some(a => a.isPending) ? prev.setDisabled() : null;\n          let selected = state.facet(completionConfig).selectOnOpen ? 0 : -1;\n          if (prev && prev.selected != selected && prev.selected != -1) {\n              let selectedValue = prev.options[prev.selected].completion;\n              for (let i = 0; i < options.length; i++)\n                  if (options[i].completion == selectedValue) {\n                      selected = i;\n                      break;\n                  }\n          }\n          return new CompletionDialog(options, makeAttrs(id, selected), {\n              pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n              create: createTooltip,\n              above: conf.aboveCursor,\n          }, prev ? prev.timestamp : Date.now(), selected, false);\n      }\n      map(changes) {\n          return new CompletionDialog(this.options, this.attrs, { ...this.tooltip, pos: changes.mapPos(this.tooltip.pos) }, this.timestamp, this.selected, this.disabled);\n      }\n      setDisabled() {\n          return new CompletionDialog(this.options, this.attrs, this.tooltip, this.timestamp, this.selected, true);\n      }\n  }\n  class CompletionState {\n      constructor(active, id, open) {\n          this.active = active;\n          this.id = id;\n          this.open = open;\n      }\n      static start() {\n          return new CompletionState(none$1, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n      }\n      update(tr) {\n          let { state } = tr, conf = state.facet(completionConfig);\n          let sources = conf.override ||\n              state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n          let active = sources.map(source => {\n              let value = this.active.find(s => s.source == source) ||\n                  new ActiveSource(source, this.active.some(a => a.state != 0 /* State.Inactive */) ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n              return value.update(tr, conf);\n          });\n          if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n              active = this.active;\n          let open = this.open, didSet = tr.effects.some(e => e.is(setActiveEffect));\n          if (open && tr.docChanged)\n              open = open.map(tr.changes);\n          if (tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n              !sameResults(active, this.active) || didSet)\n              open = CompletionDialog.build(active, state, this.id, open, conf, didSet);\n          else if (open && open.disabled && !active.some(a => a.isPending))\n              open = null;\n          if (!open && active.every(a => !a.isPending) && active.some(a => a.hasResult()))\n              active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* State.Inactive */) : a);\n          for (let effect of tr.effects)\n              if (effect.is(setSelectedEffect))\n                  open = open && open.setSelected(effect.value, this.id);\n          return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n      }\n      get tooltip() { return this.open ? this.open.tooltip : null; }\n      get attrs() { return this.open ? this.open.attrs : this.active.length ? baseAttrs : noAttrs; }\n  }\n  function sameResults(a, b) {\n      if (a == b)\n          return true;\n      for (let iA = 0, iB = 0;;) {\n          while (iA < a.length && !a[iA].hasResult())\n              iA++;\n          while (iB < b.length && !b[iB].hasResult())\n              iB++;\n          let endA = iA == a.length, endB = iB == b.length;\n          if (endA || endB)\n              return endA == endB;\n          if (a[iA++].result != b[iB++].result)\n              return false;\n      }\n  }\n  const baseAttrs = {\n      \"aria-autocomplete\": \"list\"\n  };\n  const noAttrs = {};\n  function makeAttrs(id, selected) {\n      let result = {\n          \"aria-autocomplete\": \"list\",\n          \"aria-haspopup\": \"listbox\",\n          \"aria-controls\": id\n      };\n      if (selected > -1)\n          result[\"aria-activedescendant\"] = id + \"-\" + selected;\n      return result;\n  }\n  const none$1 = [];\n  function getUpdateType(tr, conf) {\n      if (tr.isUserEvent(\"input.complete\")) {\n          let completion = tr.annotation(pickedCompletion);\n          if (completion && conf.activateOnCompletion(completion))\n              return 4 /* UpdateType.Activate */ | 8 /* UpdateType.Reset */;\n      }\n      let typing = tr.isUserEvent(\"input.type\");\n      return typing && conf.activateOnTyping ? 4 /* UpdateType.Activate */ | 1 /* UpdateType.Typing */\n          : typing ? 1 /* UpdateType.Typing */\n              : tr.isUserEvent(\"delete.backward\") ? 2 /* UpdateType.Backspacing */\n                  : tr.selection ? 8 /* UpdateType.Reset */\n                      : tr.docChanged ? 16 /* UpdateType.ResetIfTouching */ : 0 /* UpdateType.None */;\n  }\n  class ActiveSource {\n      constructor(source, state, explicit = false) {\n          this.source = source;\n          this.state = state;\n          this.explicit = explicit;\n      }\n      hasResult() { return false; }\n      get isPending() { return this.state == 1 /* State.Pending */; }\n      update(tr, conf) {\n          let type = getUpdateType(tr, conf), value = this;\n          if ((type & 8 /* UpdateType.Reset */) || (type & 16 /* UpdateType.ResetIfTouching */) && this.touches(tr))\n              value = new ActiveSource(value.source, 0 /* State.Inactive */);\n          if ((type & 4 /* UpdateType.Activate */) && value.state == 0 /* State.Inactive */)\n              value = new ActiveSource(this.source, 1 /* State.Pending */);\n          value = value.updateFor(tr, type);\n          for (let effect of tr.effects) {\n              if (effect.is(startCompletionEffect))\n                  value = new ActiveSource(value.source, 1 /* State.Pending */, effect.value);\n              else if (effect.is(closeCompletionEffect))\n                  value = new ActiveSource(value.source, 0 /* State.Inactive */);\n              else if (effect.is(setActiveEffect))\n                  for (let active of effect.value)\n                      if (active.source == value.source)\n                          value = active;\n          }\n          return value;\n      }\n      updateFor(tr, type) { return this.map(tr.changes); }\n      map(changes) { return this; }\n      touches(tr) {\n          return tr.changes.touchesRange(cur(tr.state));\n      }\n  }\n  class ActiveResult extends ActiveSource {\n      constructor(source, explicit, limit, result, from, to) {\n          super(source, 3 /* State.Result */, explicit);\n          this.limit = limit;\n          this.result = result;\n          this.from = from;\n          this.to = to;\n      }\n      hasResult() { return true; }\n      updateFor(tr, type) {\n          var _a;\n          if (!(type & 3 /* UpdateType.SimpleInteraction */))\n              return this.map(tr.changes);\n          let result = this.result;\n          if (result.map && !tr.changes.empty)\n              result = result.map(result, tr.changes);\n          let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n          let pos = cur(tr.state);\n          if (pos > to || !result ||\n              (type & 2 /* UpdateType.Backspacing */) && (cur(tr.startState) == this.from || pos < this.limit))\n              return new ActiveSource(this.source, type & 4 /* UpdateType.Activate */ ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n          let limit = tr.changes.mapPos(this.limit);\n          if (checkValid(result.validFor, tr.state, from, to))\n              return new ActiveResult(this.source, this.explicit, limit, result, from, to);\n          if (result.update &&\n              (result = result.update(result, from, to, new CompletionContext(tr.state, pos, false))))\n              return new ActiveResult(this.source, this.explicit, limit, result, result.from, (_a = result.to) !== null && _a !== void 0 ? _a : cur(tr.state));\n          return new ActiveSource(this.source, 1 /* State.Pending */, this.explicit);\n      }\n      map(mapping) {\n          if (mapping.empty)\n              return this;\n          let result = this.result.map ? this.result.map(this.result, mapping) : this.result;\n          if (!result)\n              return new ActiveSource(this.source, 0 /* State.Inactive */);\n          return new ActiveResult(this.source, this.explicit, mapping.mapPos(this.limit), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1));\n      }\n      touches(tr) {\n          return tr.changes.touchesRange(this.from, this.to);\n      }\n  }\n  function checkValid(validFor, state, from, to) {\n      if (!validFor)\n          return false;\n      let text = state.sliceDoc(from, to);\n      return typeof validFor == \"function\" ? validFor(text, from, to, state) : ensureAnchor(validFor, true).test(text);\n  }\n  const setActiveEffect = /*@__PURE__*/StateEffect.define({\n      map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n  });\n  const setSelectedEffect = /*@__PURE__*/StateEffect.define();\n  const completionState = /*@__PURE__*/StateField.define({\n      create() { return CompletionState.start(); },\n      update(value, tr) { return value.update(tr); },\n      provide: f => [\n          showTooltip.from(f, val => val.tooltip),\n          EditorView.contentAttributes.from(f, state => state.attrs)\n      ]\n  });\n  function applyCompletion(view, option) {\n      const apply = option.completion.apply || option.completion.label;\n      let result = view.state.field(completionState).active.find(a => a.source == option.source);\n      if (!(result instanceof ActiveResult))\n          return false;\n      if (typeof apply == \"string\")\n          view.dispatch({\n              ...insertCompletionText(view.state, apply, result.from, result.to),\n              annotations: pickedCompletion.of(option.completion)\n          });\n      else\n          apply(view, option.completion, result.from, result.to);\n      return true;\n  }\n  const createTooltip = /*@__PURE__*/completionTooltip(completionState, applyCompletion);\n\n  /**\n  Returns a command that moves the completion selection forward or\n  backward by the given amount.\n  */\n  function moveCompletionSelection(forward, by = \"option\") {\n      return (view) => {\n          let cState = view.state.field(completionState, false);\n          if (!cState || !cState.open || cState.open.disabled ||\n              Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n              return false;\n          let step = 1, tooltip;\n          if (by == \"page\" && (tooltip = getTooltip(view, cState.open.tooltip)))\n              step = Math.max(2, Math.floor(tooltip.dom.offsetHeight /\n                  tooltip.dom.querySelector(\"li\").offsetHeight) - 1);\n          let { length } = cState.open.options;\n          let selected = cState.open.selected > -1 ? cState.open.selected + step * (forward ? 1 : -1) : forward ? 0 : length - 1;\n          if (selected < 0)\n              selected = by == \"page\" ? 0 : length - 1;\n          else if (selected >= length)\n              selected = by == \"page\" ? length - 1 : 0;\n          view.dispatch({ effects: setSelectedEffect.of(selected) });\n          return true;\n      };\n  }\n  /**\n  Accept the current completion.\n  */\n  const acceptCompletion = (view) => {\n      let cState = view.state.field(completionState, false);\n      if (view.state.readOnly || !cState || !cState.open || cState.open.selected < 0 || cState.open.disabled ||\n          Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n          return false;\n      return applyCompletion(view, cState.open.options[cState.open.selected]);\n  };\n  /**\n  Explicitly start autocompletion.\n  */\n  const startCompletion = (view) => {\n      let cState = view.state.field(completionState, false);\n      if (!cState)\n          return false;\n      view.dispatch({ effects: startCompletionEffect.of(true) });\n      return true;\n  };\n  /**\n  Close the currently active completion.\n  */\n  const closeCompletion = (view) => {\n      let cState = view.state.field(completionState, false);\n      if (!cState || !cState.active.some(a => a.state != 0 /* State.Inactive */))\n          return false;\n      view.dispatch({ effects: closeCompletionEffect.of(null) });\n      return true;\n  };\n  class RunningQuery {\n      constructor(active, context) {\n          this.active = active;\n          this.context = context;\n          this.time = Date.now();\n          this.updates = [];\n          // Note that 'undefined' means 'not done yet', whereas 'null' means\n          // 'query returned null'.\n          this.done = undefined;\n      }\n  }\n  const MaxUpdateCount = 50, MinAbortTime = 1000;\n  const completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n      constructor(view) {\n          this.view = view;\n          this.debounceUpdate = -1;\n          this.running = [];\n          this.debounceAccept = -1;\n          this.pendingStart = false;\n          this.composing = 0 /* CompositionState.None */;\n          for (let active of view.state.field(completionState).active)\n              if (active.isPending)\n                  this.startQuery(active);\n      }\n      update(update) {\n          let cState = update.state.field(completionState);\n          let conf = update.state.facet(completionConfig);\n          if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n              return;\n          let doesReset = update.transactions.some(tr => {\n              let type = getUpdateType(tr, conf);\n              return (type & 8 /* UpdateType.Reset */) || (tr.selection || tr.docChanged) && !(type & 3 /* UpdateType.SimpleInteraction */);\n          });\n          for (let i = 0; i < this.running.length; i++) {\n              let query = this.running[i];\n              if (doesReset ||\n                  query.context.abortOnDocChange && update.docChanged ||\n                  query.updates.length + update.transactions.length > MaxUpdateCount && Date.now() - query.time > MinAbortTime) {\n                  for (let handler of query.context.abortListeners) {\n                      try {\n                          handler();\n                      }\n                      catch (e) {\n                          logException(this.view.state, e);\n                      }\n                  }\n                  query.context.abortListeners = null;\n                  this.running.splice(i--, 1);\n              }\n              else {\n                  query.updates.push(...update.transactions);\n              }\n          }\n          if (this.debounceUpdate > -1)\n              clearTimeout(this.debounceUpdate);\n          if (update.transactions.some(tr => tr.effects.some(e => e.is(startCompletionEffect))))\n              this.pendingStart = true;\n          let delay = this.pendingStart ? 50 : conf.activateOnTypingDelay;\n          this.debounceUpdate = cState.active.some(a => a.isPending && !this.running.some(q => q.active.source == a.source))\n              ? setTimeout(() => this.startUpdate(), delay) : -1;\n          if (this.composing != 0 /* CompositionState.None */)\n              for (let tr of update.transactions) {\n                  if (tr.isUserEvent(\"input.type\"))\n                      this.composing = 2 /* CompositionState.Changed */;\n                  else if (this.composing == 2 /* CompositionState.Changed */ && tr.selection)\n                      this.composing = 3 /* CompositionState.ChangedAndMoved */;\n              }\n      }\n      startUpdate() {\n          this.debounceUpdate = -1;\n          this.pendingStart = false;\n          let { state } = this.view, cState = state.field(completionState);\n          for (let active of cState.active) {\n              if (active.isPending && !this.running.some(r => r.active.source == active.source))\n                  this.startQuery(active);\n          }\n          if (this.running.length && cState.open && cState.open.disabled)\n              this.debounceAccept = setTimeout(() => this.accept(), this.view.state.facet(completionConfig).updateSyncTime);\n      }\n      startQuery(active) {\n          let { state } = this.view, pos = cur(state);\n          let context = new CompletionContext(state, pos, active.explicit, this.view);\n          let pending = new RunningQuery(active, context);\n          this.running.push(pending);\n          Promise.resolve(active.source(context)).then(result => {\n              if (!pending.context.aborted) {\n                  pending.done = result || null;\n                  this.scheduleAccept();\n              }\n          }, err => {\n              this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n              logException(this.view.state, err);\n          });\n      }\n      scheduleAccept() {\n          if (this.running.every(q => q.done !== undefined))\n              this.accept();\n          else if (this.debounceAccept < 0)\n              this.debounceAccept = setTimeout(() => this.accept(), this.view.state.facet(completionConfig).updateSyncTime);\n      }\n      // For each finished query in this.running, try to create a result\n      // or, if appropriate, restart the query.\n      accept() {\n          var _a;\n          if (this.debounceAccept > -1)\n              clearTimeout(this.debounceAccept);\n          this.debounceAccept = -1;\n          let updated = [];\n          let conf = this.view.state.facet(completionConfig), cState = this.view.state.field(completionState);\n          for (let i = 0; i < this.running.length; i++) {\n              let query = this.running[i];\n              if (query.done === undefined)\n                  continue;\n              this.running.splice(i--, 1);\n              if (query.done) {\n                  let pos = cur(query.updates.length ? query.updates[0].startState : this.view.state);\n                  let limit = Math.min(pos, query.done.from + (query.active.explicit ? 0 : 1));\n                  let active = new ActiveResult(query.active.source, query.active.explicit, limit, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : pos);\n                  // Replay the transactions that happened since the start of\n                  // the request and see if that preserves the result\n                  for (let tr of query.updates)\n                      active = active.update(tr, conf);\n                  if (active.hasResult()) {\n                      updated.push(active);\n                      continue;\n                  }\n              }\n              let current = cState.active.find(a => a.source == query.active.source);\n              if (current && current.isPending) {\n                  if (query.done == null) {\n                      // Explicitly failed. Should clear the pending status if it\n                      // hasn't been re-set in the meantime.\n                      let active = new ActiveSource(query.active.source, 0 /* State.Inactive */);\n                      for (let tr of query.updates)\n                          active = active.update(tr, conf);\n                      if (!active.isPending)\n                          updated.push(active);\n                  }\n                  else {\n                      // Cleared by subsequent transactions. Restart.\n                      this.startQuery(current);\n                  }\n              }\n          }\n          if (updated.length || cState.open && cState.open.disabled)\n              this.view.dispatch({ effects: setActiveEffect.of(updated) });\n      }\n  }, {\n      eventHandlers: {\n          blur(event) {\n              let state = this.view.state.field(completionState, false);\n              if (state && state.tooltip && this.view.state.facet(completionConfig).closeOnBlur) {\n                  let dialog = state.open && getTooltip(this.view, state.open.tooltip);\n                  if (!dialog || !dialog.dom.contains(event.relatedTarget))\n                      setTimeout(() => this.view.dispatch({ effects: closeCompletionEffect.of(null) }), 10);\n              }\n          },\n          compositionstart() {\n              this.composing = 1 /* CompositionState.Started */;\n          },\n          compositionend() {\n              if (this.composing == 3 /* CompositionState.ChangedAndMoved */) {\n                  // Safari fires compositionend events synchronously, possibly\n                  // from inside an update, so dispatch asynchronously to avoid reentrancy\n                  setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n              }\n              this.composing = 0 /* CompositionState.None */;\n          }\n      }\n  });\n  const windows = typeof navigator == \"object\" && /*@__PURE__*//Win/.test(navigator.platform);\n  const commitCharacters = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.domEventHandlers({\n      keydown(event, view) {\n          let field = view.state.field(completionState, false);\n          if (!field || !field.open || field.open.disabled || field.open.selected < 0 ||\n              event.key.length > 1 || event.ctrlKey && !(windows && event.altKey) || event.metaKey)\n              return false;\n          let option = field.open.options[field.open.selected];\n          let result = field.active.find(a => a.source == option.source);\n          let commitChars = option.completion.commitCharacters || result.result.commitCharacters;\n          if (commitChars && commitChars.indexOf(event.key) > -1)\n              applyCompletion(view, option);\n          return false;\n      }\n  }));\n\n  const baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-tooltip.cm-tooltip-autocomplete\": {\n          \"& > ul\": {\n              fontFamily: \"monospace\",\n              whiteSpace: \"nowrap\",\n              overflow: \"hidden auto\",\n              maxWidth_fallback: \"700px\",\n              maxWidth: \"min(700px, 95vw)\",\n              minWidth: \"250px\",\n              maxHeight: \"10em\",\n              height: \"100%\",\n              listStyle: \"none\",\n              margin: 0,\n              padding: 0,\n              \"& > li, & > completion-section\": {\n                  padding: \"1px 3px\",\n                  lineHeight: 1.2\n              },\n              \"& > li\": {\n                  overflowX: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  cursor: \"pointer\"\n              },\n              \"& > completion-section\": {\n                  display: \"list-item\",\n                  borderBottom: \"1px solid silver\",\n                  paddingLeft: \"0.5em\",\n                  opacity: 0.7\n              }\n          }\n      },\n      \"&light .cm-tooltip-autocomplete ul li[aria-selected]\": {\n          background: \"#17c\",\n          color: \"white\",\n      },\n      \"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n          background: \"#777\",\n      },\n      \"&dark .cm-tooltip-autocomplete ul li[aria-selected]\": {\n          background: \"#347\",\n          color: \"white\",\n      },\n      \"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n          background: \"#444\",\n      },\n      \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n          content: '\"\"',\n          opacity: 0.5,\n          display: \"block\",\n          textAlign: \"center\"\n      },\n      \".cm-tooltip.cm-completionInfo\": {\n          position: \"absolute\",\n          padding: \"3px 9px\",\n          width: \"max-content\",\n          maxWidth: `${400 /* Info.Width */}px`,\n          boxSizing: \"border-box\",\n          whiteSpace: \"pre-line\"\n      },\n      \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n      \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n      \".cm-completionInfo.cm-completionInfo-left-narrow\": { right: `${30 /* Info.Margin */}px` },\n      \".cm-completionInfo.cm-completionInfo-right-narrow\": { left: `${30 /* Info.Margin */}px` },\n      \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n      \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n      \".cm-snippetFieldPosition\": {\n          verticalAlign: \"text-top\",\n          width: 0,\n          height: \"1.15em\",\n          display: \"inline-block\",\n          margin: \"0 -0.7px -.7em\",\n          borderLeft: \"1.4px dotted #888\"\n      },\n      \".cm-completionMatchedText\": {\n          textDecoration: \"underline\"\n      },\n      \".cm-completionDetail\": {\n          marginLeft: \"0.5em\",\n          fontStyle: \"italic\"\n      },\n      \".cm-completionIcon\": {\n          fontSize: \"90%\",\n          width: \".8em\",\n          display: \"inline-block\",\n          textAlign: \"center\",\n          paddingRight: \".6em\",\n          opacity: \"0.6\",\n          boxSizing: \"content-box\"\n      },\n      \".cm-completionIcon-function, .cm-completionIcon-method\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-class\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-interface\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-variable\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-constant\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-type\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-enum\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-property\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-keyword\": {\n          \"&:after\": { content: \"'\\uFE0E'\" } // Disable emoji rendering\n      },\n      \".cm-completionIcon-namespace\": {\n          \"&:after\": { content: \"''\" }\n      },\n      \".cm-completionIcon-text\": {\n          \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n      }\n  });\n\n  class FieldPos {\n      constructor(field, line, from, to) {\n          this.field = field;\n          this.line = line;\n          this.from = from;\n          this.to = to;\n      }\n  }\n  class FieldRange {\n      constructor(field, from, to) {\n          this.field = field;\n          this.from = from;\n          this.to = to;\n      }\n      map(changes) {\n          let from = changes.mapPos(this.from, -1, MapMode.TrackDel);\n          let to = changes.mapPos(this.to, 1, MapMode.TrackDel);\n          return from == null || to == null ? null : new FieldRange(this.field, from, to);\n      }\n  }\n  class Snippet {\n      constructor(lines, fieldPositions) {\n          this.lines = lines;\n          this.fieldPositions = fieldPositions;\n      }\n      instantiate(state, pos) {\n          let text = [], lineStart = [pos];\n          let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n          for (let line of this.lines) {\n              if (text.length) {\n                  let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                  for (let i = 0; i < tabs; i++)\n                      indent += state.facet(indentUnit);\n                  lineStart.push(pos + indent.length - tabs);\n                  line = indent + line.slice(tabs);\n              }\n              text.push(line);\n              pos += line.length + 1;\n          }\n          let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n          return { text, ranges };\n      }\n      static parse(template) {\n          let fields = [];\n          let lines = [], positions = [], m;\n          for (let line of template.split(/\\r\\n?|\\n/)) {\n              while (m = /[#$]\\{(?:(\\d+)(?::([^{}]*))?|((?:\\\\[{}]|[^{}])*))\\}/.exec(line)) {\n                  let seq = m[1] ? +m[1] : null, rawName = m[2] || m[3] || \"\", found = -1;\n                  let name = rawName.replace(/\\\\[{}]/g, m => m[1]);\n                  for (let i = 0; i < fields.length; i++) {\n                      if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                          found = i;\n                  }\n                  if (found < 0) {\n                      let i = 0;\n                      while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                          i++;\n                      fields.splice(i, 0, { seq, name });\n                      found = i;\n                      for (let pos of positions)\n                          if (pos.field >= found)\n                              pos.field++;\n                  }\n                  for (let pos of positions)\n                      if (pos.line == lines.length && pos.from > m.index) {\n                          let snip = m[2] ? 3 + (m[1] || \"\").length : 2;\n                          pos.from -= snip;\n                          pos.to -= snip;\n                      }\n                  positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                  line = line.slice(0, m.index) + rawName + line.slice(m.index + m[0].length);\n              }\n              line = line.replace(/\\\\([{}])/g, (_, brace, index) => {\n                  for (let pos of positions)\n                      if (pos.line == lines.length && pos.from > index) {\n                          pos.from--;\n                          pos.to--;\n                      }\n                  return brace;\n              });\n              lines.push(line);\n          }\n          return new Snippet(lines, positions);\n      }\n  }\n  let fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n          toDOM() {\n              let span = document.createElement(\"span\");\n              span.className = \"cm-snippetFieldPosition\";\n              return span;\n          }\n          ignoreEvent() { return false; }\n      } });\n  let fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\n  class ActiveSnippet {\n      constructor(ranges, active) {\n          this.ranges = ranges;\n          this.active = active;\n          this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)), true);\n      }\n      map(changes) {\n          let ranges = [];\n          for (let r of this.ranges) {\n              let mapped = r.map(changes);\n              if (!mapped)\n                  return null;\n              ranges.push(mapped);\n          }\n          return new ActiveSnippet(ranges, this.active);\n      }\n      selectionInsideField(sel) {\n          return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n      }\n  }\n  const setActive = /*@__PURE__*/StateEffect.define({\n      map(value, changes) { return value && value.map(changes); }\n  });\n  const moveToField = /*@__PURE__*/StateEffect.define();\n  const snippetState = /*@__PURE__*/StateField.define({\n      create() { return null; },\n      update(value, tr) {\n          for (let effect of tr.effects) {\n              if (effect.is(setActive))\n                  return effect.value;\n              if (effect.is(moveToField) && value)\n                  return new ActiveSnippet(value.ranges, effect.value);\n          }\n          if (value && tr.docChanged)\n              value = value.map(tr.changes);\n          if (value && tr.selection && !value.selectionInsideField(tr.selection))\n              value = null;\n          return value;\n      },\n      provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n  });\n  function fieldSelection(ranges, field) {\n      return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n  }\n  /**\n  Convert a snippet template to a function that can\n  [apply](https://codemirror.net/6/docs/ref/#autocomplete.Completion.apply) it. Snippets are written\n  using syntax like this:\n\n      \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\n  Each `${}` placeholder (you may also use `#{}`) indicates a field\n  that the user can fill in. Its name, if any, will be the default\n  content for the field.\n\n  When the snippet is activated by calling the returned function,\n  the code is inserted at the given position. Newlines in the\n  template are indented by the indentation of the start line, plus\n  one [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\n  the newline.\n\n  On activation, (all instances of) the first field are selected.\n  The user can move between fields with Tab and Shift-Tab as long as\n  the fields are active. Moving to the last field or moving the\n  cursor out of the current field deactivates the fields.\n\n  The order of fields defaults to textual order, but you can add\n  numbers to placeholders (`${1}` or `${1:defaultText}`) to provide\n  a custom order.\n\n  To include a literal `{` or `}` in your template, put a backslash\n  in front of it. This will be removed and the brace will not be\n  interpreted as indicating a placeholder.\n  */\n  function snippet(template) {\n      let snippet = Snippet.parse(template);\n      return (editor, completion, from, to) => {\n          let { text, ranges } = snippet.instantiate(editor.state, from);\n          let { main } = editor.state.selection;\n          let spec = {\n              changes: { from, to: to == main.from ? main.to : to, insert: Text.of(text) },\n              scrollIntoView: true,\n              annotations: completion ? [pickedCompletion.of(completion), Transaction.userEvent.of(\"input.complete\")] : undefined\n          };\n          if (ranges.length)\n              spec.selection = fieldSelection(ranges, 0);\n          if (ranges.some(r => r.field > 0)) {\n              let active = new ActiveSnippet(ranges, 0);\n              let effects = spec.effects = [setActive.of(active)];\n              if (editor.state.field(snippetState, false) === undefined)\n                  effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme$1]));\n          }\n          editor.dispatch(editor.state.update(spec));\n      };\n  }\n  function moveField(dir) {\n      return ({ state, dispatch }) => {\n          let active = state.field(snippetState, false);\n          if (!active || dir < 0 && active.active == 0)\n              return false;\n          let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n          dispatch(state.update({\n              selection: fieldSelection(active.ranges, next),\n              effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next)),\n              scrollIntoView: true\n          }));\n          return true;\n      };\n  }\n  /**\n  A command that clears the active snippet, if any.\n  */\n  const clearSnippet = ({ state, dispatch }) => {\n      let active = state.field(snippetState, false);\n      if (!active)\n          return false;\n      dispatch(state.update({ effects: setActive.of(null) }));\n      return true;\n  };\n  /**\n  Move to the next snippet field, if available.\n  */\n  const nextSnippetField = /*@__PURE__*/moveField(1);\n  /**\n  Move to the previous snippet field, if available.\n  */\n  const prevSnippetField = /*@__PURE__*/moveField(-1);\n  const defaultSnippetKeymap = [\n      { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n      { key: \"Escape\", run: clearSnippet }\n  ];\n  /**\n  A facet that can be used to configure the key bindings used by\n  snippets. The default binds Tab to\n  [`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n  [`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\n  to [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n  */\n  const snippetKeymap = /*@__PURE__*/Facet.define({\n      combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n  });\n  const addSnippetKeymap = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n  /**\n  Create a completion from a snippet. Returns an object with the\n  properties from `completion`, plus an `apply` function that\n  applies the snippet.\n  */\n  function snippetCompletion(template, completion) {\n      return { ...completion, apply: snippet(template) };\n  }\n  const snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n      mousedown(event, view) {\n          let active = view.state.field(snippetState, false), pos;\n          if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n              return false;\n          let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n          if (!match || match.field == active.active)\n              return false;\n          view.dispatch({\n              selection: fieldSelection(active.ranges, match.field),\n              effects: setActive.of(active.ranges.some(r => r.field > match.field)\n                  ? new ActiveSnippet(active.ranges, match.field) : null),\n              scrollIntoView: true\n          });\n          return true;\n      }\n  });\n\n  const defaults = {\n      brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n      before: \")]}:;>\",\n      stringPrefixes: []\n  };\n  const closeBracketEffect = /*@__PURE__*/StateEffect.define({\n      map(value, mapping) {\n          let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n          return mapped == null ? undefined : mapped;\n      }\n  });\n  const closedBracket = /*@__PURE__*/new class extends RangeValue {\n  };\n  closedBracket.startSide = 1;\n  closedBracket.endSide = -1;\n  const bracketState = /*@__PURE__*/StateField.define({\n      create() { return RangeSet.empty; },\n      update(value, tr) {\n          value = value.map(tr.changes);\n          if (tr.selection) {\n              let line = tr.state.doc.lineAt(tr.selection.main.head);\n              value = value.update({ filter: from => from >= line.from && from <= line.to });\n          }\n          for (let effect of tr.effects)\n              if (effect.is(closeBracketEffect))\n                  value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n          return value;\n      }\n  });\n  /**\n  Extension to enable bracket-closing behavior. When a closeable\n  bracket is typed, its closing bracket is immediately inserted\n  after the cursor. When closing a bracket directly in front of a\n  closing bracket inserted by the extension, the cursor moves over\n  that bracket.\n  */\n  function closeBrackets() {\n      return [inputHandler, bracketState];\n  }\n  const definedClosing = \"()[]{}<>\";\n  function closing(ch) {\n      for (let i = 0; i < definedClosing.length; i += 2)\n          if (definedClosing.charCodeAt(i) == ch)\n              return definedClosing.charAt(i + 1);\n      return fromCodePoint(ch < 128 ? ch : ch + 1);\n  }\n  function config(state, pos) {\n      return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n  }\n  const android$1 = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\n  const inputHandler = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, insert) => {\n      if ((android$1 ? view.composing : view.compositionStarted) || view.state.readOnly)\n          return false;\n      let sel = view.state.selection.main;\n      if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n          from != sel.from || to != sel.to)\n          return false;\n      let tr = insertBracket(view.state, insert);\n      if (!tr)\n          return false;\n      view.dispatch(tr);\n      return true;\n  });\n  /**\n  Command that implements deleting a pair of matching brackets when\n  the cursor is between them.\n  */\n  const deleteBracketPair = ({ state, dispatch }) => {\n      if (state.readOnly)\n          return false;\n      let conf = config(state, state.selection.main.head);\n      let tokens = conf.brackets || defaults.brackets;\n      let dont = null, changes = state.changeByRange(range => {\n          if (range.empty) {\n              let before = prevChar(state.doc, range.head);\n              for (let token of tokens) {\n                  if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                      return { changes: { from: range.head - token.length, to: range.head + token.length },\n                          range: EditorSelection.cursor(range.head - token.length) };\n              }\n          }\n          return { range: dont = range };\n      });\n      if (!dont)\n          dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"delete.backward\" }));\n      return !dont;\n  };\n  /**\n  Close-brackets related key bindings. Binds Backspace to\n  [`deleteBracketPair`](https://codemirror.net/6/docs/ref/#autocomplete.deleteBracketPair).\n  */\n  const closeBracketsKeymap = [\n      { key: \"Backspace\", run: deleteBracketPair }\n  ];\n  /**\n  Implements the extension's behavior on text insertion. If the\n  given string counts as a bracket in the language around the\n  selection, and replacing the selection with it requires custom\n  behavior (inserting a closing version or skipping past a\n  previously-closed bracket), this function returns a transaction\n  representing that custom behavior. (You only need this if you want\n  to programmatically insert bracketsthe\n  [`closeBrackets`](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets) extension will\n  take care of running this for user input.)\n  */\n  function insertBracket(state, bracket) {\n      let conf = config(state, state.selection.main.head);\n      let tokens = conf.brackets || defaults.brackets;\n      for (let tok of tokens) {\n          let closed = closing(codePointAt(tok, 0));\n          if (bracket == tok)\n              return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1, conf)\n                  : handleOpen(state, tok, closed, conf.before || defaults.before);\n          if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n              return handleClose(state, tok, closed);\n      }\n      return null;\n  }\n  function closedBracketAt(state, pos) {\n      let found = false;\n      state.field(bracketState).between(0, state.doc.length, from => {\n          if (from == pos)\n              found = true;\n      });\n      return found;\n  }\n  function nextChar(doc, pos) {\n      let next = doc.sliceString(pos, pos + 2);\n      return next.slice(0, codePointSize(codePointAt(next, 0)));\n  }\n  function prevChar(doc, pos) {\n      let prev = doc.sliceString(pos - 2, pos);\n      return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n  }\n  function handleOpen(state, open, close, closeBefore) {\n      let dont = null, changes = state.changeByRange(range => {\n          if (!range.empty)\n              return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                  effects: closeBracketEffect.of(range.to + open.length),\n                  range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n          let next = nextChar(state.doc, range.head);\n          if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n              return { changes: { insert: open + close, from: range.head },\n                  effects: closeBracketEffect.of(range.head + open.length),\n                  range: EditorSelection.cursor(range.head + open.length) };\n          return { range: dont = range };\n      });\n      return dont ? null : state.update(changes, {\n          scrollIntoView: true,\n          userEvent: \"input.type\"\n      });\n  }\n  function handleClose(state, _open, close) {\n      let dont = null, changes = state.changeByRange(range => {\n          if (range.empty && nextChar(state.doc, range.head) == close)\n              return { changes: { from: range.head, to: range.head + close.length, insert: close },\n                  range: EditorSelection.cursor(range.head + close.length) };\n          return dont = { range };\n      });\n      return dont ? null : state.update(changes, {\n          scrollIntoView: true,\n          userEvent: \"input.type\"\n      });\n  }\n  // Handles cases where the open and close token are the same, and\n  // possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\n  function handleSame(state, token, allowTriple, config) {\n      let stringPrefixes = config.stringPrefixes || defaults.stringPrefixes;\n      let dont = null, changes = state.changeByRange(range => {\n          if (!range.empty)\n              return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                  effects: closeBracketEffect.of(range.to + token.length),\n                  range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n          let pos = range.head, next = nextChar(state.doc, pos), start;\n          if (next == token) {\n              if (nodeStart(state, pos)) {\n                  return { changes: { insert: token + token, from: pos },\n                      effects: closeBracketEffect.of(pos + token.length),\n                      range: EditorSelection.cursor(pos + token.length) };\n              }\n              else if (closedBracketAt(state, pos)) {\n                  let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                  let content = isTriple ? token + token + token : token;\n                  return { changes: { from: pos, to: pos + content.length, insert: content },\n                      range: EditorSelection.cursor(pos + content.length) };\n              }\n          }\n          else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n              (start = canStartStringAt(state, pos - 2 * token.length, stringPrefixes)) > -1 &&\n              nodeStart(state, start)) {\n              return { changes: { insert: token + token + token + token, from: pos },\n                  effects: closeBracketEffect.of(pos + token.length),\n                  range: EditorSelection.cursor(pos + token.length) };\n          }\n          else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n              if (canStartStringAt(state, pos, stringPrefixes) > -1 && !probablyInString(state, pos, token, stringPrefixes))\n                  return { changes: { insert: token + token, from: pos },\n                      effects: closeBracketEffect.of(pos + token.length),\n                      range: EditorSelection.cursor(pos + token.length) };\n          }\n          return { range: dont = range };\n      });\n      return dont ? null : state.update(changes, {\n          scrollIntoView: true,\n          userEvent: \"input.type\"\n      });\n  }\n  function nodeStart(state, pos) {\n      let tree = syntaxTree(state).resolveInner(pos + 1);\n      return tree.parent && tree.from == pos;\n  }\n  function probablyInString(state, pos, quoteToken, prefixes) {\n      let node = syntaxTree(state).resolveInner(pos, -1);\n      let maxPrefix = prefixes.reduce((m, p) => Math.max(m, p.length), 0);\n      for (let i = 0; i < 5; i++) {\n          let start = state.sliceDoc(node.from, Math.min(node.to, node.from + quoteToken.length + maxPrefix));\n          let quotePos = start.indexOf(quoteToken);\n          if (!quotePos || quotePos > -1 && prefixes.indexOf(start.slice(0, quotePos)) > -1) {\n              let first = node.firstChild;\n              while (first && first.from == node.from && first.to - first.from > quoteToken.length + quotePos) {\n                  if (state.sliceDoc(first.to - quoteToken.length, first.to) == quoteToken)\n                      return false;\n                  first = first.firstChild;\n              }\n              return true;\n          }\n          let parent = node.to == pos && node.parent;\n          if (!parent)\n              break;\n          node = parent;\n      }\n      return false;\n  }\n  function canStartStringAt(state, pos, prefixes) {\n      let charCat = state.charCategorizer(pos);\n      if (charCat(state.sliceDoc(pos - 1, pos)) != CharCategory.Word)\n          return pos;\n      for (let prefix of prefixes) {\n          let start = pos - prefix.length;\n          if (state.sliceDoc(start, pos) == prefix && charCat(state.sliceDoc(start - 1, start)) != CharCategory.Word)\n              return start;\n      }\n      return -1;\n  }\n\n  /**\n  Returns an extension that enables autocompletion.\n  */\n  function autocompletion(config = {}) {\n      return [\n          commitCharacters,\n          completionState,\n          completionConfig.of(config),\n          completionPlugin,\n          completionKeymapExt,\n          baseTheme$1\n      ];\n  }\n  /**\n  Basic keybindings for autocompletion.\n\n   - Ctrl-Space (and Alt-\\` or Alt-i on macOS): [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n   - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n   - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n   - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n   - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n   - PageUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false, \"page\")`\n   - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n  */\n  const completionKeymap = [\n      { key: \"Ctrl-Space\", run: startCompletion },\n      { mac: \"Alt-`\", run: startCompletion },\n      { mac: \"Alt-i\", run: startCompletion },\n      { key: \"Escape\", run: closeCompletion },\n      { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n      { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n      { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n      { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n      { key: \"Enter\", run: acceptCompletion }\n  ];\n  const completionKeymapExt = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n\n  class SelectedDiagnostic {\n      constructor(from, to, diagnostic) {\n          this.from = from;\n          this.to = to;\n          this.diagnostic = diagnostic;\n      }\n  }\n  class LintState {\n      constructor(diagnostics, panel, selected) {\n          this.diagnostics = diagnostics;\n          this.panel = panel;\n          this.selected = selected;\n      }\n      static init(diagnostics, panel, state) {\n          // Filter the list of diagnostics for which to create markers\n          let diagnosticFilter = state.facet(lintConfig).markerFilter;\n          if (diagnosticFilter)\n              diagnostics = diagnosticFilter(diagnostics, state);\n          let sorted = diagnostics.slice().sort((a, b) => a.from - b.from || a.to - b.to);\n          let deco = new RangeSetBuilder(), active = [], pos = 0;\n          for (let i = 0;;) {\n              let next = i == sorted.length ? null : sorted[i];\n              if (!next && !active.length)\n                  break;\n              let from, to;\n              if (active.length) {\n                  from = pos;\n                  to = active.reduce((p, d) => Math.min(p, d.to), next && next.from > from ? next.from : 1e8);\n              }\n              else {\n                  from = next.from;\n                  to = next.to;\n                  active.push(next);\n                  i++;\n              }\n              while (i < sorted.length) {\n                  let next = sorted[i];\n                  if (next.from == from && (next.to > next.from || next.to == from)) {\n                      active.push(next);\n                      i++;\n                      to = Math.min(next.to, to);\n                  }\n                  else {\n                      to = Math.min(next.from, to);\n                      break;\n                  }\n              }\n              let sev = maxSeverity(active);\n              if (active.some(d => d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from))) {\n                  deco.add(from, from, Decoration.widget({\n                      widget: new DiagnosticWidget(sev),\n                      diagnostics: active.slice()\n                  }));\n              }\n              else {\n                  let markClass = active.reduce((c, d) => d.markClass ? c + \" \" + d.markClass : c, \"\");\n                  deco.add(from, to, Decoration.mark({\n                      class: \"cm-lintRange cm-lintRange-\" + sev + markClass,\n                      diagnostics: active.slice(),\n                      inclusiveEnd: active.some(a => a.to > to)\n                  }));\n              }\n              pos = to;\n              for (let i = 0; i < active.length; i++)\n                  if (active[i].to <= pos)\n                      active.splice(i--, 1);\n          }\n          let set = deco.finish();\n          return new LintState(set, panel, findDiagnostic(set));\n      }\n  }\n  function findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n      let found = null;\n      diagnostics.between(after, 1e9, (from, to, { spec }) => {\n          if (diagnostic && spec.diagnostics.indexOf(diagnostic) < 0)\n              return;\n          if (!found)\n              found = new SelectedDiagnostic(from, to, diagnostic || spec.diagnostics[0]);\n          else if (spec.diagnostics.indexOf(found.diagnostic) < 0)\n              return false;\n          else\n              found = new SelectedDiagnostic(found.from, to, found.diagnostic);\n      });\n      return found;\n  }\n  function hideTooltip(tr, tooltip) {\n      let from = tooltip.pos, to = tooltip.end || from;\n      let result = tr.state.facet(lintConfig).hideOn(tr, from, to);\n      if (result != null)\n          return result;\n      let line = tr.startState.doc.lineAt(tooltip.pos);\n      return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(line.from, Math.max(line.to, to)));\n  }\n  function maybeEnableLint(state, effects) {\n      return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of(lintExtensions));\n  }\n  /**\n  The state effect that updates the set of active diagnostics. Can\n  be useful when writing an extension that needs to track these.\n  */\n  const setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\n  const togglePanel = /*@__PURE__*/StateEffect.define();\n  const movePanelSelection = /*@__PURE__*/StateEffect.define();\n  const lintState = /*@__PURE__*/StateField.define({\n      create() {\n          return new LintState(Decoration.none, null, null);\n      },\n      update(value, tr) {\n          if (tr.docChanged && value.diagnostics.size) {\n              let mapped = value.diagnostics.map(tr.changes), selected = null, panel = value.panel;\n              if (value.selected) {\n                  let selPos = tr.changes.mapPos(value.selected.from, 1);\n                  selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n              }\n              if (!mapped.size && panel && tr.state.facet(lintConfig).autoPanel)\n                  panel = null;\n              value = new LintState(mapped, panel, selected);\n          }\n          for (let effect of tr.effects) {\n              if (effect.is(setDiagnosticsEffect)) {\n                  let panel = !tr.state.facet(lintConfig).autoPanel ? value.panel : effect.value.length ? LintPanel.open : null;\n                  value = LintState.init(effect.value, panel, tr.state);\n              }\n              else if (effect.is(togglePanel)) {\n                  value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n              }\n              else if (effect.is(movePanelSelection)) {\n                  value = new LintState(value.diagnostics, value.panel, effect.value);\n              }\n          }\n          return value;\n      },\n      provide: f => [showPanel.from(f, val => val.panel),\n          EditorView.decorations.from(f, s => s.diagnostics)]\n  });\n  const activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\n  function lintTooltip(view, pos, side) {\n      let { diagnostics } = view.state.field(lintState);\n      let found, start = -1, end = -1;\n      diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n          if (pos >= from && pos <= to &&\n              (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n              found = spec.diagnostics;\n              start = from;\n              end = to;\n              return false;\n          }\n      });\n      let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n      if (found && diagnosticFilter)\n          found = diagnosticFilter(found, view.state);\n      if (!found)\n          return null;\n      return {\n          pos: start,\n          end: end,\n          above: view.state.doc.lineAt(start).to < end,\n          create() {\n              return { dom: diagnosticsTooltip(view, found) };\n          }\n      };\n  }\n  function diagnosticsTooltip(view, diagnostics) {\n      return crelt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\n  }\n  /**\n  Command to open and focus the lint panel.\n  */\n  const openLintPanel = (view) => {\n      let field = view.state.field(lintState, false);\n      if (!field || !field.panel)\n          view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n      let panel = getPanel(view, LintPanel.open);\n      if (panel)\n          panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n      return true;\n  };\n  /**\n  Command to close the lint panel, when open.\n  */\n  const closeLintPanel = (view) => {\n      let field = view.state.field(lintState, false);\n      if (!field || !field.panel)\n          return false;\n      view.dispatch({ effects: togglePanel.of(false) });\n      return true;\n  };\n  /**\n  Move the selection to the next diagnostic.\n  */\n  const nextDiagnostic = (view) => {\n      let field = view.state.field(lintState, false);\n      if (!field)\n          return false;\n      let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n      if (!next.value) {\n          next = field.diagnostics.iter(0);\n          if (!next.value || next.from == sel.from && next.to == sel.to)\n              return false;\n      }\n      view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n      return true;\n  };\n  /**\n  A set of default key bindings for the lint functionality.\n\n  - Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n  - F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n  */\n  const lintKeymap = [\n      { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\n      { key: \"F8\", run: nextDiagnostic }\n  ];\n  const lintConfig = /*@__PURE__*/Facet.define({\n      combine(input) {\n          return Object.assign({ sources: input.map(i => i.source).filter(x => x != null) }, combineConfig(input.map(i => i.config), {\n              delay: 750,\n              markerFilter: null,\n              tooltipFilter: null,\n              needsRefresh: null,\n              hideOn: () => null,\n          }, {\n              needsRefresh: (a, b) => !a ? b : !b ? a : u => a(u) || b(u)\n          }));\n      }\n  });\n  function assignKeys(actions) {\n      let assigned = [];\n      if (actions)\n          actions: for (let { name } of actions) {\n              for (let i = 0; i < name.length; i++) {\n                  let ch = name[i];\n                  if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                      assigned.push(ch);\n                      continue actions;\n                  }\n              }\n              assigned.push(\"\");\n          }\n      return assigned;\n  }\n  function renderDiagnostic(view, diagnostic, inPanel) {\n      var _a;\n      let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n      return crelt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, crelt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage(view) : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n          let fired = false, click = (e) => {\n              e.preventDefault();\n              if (fired)\n                  return;\n              fired = true;\n              let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n              if (found)\n                  action.apply(view, found.from, found.to);\n          };\n          let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n          let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n              crelt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n              name.slice(keyIndex + 1)];\n          return crelt(\"button\", {\n              type: \"button\",\n              class: \"cm-diagnosticAction\",\n              onclick: click,\n              onmousedown: click,\n              \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n          }, nameElt);\n      }), diagnostic.source && crelt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n  }\n  class DiagnosticWidget extends WidgetType {\n      constructor(sev) {\n          super();\n          this.sev = sev;\n      }\n      eq(other) { return other.sev == this.sev; }\n      toDOM() {\n          return crelt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.sev });\n      }\n  }\n  class PanelItem {\n      constructor(view, diagnostic) {\n          this.diagnostic = diagnostic;\n          this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n          this.dom = renderDiagnostic(view, diagnostic, true);\n          this.dom.id = this.id;\n          this.dom.setAttribute(\"role\", \"option\");\n      }\n  }\n  class LintPanel {\n      constructor(view) {\n          this.view = view;\n          this.items = [];\n          let onkeydown = (event) => {\n              if (event.keyCode == 27) { // Escape\n                  closeLintPanel(this.view);\n                  this.view.focus();\n              }\n              else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                  this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n              }\n              else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                  this.moveSelection((this.selectedIndex + 1) % this.items.length);\n              }\n              else if (event.keyCode == 36) { // Home\n                  this.moveSelection(0);\n              }\n              else if (event.keyCode == 35) { // End\n                  this.moveSelection(this.items.length - 1);\n              }\n              else if (event.keyCode == 13) { // Enter\n                  this.view.focus();\n              }\n              else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                  let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                  for (let i = 0; i < keys.length; i++)\n                      if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                          let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                          if (found)\n                              diagnostic.actions[i].apply(view, found.from, found.to);\n                      }\n              }\n              else {\n                  return;\n              }\n              event.preventDefault();\n          };\n          let onclick = (event) => {\n              for (let i = 0; i < this.items.length; i++) {\n                  if (this.items[i].dom.contains(event.target))\n                      this.moveSelection(i);\n              }\n          };\n          this.list = crelt(\"ul\", {\n              tabIndex: 0,\n              role: \"listbox\",\n              \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n              onkeydown,\n              onclick\n          });\n          this.dom = crelt(\"div\", { class: \"cm-panel-lint\" }, this.list, crelt(\"button\", {\n              type: \"button\",\n              name: \"close\",\n              \"aria-label\": this.view.state.phrase(\"close\"),\n              onclick: () => closeLintPanel(this.view)\n          }, \"\"));\n          this.update();\n      }\n      get selectedIndex() {\n          let selected = this.view.state.field(lintState).selected;\n          if (!selected)\n              return -1;\n          for (let i = 0; i < this.items.length; i++)\n              if (this.items[i].diagnostic == selected.diagnostic)\n                  return i;\n          return -1;\n      }\n      update() {\n          let { diagnostics, selected } = this.view.state.field(lintState);\n          let i = 0, needsSync = false, newSelectedItem = null;\n          let seen = new Set();\n          diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n              for (let diagnostic of spec.diagnostics) {\n                  if (seen.has(diagnostic))\n                      continue;\n                  seen.add(diagnostic);\n                  let found = -1, item;\n                  for (let j = i; j < this.items.length; j++)\n                      if (this.items[j].diagnostic == diagnostic) {\n                          found = j;\n                          break;\n                      }\n                  if (found < 0) {\n                      item = new PanelItem(this.view, diagnostic);\n                      this.items.splice(i, 0, item);\n                      needsSync = true;\n                  }\n                  else {\n                      item = this.items[found];\n                      if (found > i) {\n                          this.items.splice(i, found - i);\n                          needsSync = true;\n                      }\n                  }\n                  if (selected && item.diagnostic == selected.diagnostic) {\n                      if (!item.dom.hasAttribute(\"aria-selected\")) {\n                          item.dom.setAttribute(\"aria-selected\", \"true\");\n                          newSelectedItem = item;\n                      }\n                  }\n                  else if (item.dom.hasAttribute(\"aria-selected\")) {\n                      item.dom.removeAttribute(\"aria-selected\");\n                  }\n                  i++;\n              }\n          });\n          while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n              needsSync = true;\n              this.items.pop();\n          }\n          if (this.items.length == 0) {\n              this.items.push(new PanelItem(this.view, {\n                  from: -1, to: -1,\n                  severity: \"info\",\n                  message: this.view.state.phrase(\"No diagnostics\")\n              }));\n              needsSync = true;\n          }\n          if (newSelectedItem) {\n              this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n              this.view.requestMeasure({\n                  key: this,\n                  read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                  write: ({ sel, panel }) => {\n                      let scaleY = panel.height / this.list.offsetHeight;\n                      if (sel.top < panel.top)\n                          this.list.scrollTop -= (panel.top - sel.top) / scaleY;\n                      else if (sel.bottom > panel.bottom)\n                          this.list.scrollTop += (sel.bottom - panel.bottom) / scaleY;\n                  }\n              });\n          }\n          else if (this.selectedIndex < 0) {\n              this.list.removeAttribute(\"aria-activedescendant\");\n          }\n          if (needsSync)\n              this.sync();\n      }\n      sync() {\n          let domPos = this.list.firstChild;\n          function rm() {\n              let prev = domPos;\n              domPos = prev.nextSibling;\n              prev.remove();\n          }\n          for (let item of this.items) {\n              if (item.dom.parentNode == this.list) {\n                  while (domPos != item.dom)\n                      rm();\n                  domPos = item.dom.nextSibling;\n              }\n              else {\n                  this.list.insertBefore(item.dom, domPos);\n              }\n          }\n          while (domPos)\n              rm();\n      }\n      moveSelection(selectedIndex) {\n          if (this.selectedIndex < 0)\n              return;\n          let field = this.view.state.field(lintState);\n          let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n          if (!selection)\n              return;\n          this.view.dispatch({\n              selection: { anchor: selection.from, head: selection.to },\n              scrollIntoView: true,\n              effects: movePanelSelection.of(selection)\n          });\n      }\n      static open(view) { return new LintPanel(view); }\n  }\n  function svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n      return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\n  }\n  function underline(color) {\n      return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\n  }\n  const baseTheme = /*@__PURE__*/EditorView.baseTheme({\n      \".cm-diagnostic\": {\n          padding: \"3px 6px 3px 8px\",\n          marginLeft: \"-1px\",\n          display: \"block\",\n          whiteSpace: \"pre-wrap\"\n      },\n      \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n      \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n      \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n      \".cm-diagnostic-hint\": { borderLeft: \"5px solid #66d\" },\n      \".cm-diagnosticAction\": {\n          font: \"inherit\",\n          border: \"none\",\n          padding: \"2px 4px\",\n          backgroundColor: \"#444\",\n          color: \"white\",\n          borderRadius: \"3px\",\n          marginLeft: \"8px\",\n          cursor: \"pointer\"\n      },\n      \".cm-diagnosticSource\": {\n          fontSize: \"70%\",\n          opacity: .7\n      },\n      \".cm-lintRange\": {\n          backgroundPosition: \"left bottom\",\n          backgroundRepeat: \"repeat-x\",\n          paddingBottom: \"0.7px\",\n      },\n      \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n      \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n      \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n      \".cm-lintRange-hint\": { backgroundImage: /*@__PURE__*/underline(\"#66d\") },\n      \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n      \".cm-tooltip-lint\": {\n          padding: 0,\n          margin: 0\n      },\n      \".cm-lintPoint\": {\n          position: \"relative\",\n          \"&:after\": {\n              content: '\"\"',\n              position: \"absolute\",\n              bottom: 0,\n              left: \"-2px\",\n              borderLeft: \"3px solid transparent\",\n              borderRight: \"3px solid transparent\",\n              borderBottom: \"4px solid #d11\"\n          }\n      },\n      \".cm-lintPoint-warning\": {\n          \"&:after\": { borderBottomColor: \"orange\" }\n      },\n      \".cm-lintPoint-info\": {\n          \"&:after\": { borderBottomColor: \"#999\" }\n      },\n      \".cm-lintPoint-hint\": {\n          \"&:after\": { borderBottomColor: \"#66d\" }\n      },\n      \".cm-panel.cm-panel-lint\": {\n          position: \"relative\",\n          \"& ul\": {\n              maxHeight: \"100px\",\n              overflowY: \"auto\",\n              \"& [aria-selected]\": {\n                  backgroundColor: \"#ddd\",\n                  \"& u\": { textDecoration: \"underline\" }\n              },\n              \"&:focus [aria-selected]\": {\n                  background_fallback: \"#bdf\",\n                  backgroundColor: \"Highlight\",\n                  color_fallback: \"white\",\n                  color: \"HighlightText\"\n              },\n              \"& u\": { textDecoration: \"none\" },\n              padding: 0,\n              margin: 0\n          },\n          \"& [name=close]\": {\n              position: \"absolute\",\n              top: \"0\",\n              right: \"2px\",\n              background: \"inherit\",\n              border: \"none\",\n              font: \"inherit\",\n              padding: 0,\n              margin: 0\n          }\n      }\n  });\n  function severityWeight(sev) {\n      return sev == \"error\" ? 4 : sev == \"warning\" ? 3 : sev == \"info\" ? 2 : 1;\n  }\n  function maxSeverity(diagnostics) {\n      let sev = \"hint\", weight = 1;\n      for (let d of diagnostics) {\n          let w = severityWeight(d.severity);\n          if (w > weight) {\n              weight = w;\n              sev = d.severity;\n          }\n      }\n      return sev;\n  }\n  const lintExtensions = [\n      lintState,\n      /*@__PURE__*/EditorView.decorations.compute([lintState], state => {\n          let { selected, panel } = state.field(lintState);\n          return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n              activeMark.range(selected.from, selected.to)\n          ]);\n      }),\n      /*@__PURE__*/hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\n      baseTheme\n  ];\n\n  // (The superfluous function calls around the list of extensions work\n  // around current limitations in tree-shaking software.)\n  /**\n  This is an extension value that just pulls together a number of\n  extensions that you might want in a basic editor. It is meant as a\n  convenient helper to quickly set up CodeMirror without installing\n  and importing a lot of separate packages.\n\n  Specifically, it includes...\n\n   - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n   - [line numbers](https://codemirror.net/6/docs/ref/#view.lineNumbers)\n   - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n   - [the undo history](https://codemirror.net/6/docs/ref/#commands.history)\n   - [a fold gutter](https://codemirror.net/6/docs/ref/#language.foldGutter)\n   - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n   - [drop cursor](https://codemirror.net/6/docs/ref/#view.dropCursor)\n   - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n   - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n   - [the default highlight style](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle) (as fallback)\n   - [bracket matching](https://codemirror.net/6/docs/ref/#language.bracketMatching)\n   - [bracket closing](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets)\n   - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n   - [rectangular selection](https://codemirror.net/6/docs/ref/#view.rectangularSelection) and [crosshair cursor](https://codemirror.net/6/docs/ref/#view.crosshairCursor)\n   - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n   - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLineGutter)\n   - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n   - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n   - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n  (You'll probably want to add some language package to your setup\n  too.)\n\n  This extension does not allow customization. The idea is that,\n  once you decide you want to configure your editor more precisely,\n  you take this package's source (which is just a bunch of imports\n  and an array literal), copy it into your own code, and adjust it\n  as desired.\n  */\n  const basicSetup = /*@__PURE__*/(() => [\n      lineNumbers(),\n      highlightActiveLineGutter(),\n      highlightSpecialChars(),\n      history(),\n      foldGutter(),\n      drawSelection(),\n      dropCursor(),\n      EditorState.allowMultipleSelections.of(true),\n      indentOnInput(),\n      syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n      bracketMatching(),\n      closeBrackets(),\n      autocompletion(),\n      rectangularSelection(),\n      crosshairCursor(),\n      highlightActiveLine(),\n      highlightSelectionMatches(),\n      keymap.of([\n          ...closeBracketsKeymap,\n          ...defaultKeymap,\n          ...searchKeymap,\n          ...historyKeymap,\n          ...foldKeymap,\n          ...completionKeymap,\n          ...lintKeymap\n      ])\n  ])();\n\n  /**\n  A parse stack. These are used internally by the parser to track\n  parsing progress. They also provide some properties and methods\n  that external code such as a tokenizer can use to get information\n  about the parse state.\n  */\n  class Stack {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The parse that this stack is part of @internal\n      */\n      p, \n      /**\n      Holds state, input pos, buffer index triplets for all but the\n      top state @internal\n      */\n      stack, \n      /**\n      The current parse state @internal\n      */\n      state, \n      // The position at which the next reduce should take place. This\n      // can be less than `this.pos` when skipped expressions have been\n      // added to the stack (which should be moved outside of the next\n      // reduction)\n      /**\n      @internal\n      */\n      reducePos, \n      /**\n      The input position up to which this stack has parsed.\n      */\n      pos, \n      /**\n      The dynamic score of the stack, including dynamic precedence\n      and error-recovery penalties\n      @internal\n      */\n      score, \n      // The output buffer. Holds (type, start, end, size) quads\n      // representing nodes created by the parser, where `size` is\n      // amount of buffer array entries covered by this node.\n      /**\n      @internal\n      */\n      buffer, \n      // The base offset of the buffer. When stacks are split, the split\n      // instance shared the buffer history with its parent up to\n      // `bufferBase`, which is the absolute offset (including the\n      // offset of previous splits) into the buffer at which this stack\n      // starts writing.\n      /**\n      @internal\n      */\n      bufferBase, \n      /**\n      @internal\n      */\n      curContext, \n      /**\n      @internal\n      */\n      lookAhead = 0, \n      // A parent stack from which this was split off, if any. This is\n      // set up so that it always points to a stack that has some\n      // additional buffer content, never to a stack with an equal\n      // `bufferBase`.\n      /**\n      @internal\n      */\n      parent) {\n          this.p = p;\n          this.stack = stack;\n          this.state = state;\n          this.reducePos = reducePos;\n          this.pos = pos;\n          this.score = score;\n          this.buffer = buffer;\n          this.bufferBase = bufferBase;\n          this.curContext = curContext;\n          this.lookAhead = lookAhead;\n          this.parent = parent;\n      }\n      /**\n      @internal\n      */\n      toString() {\n          return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n      }\n      // Start an empty stack\n      /**\n      @internal\n      */\n      static start(p, state, pos = 0) {\n          let cx = p.parser.context;\n          return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);\n      }\n      /**\n      The stack's current [context](#lr.ContextTracker) value, if\n      any. Its type will depend on the context tracker's type\n      parameter, or it will be `null` if there is no context\n      tracker.\n      */\n      get context() { return this.curContext ? this.curContext.context : null; }\n      // Push a state onto the stack, tracking its start position as well\n      // as the buffer base at that point.\n      /**\n      @internal\n      */\n      pushState(state, start) {\n          this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n          this.state = state;\n      }\n      // Apply a reduce action\n      /**\n      @internal\n      */\n      reduce(action) {\n          var _a;\n          let depth = action >> 19 /* Action.ReduceDepthShift */, type = action & 65535 /* Action.ValueMask */;\n          let { parser } = this.p;\n          let lookaheadRecord = this.reducePos < this.pos - 25 /* Lookahead.Margin */;\n          if (lookaheadRecord)\n              this.setLookAhead(this.pos);\n          let dPrec = parser.dynamicPrecedence(type);\n          if (dPrec)\n              this.score += dPrec;\n          if (depth == 0) {\n              this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n              // Zero-depth reductions are a special casethey add stuff to\n              // the stack without popping anything off.\n              if (type < parser.minRepeatTerm)\n                  this.storeNode(type, this.reducePos, this.reducePos, lookaheadRecord ? 8 : 4, true);\n              this.reduceContext(type, this.reducePos);\n              return;\n          }\n          // Find the base index into `this.stack`, content after which will\n          // be dropped. Note that with `StayFlag` reductions we need to\n          // consume two extra frames (the dummy parent node for the skipped\n          // expression and the state that we'll be staying in, which should\n          // be moved to `this.state`).\n          let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* Action.StayFlag */ ? 6 : 0);\n          let start = base ? this.stack[base - 2] : this.p.ranges[0].from, size = this.reducePos - start;\n          // This is a kludge to try and detect overly deep left-associative\n          // trees, which will not increase the parse stack depth and thus\n          // won't be caught by the regular stack-depth limit check.\n          if (size >= 2000 /* Recover.MinBigReduction */ && !((_a = this.p.parser.nodeSet.types[type]) === null || _a === void 0 ? void 0 : _a.isAnonymous)) {\n              if (start == this.p.lastBigReductionStart) {\n                  this.p.bigReductionCount++;\n                  this.p.lastBigReductionSize = size;\n              }\n              else if (this.p.lastBigReductionSize < size) {\n                  this.p.bigReductionCount = 1;\n                  this.p.lastBigReductionStart = start;\n                  this.p.lastBigReductionSize = size;\n              }\n          }\n          let bufferBase = base ? this.stack[base - 1] : 0, count = this.bufferBase + this.buffer.length - bufferBase;\n          // Store normal terms or `R -> R R` repeat reductions\n          if (type < parser.minRepeatTerm || (action & 131072 /* Action.RepeatFlag */)) {\n              let pos = parser.stateFlag(this.state, 1 /* StateFlag.Skipped */) ? this.pos : this.reducePos;\n              this.storeNode(type, start, pos, count + 4, true);\n          }\n          if (action & 262144 /* Action.StayFlag */) {\n              this.state = this.stack[base];\n          }\n          else {\n              let baseStateID = this.stack[base - 3];\n              this.state = parser.getGoto(baseStateID, type, true);\n          }\n          while (this.stack.length > base)\n              this.stack.pop();\n          this.reduceContext(type, start);\n      }\n      // Shift a value into the buffer\n      /**\n      @internal\n      */\n      storeNode(term, start, end, size = 4, mustSink = false) {\n          if (term == 0 /* Term.Err */ &&\n              (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {\n              // Try to omit/merge adjacent error nodes\n              let cur = this, top = this.buffer.length;\n              if (top == 0 && cur.parent) {\n                  top = cur.bufferBase - cur.parent.bufferBase;\n                  cur = cur.parent;\n              }\n              if (top > 0 && cur.buffer[top - 4] == 0 /* Term.Err */ && cur.buffer[top - 1] > -1) {\n                  if (start == end)\n                      return;\n                  if (cur.buffer[top - 2] >= start) {\n                      cur.buffer[top - 2] = end;\n                      return;\n                  }\n              }\n          }\n          if (!mustSink || this.pos == end) { // Simple case, just append\n              this.buffer.push(term, start, end, size);\n          }\n          else { // There may be skipped nodes that have to be moved forward\n              let index = this.buffer.length;\n              if (index > 0 && this.buffer[index - 4] != 0 /* Term.Err */) {\n                  let mustMove = false;\n                  for (let scan = index; scan > 0 && this.buffer[scan - 2] > end; scan -= 4) {\n                      if (this.buffer[scan - 1] >= 0) {\n                          mustMove = true;\n                          break;\n                      }\n                  }\n                  if (mustMove)\n                      while (index > 0 && this.buffer[index - 2] > end) {\n                          // Move this record forward\n                          this.buffer[index] = this.buffer[index - 4];\n                          this.buffer[index + 1] = this.buffer[index - 3];\n                          this.buffer[index + 2] = this.buffer[index - 2];\n                          this.buffer[index + 3] = this.buffer[index - 1];\n                          index -= 4;\n                          if (size > 4)\n                              size -= 4;\n                      }\n              }\n              this.buffer[index] = term;\n              this.buffer[index + 1] = start;\n              this.buffer[index + 2] = end;\n              this.buffer[index + 3] = size;\n          }\n      }\n      // Apply a shift action\n      /**\n      @internal\n      */\n      shift(action, type, start, end) {\n          if (action & 131072 /* Action.GotoFlag */) {\n              this.pushState(action & 65535 /* Action.ValueMask */, this.pos);\n          }\n          else if ((action & 262144 /* Action.StayFlag */) == 0) { // Regular shift\n              let nextState = action, { parser } = this.p;\n              if (end > this.pos || type <= parser.maxNode) {\n                  this.pos = end;\n                  if (!parser.stateFlag(nextState, 1 /* StateFlag.Skipped */))\n                      this.reducePos = end;\n              }\n              this.pushState(nextState, start);\n              this.shiftContext(type, start);\n              if (type <= parser.maxNode)\n                  this.buffer.push(type, start, end, 4);\n          }\n          else { // Shift-and-stay, which means this is a skipped token\n              this.pos = end;\n              this.shiftContext(type, start);\n              if (type <= this.p.parser.maxNode)\n                  this.buffer.push(type, start, end, 4);\n          }\n      }\n      // Apply an action\n      /**\n      @internal\n      */\n      apply(action, next, nextStart, nextEnd) {\n          if (action & 65536 /* Action.ReduceFlag */)\n              this.reduce(action);\n          else\n              this.shift(action, next, nextStart, nextEnd);\n      }\n      // Add a prebuilt (reused) node into the buffer.\n      /**\n      @internal\n      */\n      useNode(value, next) {\n          let index = this.p.reused.length - 1;\n          if (index < 0 || this.p.reused[index] != value) {\n              this.p.reused.push(value);\n              index++;\n          }\n          let start = this.pos;\n          this.reducePos = this.pos = start + value.length;\n          this.pushState(next, start);\n          this.buffer.push(index, start, this.reducePos, -1 /* size == -1 means this is a reused value */);\n          if (this.curContext)\n              this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));\n      }\n      // Split the stack. Due to the buffer sharing and the fact\n      // that `this.stack` tends to stay quite shallow, this isn't very\n      // expensive.\n      /**\n      @internal\n      */\n      split() {\n          let parent = this;\n          let off = parent.buffer.length;\n          // Because the top of the buffer (after this.pos) may be mutated\n          // to reorder reductions and skipped tokens, and shared buffers\n          // should be immutable, this copies any outstanding skipped tokens\n          // to the new buffer, and puts the base pointer before them.\n          while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n              off -= 4;\n          let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n          // Make sure parent points to an actual parent with content, if there is such a parent.\n          while (parent && base == parent.bufferBase)\n              parent = parent.parent;\n          return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, this.lookAhead, parent);\n      }\n      // Try to recover from an error by 'deleting' (ignoring) one token.\n      /**\n      @internal\n      */\n      recoverByDelete(next, nextEnd) {\n          let isNode = next <= this.p.parser.maxNode;\n          if (isNode)\n              this.storeNode(next, this.pos, nextEnd, 4);\n          this.storeNode(0 /* Term.Err */, this.pos, nextEnd, isNode ? 8 : 4);\n          this.pos = this.reducePos = nextEnd;\n          this.score -= 190 /* Recover.Delete */;\n      }\n      /**\n      Check if the given term would be able to be shifted (optionally\n      after some reductions) on this stack. This can be useful for\n      external tokenizers that want to make sure they only provide a\n      given token when it applies.\n      */\n      canShift(term) {\n          for (let sim = new SimulatedStack(this);;) {\n              let action = this.p.parser.stateSlot(sim.state, 4 /* ParseState.DefaultReduce */) || this.p.parser.hasAction(sim.state, term);\n              if (action == 0)\n                  return false;\n              if ((action & 65536 /* Action.ReduceFlag */) == 0)\n                  return true;\n              sim.reduce(action);\n          }\n      }\n      // Apply up to Recover.MaxNext recovery actions that conceptually\n      // inserts some missing token or rule.\n      /**\n      @internal\n      */\n      recoverByInsert(next) {\n          if (this.stack.length >= 300 /* Recover.MaxInsertStackDepth */)\n              return [];\n          let nextStates = this.p.parser.nextStates(this.state);\n          if (nextStates.length > 4 /* Recover.MaxNext */ << 1 || this.stack.length >= 120 /* Recover.DampenInsertStackDepth */) {\n              let best = [];\n              for (let i = 0, s; i < nextStates.length; i += 2) {\n                  if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                      best.push(nextStates[i], s);\n              }\n              if (this.stack.length < 120 /* Recover.DampenInsertStackDepth */)\n                  for (let i = 0; best.length < 4 /* Recover.MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                      let s = nextStates[i + 1];\n                      if (!best.some((v, i) => (i & 1) && v == s))\n                          best.push(nextStates[i], s);\n                  }\n              nextStates = best;\n          }\n          let result = [];\n          for (let i = 0; i < nextStates.length && result.length < 4 /* Recover.MaxNext */; i += 2) {\n              let s = nextStates[i + 1];\n              if (s == this.state)\n                  continue;\n              let stack = this.split();\n              stack.pushState(s, this.pos);\n              stack.storeNode(0 /* Term.Err */, stack.pos, stack.pos, 4, true);\n              stack.shiftContext(nextStates[i], this.pos);\n              stack.reducePos = this.pos;\n              stack.score -= 200 /* Recover.Insert */;\n              result.push(stack);\n          }\n          return result;\n      }\n      // Force a reduce, if possible. Return false if that can't\n      // be done.\n      /**\n      @internal\n      */\n      forceReduce() {\n          let { parser } = this.p;\n          let reduce = parser.stateSlot(this.state, 5 /* ParseState.ForcedReduce */);\n          if ((reduce & 65536 /* Action.ReduceFlag */) == 0)\n              return false;\n          if (!parser.validAction(this.state, reduce)) {\n              let depth = reduce >> 19 /* Action.ReduceDepthShift */, term = reduce & 65535 /* Action.ValueMask */;\n              let target = this.stack.length - depth * 3;\n              if (target < 0 || parser.getGoto(this.stack[target], term, false) < 0) {\n                  let backup = this.findForcedReduction();\n                  if (backup == null)\n                      return false;\n                  reduce = backup;\n              }\n              this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n              this.score -= 100 /* Recover.Reduce */;\n          }\n          this.reducePos = this.pos;\n          this.reduce(reduce);\n          return true;\n      }\n      /**\n      Try to scan through the automaton to find some kind of reduction\n      that can be applied. Used when the regular ForcedReduce field\n      isn't a valid action. @internal\n      */\n      findForcedReduction() {\n          let { parser } = this.p, seen = [];\n          let explore = (state, depth) => {\n              if (seen.includes(state))\n                  return;\n              seen.push(state);\n              return parser.allActions(state, (action) => {\n                  if (action & (262144 /* Action.StayFlag */ | 131072 /* Action.GotoFlag */)) ;\n                  else if (action & 65536 /* Action.ReduceFlag */) {\n                      let rDepth = (action >> 19 /* Action.ReduceDepthShift */) - depth;\n                      if (rDepth > 1) {\n                          let term = action & 65535 /* Action.ValueMask */, target = this.stack.length - rDepth * 3;\n                          if (target >= 0 && parser.getGoto(this.stack[target], term, false) >= 0)\n                              return (rDepth << 19 /* Action.ReduceDepthShift */) | 65536 /* Action.ReduceFlag */ | term;\n                      }\n                  }\n                  else {\n                      let found = explore(action, depth + 1);\n                      if (found != null)\n                          return found;\n                  }\n              });\n          };\n          return explore(this.state, 0);\n      }\n      /**\n      @internal\n      */\n      forceAll() {\n          while (!this.p.parser.stateFlag(this.state, 2 /* StateFlag.Accepting */)) {\n              if (!this.forceReduce()) {\n                  this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n                  break;\n              }\n          }\n          return this;\n      }\n      /**\n      Check whether this state has no further actions (assumed to be a direct descendant of the\n      top state, since any other states must be able to continue\n      somehow). @internal\n      */\n      get deadEnd() {\n          if (this.stack.length != 3)\n              return false;\n          let { parser } = this.p;\n          return parser.data[parser.stateSlot(this.state, 1 /* ParseState.Actions */)] == 65535 /* Seq.End */ &&\n              !parser.stateSlot(this.state, 4 /* ParseState.DefaultReduce */);\n      }\n      /**\n      Restart the stack (put it back in its start state). Only safe\n      when this.stack.length == 3 (state is directly below the top\n      state). @internal\n      */\n      restart() {\n          this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n          this.state = this.stack[0];\n          this.stack.length = 0;\n      }\n      /**\n      @internal\n      */\n      sameState(other) {\n          if (this.state != other.state || this.stack.length != other.stack.length)\n              return false;\n          for (let i = 0; i < this.stack.length; i += 3)\n              if (this.stack[i] != other.stack[i])\n                  return false;\n          return true;\n      }\n      /**\n      Get the parser used by this stack.\n      */\n      get parser() { return this.p.parser; }\n      /**\n      Test whether a given dialect (by numeric ID, as exported from\n      the terms file) is enabled.\n      */\n      dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n      shiftContext(term, start) {\n          if (this.curContext)\n              this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));\n      }\n      reduceContext(term, start) {\n          if (this.curContext)\n              this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));\n      }\n      /**\n      @internal\n      */\n      emitContext() {\n          let last = this.buffer.length - 1;\n          if (last < 0 || this.buffer[last] != -3)\n              this.buffer.push(this.curContext.hash, this.pos, this.pos, -3);\n      }\n      /**\n      @internal\n      */\n      emitLookAhead() {\n          let last = this.buffer.length - 1;\n          if (last < 0 || this.buffer[last] != -4)\n              this.buffer.push(this.lookAhead, this.pos, this.pos, -4);\n      }\n      updateContext(context) {\n          if (context != this.curContext.context) {\n              let newCx = new StackContext(this.curContext.tracker, context);\n              if (newCx.hash != this.curContext.hash)\n                  this.emitContext();\n              this.curContext = newCx;\n          }\n      }\n      /**\n      @internal\n      */\n      setLookAhead(lookAhead) {\n          if (lookAhead > this.lookAhead) {\n              this.emitLookAhead();\n              this.lookAhead = lookAhead;\n          }\n      }\n      /**\n      @internal\n      */\n      close() {\n          if (this.curContext && this.curContext.tracker.strict)\n              this.emitContext();\n          if (this.lookAhead > 0)\n              this.emitLookAhead();\n      }\n  }\n  class StackContext {\n      constructor(tracker, context) {\n          this.tracker = tracker;\n          this.context = context;\n          this.hash = tracker.strict ? tracker.hash(context) : 0;\n      }\n  }\n  // Used to cheaply run some reductions to scan ahead without mutating\n  // an entire stack\n  class SimulatedStack {\n      constructor(start) {\n          this.start = start;\n          this.state = start.state;\n          this.stack = start.stack;\n          this.base = this.stack.length;\n      }\n      reduce(action) {\n          let term = action & 65535 /* Action.ValueMask */, depth = action >> 19 /* Action.ReduceDepthShift */;\n          if (depth == 0) {\n              if (this.stack == this.start.stack)\n                  this.stack = this.stack.slice();\n              this.stack.push(this.state, 0, 0);\n              this.base += 3;\n          }\n          else {\n              this.base -= (depth - 1) * 3;\n          }\n          let goto = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);\n          this.state = goto;\n      }\n  }\n  // This is given to `Tree.build` to build a buffer, and encapsulates\n  // the parent-stack-walking necessary to read the nodes.\n  class StackBufferCursor {\n      constructor(stack, pos, index) {\n          this.stack = stack;\n          this.pos = pos;\n          this.index = index;\n          this.buffer = stack.buffer;\n          if (this.index == 0)\n              this.maybeNext();\n      }\n      static create(stack, pos = stack.bufferBase + stack.buffer.length) {\n          return new StackBufferCursor(stack, pos, pos - stack.bufferBase);\n      }\n      maybeNext() {\n          let next = this.stack.parent;\n          if (next != null) {\n              this.index = this.stack.bufferBase - next.bufferBase;\n              this.stack = next;\n              this.buffer = next.buffer;\n          }\n      }\n      get id() { return this.buffer[this.index - 4]; }\n      get start() { return this.buffer[this.index - 3]; }\n      get end() { return this.buffer[this.index - 2]; }\n      get size() { return this.buffer[this.index - 1]; }\n      next() {\n          this.index -= 4;\n          this.pos -= 4;\n          if (this.index == 0)\n              this.maybeNext();\n      }\n      fork() {\n          return new StackBufferCursor(this.stack, this.pos, this.index);\n      }\n  }\n\n  // See lezer-generator/src/encode.ts for comments about the encoding\n  // used here\n  function decodeArray(input, Type = Uint16Array) {\n      if (typeof input != \"string\")\n          return input;\n      let array = null;\n      for (let pos = 0, out = 0; pos < input.length;) {\n          let value = 0;\n          for (;;) {\n              let next = input.charCodeAt(pos++), stop = false;\n              if (next == 126 /* Encode.BigValCode */) {\n                  value = 65535 /* Encode.BigVal */;\n                  break;\n              }\n              if (next >= 92 /* Encode.Gap2 */)\n                  next--;\n              if (next >= 34 /* Encode.Gap1 */)\n                  next--;\n              let digit = next - 32 /* Encode.Start */;\n              if (digit >= 46 /* Encode.Base */) {\n                  digit -= 46 /* Encode.Base */;\n                  stop = true;\n              }\n              value += digit;\n              if (stop)\n                  break;\n              value *= 46 /* Encode.Base */;\n          }\n          if (array)\n              array[out++] = value;\n          else\n              array = new Type(value);\n      }\n      return array;\n  }\n\n  class CachedToken {\n      constructor() {\n          this.start = -1;\n          this.value = -1;\n          this.end = -1;\n          this.extended = -1;\n          this.lookAhead = 0;\n          this.mask = 0;\n          this.context = 0;\n      }\n  }\n  const nullToken = new CachedToken;\n  /**\n  [Tokenizers](#lr.ExternalTokenizer) interact with the input\n  through this interface. It presents the input as a stream of\n  characters, tracking lookahead and hiding the complexity of\n  [ranges](#common.Parser.parse^ranges) from tokenizer code.\n  */\n  class InputStream {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      @internal\n      */\n      input, \n      /**\n      @internal\n      */\n      ranges) {\n          this.input = input;\n          this.ranges = ranges;\n          /**\n          @internal\n          */\n          this.chunk = \"\";\n          /**\n          @internal\n          */\n          this.chunkOff = 0;\n          /**\n          Backup chunk\n          */\n          this.chunk2 = \"\";\n          this.chunk2Pos = 0;\n          /**\n          The character code of the next code unit in the input, or -1\n          when the stream is at the end of the input.\n          */\n          this.next = -1;\n          /**\n          @internal\n          */\n          this.token = nullToken;\n          this.rangeIndex = 0;\n          this.pos = this.chunkPos = ranges[0].from;\n          this.range = ranges[0];\n          this.end = ranges[ranges.length - 1].to;\n          this.readNext();\n      }\n      /**\n      @internal\n      */\n      resolveOffset(offset, assoc) {\n          let range = this.range, index = this.rangeIndex;\n          let pos = this.pos + offset;\n          while (pos < range.from) {\n              if (!index)\n                  return null;\n              let next = this.ranges[--index];\n              pos -= range.from - next.to;\n              range = next;\n          }\n          while (assoc < 0 ? pos > range.to : pos >= range.to) {\n              if (index == this.ranges.length - 1)\n                  return null;\n              let next = this.ranges[++index];\n              pos += next.from - range.to;\n              range = next;\n          }\n          return pos;\n      }\n      /**\n      @internal\n      */\n      clipPos(pos) {\n          if (pos >= this.range.from && pos < this.range.to)\n              return pos;\n          for (let range of this.ranges)\n              if (range.to > pos)\n                  return Math.max(pos, range.from);\n          return this.end;\n      }\n      /**\n      Look at a code unit near the stream position. `.peek(0)` equals\n      `.next`, `.peek(-1)` gives you the previous character, and so\n      on.\n      \n      Note that looking around during tokenizing creates dependencies\n      on potentially far-away content, which may reduce the\n      effectiveness incremental parsingwhen looking forwardor even\n      cause invalid reparses when looking backward more than 25 code\n      units, since the library does not track lookbehind.\n      */\n      peek(offset) {\n          let idx = this.chunkOff + offset, pos, result;\n          if (idx >= 0 && idx < this.chunk.length) {\n              pos = this.pos + offset;\n              result = this.chunk.charCodeAt(idx);\n          }\n          else {\n              let resolved = this.resolveOffset(offset, 1);\n              if (resolved == null)\n                  return -1;\n              pos = resolved;\n              if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {\n                  result = this.chunk2.charCodeAt(pos - this.chunk2Pos);\n              }\n              else {\n                  let i = this.rangeIndex, range = this.range;\n                  while (range.to <= pos)\n                      range = this.ranges[++i];\n                  this.chunk2 = this.input.chunk(this.chunk2Pos = pos);\n                  if (pos + this.chunk2.length > range.to)\n                      this.chunk2 = this.chunk2.slice(0, range.to - pos);\n                  result = this.chunk2.charCodeAt(0);\n              }\n          }\n          if (pos >= this.token.lookAhead)\n              this.token.lookAhead = pos + 1;\n          return result;\n      }\n      /**\n      Accept a token. By default, the end of the token is set to the\n      current stream position, but you can pass an offset (relative to\n      the stream position) to change that.\n      */\n      acceptToken(token, endOffset = 0) {\n          let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;\n          if (end == null || end < this.token.start)\n              throw new RangeError(\"Token end out of bounds\");\n          this.token.value = token;\n          this.token.end = end;\n      }\n      /**\n      Accept a token ending at a specific given position.\n      */\n      acceptTokenTo(token, endPos) {\n          this.token.value = token;\n          this.token.end = endPos;\n      }\n      getChunk() {\n          if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {\n              let { chunk, chunkPos } = this;\n              this.chunk = this.chunk2;\n              this.chunkPos = this.chunk2Pos;\n              this.chunk2 = chunk;\n              this.chunk2Pos = chunkPos;\n              this.chunkOff = this.pos - this.chunkPos;\n          }\n          else {\n              this.chunk2 = this.chunk;\n              this.chunk2Pos = this.chunkPos;\n              let nextChunk = this.input.chunk(this.pos);\n              let end = this.pos + nextChunk.length;\n              this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;\n              this.chunkPos = this.pos;\n              this.chunkOff = 0;\n          }\n      }\n      readNext() {\n          if (this.chunkOff >= this.chunk.length) {\n              this.getChunk();\n              if (this.chunkOff == this.chunk.length)\n                  return this.next = -1;\n          }\n          return this.next = this.chunk.charCodeAt(this.chunkOff);\n      }\n      /**\n      Move the stream forward N (defaults to 1) code units. Returns\n      the new value of [`next`](#lr.InputStream.next).\n      */\n      advance(n = 1) {\n          this.chunkOff += n;\n          while (this.pos + n >= this.range.to) {\n              if (this.rangeIndex == this.ranges.length - 1)\n                  return this.setDone();\n              n -= this.range.to - this.pos;\n              this.range = this.ranges[++this.rangeIndex];\n              this.pos = this.range.from;\n          }\n          this.pos += n;\n          if (this.pos >= this.token.lookAhead)\n              this.token.lookAhead = this.pos + 1;\n          return this.readNext();\n      }\n      setDone() {\n          this.pos = this.chunkPos = this.end;\n          this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];\n          this.chunk = \"\";\n          return this.next = -1;\n      }\n      /**\n      @internal\n      */\n      reset(pos, token) {\n          if (token) {\n              this.token = token;\n              token.start = pos;\n              token.lookAhead = pos + 1;\n              token.value = token.extended = -1;\n          }\n          else {\n              this.token = nullToken;\n          }\n          if (this.pos != pos) {\n              this.pos = pos;\n              if (pos == this.end) {\n                  this.setDone();\n                  return this;\n              }\n              while (pos < this.range.from)\n                  this.range = this.ranges[--this.rangeIndex];\n              while (pos >= this.range.to)\n                  this.range = this.ranges[++this.rangeIndex];\n              if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {\n                  this.chunkOff = pos - this.chunkPos;\n              }\n              else {\n                  this.chunk = \"\";\n                  this.chunkOff = 0;\n              }\n              this.readNext();\n          }\n          return this;\n      }\n      /**\n      @internal\n      */\n      read(from, to) {\n          if (from >= this.chunkPos && to <= this.chunkPos + this.chunk.length)\n              return this.chunk.slice(from - this.chunkPos, to - this.chunkPos);\n          if (from >= this.chunk2Pos && to <= this.chunk2Pos + this.chunk2.length)\n              return this.chunk2.slice(from - this.chunk2Pos, to - this.chunk2Pos);\n          if (from >= this.range.from && to <= this.range.to)\n              return this.input.read(from, to);\n          let result = \"\";\n          for (let r of this.ranges) {\n              if (r.from >= to)\n                  break;\n              if (r.to > from)\n                  result += this.input.read(Math.max(r.from, from), Math.min(r.to, to));\n          }\n          return result;\n      }\n  }\n  /**\n  @internal\n  */\n  class TokenGroup {\n      constructor(data, id) {\n          this.data = data;\n          this.id = id;\n      }\n      token(input, stack) {\n          let { parser } = stack.p;\n          readToken(this.data, input, stack, this.id, parser.data, parser.tokenPrecTable);\n      }\n  }\n  TokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n  /**\n  @hide\n  */\n  class LocalTokenGroup {\n      constructor(data, precTable, elseToken) {\n          this.precTable = precTable;\n          this.elseToken = elseToken;\n          this.data = typeof data == \"string\" ? decodeArray(data) : data;\n      }\n      token(input, stack) {\n          let start = input.pos, skipped = 0;\n          for (;;) {\n              let atEof = input.next < 0, nextPos = input.resolveOffset(1, 1);\n              readToken(this.data, input, stack, 0, this.data, this.precTable);\n              if (input.token.value > -1)\n                  break;\n              if (this.elseToken == null)\n                  return;\n              if (!atEof)\n                  skipped++;\n              if (nextPos == null)\n                  break;\n              input.reset(nextPos, input.token);\n          }\n          if (skipped) {\n              input.reset(start, input.token);\n              input.acceptToken(this.elseToken, skipped);\n          }\n      }\n  }\n  LocalTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n  /**\n  `@external tokens` declarations in the grammar should resolve to\n  an instance of this class.\n  */\n  class ExternalTokenizer {\n      /**\n      Create a tokenizer. The first argument is the function that,\n      given an input stream, scans for the types of tokens it\n      recognizes at the stream's position, and calls\n      [`acceptToken`](#lr.InputStream.acceptToken) when it finds\n      one.\n      */\n      constructor(\n      /**\n      @internal\n      */\n      token, options = {}) {\n          this.token = token;\n          this.contextual = !!options.contextual;\n          this.fallback = !!options.fallback;\n          this.extend = !!options.extend;\n      }\n  }\n  // Tokenizer data is stored a big uint16 array containing, for each\n  // state:\n  //\n  //  - A group bitmask, indicating what token groups are reachable from\n  //    this state, so that paths that can only lead to tokens not in\n  //    any of the current groups can be cut off early.\n  //\n  //  - The position of the end of the state's sequence of accepting\n  //    tokens\n  //\n  //  - The number of outgoing edges for the state\n  //\n  //  - The accepting tokens, as (token id, group mask) pairs\n  //\n  //  - The outgoing edges, as (start character, end character, state\n  //    index) triples, with end character being exclusive\n  //\n  // This function interprets that data, running through a stream as\n  // long as new states with the a matching group mask can be reached,\n  // and updating `input.token` when it matches a token.\n  function readToken(data, input, stack, group, precTable, precOffset) {\n      let state = 0, groupMask = 1 << group, { dialect } = stack.p.parser;\n      scan: for (;;) {\n          if ((groupMask & data[state]) == 0)\n              break;\n          let accEnd = data[state + 1];\n          // Check whether this state can lead to a token in the current group\n          // Accept tokens in this state, possibly overwriting\n          // lower-precedence / shorter tokens\n          for (let i = state + 3; i < accEnd; i += 2)\n              if ((data[i + 1] & groupMask) > 0) {\n                  let term = data[i];\n                  if (dialect.allows(term) &&\n                      (input.token.value == -1 || input.token.value == term ||\n                          overrides(term, input.token.value, precTable, precOffset))) {\n                      input.acceptToken(term);\n                      break;\n                  }\n              }\n          let next = input.next, low = 0, high = data[state + 2];\n          // Special case for EOF\n          if (input.next < 0 && high > low && data[accEnd + high * 3 - 3] == 65535 /* Seq.End */) {\n              state = data[accEnd + high * 3 - 1];\n              continue scan;\n          }\n          // Do a binary search on the state's edges\n          for (; low < high;) {\n              let mid = (low + high) >> 1;\n              let index = accEnd + mid + (mid << 1);\n              let from = data[index], to = data[index + 1] || 0x10000;\n              if (next < from)\n                  high = mid;\n              else if (next >= to)\n                  low = mid + 1;\n              else {\n                  state = data[index + 2];\n                  input.advance();\n                  continue scan;\n              }\n          }\n          break;\n      }\n  }\n  function findOffset(data, start, term) {\n      for (let i = start, next; (next = data[i]) != 65535 /* Seq.End */; i++)\n          if (next == term)\n              return i - start;\n      return -1;\n  }\n  function overrides(token, prev, tableData, tableOffset) {\n      let iPrev = findOffset(tableData, tableOffset, prev);\n      return iPrev < 0 || findOffset(tableData, tableOffset, token) < iPrev;\n  }\n\n  // Environment variable used to control console output\n  const verbose = typeof process != \"undefined\" && process.env && /\\bparse\\b/.test(process.env.LOG);\n  let stackIDs = null;\n  function cutAt(tree, pos, side) {\n      let cursor = tree.cursor(IterMode.IncludeAnonymous);\n      cursor.moveTo(pos);\n      for (;;) {\n          if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n              for (;;) {\n                  if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                      return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25 /* Lookahead.Margin */))\n                          : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25 /* Lookahead.Margin */));\n                  if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                      break;\n                  if (!cursor.parent())\n                      return side < 0 ? 0 : tree.length;\n              }\n      }\n  }\n  let FragmentCursor$1 = class FragmentCursor {\n      constructor(fragments, nodeSet) {\n          this.fragments = fragments;\n          this.nodeSet = nodeSet;\n          this.i = 0;\n          this.fragment = null;\n          this.safeFrom = -1;\n          this.safeTo = -1;\n          this.trees = [];\n          this.start = [];\n          this.index = [];\n          this.nextFragment();\n      }\n      nextFragment() {\n          let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n          if (fr) {\n              this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n              this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n              while (this.trees.length) {\n                  this.trees.pop();\n                  this.start.pop();\n                  this.index.pop();\n              }\n              this.trees.push(fr.tree);\n              this.start.push(-fr.offset);\n              this.index.push(0);\n              this.nextStart = this.safeFrom;\n          }\n          else {\n              this.nextStart = 1e9;\n          }\n      }\n      // `pos` must be >= any previously given `pos` for this cursor\n      nodeAt(pos) {\n          if (pos < this.nextStart)\n              return null;\n          while (this.fragment && this.safeTo <= pos)\n              this.nextFragment();\n          if (!this.fragment)\n              return null;\n          for (;;) {\n              let last = this.trees.length - 1;\n              if (last < 0) { // End of tree\n                  this.nextFragment();\n                  return null;\n              }\n              let top = this.trees[last], index = this.index[last];\n              if (index == top.children.length) {\n                  this.trees.pop();\n                  this.start.pop();\n                  this.index.pop();\n                  continue;\n              }\n              let next = top.children[index];\n              let start = this.start[last] + top.positions[index];\n              if (start > pos) {\n                  this.nextStart = start;\n                  return null;\n              }\n              if (next instanceof Tree) {\n                  if (start == pos) {\n                      if (start < this.safeFrom)\n                          return null;\n                      let end = start + next.length;\n                      if (end <= this.safeTo) {\n                          let lookAhead = next.prop(NodeProp.lookAhead);\n                          if (!lookAhead || end + lookAhead < this.fragment.to)\n                              return next;\n                      }\n                  }\n                  this.index[last]++;\n                  if (start + next.length >= Math.max(this.safeFrom, pos)) { // Enter this node\n                      this.trees.push(next);\n                      this.start.push(start);\n                      this.index.push(0);\n                  }\n              }\n              else {\n                  this.index[last]++;\n                  this.nextStart = start + next.length;\n              }\n          }\n      }\n  };\n  class TokenCache {\n      constructor(parser, stream) {\n          this.stream = stream;\n          this.tokens = [];\n          this.mainToken = null;\n          this.actions = [];\n          this.tokens = parser.tokenizers.map(_ => new CachedToken);\n      }\n      getActions(stack) {\n          let actionIndex = 0;\n          let main = null;\n          let { parser } = stack.p, { tokenizers } = parser;\n          let mask = parser.stateSlot(stack.state, 3 /* ParseState.TokenizerMask */);\n          let context = stack.curContext ? stack.curContext.hash : 0;\n          let lookAhead = 0;\n          for (let i = 0; i < tokenizers.length; i++) {\n              if (((1 << i) & mask) == 0)\n                  continue;\n              let tokenizer = tokenizers[i], token = this.tokens[i];\n              if (main && !tokenizer.fallback)\n                  continue;\n              if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                  this.updateCachedToken(token, tokenizer, stack);\n                  token.mask = mask;\n                  token.context = context;\n              }\n              if (token.lookAhead > token.end + 25 /* Lookahead.Margin */)\n                  lookAhead = Math.max(token.lookAhead, lookAhead);\n              if (token.value != 0 /* Term.Err */) {\n                  let startIndex = actionIndex;\n                  if (token.extended > -1)\n                      actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                  actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                  if (!tokenizer.extend) {\n                      main = token;\n                      if (actionIndex > startIndex)\n                          break;\n                  }\n              }\n          }\n          while (this.actions.length > actionIndex)\n              this.actions.pop();\n          if (lookAhead)\n              stack.setLookAhead(lookAhead);\n          if (!main && stack.pos == this.stream.end) {\n              main = new CachedToken;\n              main.value = stack.p.parser.eofTerm;\n              main.start = main.end = stack.pos;\n              actionIndex = this.addActions(stack, main.value, main.end, actionIndex);\n          }\n          this.mainToken = main;\n          return this.actions;\n      }\n      getMainToken(stack) {\n          if (this.mainToken)\n              return this.mainToken;\n          let main = new CachedToken, { pos, p } = stack;\n          main.start = pos;\n          main.end = Math.min(pos + 1, p.stream.end);\n          main.value = pos == p.stream.end ? p.parser.eofTerm : 0 /* Term.Err */;\n          return main;\n      }\n      updateCachedToken(token, tokenizer, stack) {\n          let start = this.stream.clipPos(stack.pos);\n          tokenizer.token(this.stream.reset(start, token), stack);\n          if (token.value > -1) {\n              let { parser } = stack.p;\n              for (let i = 0; i < parser.specialized.length; i++)\n                  if (parser.specialized[i] == token.value) {\n                      let result = parser.specializers[i](this.stream.read(token.start, token.end), stack);\n                      if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                          if ((result & 1) == 0 /* Specialize.Specialize */)\n                              token.value = result >> 1;\n                          else\n                              token.extended = result >> 1;\n                          break;\n                      }\n                  }\n          }\n          else {\n              token.value = 0 /* Term.Err */;\n              token.end = this.stream.clipPos(start + 1);\n          }\n      }\n      putAction(action, token, end, index) {\n          // Don't add duplicate actions\n          for (let i = 0; i < index; i += 3)\n              if (this.actions[i] == action)\n                  return index;\n          this.actions[index++] = action;\n          this.actions[index++] = token;\n          this.actions[index++] = end;\n          return index;\n      }\n      addActions(stack, token, end, index) {\n          let { state } = stack, { parser } = stack.p, { data } = parser;\n          for (let set = 0; set < 2; set++) {\n              for (let i = parser.stateSlot(state, set ? 2 /* ParseState.Skip */ : 1 /* ParseState.Actions */);; i += 3) {\n                  if (data[i] == 65535 /* Seq.End */) {\n                      if (data[i + 1] == 1 /* Seq.Next */) {\n                          i = pair(data, i + 2);\n                      }\n                      else {\n                          if (index == 0 && data[i + 1] == 2 /* Seq.Other */)\n                              index = this.putAction(pair(data, i + 2), token, end, index);\n                          break;\n                      }\n                  }\n                  if (data[i] == token)\n                      index = this.putAction(pair(data, i + 1), token, end, index);\n              }\n          }\n          return index;\n      }\n  }\n  class Parse {\n      constructor(parser, input, fragments, ranges) {\n          this.parser = parser;\n          this.input = input;\n          this.ranges = ranges;\n          this.recovering = 0;\n          this.nextStackID = 0x2654; // , , , , , , , , , , , , , \n          this.minStackPos = 0;\n          this.reused = [];\n          this.stoppedAt = null;\n          this.lastBigReductionStart = -1;\n          this.lastBigReductionSize = 0;\n          this.bigReductionCount = 0;\n          this.stream = new InputStream(input, ranges);\n          this.tokens = new TokenCache(parser, this.stream);\n          this.topTerm = parser.top[1];\n          let { from } = ranges[0];\n          this.stacks = [Stack.start(this, parser.top[0], from)];\n          this.fragments = fragments.length && this.stream.end - from > parser.bufferLength * 4\n              ? new FragmentCursor$1(fragments, parser.nodeSet) : null;\n      }\n      get parsedPos() {\n          return this.minStackPos;\n      }\n      // Move the parser forward. This will process all parse stacks at\n      // `this.pos` and try to advance them to a further position. If no\n      // stack for such a position is found, it'll start error-recovery.\n      //\n      // When the parse is finished, this will return a syntax tree. When\n      // not, it returns `null`.\n      advance() {\n          let stacks = this.stacks, pos = this.minStackPos;\n          // This will hold stacks beyond `pos`.\n          let newStacks = this.stacks = [];\n          let stopped, stoppedTokens;\n          // If a large amount of reductions happened with the same start\n          // position, force the stack out of that production in order to\n          // avoid creating a tree too deep to recurse through.\n          // (This is an ugly kludge, because unfortunately there is no\n          // straightforward, cheap way to check for this happening, due to\n          // the history of reductions only being available in an\n          // expensive-to-access format in the stack buffers.)\n          if (this.bigReductionCount > 300 /* Rec.MaxLeftAssociativeReductionCount */ && stacks.length == 1) {\n              let [s] = stacks;\n              while (s.forceReduce() && s.stack.length && s.stack[s.stack.length - 2] >= this.lastBigReductionStart) { }\n              this.bigReductionCount = this.lastBigReductionSize = 0;\n          }\n          // Keep advancing any stacks at `pos` until they either move\n          // forward or can't be advanced. Gather stacks that can't be\n          // advanced further in `stopped`.\n          for (let i = 0; i < stacks.length; i++) {\n              let stack = stacks[i];\n              for (;;) {\n                  this.tokens.mainToken = null;\n                  if (stack.pos > pos) {\n                      newStacks.push(stack);\n                  }\n                  else if (this.advanceStack(stack, newStacks, stacks)) {\n                      continue;\n                  }\n                  else {\n                      if (!stopped) {\n                          stopped = [];\n                          stoppedTokens = [];\n                      }\n                      stopped.push(stack);\n                      let tok = this.tokens.getMainToken(stack);\n                      stoppedTokens.push(tok.value, tok.end);\n                  }\n                  break;\n              }\n          }\n          if (!newStacks.length) {\n              let finished = stopped && findFinished(stopped);\n              if (finished) {\n                  if (verbose)\n                      console.log(\"Finish with \" + this.stackID(finished));\n                  return this.stackToTree(finished);\n              }\n              if (this.parser.strict) {\n                  if (verbose && stopped)\n                      console.log(\"Stuck with token \" + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : \"none\"));\n                  throw new SyntaxError(\"No parse at \" + pos);\n              }\n              if (!this.recovering)\n                  this.recovering = 5 /* Rec.Distance */;\n          }\n          if (this.recovering && stopped) {\n              let finished = this.stoppedAt != null && stopped[0].pos > this.stoppedAt ? stopped[0]\n                  : this.runRecovery(stopped, stoppedTokens, newStacks);\n              if (finished) {\n                  if (verbose)\n                      console.log(\"Force-finish \" + this.stackID(finished));\n                  return this.stackToTree(finished.forceAll());\n              }\n          }\n          if (this.recovering) {\n              let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* Rec.MaxRemainingPerStep */;\n              if (newStacks.length > maxRemaining) {\n                  newStacks.sort((a, b) => b.score - a.score);\n                  while (newStacks.length > maxRemaining)\n                      newStacks.pop();\n              }\n              if (newStacks.some(s => s.reducePos > pos))\n                  this.recovering--;\n          }\n          else if (newStacks.length > 1) {\n              // Prune stacks that are in the same state, or that have been\n              // running without splitting for a while, to avoid getting stuck\n              // with multiple successful stacks running endlessly on.\n              outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                  let stack = newStacks[i];\n                  for (let j = i + 1; j < newStacks.length; j++) {\n                      let other = newStacks[j];\n                      if (stack.sameState(other) ||\n                          stack.buffer.length > 500 /* Rec.MinBufferLengthPrune */ && other.buffer.length > 500 /* Rec.MinBufferLengthPrune */) {\n                          if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                              newStacks.splice(j--, 1);\n                          }\n                          else {\n                              newStacks.splice(i--, 1);\n                              continue outer;\n                          }\n                      }\n                  }\n              }\n              if (newStacks.length > 12 /* Rec.MaxStackCount */)\n                  newStacks.splice(12 /* Rec.MaxStackCount */, newStacks.length - 12 /* Rec.MaxStackCount */);\n          }\n          this.minStackPos = newStacks[0].pos;\n          for (let i = 1; i < newStacks.length; i++)\n              if (newStacks[i].pos < this.minStackPos)\n                  this.minStackPos = newStacks[i].pos;\n          return null;\n      }\n      stopAt(pos) {\n          if (this.stoppedAt != null && this.stoppedAt < pos)\n              throw new RangeError(\"Can't move stoppedAt forward\");\n          this.stoppedAt = pos;\n      }\n      // Returns an updated version of the given stack, or null if the\n      // stack can't advance normally. When `split` and `stacks` are\n      // given, stacks split off by ambiguous operations will be pushed to\n      // `split`, or added to `stacks` if they move `pos` forward.\n      advanceStack(stack, stacks, split) {\n          let start = stack.pos, { parser } = this;\n          let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n          if (this.stoppedAt != null && start > this.stoppedAt)\n              return stack.forceReduce() ? stack : null;\n          if (this.fragments) {\n              let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n              for (let cached = this.fragments.nodeAt(start); cached;) {\n                  let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                  if (match > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {\n                      stack.useNode(cached, match);\n                      if (verbose)\n                          console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                      return true;\n                  }\n                  if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                      break;\n                  let inner = cached.children[0];\n                  if (inner instanceof Tree && cached.positions[0] == 0)\n                      cached = inner;\n                  else\n                      break;\n              }\n          }\n          let defaultReduce = parser.stateSlot(stack.state, 4 /* ParseState.DefaultReduce */);\n          if (defaultReduce > 0) {\n              stack.reduce(defaultReduce);\n              if (verbose)\n                  console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* Action.ValueMask */)})`);\n              return true;\n          }\n          if (stack.stack.length >= 8400 /* Rec.CutDepth */) {\n              while (stack.stack.length > 6000 /* Rec.CutTo */ && stack.forceReduce()) { }\n          }\n          let actions = this.tokens.getActions(stack);\n          for (let i = 0; i < actions.length;) {\n              let action = actions[i++], term = actions[i++], end = actions[i++];\n              let last = i == actions.length || !split;\n              let localStack = last ? stack : stack.split();\n              let main = this.tokens.mainToken;\n              localStack.apply(action, term, main ? main.start : localStack.pos, end);\n              if (verbose)\n                  console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* Action.ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* Action.ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n              if (last)\n                  return true;\n              else if (localStack.pos > start)\n                  stacks.push(localStack);\n              else\n                  split.push(localStack);\n          }\n          return false;\n      }\n      // Advance a given stack forward as far as it will go. Returns the\n      // (possibly updated) stack if it got stuck, or null if it moved\n      // forward and was given to `pushStackDedup`.\n      advanceFully(stack, newStacks) {\n          let pos = stack.pos;\n          for (;;) {\n              if (!this.advanceStack(stack, null, null))\n                  return false;\n              if (stack.pos > pos) {\n                  pushStackDedup(stack, newStacks);\n                  return true;\n              }\n          }\n      }\n      runRecovery(stacks, tokens, newStacks) {\n          let finished = null, restarted = false;\n          for (let i = 0; i < stacks.length; i++) {\n              let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n              let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n              if (stack.deadEnd) {\n                  if (restarted)\n                      continue;\n                  restarted = true;\n                  stack.restart();\n                  if (verbose)\n                      console.log(base + this.stackID(stack) + \" (restarted)\");\n                  let done = this.advanceFully(stack, newStacks);\n                  if (done)\n                      continue;\n              }\n              let force = stack.split(), forceBase = base;\n              for (let j = 0; force.forceReduce() && j < 10 /* Rec.ForceReduceLimit */; j++) {\n                  if (verbose)\n                      console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                  let done = this.advanceFully(force, newStacks);\n                  if (done)\n                      break;\n                  if (verbose)\n                      forceBase = this.stackID(force) + \" -> \";\n              }\n              for (let insert of stack.recoverByInsert(token)) {\n                  if (verbose)\n                      console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                  this.advanceFully(insert, newStacks);\n              }\n              if (this.stream.end > stack.pos) {\n                  if (tokenEnd == stack.pos) {\n                      tokenEnd++;\n                      token = 0 /* Term.Err */;\n                  }\n                  stack.recoverByDelete(token, tokenEnd);\n                  if (verbose)\n                      console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                  pushStackDedup(stack, newStacks);\n              }\n              else if (!finished || finished.score < stack.score) {\n                  finished = stack;\n              }\n          }\n          return finished;\n      }\n      // Convert the stack's buffer to a syntax tree.\n      stackToTree(stack) {\n          stack.close();\n          return Tree.build({ buffer: StackBufferCursor.create(stack),\n              nodeSet: this.parser.nodeSet,\n              topID: this.topTerm,\n              maxBufferLength: this.parser.bufferLength,\n              reused: this.reused,\n              start: this.ranges[0].from,\n              length: stack.pos - this.ranges[0].from,\n              minRepeatType: this.parser.minRepeatTerm });\n      }\n      stackID(stack) {\n          let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n          if (!id)\n              stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n          return id + stack;\n      }\n  }\n  function pushStackDedup(stack, newStacks) {\n      for (let i = 0; i < newStacks.length; i++) {\n          let other = newStacks[i];\n          if (other.pos == stack.pos && other.sameState(stack)) {\n              if (newStacks[i].score < stack.score)\n                  newStacks[i] = stack;\n              return;\n          }\n      }\n      newStacks.push(stack);\n  }\n  class Dialect {\n      constructor(source, flags, disabled) {\n          this.source = source;\n          this.flags = flags;\n          this.disabled = disabled;\n      }\n      allows(term) { return !this.disabled || this.disabled[term] == 0; }\n  }\n  const id = x => x;\n  /**\n  Context trackers are used to track stateful context (such as\n  indentation in the Python grammar, or parent elements in the XML\n  grammar) needed by external tokenizers. You declare them in a\n  grammar file as `@context exportName from \"module\"`.\n\n  Context values should be immutable, and can be updated (replaced)\n  on shift or reduce actions.\n\n  The export used in a `@context` declaration should be of this\n  type.\n  */\n  class ContextTracker {\n      /**\n      Define a context tracker.\n      */\n      constructor(spec) {\n          this.start = spec.start;\n          this.shift = spec.shift || id;\n          this.reduce = spec.reduce || id;\n          this.reuse = spec.reuse || id;\n          this.hash = spec.hash || (() => 0);\n          this.strict = spec.strict !== false;\n      }\n  }\n  /**\n  Holds the parse tables for a given grammar, as generated by\n  `lezer-generator`, and provides [methods](#common.Parser) to parse\n  content with.\n  */\n  class LRParser extends Parser {\n      /**\n      @internal\n      */\n      constructor(spec) {\n          super();\n          /**\n          @internal\n          */\n          this.wrappers = [];\n          if (spec.version != 14 /* File.Version */)\n              throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${14 /* File.Version */})`);\n          let nodeNames = spec.nodeNames.split(\" \");\n          this.minRepeatTerm = nodeNames.length;\n          for (let i = 0; i < spec.repeatNodeCount; i++)\n              nodeNames.push(\"\");\n          let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n          let nodeProps = [];\n          for (let i = 0; i < nodeNames.length; i++)\n              nodeProps.push([]);\n          function setProp(nodeID, prop, value) {\n              nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n          }\n          if (spec.nodeProps)\n              for (let propSpec of spec.nodeProps) {\n                  let prop = propSpec[0];\n                  if (typeof prop == \"string\")\n                      prop = NodeProp[prop];\n                  for (let i = 1; i < propSpec.length;) {\n                      let next = propSpec[i++];\n                      if (next >= 0) {\n                          setProp(next, prop, propSpec[i++]);\n                      }\n                      else {\n                          let value = propSpec[i + -next];\n                          for (let j = -next; j > 0; j--)\n                              setProp(propSpec[i++], prop, value);\n                          i++;\n                      }\n                  }\n              }\n          this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n              name: i >= this.minRepeatTerm ? undefined : name,\n              id: i,\n              props: nodeProps[i],\n              top: topTerms.indexOf(i) > -1,\n              error: i == 0,\n              skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n          })));\n          if (spec.propSources)\n              this.nodeSet = this.nodeSet.extend(...spec.propSources);\n          this.strict = false;\n          this.bufferLength = DefaultBufferLength;\n          let tokenArray = decodeArray(spec.tokenData);\n          this.context = spec.context;\n          this.specializerSpecs = spec.specialized || [];\n          this.specialized = new Uint16Array(this.specializerSpecs.length);\n          for (let i = 0; i < this.specializerSpecs.length; i++)\n              this.specialized[i] = this.specializerSpecs[i].term;\n          this.specializers = this.specializerSpecs.map(getSpecializer);\n          this.states = decodeArray(spec.states, Uint32Array);\n          this.data = decodeArray(spec.stateData);\n          this.goto = decodeArray(spec.goto);\n          this.maxTerm = spec.maxTerm;\n          this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n          this.topRules = spec.topRules;\n          this.dialects = spec.dialects || {};\n          this.dynamicPrecedences = spec.dynamicPrecedences || null;\n          this.tokenPrecTable = spec.tokenPrec;\n          this.termNames = spec.termNames || null;\n          this.maxNode = this.nodeSet.types.length - 1;\n          this.dialect = this.parseDialect();\n          this.top = this.topRules[Object.keys(this.topRules)[0]];\n      }\n      createParse(input, fragments, ranges) {\n          let parse = new Parse(this, input, fragments, ranges);\n          for (let w of this.wrappers)\n              parse = w(parse, input, fragments, ranges);\n          return parse;\n      }\n      /**\n      Get a goto table entry @internal\n      */\n      getGoto(state, term, loose = false) {\n          let table = this.goto;\n          if (term >= table[0])\n              return -1;\n          for (let pos = table[term + 1];;) {\n              let groupTag = table[pos++], last = groupTag & 1;\n              let target = table[pos++];\n              if (last && loose)\n                  return target;\n              for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                  if (table[pos] == state)\n                      return target;\n              if (last)\n                  return -1;\n          }\n      }\n      /**\n      Check if this state has an action for a given terminal @internal\n      */\n      hasAction(state, terminal) {\n          let data = this.data;\n          for (let set = 0; set < 2; set++) {\n              for (let i = this.stateSlot(state, set ? 2 /* ParseState.Skip */ : 1 /* ParseState.Actions */), next;; i += 3) {\n                  if ((next = data[i]) == 65535 /* Seq.End */) {\n                      if (data[i + 1] == 1 /* Seq.Next */)\n                          next = data[i = pair(data, i + 2)];\n                      else if (data[i + 1] == 2 /* Seq.Other */)\n                          return pair(data, i + 2);\n                      else\n                          break;\n                  }\n                  if (next == terminal || next == 0 /* Term.Err */)\n                      return pair(data, i + 1);\n              }\n          }\n          return 0;\n      }\n      /**\n      @internal\n      */\n      stateSlot(state, slot) {\n          return this.states[(state * 6 /* ParseState.Size */) + slot];\n      }\n      /**\n      @internal\n      */\n      stateFlag(state, flag) {\n          return (this.stateSlot(state, 0 /* ParseState.Flags */) & flag) > 0;\n      }\n      /**\n      @internal\n      */\n      validAction(state, action) {\n          return !!this.allActions(state, a => a == action ? true : null);\n      }\n      /**\n      @internal\n      */\n      allActions(state, action) {\n          let deflt = this.stateSlot(state, 4 /* ParseState.DefaultReduce */);\n          let result = deflt ? action(deflt) : undefined;\n          for (let i = this.stateSlot(state, 1 /* ParseState.Actions */); result == null; i += 3) {\n              if (this.data[i] == 65535 /* Seq.End */) {\n                  if (this.data[i + 1] == 1 /* Seq.Next */)\n                      i = pair(this.data, i + 2);\n                  else\n                      break;\n              }\n              result = action(pair(this.data, i + 1));\n          }\n          return result;\n      }\n      /**\n      Get the states that can follow this one through shift actions or\n      goto jumps. @internal\n      */\n      nextStates(state) {\n          let result = [];\n          for (let i = this.stateSlot(state, 1 /* ParseState.Actions */);; i += 3) {\n              if (this.data[i] == 65535 /* Seq.End */) {\n                  if (this.data[i + 1] == 1 /* Seq.Next */)\n                      i = pair(this.data, i + 2);\n                  else\n                      break;\n              }\n              if ((this.data[i + 2] & (65536 /* Action.ReduceFlag */ >> 16)) == 0) {\n                  let value = this.data[i + 1];\n                  if (!result.some((v, i) => (i & 1) && v == value))\n                      result.push(this.data[i], value);\n              }\n          }\n          return result;\n      }\n      /**\n      Configure the parser. Returns a new parser instance that has the\n      given settings modified. Settings not provided in `config` are\n      kept from the original parser.\n      */\n      configure(config) {\n          // Hideous reflection-based kludge to make it easy to create a\n          // slightly modified copy of a parser.\n          let copy = Object.assign(Object.create(LRParser.prototype), this);\n          if (config.props)\n              copy.nodeSet = this.nodeSet.extend(...config.props);\n          if (config.top) {\n              let info = this.topRules[config.top];\n              if (!info)\n                  throw new RangeError(`Invalid top rule name ${config.top}`);\n              copy.top = info;\n          }\n          if (config.tokenizers)\n              copy.tokenizers = this.tokenizers.map(t => {\n                  let found = config.tokenizers.find(r => r.from == t);\n                  return found ? found.to : t;\n              });\n          if (config.specializers) {\n              copy.specializers = this.specializers.slice();\n              copy.specializerSpecs = this.specializerSpecs.map((s, i) => {\n                  let found = config.specializers.find(r => r.from == s.external);\n                  if (!found)\n                      return s;\n                  let spec = Object.assign(Object.assign({}, s), { external: found.to });\n                  copy.specializers[i] = getSpecializer(spec);\n                  return spec;\n              });\n          }\n          if (config.contextTracker)\n              copy.context = config.contextTracker;\n          if (config.dialect)\n              copy.dialect = this.parseDialect(config.dialect);\n          if (config.strict != null)\n              copy.strict = config.strict;\n          if (config.wrap)\n              copy.wrappers = copy.wrappers.concat(config.wrap);\n          if (config.bufferLength != null)\n              copy.bufferLength = config.bufferLength;\n          return copy;\n      }\n      /**\n      Tells you whether any [parse wrappers](#lr.ParserConfig.wrap)\n      are registered for this parser.\n      */\n      hasWrappers() {\n          return this.wrappers.length > 0;\n      }\n      /**\n      Returns the name associated with a given term. This will only\n      work for all terms when the parser was generated with the\n      `--names` option. By default, only the names of tagged terms are\n      stored.\n      */\n      getName(term) {\n          return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n      }\n      /**\n      The eof term id is always allocated directly after the node\n      types. @internal\n      */\n      get eofTerm() { return this.maxNode + 1; }\n      /**\n      The type of top node produced by the parser.\n      */\n      get topNode() { return this.nodeSet.types[this.top[1]]; }\n      /**\n      @internal\n      */\n      dynamicPrecedence(term) {\n          let prec = this.dynamicPrecedences;\n          return prec == null ? 0 : prec[term] || 0;\n      }\n      /**\n      @internal\n      */\n      parseDialect(dialect) {\n          let values = Object.keys(this.dialects), flags = values.map(() => false);\n          if (dialect)\n              for (let part of dialect.split(\" \")) {\n                  let id = values.indexOf(part);\n                  if (id >= 0)\n                      flags[id] = true;\n              }\n          let disabled = null;\n          for (let i = 0; i < values.length; i++)\n              if (!flags[i]) {\n                  for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* Seq.End */;)\n                      (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n              }\n          return new Dialect(dialect, flags, disabled);\n      }\n      /**\n      Used by the output of the parser generator. Not available to\n      user code. @hide\n      */\n      static deserialize(spec) {\n          return new LRParser(spec);\n      }\n  }\n  function pair(data, off) { return data[off] | (data[off + 1] << 16); }\n  function findFinished(stacks) {\n      let best = null;\n      for (let stack of stacks) {\n          let stopped = stack.p.stoppedAt;\n          if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) &&\n              stack.p.parser.stateFlag(stack.state, 2 /* StateFlag.Accepting */) &&\n              (!best || best.score < stack.score))\n              best = stack;\n      }\n      return best;\n  }\n  function getSpecializer(spec) {\n      if (spec.external) {\n          let mask = spec.extend ? 1 /* Specialize.Extend */ : 0 /* Specialize.Specialize */;\n          return (value, stack) => (spec.external(value, stack) << 1) | mask;\n      }\n      return spec.get;\n  }\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const noSemi = 316,\n    noSemiType = 317,\n    incdec = 1,\n    incdecPrefix = 2,\n    questionDot = 3,\n    JSXStartTag = 4,\n    insertSemi = 318,\n    spaces = 320,\n    newline$3 = 321,\n    LineComment = 5,\n    BlockComment = 6,\n    Dialect_jsx = 0;\n\n  /* Hand-written tokenizers for JavaScript tokens that can't be\n     expressed by lezer's built-in tokenizer. */\n\n  const space$3 = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200,\n                 8201, 8202, 8232, 8233, 8239, 8287, 12288];\n\n  const braceR = 125, semicolon = 59, slash$1 = 47, star = 42, plus = 43, minus = 45, lt = 60, comma = 44,\n        question$1 = 63, dot$1 = 46, bracketL$1 = 91;\n\n  const trackNewline = new ContextTracker({\n    start: false,\n    shift(context, term) {\n      return term == LineComment || term == BlockComment || term == spaces ? context : term == newline$3\n    },\n    strict: false\n  });\n\n  const insertSemicolon = new ExternalTokenizer((input, stack) => {\n    let {next} = input;\n    if (next == braceR || next == -1 || stack.context)\n      input.acceptToken(insertSemi);\n  }, {contextual: true, fallback: true});\n\n  const noSemicolon = new ExternalTokenizer((input, stack) => {\n    let {next} = input, after;\n    if (space$3.indexOf(next) > -1) return\n    if (next == slash$1 && ((after = input.peek(1)) == slash$1 || after == star)) return\n    if (next != braceR && next != semicolon && next != -1 && !stack.context)\n      input.acceptToken(noSemi);\n  }, {contextual: true});\n\n  const noSemicolonType = new ExternalTokenizer((input, stack) => {\n    if (input.next == bracketL$1 && !stack.context) input.acceptToken(noSemiType);\n  }, {contextual: true});\n\n  const operatorToken = new ExternalTokenizer((input, stack) => {\n    let {next} = input;\n    if (next == plus || next == minus) {\n      input.advance();\n      if (next == input.next) {\n        input.advance();\n        let mayPostfix = !stack.context && stack.canShift(incdec);\n        input.acceptToken(mayPostfix ? incdec : incdecPrefix);\n      }\n    } else if (next == question$1 && input.peek(1) == dot$1) {\n      input.advance(); input.advance();\n      if (input.next < 48 || input.next > 57) // No digit after\n        input.acceptToken(questionDot);\n    }\n  }, {contextual: true});\n\n  function identifierChar(ch, start) {\n    return ch >= 65 && ch <= 90 || ch >= 97 && ch <= 122 || ch == 95 || ch >= 192 ||\n      !start && ch >= 48 && ch <= 57\n  }\n\n  const jsx = new ExternalTokenizer((input, stack) => {\n    if (input.next != lt || !stack.dialectEnabled(Dialect_jsx)) return\n    input.advance();\n    if (input.next == slash$1) return\n    // Scan for an identifier followed by a comma or 'extends', don't\n    // treat this as a start tag if present.\n    let back = 0;\n    while (space$3.indexOf(input.next) > -1) { input.advance(); back++; }\n    if (identifierChar(input.next, true)) {\n      input.advance();\n      back++;\n      while (identifierChar(input.next, false)) { input.advance(); back++; }\n      while (space$3.indexOf(input.next) > -1) { input.advance(); back++; }\n      if (input.next == comma) return\n      for (let i = 0;; i++) {\n        if (i == 7) {\n          if (!identifierChar(input.next, true)) return\n          break\n        }\n        if (input.next != \"extends\".charCodeAt(i)) break\n        input.advance();\n        back++;\n      }\n    }\n    input.acceptToken(JSXStartTag, -back);\n  });\n\n  const jsHighlight = styleTags({\n    \"get set async static\": tags$1.modifier,\n    \"for while do if else switch try catch finally return throw break continue default case\": tags$1.controlKeyword,\n    \"in of await yield void typeof delete instanceof as satisfies\": tags$1.operatorKeyword,\n    \"let var const using function class extends\": tags$1.definitionKeyword,\n    \"import export from\": tags$1.moduleKeyword,\n    \"with debugger new\": tags$1.keyword,\n    TemplateString: tags$1.special(tags$1.string),\n    super: tags$1.atom,\n    BooleanLiteral: tags$1.bool,\n    this: tags$1.self,\n    null: tags$1.null,\n    Star: tags$1.modifier,\n    VariableName: tags$1.variableName,\n    \"CallExpression/VariableName TaggedTemplateExpression/VariableName\": tags$1.function(tags$1.variableName),\n    VariableDefinition: tags$1.definition(tags$1.variableName),\n    Label: tags$1.labelName,\n    PropertyName: tags$1.propertyName,\n    PrivatePropertyName: tags$1.special(tags$1.propertyName),\n    \"CallExpression/MemberExpression/PropertyName\": tags$1.function(tags$1.propertyName),\n    \"FunctionDeclaration/VariableDefinition\": tags$1.function(tags$1.definition(tags$1.variableName)),\n    \"ClassDeclaration/VariableDefinition\": tags$1.definition(tags$1.className),\n    \"NewExpression/VariableName\": tags$1.className,\n    PropertyDefinition: tags$1.definition(tags$1.propertyName),\n    PrivatePropertyDefinition: tags$1.definition(tags$1.special(tags$1.propertyName)),\n    UpdateOp: tags$1.updateOperator,\n    \"LineComment Hashbang\": tags$1.lineComment,\n    BlockComment: tags$1.blockComment,\n    Number: tags$1.number,\n    String: tags$1.string,\n    Escape: tags$1.escape,\n    ArithOp: tags$1.arithmeticOperator,\n    LogicOp: tags$1.logicOperator,\n    BitOp: tags$1.bitwiseOperator,\n    CompareOp: tags$1.compareOperator,\n    RegExp: tags$1.regexp,\n    Equals: tags$1.definitionOperator,\n    Arrow: tags$1.function(tags$1.punctuation),\n    \": Spread\": tags$1.punctuation,\n    \"( )\": tags$1.paren,\n    \"[ ]\": tags$1.squareBracket,\n    \"{ }\": tags$1.brace,\n    \"InterpolationStart InterpolationEnd\": tags$1.special(tags$1.brace),\n    \".\": tags$1.derefOperator,\n    \", ;\": tags$1.separator,\n    \"@\": tags$1.meta,\n\n    TypeName: tags$1.typeName,\n    TypeDefinition: tags$1.definition(tags$1.typeName),\n    \"type enum interface implements namespace module declare\": tags$1.definitionKeyword,\n    \"abstract global Privacy readonly override\": tags$1.modifier,\n    \"is keyof unique infer asserts\": tags$1.operatorKeyword,\n\n    JSXAttributeValue: tags$1.attributeValue,\n    JSXText: tags$1.content,\n    \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags$1.angleBracket,\n    \"JSXIdentifier JSXNameSpacedName\": tags$1.tagName,\n    \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags$1.attributeName,\n    \"JSXBuiltin/JSXIdentifier\": tags$1.standard(tags$1.tagName)\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const spec_identifier$2 = {__proto__:null,export:20, as:25, from:33, default:36, async:41, function:42, in:52, out:55, const:56, extends:60, this:64, true:72, false:72, null:84, void:88, typeof:92, super:108, new:142, delete:154, yield:163, await:167, class:172, public:235, private:235, protected:235, readonly:237, instanceof:256, satisfies:259, import:292, keyof:349, unique:353, infer:359, asserts:395, is:397, abstract:417, implements:419, type:421, let:424, var:426, using:429, interface:435, enum:439, namespace:445, module:447, declare:451, global:455, defer:471, for:476, of:485, while:488, with:492, do:496, if:500, else:502, switch:506, case:512, try:518, catch:522, finally:526, return:530, throw:534, break:538, continue:542, debugger:546};\n  const spec_word = {__proto__:null,async:129, get:131, set:133, declare:195, public:197, private:197, protected:197, static:199, abstract:201, override:203, readonly:209, accessor:211, new:401};\n  const spec_LessThan = {__proto__:null,\"<\":193};\n  const parser$7 = LRParser.deserialize({\n    version: 14,\n    states: \"$FjQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3]Q(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ yQpO'#GbO$!aQ!dO,5<sO$!hQ`O'#K[O9eQ`O'#K[O$!vQ`O,5<uO!,TQMhO,5<tO$!{Q`O'#GZO$#^Q`O,5<tO$#cQ!dO'#GWO$#pQ!dO'#K]O$#zQ`O'#K]O!&zQMhO'#K]O$$PQ`O,5<xO$$UQlO'#JvO$$`QpO'#GcO#$`QpO'#GcO$$qQ`O'#GgO!3oQ`O'#GkO$$vQ!0LrO'#ItO$%RQpO,5<|OOQ!0Lp,5<|,5<|O$%YQpO'#GcO$%gQpO'#GdO$%xQpO'#GdO$%}QMjO,5=XO$&_QMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$&oQ`O'#IyO$'TQ`O,5@UO$']Q`O,59aOOQ!0Lh,59i,59iO$'bQ`O,5@VO$(bQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)TQMjO,5<kO$)vQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*QQ`O,5<vO$*VQMjO,5<{O$*gQ`O'#KPO!$wQlO1G2RO$*lQ`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$*qQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,sQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$.wQMhO'#EkOOQ!0Lb,5@T,5@TO$/UQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$/gQ`O1G0uO$/lQ`O'#CiO$/wQ`O'#KeO$0PQ`O,5=|O$0UQ`O'#KeO$0ZQ`O'#KeO$0iQ`O'#JRO$0wQ`O,5AOO$1PQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1WQ`O1G3fO$1]Q`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$1bQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$1gQ`O1G3SO$1oQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1wQMhO,5=tO9kQ`O,5=tO$$qQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2VQ`O'#KcO$2bQ`O,5=wOOQ[1G.k1G.kO$2gQ!0LrO1G.kO@zQ`O1G.kO$2rQ`O1G.kO9uQ!0LrO1G.kO$4zQ!fO,5AQO$5XQ`O,5AQO9eQ`O,5AQO$5dQlO,5>PO$5kQ`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$5pQlO1G3uO$9tQlO'#HtOOQ[1G3x1G3xO$:RQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:ZQlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$>bQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$>gQ?MtO,5:XOOQO,5;`,5;`O$>qQpO'#IeO$?XQ`O,5@aOOQ!0Lf1G/r1G/rO$?aQpO'#IkO$?kQ`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$?sQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?zQ!0LrO1G0mO$@VQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$@eQ!0LrO1G0mOOQO1G0^1G0^O$@yQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$ATQ!bO,5<iO$A]Q!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$AgQ`O1G5zO$AoQ`O1G6YO$AwQ!fO1G6ZO9eQ`O,5?UO$BRQ!0MxO1G6WO%[QlO1G6WO$BcQ!0LrO1G6WO$BtQ`O1G6VO$BtQ`O1G6VO9eQ`O1G6VO$B|Q`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$CbQ`O,5?XO$*gQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$CpQ`O7+(eO$C{QMhO7+(eO$DZQ!0MzO,5=XO$FfQ!0MzO,5=ZO$HqQ!0MzO,5=XO$KSQ!0MzO,5=ZO$MeQ!0MzO,59uO% jQ!0MzO,5<kO%#uQ!0MzO,5<mO%&QQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%(cQ!0MxO7+&aO%)VQlO'#IfO%)dQ`O,5@cO%)lQ!fO,5@cOOQ!0Lf1G0P1G0PO%)vQ`O7+&jOOQ!0Lf7+&j7+&jO%){Q?MtO,5:fO%[QlO7+&zO%*VQ?MtO,5:bO%*dQ?MtO,5:jO%*nQ?MtO,5:lO%*xQMhO'#IiO%+SQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+[Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%+gQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+lQ!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%+sQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%,gQMhO1G2fP%,nQ`O'#IrPOQ!0Lh-E<p-E<pO%-[QMjO,5?aOOQ!0Lh-E<s-E<sO%-}QMjO,5?cOOQ!0Lh-E<u-E<uO%.XQ!dO1G2wO%.`Q!dO'#CrO%.vQMhO'#KSO$$UQlO'#JvOOQ!0Lh1G2_1G2_O%.}Q`O'#IqO%/cQ`O,5@vO%/cQ`O,5@vO%/kQ`O,5@vO%/vQ`O,5@vOOQO1G2a1G2aO%0UQMjO1G2`O!,TQMhO1G2`O%0fQ(CWO'#IsO%0sQ`O,5@wO!&zQMhO,5@wO%0{Q!dO,5@wOOQ!0Lh1G2d1G2dO%3]Q!fO'#CiO%3gQ`O,5=POOQ!0Lb,5<},5<}O%3oQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%3zQpO,5<}OOQ!0Lb,5=R,5=RO$*gQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$UQlO,5=PO%4YQ`O,5=OO%4eQpO,5=OO!,TQMhO'#IuO%5_QMjO1G2sO!,TQMhO'#IwO%6QQMjO1G2uO%6[QMjO1G5qO%6fQMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6sQ`O1G2ZO!,TQMhO1G2bO%6xQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%7lQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%7qQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$CsQ`O7+(eO%7{Q!0MvO'#CiO%8`Q!0MvO,5=SO%9QQ`O,5=SO%9YQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9_Q`O'#JQO%9vQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%9vQ`O,5APO%:OQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:TQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:YQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:_Q!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%:iQ`O'#KbO%:tQ`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<WQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<_Q`O1G3`O%<jQMhO1G3`O9uQ!0LrO1G3bO$$qQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%<xQ`O'#JPO%=^Q`O,5@}O%=fQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%=qQ`O7+$VO%[QlO1G6lO%[QlO1G6mO%=vQ!0LrO1G6lO%>QQlO1G3kO%>XQ`O1G3kO%>^QlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%>eQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%>rQ`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%>wQpO1G5|O%?cQ?MtO1G0zO%?mQ`O1G0zOOQO1G/s1G/sO%?xQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$@yQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@SQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@_Q!0LrO7+&XO%@mQ!0MxO7++rO%[QlO7++rO%@}Q`O7++qO%@}Q`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AVQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%AeQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%AmQ`O<<LPO%AxQ!0MzO,5?aO%DTQ!0MzO,5?cO%F`Q!0MzO1G2`O%HqQ!0MzO1G2sO%J|Q!0MzO1G2uO%MXQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%McQ`O1G5}OOQ!0Lf<<JU<<JUO%MkQ?MtO1G0uO& rQ?MtO1G1PO& yQ?MtO1G1PO&#zQ?MtO1G1PO&$RQ?MtO1G1PO&&SQ?MtO1G1PO&(TQ?MtO1G1PO&([Q?MtO1G1PO&(cQ?MtO1G1PO&*dQ?MtO1G1PO&*kQ?MtO1G1PO&*rQ!0MxO<<JfO&,jQ?MtO1G1PO&-gQ?MvO1G1PO&.jQ?MvO'#JlO&0pQ?MtO1G1cO&0}Q?MtO1G0UO&1XQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1cQ`O1G1tO&1hQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&1rQ!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&1yQ`O,5?]O9eQ`O,5?]OOQO-E<o-E<oO&2XQ`O1G6bO&2XQ`O1G6bO&2aQ`O1G6bO&2lQMjO7+'zO&2|Q!dO,5?_O&3WQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3]Q!dO1G6cO&3gQ`O1G6cO&3oQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3oQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&3tQpO1G2iO&4SQ`O1G2kO$*gQ`O1G2jOCwQ`O1G2jO$$UQlO1G2kO&4[Q`O1G2jO&5OQMjO,5?aOOQ!0Lh-E<t-E<tO&5qQMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&5{QMjO7++]O&6VQMjO7++]OOQ!0Lh1G/c1G/cO&6dQ`O1G/cOOQ!0Lh7+'u7+'uO&6iQMjO7+'|O&6yQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&7mQ`O1G0zO!&zQMhO'#IzO&7rQ`O,5@xO&9tQ!fO<<LPO!&zQMhO1G2nO&9{Q!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:^Q!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;QQ`O,5?lO&;VQ`O,5?lOOQO-E=O-E=OO&;eQ`O1G6kO&;eQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&;mQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:_Q!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&;rQpO'#I|O&;}Q`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<VQpO,5=uOOQ[,5=u,5=uO&<^QpO'#EgO&<eQpO'#GeO&<jQ`O7+(zO&<oQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&<wQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$$qQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=SQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=_Q`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&=gQ`O7+,WO&=lQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&=qQ`O7+)VO&=vQlO7+)VO&=}Q`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>SQ`O,5>aOOQ[,5>c,5>cO&>XQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>^Q?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$@yQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&>hQ!0LrO<<IsO&>sQ!0MxO<= ^O&?TQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?]Q!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&?dQ`OANAkO%[QlOANAkO&?lQ!0MzO7+'zO&A}Q!0MzO,5?aO&DYQ!0MzO,5?cO&FeQ!0MzO7+'|O&HvQ!fO1G4lO&IQQ?MtO7+&aO&KUQ?MvO,5=XO&M]Q?MvO,5=ZO&MmQ?MvO,5=XO&M}Q?MvO,5=ZO&N_Q?MvO,59uO'!eQ?MvO,5<kO'$hQ?MvO,5<mO'&|Q?MvO,5<{O'(rQ?MtO7+'kO')PQ?MtO7+'mO')^Q`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')cQMjO<<K}OOQO1G4w1G4wO')jQ`O1G4wO')uQ`O1G4wO'*TQ`O7++|O'*TQ`O7++|O!&zQMhO1G4yO'*]Q!dO1G4yO'*gQ`O7++}O'*oQ`O7+(VO'*zQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+UQ`O7+(VO!&zQMhO7+(VO$*gQ`O7+(UO'+ZQ`O7+(VOCwQ`O7+(UO'+cQMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O'+mQ!dO,5?fOOQO-E<x-E<xO'+wQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',XQ`O1G5WO',^Q`O7+,VO',^Q`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO',fQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO',kQ`O,5?hOOQO-E<z-E<zO',vQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-QQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&<jQ`O<<LfO'-VQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$$qQ`O<<LhO9`Q`O<<LhO'-_QpO1G5VO'-jQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'-rQ`O<= rO'-wQ`O<= sOOQ[<<Lq<<LqO'-|Q`O<<LqO'.RQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.YQ`O<<JQO'.eQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@yQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'.oQ!fOG27VO4UQ!fOG27VO'.vQ`OG27VO'/OQ?MtO<<JfO'/]Q?MvO1G2`O'1RQ?MvO,5?aO'3UQ?MvO,5?cO'5XQ?MvO1G2sO'7[Q?MvO1G2uO'9_Q?MtO<<KXO'9lQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO'9yQ`O7+*cO':UQ`O<= hO':^Q!dO7+*eOOQ!0Lb<<Kq<<KqO$*gQ`O<<KqOCwQ`O<<KqO':hQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO':sQ!dO<<KqOOQ!0Lb<<Kp<<KpO':}Q`O<<KqO!&zQMhO<<KqO$*gQ`O<<KpO';SQMjOANDcO';^Q!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO';nQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO';vQ`O7+,SO'<OQ`O1G2kO&<jQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<TQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$$qQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<]Q`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$@yQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<bQ!fOLD,qO'<iQ?MvO7+'zO'>_Q?MvO,5?aO'@bQ?MvO,5?cO'BeQ?MvO7+'|O'DZQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$*gQ`OANA]OCwQ`OANA]O'DkQ!dOANA]OOQ!0LbANAZANAZO'DrQ`OANA]O!&zQMhOANA]O'D}Q!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EXQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&<jQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'EcQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'EmQ!0MzOG27TOOQ!0LbG26wG26wO$*gQ`OG26wO'HOQ`OG26wOCwQ`OG26wO'HZQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&<jQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$*gQ`OLD,cOCwQ`OLD,cO'HbQ`OLD,cO'HmQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HtQ?MvOG27TOOQ!0Lb!$( }!$( }O$*gQ`O!$( }OCwQ`O!$( }O'JjQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$*gQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$*gQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'JuQ!fO'#JrO'J|Q!L^O'#DvO'KTQlO'#EOO'K[Q!fO'#CiO'MrQ!fO'#CiO!)[QlO'#EQO'NSQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!VQ`O,5<iO!)[QlO,5;eO(!_QMhO,5;eO(#xQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!_QMhO'#GmO!&zQMhO'#GoO(!_QMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!_QMhO'#GPO!&zQMhO'#GRO(!_QMhO'#GRO!&zQMhO'#GaO(!_QMhO'#GaO!)[QlO,5:jO($PQpO'#D_O($ZQpO'#JvO!)[QlO,5@oO'NSQlO1G0uO($eQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!_QMhO'#IuO!&zQMhO'#IwO(!_QMhO'#IwO($oQ!dO'#CrO!&zQMhO,5<tO(!_QMhO,5<tO'NSQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!_QMhO1G2`O!&zQMhO'#IuO(!_QMhO'#IuO!&zQMhO'#IwO(!_QMhO'#IwO!&zQMhO1G2bO(!_QMhO1G2bO'NSQlO7+'mO'NSQlO7+&aO!&zQMhOANAiO(!_QMhOANAiO(%SQ`O'#EoO(%XQ`O'#EoO(%aQ`O'#F]O(%fQ`O'#EyO(%kQ`O'#KTO(%vQ`O'#KRO(&RQ`O,5;ZO(&WQMjO,5<eO(&_Q`O'#GYO(&dQ`O'#GYO(&iQ`O,5<eO(&qQ`O,5<gO(&yQ`O,5;ZO('RQ?MtO1G1`O('YQ`O,5<tO('_Q`O,5<tO('dQ`O,5<vO('iQ`O,5<vO('nQ`O1G2RO('sQ`O1G0uO('xQMjO<<K}O((PQMjO<<K}O((WQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.XQ!dO1G2wO%.XQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]\",\n    stateData: \"()^~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<SO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<WO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<XO!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<SO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<pO!S${O!_$|O!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<ROQ<ROSfOd>OOe!iOpkOr<ROskOtkOzkO|<RO!O<RO!SWO!WkO!XkO!_!eO!i<UO!lZO!o<RO!p<RO!q<RO!s<VO!u<YO!x!hO$W!kO$n=|O(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<pO!S*YO!_*ZO!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~O![*^O(T*XO!k)OP~P!1uO#k*`O~O!l*aO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<pO!S${O!_$|O!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(T*cO(VTO(YUO(a$uO(y$}O(z%PO~O![*fO!Y)PP~P!3tOr*rOs!nO!S*hO!b*pO!c*jO!d*jO!l*aO#[*qO%`*lO(U!lO(VTO(YUO(e!mO~O!^*oO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*wO#`*vOg(_X!](_X~O!]*xOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*{O~Og)}O(T&ZO~O!l+RO~O(T(vO~Op+VO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+WO~O!S%hO![+YO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+[O![+ZO(VTO(YUO(e(|O~O!^(xP~P!9|O!]+]Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+fO!_'`O%i+eO~O!g+hOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+sO%j+tO(T+pO(VTO(YUO!^)XP~O!]+uO`)WX~O[+yO~O`+zO~O!_&PO(T%gO(U!lO`)WP~O%j+}O~P;SOh%VO#`,RO~Oh%VOn,UO!_$|O~O!_,WO~O!Q,YO!_XO~O%n%vO~O!x,_O~Oe,dO~Ob,eO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,jO`,iO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,iOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,oOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,uO~O!_,wO~O&o,yO&q,zOP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-PO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-UO#`-TOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-WO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<ROQ<ROSfOd>OOe!iOpkOr<ROskOtkOzkO|<RO!O<RO!SWO!WkO!XkO!_!eO!i<UO!lZO!o<RO!p<RO!q<RO!s<VO!u<YO!x!hO$W!kO$n=|O(VTO(YUO(aVO(o[O~O(T<}O~P#$qO!]-[O!^(iX~O!^-^O~O!g-UO#`-TO!]#hX!^#hX~O!]-_O!^(xX~O!^-aO~O!c-bO!d-bO(U!lO~P#$`O!^-eO~P'_On-hO!_'`O~O!Y-mO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-rO#`-pO~PChO!c-tO!d-tO(U!lO~PDWOa%nO#`-pO'z%nO~Oa%nO!g#vO#`-pO'z%nO~Oa%nO!g#vO!p-rO#`-pO'z%nO(r'pO~O(P'xO(Q'xO(R-yO~Ov-zO~O!Y'Wa!]'Wa~P!:tO![.OO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.SO!_%iO(T%gO!Y'^X!]'^X~O#`.UO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.YO(T%gO~Op._O!S%hO![.[O!_%iO!|]O#i.^O#j.[O(T%gO!]'aX!k'aX~OR.cO!l#xO~Oh%VOn.fO!_'`O%i.eO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>YO!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].sO!k(kX~P!:tO!k.vO~O!Y.xO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO#v<`O#x<bO#z<dO#{<eO(aVO(r$YO(y#|O(z#}O~O$O.zO~P#BwO#S$dO#`<kO$Q<kO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>YO!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/OOg(pX~P!1WOg/QO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/RO$_/RO~O$]/SO$_/SO~O!g)hO#`/TO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/UO~O!_)kO$Z/WO$])jO$_)jO$f/XO~O!]<fO!^(fX~P#BwO!^/YO~O!g)hO$f({X~O$f/[O~Ov/]O~P!&zOx)yO(b)zO(c/`O~O!S/cO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SO![/lO!](^O(T/kO!Y(vP!Y)PP~P!1uOr*rO!b*pO!c*jO!d*jO!l*aO#[*qO%`*lO(U!lO(VTO(YUO~Os<zO!S/mO![+ZO!^*oO(e<yO!^(xP~P$ XO!k/nO~P#/sO!]/oO!g#vO(r'pO!k)OX~O!k/tO~O!S%hO![*^O!_%iO(T%gO!k)OP~O#k/vO~O!Y$zX!]$zX!g%RX~P!0SO!]/wO!Y)PX~P#/sO!g/yO~O!Y/{O~OpkO(T/|O~P.iOh%VOr0RO!g#vO!l%eO(r'pO~O!g+hO~Oa%nO!]0VO'z%nO~O!^0XO~P!5iO!c0YO!d0YO(U!lO~P#$`Os!nO!S0ZO(VTO(YUO(e!mO~O#[0]O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*xOg(^a~Og0fO~On0hO#`0gOg(_a!](_a~OR0iO!Q0iO!S0jO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$'pO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$(lO!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$)_O#k0mO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0pO~O!]+]Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*|Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<pO!S${O!_$|O!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0yO%]0zO(T0xO~P$-dO!g+hOa(]a!_(]a'z(]a!](]a~O#k1QO~O[]X!]fX!^fX~O!]1RO!^)XX~O!^1TO~O[1UO~Ob1WO(T+pO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+uO`)Wa~O!k1ZO~P!:tO[1^O~O`1_O~O#`1dO~On1gO!_$|O~O(e(|O!^)UP~Oh%VOn1pO!_1mO%i1oO~O[1zO!]1xO!^)VX~O!^1{O~O`1}Oa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2QO&[2ROa(gX~P$2}Oj2QO#`$eO&[2RO~Oa2TO~P%[Oa2VO~O&e2YOP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2`O!^2^O&j2_O~P`O!_XO!l2bO~O&q,zOP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2hO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2nO(e!mO!]'XX!^'XX~P@nO!]-[O!^(ia~O!]'_X!^'_X~P!9|O!]-_O!^(xa~O!^2uO~P'_Oa%nO#`3OO'z%nO~Oa%nO!g#vO#`3OO'z%nO~Oa%nO!g#vO!p3SO#`3OO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3UO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3ZO#j3YO(T%gO~O!S%hO!_%iO#j3YO(T%gO~On3bO!_'`O%i3aO~Oh%VOn3bO!_'`O%i3aO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$'pO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$(lO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$)_O#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3jO!]'YX!k'YX~P%[O!].sO!k(ka~O!].sO!k(ka~P!:tO!Y3mO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/OOg(pa~OSfO!_4RO$d4SO~O!^4WO~Ov4XO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4ZO~P!&zO!S4[O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%,sO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%-fO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SO(T=TO~P!1uO!S%hO![4_O!_%iO(T%gO!]'eX!k'eX~O!]/oO!k)Oa~O!]/oO!g#vO!k)Oa~O!]/oO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4gO!Y'gX!]'gX~P!3tO!]/wO!Y)Pa~O!]/wO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%1VOj4lO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4qO!l%eO(r'pO~Or4vO!g#vO(r'pO~Os!nO!S4wO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%4vO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%5iOg(_i!](_i~P!1WO#`4}Og(_i!](_i~P!1WO!k5SO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5WO~O!]5XO!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5[OaoXnoX!QoX!_oX'yoX'zoX(yoX(zoX!]oX~Op5]O(T#nO~O%^5[O~Ob5cO%j5dO(T+pO(VTO(YUO!]'tX!^'tX~O!]1RO!^)Xa~O[5hO~O`5iO~O[5mO~Oa%nO'z%nO~P#/sO!]5rO#`5tO!^)UX~O!^5uO~Or5{Os!nO!S*hO!b!yO!c!vO!d!vO!|<SO#T!pO#U!pO#V!pO#W!pO#X!pO#[5zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5yO~P%:yOn6QO!_1mO%i6PO~Oh%VOn6QO!_1mO%i6PO~Ob6XO(T#nO(VTO(YUO!]'sX!^'sX~O!]1xO!^)Va~O(VTO(YUO(e6ZO~O`6_O~Oj6bO&[6cO~PNXO!k6dO~P%[Oa6fO~Oa6fO~P%[Ob2`O!^6kO&j2_O~P`O!g6mO~O!g6oOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6pO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6yO'z%nO~Oa%nO!g#vO#`6yO'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7QO(T%gO~O!_'`O%i7TO~On7XO!_'`O%i7TO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%,sO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%-fO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%4vO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%5iO!]'Ya!k'Ya~P!:tO!].sO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%MxO#n<[O~P%MxOP$[OR#zOr<hO!Q#yO!S#{O!l#xO!p$[O#n<[O#o<]O#p<]O#q<]O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!QO#r<^O~P&!QOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$YOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO#v<`O(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<bO~P&&ZO#x#mi~P&&ZO#v<`O~P&$YOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO#v<`O#x<bO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&(jO#z<dO~P&(jOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<[O#o<]O#p<]O#q<]O(aVO(y#mi(z#mi~P&+fOn>ZO!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&+fO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$*|Og']a!]']a~P!1WO!^7kO~O!]'da!^'da~P#BwO!Y7lO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/oO!k)Oi~O!]/oO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7sO~O!]/wO!Y)Pi~P#/sO!]/wO!Y)Pi~O!Y7vO~Oh%VOr7{O!l%eO(r'pO~Oj7}O!g#vO~Or8QO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&4gO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5YOg(_q!](_q~P!1WO#`8SOg(_q!](_q~P!1WO!Y8TO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6oO~O!]5XO!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7TO~P&7zO%^8XOa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8ZO~Ob8]O(T+pO(VTO(YUO~O!]1RO!^)Xi~O`8aO~O(e(|O!]'pX!^'pX~O!]5rO!^)Ua~O!^8kO~P%:yO(o!sO~P$%gO#[8lO~O!_1mO~O!_1mO%i8nO~On8qO!_1mO%i8nO~O[8vO!]'sa!^'sa~O!]1xO!^)Vi~O!k8zO~O!k8{O~O!k9OO~O!k9OO~P%[Oa9QO~O!g9RO~O!k9SO~O!](wi!^(wi~P#BwOa%nO#`9[O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9_O~P&7zO!_'`O%i9_O~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&4gO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5YO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&I_O(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&KfOn>ZO!Q*OO'y*PO(z%PO~P&I_On>ZO!Q*OO'y*PO(y$}O~P&KfOR0iO!Q0iO!S0jO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>ZO!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P'&kO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9lO~O$O9mO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/oO!k)Oq~O!Y'gi!]'gi~P#/sO!]/wO!Y)Pq~Or9tO!g#vO(r'pO~O[9vO!Y9uO~P#/sO!Y9uO~Oj9|O!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:RO~O!]1RO!^)Xq~O`:VO~O#`:WO!]'pa!^'pa~O!]5rO!^)Ui~P#BwO!S:YO~O!_1mO%i:]O~O(VTO(YUO(e:bO~O!]1xO!^)Vq~O!k:eO~O!k:fO~O!k:gO~O!k:gO~P%[O#`:jO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:oO~P&7zO!_'`O%i:oO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P'&kO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/oO!k)Oy~O!Y'gq!]'gq~P#/sOr:yO!g#vO(r'pO~O[:}O!Y:|O~P#/sO!Y:|O~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1RO!^)Xy~O!]5rO!^)Uq~O(T;UO~O!_1mO%i;XO~O!k;[O~O%i;aO~P&7zOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P'&kO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P'&kOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;eO~P#/sOr;fO!g#vO(r'pO~O[;hO!Y;eO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;qO!g#vO(r'pO~O!Y;rO~P#/sOr;yO!g#vO(r'pO~O!Y;zO~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P'&kOr;}O!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%1VOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'KiOP<ROQ<ROSfOd>OOe!iOpkOr<ROskOtkOzkO|<RO!O<RO!SWO!WkO!XkO!_XO!i<UO!lZO!o<RO!p<RO!q<RO!s<VO!u<YO!x!hO$W!kO$n=|O(T)]O(VTO(YUO(aVO(o[O~O!]<fO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<qO!S${O!_$|O!i>TO!l$xO#j<wO$W%`O$t<sO$v<uO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!_Or!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'KiO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<ZO~O!g#vO#k<ZO~O#`<kO~Oj<_O~O#`<{O!](wX!^(wX~O#`<kO!](uX!^(uX~O#k<|O~Og=OO~P!1WO#k=UO~O#k=VO~Og=OO(T&ZO~O!g#vO#k=WO~O!g#vO#k<|O~O$O=XO~P#BwO#k=YO~O#k=ZO~O#k=`O~O#k=aO~O#k=bO~O#k=cO~O$O=dO~P!1WO$O=eO~P!1WOl=pO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~\",\n    goto: \"$9V)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2fI[I[!2k!5w!:e!:e!>dPPP!>lI[PPPPPPPPP!A{P!CYPPI[!DkPI[PI[I[I[I[I[PI[!E}P!IXP!L_P!Lc!Lm!Lq!LqP!IUP!Lu!LuP# {P#!PI[PI[#!V#%[CjA^PA^PA^A^P#&iA^A^#({A^#+sA^#.PA^A^#.o#1T#1T#1Y#1c#1T#1nPP#1TPA^#2WA^#6VA^A^6mPPP#:[PPP#:u#:uP#:uP#;]#:uPP#;cP#;YP#;Y#;v#;Y#<b#<h#<k)aP#<n)aP#<w#<w#<wP)aP)aP)aP)aPP)aP#<}#=QP#=Q)aP#=UP#=XP)aP)aP)aP)aP)aP)a)aPP#=_#=e#=p#=v#=|#>S#>Y#>h#>n#>x#?O#?Y#?`#?p#?v#@h#@z#AQ#AW#Af#A{#Cp#DO#DV#Eq#FP#Gq#HP#HV#H]#Hc#Hm#Hs#Hy#IT#Ig#ImPPPPPPPPPPP#IsPPPPPPP#Jh#Mu$ _$ f$ nPPP$'YP$'c$*[$0u$0x$0{$1z$1}$2U$2^P$2d$2gP$3T$3X$4P$5_$5d$5zPP$6P$6V$6Z$6^$6b$6f$7b$7y$8b$8f$8i$8l$8v$8y$8}$9RR!|RoqOXst!Z#d%m&r&t&u&w,r,w2Y2]Y!vQ'`-d1m5xQ%tvQ%|yQ&T|Q&j!VS'W!e-[Q'f!iS'l!r!yU*j$|*Z*nQ+n%}S+{&V&WQ,c&dQ-b'_Q-l'gQ-t'mQ0Y*pQ1`+}Q1w,dR<x<V%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[,o,r,w-h-p.O.U.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3j4w6Q6b6c6f6y8q9Q9[S#q]<S!r)_$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PU+O%]<p<qQ+s&PQ,e&gQ,l&oQ0v+fQ0{+hQ1W+tQ2P,jQ3^.fQ5]0zQ5c1RQ6X1xQ7V3bQ8]5dR9b7X'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>P!S!nQ!r!v!y!z$|'W'_'`'l'm'n*j*n*p*q-[-b-d-t0Y0]1m5x5z%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*`*f*v*w+e+h,R,U.e/O/c/l/v/w/y0^0`0g0h0m1d1g1o3a4[4]4g4l4}5X5[6P7T7s7}8S8X8n9_9m9v9|:]:o:};X;a;h<i<j<l<m<n<o<r<s<t<u<v<w=P=Q=R=S=U=V=Y=Z=[=]=^=_=`=a=d=e=|>U>V>Y>ZQ&X|Q'U!eS'[%i-_Q+s&PQ,O&WQ,e&gQ0l+RQ1W+tQ1]+zQ2O,iQ2P,jQ5c1RQ5l1_Q6X1xQ6[1zQ6]1}Q8]5dQ8`5iQ8y6_Q:U8aQ:c8vQ;S:VR<z*ZrnOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]R,g&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>O>P[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*a+Y+Z+],n-U.S.Y.Z.[.^/l/o2b3Y3Z4_6o7QQ%wxQ%{yW&Q|&V&W+}Q&_!TQ'c!hQ'e!iQ(q#sS+m%|%}Q+q&PQ,^&bQ,b&dS-k'f'gQ.h(rQ1P+nQ1V+tQ1X+uQ1[+yQ1r,_S1v,c,dQ2z-lQ5b1RQ5f1UQ5k1^Q6W1wQ8[5dQ8_5hQ8c5mQ:Q8ZR;Q:R!U$zi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V!^%yy!i!u%{%|%}'V'e'f'g'k'u*i+m+n-X-k-l-s0P0S1P2s2z3R4o4p4s7z9xQ+g%wQ,S&[Q,V&]Q,a&dQ.g(qQ1q,^U1u,b,c,dQ3c.hQ6R1rS6V1v1wQ8u6W#f>Q#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zo>R<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=eW%Ti%V*x=|S&[!Q&iQ&]!RQ&^!SU*|%[%d=pR,Q&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*`*f*v*w+e+h,R,U.e/O/c/l/v/w/y0^0`0g0h0m1d1g1o3a4[4]4g4l4}5X5[6P7T7s7}8S8X8n9_9m9v9|:]:o:};X;a;h<i<j<l<m<n<o<r<s<t<u<v<w=P=Q=R=S=U=V=Y=Z=[=]=^=_=`=a=d=e=|>U>V>Y>ZT)z$u){V+O%]<p<qW'[!e%i*Z-_S(}#y#zQ+b%rQ+x&SS.a(m(nQ1h,WQ5Q0iR8f5r'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>P$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+c+w-Y-w-|.R.T.r.u.y.{.|.}/a0n2i2l2|3T3i3n3o3p3q3r3s3t3u3v3w3x3y3z3}4O4V5U5`6r6x6}7^7_7h7i8h9U9Y9d9j9k:l;T;]<T=sT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PQ'Y!eR2o-[!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*j*n*p*q-[-b-d-t0Y0]1m5x5zR1j,YnqOXst!Z#d%m&r&t&u&w,r,w2Y2]Q&y!^Q'v!xS(s#u<ZQ+k%zQ,[&_Q,]&aQ-i'dQ-v'oS.q(x<|S0o+W=WQ0}+lQ1l,ZQ2a,yQ2c,zQ2k-VQ2x-jQ2{-nS5V0p=bQ5^1OS5a1Q=cQ6q2mQ6u2yQ6z3QQ8Y5_Q9V6sQ9W6vQ9Z6{R:i9S$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+c+w-Y-w-|.R.T.r.u.y.|.}/a0n2i2l2|3T3i3n3o3p3q3r3s3t3u3v3w3x3y3z3}4O4V5U5`6r6x6}7^7_7h7i8h9U9Y9d9j9k:l;T;]<T=sS(o#p'iQ)P#zS+a%q.{S.b(n(pR3[.c'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PS#q]<SQ&t!XQ&u!YQ&w![Q&x!]R2X,uQ'a!hQ+d%wQ-g'cS.d(q+gQ2v-fW3`.g.h0u0wQ6t2wW7R3]3_3c5ZU9^7S7U7WU:n9`9a9cS;_:m:pQ;m;`R;u;nU!wQ'`-dT5v1m5x!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,r,w.Z2Y2]]!pQ!r'`-d1m5xT#q]<S%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[S(}#y#zS.a(m(n!s=i$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PU$fd)_,lS(p#p'iU*u%R(w3|U0k*}.m7dQ5Z0vQ7S3^Q9a7VR:p9bm!tQ!r!v!y!z'`'l'm'n-d-t1m5x5zQ't!uS(f#g2SS-r'k'wQ/r*]Q0P*iQ3S-uQ4c/sQ4o0RQ4p0SQ4u0[Q7o4^S7z4q4sS8O4v4xQ9o7pQ9s7vQ9x7{Q9}8QS:x9t9uS;d:y:|S;p;e;fS;x;q;rS;|;y;zR<P;}Q#wbQ's!uS(e#g2SS(g#m+VQ+X%fQ+i%xQ+o&OU-q'k't'wQ.V(fQ/q*]Q0Q*iQ0T*kQ0|+jQ1s,`S3P-r-uQ3X._S4b/r/sQ4k/}S4n0P0[Q4r0UQ6T1tQ6|3SQ7n4^Q7r4cU7y4o4u4xQ7|4tQ8s6US9n7o7pQ9r7vQ9z8OQ9{8PQ:`8tQ:v9oS:w9s9uQ;P9}Q;Z:aS;c:x:|S;o;d;eS;w;p;rS;{;x;zQ<O;|Q<Q<PQ=l=gQ=x=qR=y=rV!wQ'`-d%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[S#wz!j!r=f$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PR=l>O%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*i+m+n-X-k-l-s0P0S1P2s2z3R4o4p4s7z9xS&Oz!jQ+j%yQ,`&dW1t,a,b,c,dU6U1u1v1wS8t6V6WQ:a8u!r=g$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PQ=q=}R=r>O%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*a+Y+Z+],n-U.S.Y.Z.[.^/l/o2b3Y3Z4_6o7QQ,m&o!p=h$Z$n)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PR=k'XU']!e%i*ZR2q-_%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[,o,r,w-h-p.O.U.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3j4w6Q6b6c6f6y8q9Q9[!r)_$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PQ,l&oQ0v+fQ3^.fQ7V3bR9b7X!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+w-w-|.R.T.r.u/a0n2|3T3i3y5U5`6x6}7^9Y:l<T!P<a)^)q-Y.{2i2l3n3w3x3}4V6r7_7h7i8h9U9d9j9k;T;]=s!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+w-w-|.R.T.r.u/a0n2|3T3i3y5U5`6x6}7^9Y:l<T!T<c)^)q-Y.{2i2l3n3t3u3w3x3}4V6r7_7h7i8h9U9d9j9k;T;]=s!^$Zc#Y%q(S(Y(t(y)`)g+w-w-|.R.T.r.u/a0n2|3T3i3y5U5`6x6}7^9Y:l<TQ4]/jz>P)^)q-Y.{2i2l3n3}4V6r7_7h7i8h9U9d9j9k;T;]=sQ>U>WR>V>X'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PS$oh$pR4S/T'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/T/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PT$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/T/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PT$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[!s=}$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>P#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*h+[+f,o,r,w-h.f/U/m0Z0j1p2Q2R2T2V2Y2]2_3b4R4w6Q6b6c6f7X8q9Q!U%Ri$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V#f(w#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>ZQ+S%aQ/b*Oo3|<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=e!U$yi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>VQ*b$zU*k$|*Z*nQ+T%bQ0U*l#f=n#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zn=o<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=eQ=t>QQ=u>RQ=v>SR=w>T!U%Ri$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V#f(w#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zo3|<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=enoOXst!Z#d%m&r&t&u&w,r,w2Y2]S*e${*YQ-Q'OQ-R'QR4f/w%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*`*f*v*w+e+h,R,U.e/O/c/l/v/w/y0^0`0g0h0m1d1g1o3a4[4]4g4l4}5X5[6P7T7s7}8S8X8n9_9m9v9|:]:o:};X;a;h<i<j<l<m<n<o<r<s<t<u<v<w=P=Q=R=S=U=V=Y=Z=[=]=^=_=`=a=d=e=|>U>V>Y>ZQ,T&]Q1f,VQ5p1eR8e5qV*m$|*Z*nU*m$|*Z*nT5w1m5xS/}*h/mQ4t0ZT8P4w:YQ+i%xQ0T*kQ0|+jQ1s,`Q6T1tQ8s6UQ:`8tR;Z:a!U%Oi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>Vx*R$v)e*S*t+U/u0b0c4P4d5O5P5T7m8R:O:u=m=z={S0^*s0_#f<l#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zn<m<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=e!d=P(u)c*[*d.i.l.p/^/j/z0t1c3f4Y4e4i5o7Y7]7t7w8U8W9q9y:P:z;O;b;g;s>W>X`=Q3{7`7c7g9e:q:t;vS=[.k3gT=]7b9h!U%Qi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V|*T$v)e*U*s+U/f/u0b0c4P4d4y5O5P5T7m8R:O:u=m=z={S0`*t0a#f<n#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zn<o<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=e!h=R(u)c*[*d.j.k.p/^/j/z0t1c3d3f4Y4e4i5o7Y7Z7]7t7w8U8W9q9y:P:z;O;b;g;s>W>Xd=S3{7a7b7g9e9f:q:r:t;vS=^.l3hT=_7c9irnOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]Q&f!UR,o&ornOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]R&f!UQ,X&^R1b,QsnOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]Q1n,^S6O1q1rU8m5|5}6RS:[8o8pS;V:Z:^Q;j;WR;t;kQ&m!VR,h&iR6[1zR:c8vW&Q|&V&W+}R1X+uQ&r!WR,r&sR,x&xT2Z,w2]R,|&yQ,{&yR2d,|Q'y!{R-x'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/_){Q#UVR(Q#UQ#XWU(W#X(X.PQ(X#YR.P(YQ-]'YR2p-]Q.t(yS3k.t3lR3l.uQ-d'`R2t-dY!rQ'`-d1m5xR'j!rQ/P)eR4Q/PU#_W%h*YU(_#_(`.QQ(`#`R.Q(ZQ-`']R2r-`t`OXst!V!Z#d%m&i&k&r&t&u&w,r,w2Y2]S#hZ%eU#r`#h.ZR.Z(jQ(k#jQ.W(gW.`(k.W3V7OQ3V.XR7O3WQ)n$lR/V)nQ$phR)t$pQ$`cU)a$`-{<gQ-{<TR<g)qQ/p*]W4`/p4a7q9pU4a/q/r/sS7q4b4cR9p7r$e*Q$v(u)c)e*[*d*s*t+P+Q+U.k.l.n.o.p/^/f/h/j/u/z0b0c0t1c3d3e3f3{4P4Y4d4e4i4y4{5O5P5T5o7Y7Z7[7]7b7c7e7f7g7m7t7w8R8U8W9e9f9g9q9y:O:P:q:r:s:t:u:z;O;b;g;s;v=m=z={>W>XQ/x*dU4h/x4j7uQ4j/zR7u4iS*n$|*ZR0W*nx*S$v)e*s*t+U/u0b0c4P4d5O5P5T7m8R:O:u=m=z={!d.i(u)c*[*d.k.l.p/^/j/z0t1c3f4Y4e4i5o7Y7]7t7w8U8W9q9y:P:z;O;b;g;s>W>XU/g*S.i7`a7`3{7b7c7g9e:q:t;vQ0_*sQ3g.kU4z0_3g9hR9h7b|*U$v)e*s*t+U/f/u0b0c4P4d4y5O5P5T7m8R:O:u=m=z={!h.j(u)c*[*d.k.l.p/^/j/z0t1c3d3f4Y4e4i5o7Y7Z7]7t7w8U8W9q9y:P:z;O;b;g;s>W>XU/i*U.j7ae7a3{7b7c7g9e9f:q:r:t;vQ0a*tQ3h.lU4|0a3h9iR9i7cQ*y%UR0e*yQ5Y0tR8V5YQ+^%kR0s+^Q5s1hS8g5s:XR:X8hQ,Z&_R1k,ZQ5x1mR8j5xQ1y,eS6Y1y8wR8w6[Q1S+qW5e1S5g8^:SQ5g1VQ8^5fR:S8_Q+v&QR1Y+vQ2],wR6j2]YrOXst#dQ&v!ZQ+`%mQ,q&rQ,s&tQ,t&uQ,v&wQ2W,rS2Z,w2]R6i2YQ%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+_%lQ+k%zQ,P&XQ,g&mQ-O&|W-o'k's't'wQ-v'oQ0V*mQ0}+lQ1a,OS1|,h,kQ2e,}Q2f-QQ2g-RQ2{-nW2}-q-r-u-wQ5^1OQ5j1]Q5n1cQ6S1sQ6^2OQ6h2XU6w2|3P3SQ6z3QQ8Y5_Q8b5lQ8d5oQ8i5wQ8r6TQ8x6]S9X6x6|Q9Z6{Q:T8`Q:_8sQ:d8yQ:k9YQ;R:UQ;Y:`Q;^:lQ;i;SR;l;ZQ%zyQ'd!iQ'o!uU+l%{%|%}Q-V'VU-j'e'f'gS-n'k'uQ0O*iS1O+m+nQ2m-XS2y-k-lQ3Q-sS4m0P0SQ5_1PQ6s2sQ6v2zQ6{3RU7x4o4p4sQ9w7zR:{9xS$wi=|R*z%VU%Ui%V=|R0d*xQ$viS(u#v+hS)c$b$cQ)e$dQ*[$xS*d${*YQ*s%OQ*t%QQ+P%^Q+Q%_Q+U%cQ.k<lQ.l<nQ.n<rQ.o<tQ.p<vQ/^)yQ/f*RQ/h*TQ/j*VQ/u*`S/z*f/lQ0b*vQ0c*wl0t+e,U.e1g1o3a6P7T8n9_:]:o;X;aQ1c,RQ3d=PQ3e=RQ3f=US3{<i<jQ4P/OS4Y/c4[Q4d/vQ4e/wQ4i/yQ4y0^Q4{0`Q5O0gQ5P0hQ5T0mQ5o1dQ7Y=YQ7Z=[Q7[=^Q7]=`Q7b<mQ7c<oQ7e<sQ7f<uQ7g<wQ7m4]Q7t4gQ7w4lQ8R4}Q8U5XQ8W5[Q9e=VQ9f=QQ9g=SQ9q7sQ9y7}Q:O8SQ:P8XQ:q=ZQ:r=]Q:s=_Q:t=aQ:u9mQ:z9vQ;O9|Q;b=dQ;g:}Q;s;hQ;v=eQ=m=|Q=z>UQ={>VQ>W>YR>X>ZQ*}%]Q.m<pR7d<qnpOXst!Z#d%m&r&t&u&w,r,w2Y2]Q!fPS#fZ#oQ&|!`W'h!o*h0Z4wQ(P#SQ)Q#{Q)r$nS,k&k&nQ,p&oQ,}&{S-S'T/mQ-f'bQ.w)OQ/Z)sQ0q+[Q0w+fQ2U,oQ2w-hQ3_.fQ4U/UQ5R0jQ5}1pQ6`2QQ6a2RQ6e2TQ6g2VQ6l2_Q7W3bQ7j4RQ8p6QQ8|6bQ8}6cQ9P6fQ9c7XQ:^8qR:h9Q#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*h+[+f,o,r,w-h.f/m0Z0j1p2Q2R2T2V2Y2]2_3b4w6Q6b6c6f7X8q9QQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/U4RQ+c%tQ+w&RS-Y'X2nQ-w'rS-|(T.OQ.R(]Q.T(dQ.r(xQ.u(zQ.y<RQ.{<UQ.|<VQ.}<YQ/a)}Q0n+WQ2i-TQ2l-WQ2|-pQ3T.UQ3i.sQ3n<ZQ3o<[Q3p<]Q3q<^Q3r<_Q3s<`Q3t<aQ3u<bQ3v<cQ3w<dQ3x<eQ3y.zQ3z<hQ3}<kQ4O<xQ4V<fQ5U0pQ5`1QQ6r<{Q6x3OQ6}3UQ7^3jQ7_<|Q7h=OQ7i=WQ8h5tQ9U6pQ9Y6yQ9d=XQ9j=bQ9k=cQ:l9[Q;T:WQ;]:jQ<T#SR=s>PR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-d-t1m5x5zS'V!e-[U*i$|*Z*nS-X'W'_S0S*j*pQ0[*qQ2s-bQ4s0YR4x0]R({#xQ!fQT-c'`-d]!qQ!r'`-d1m5xQ#p]R'i<SR)f$dY!uQ'`-d1m5xQ'k!rS'u!v!yS'w!z5zS-s'l'mQ-u'nR3R-tT#kZ%eS#jZ%eS%km,nU(g#h#i#lS.X(h(iQ.](jQ0r+]Q3W.YU3X.Z.[.^S7P3Y3ZR9]7Qd#^W#W#Z%h(T(^*Y+Y.S/lr#gZm#h#i#l%e(h(i(j+].Y.Z.[.^3Y3Z7QS*]$x*aQ/s*^Q2S,nQ2j-UQ4^/oQ6n2bQ7p4_Q9T6oT=j'X+ZV#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Y/lS-Z'X+ZT-}(T.SV'^!e%i*ZQ$lfR)x$qT)m$l)nR4T/TT*_$x*aT*g${*YQ0u+eQ1e,UQ3].eQ5q1gQ5|1oQ7U3aQ8o6PQ9`7TQ:Z8nQ:m9_Q;W:]Q;`:oQ;k;XR;n;anqOXst!Z#d%m&r&t&u&w,r,w2Y2]Q&l!VR,g&itmOXst!U!V!Z#d%m&i&r&t&u&w,r,w2Y2]R,n&oT%lm,nR1i,WR,f&gQ&U|S+|&V&WR1[+}R+r&PT&p!W&sT&q!W&sT2[,w2]\",\n    nodeNames: \" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem\",\n    maxTerm: 380,\n    context: trackNewline,\n    nodeProps: [\n      [\"isolate\", -8,5,6,14,37,39,51,53,55,\"\"],\n      [\"group\", -26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,\"Statement\",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,\"Expression\",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,\"Type\",-3,88,103,109,\"ClassItem\"],\n      [\"openedBy\", 23,\"<\",38,\"InterpolationStart\",56,\"[\",60,\"{\",73,\"(\",160,\"JSXStartCloseTag\"],\n      [\"closedBy\", -2,24,168,\">\",40,\"InterpolationEnd\",50,\"]\",61,\"}\",74,\")\",165,\"JSXEndTag\"]\n    ],\n    propSources: [jsHighlight],\n    skippedNodes: [0,5,6,278],\n    repeatNodeCount: 37,\n    tokenData: \"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr\",\n    tokenizers: [noSemicolon, noSemicolonType, operatorToken, jsx, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, insertSemicolon, new LocalTokenGroup(\"$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~\", 141, 340), new LocalTokenGroup(\"j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~\", 25, 323)],\n    topRules: {\"Script\":[0,7],\"SingleExpression\":[1,276],\"SingleClassItem\":[2,277]},\n    dialects: {jsx: 0, ts: 15149},\n    dynamicPrecedences: {\"80\":1,\"82\":1,\"94\":1,\"169\":1,\"199\":1},\n    specialized: [{term: 327, get: (value) => spec_identifier$2[value] || -1},{term: 343, get: (value) => spec_word[value] || -1},{term: 95, get: (value) => spec_LessThan[value] || -1}],\n    tokenPrec: 15175\n  });\n\n  /**\n  A collection of JavaScript-related\n  [snippets](https://codemirror.net/6/docs/ref/#autocomplete.snippet).\n  */\n  const snippets$1 = [\n      /*@__PURE__*/snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n          label: \"function\",\n          detail: \"definition\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n          label: \"for\",\n          detail: \"loop\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n          label: \"for\",\n          detail: \"of loop\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"do {\\n\\t${}\\n} while (${})\", {\n          label: \"do\",\n          detail: \"loop\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"while (${}) {\\n\\t${}\\n}\", {\n          label: \"while\",\n          detail: \"loop\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n          label: \"try\",\n          detail: \"/ catch block\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"if (${}) {\\n\\t${}\\n}\", {\n          label: \"if\",\n          detail: \"block\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"if (${}) {\\n\\t${}\\n} else {\\n\\t${}\\n}\", {\n          label: \"if\",\n          detail: \"/ else block\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n          label: \"class\",\n          detail: \"definition\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n          label: \"import\",\n          detail: \"named\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n          label: \"import\",\n          detail: \"default\",\n          type: \"keyword\"\n      })\n  ];\n  /**\n  A collection of snippet completions for TypeScript. Includes the\n  JavaScript [snippets](https://codemirror.net/6/docs/ref/#lang-javascript.snippets).\n  */\n  const typescriptSnippets = /*@__PURE__*/snippets$1.concat([\n      /*@__PURE__*/snippetCompletion(\"interface ${name} {\\n\\t${}\\n}\", {\n          label: \"interface\",\n          detail: \"definition\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"type ${name} = ${type}\", {\n          label: \"type\",\n          detail: \"definition\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"enum ${name} {\\n\\t${}\\n}\", {\n          label: \"enum\",\n          detail: \"definition\",\n          type: \"keyword\"\n      })\n  ]);\n\n  const cache$1 = /*@__PURE__*/new NodeWeakMap();\n  const ScopeNodes$1 = /*@__PURE__*/new Set([\n      \"Script\", \"Block\",\n      \"FunctionExpression\", \"FunctionDeclaration\", \"ArrowFunction\", \"MethodDeclaration\",\n      \"ForStatement\"\n  ]);\n  function defID$1(type) {\n      return (node, def) => {\n          let id = node.node.getChild(\"VariableDefinition\");\n          if (id)\n              def(id, type);\n          return true;\n      };\n  }\n  const functionContext = [\"FunctionDeclaration\"];\n  const gatherCompletions$1 = {\n      FunctionDeclaration: /*@__PURE__*/defID$1(\"function\"),\n      ClassDeclaration: /*@__PURE__*/defID$1(\"class\"),\n      ClassExpression: () => true,\n      EnumDeclaration: /*@__PURE__*/defID$1(\"constant\"),\n      TypeAliasDeclaration: /*@__PURE__*/defID$1(\"type\"),\n      NamespaceDeclaration: /*@__PURE__*/defID$1(\"namespace\"),\n      VariableDefinition(node, def) { if (!node.matchContext(functionContext))\n          def(node, \"variable\"); },\n      TypeDefinition(node, def) { def(node, \"type\"); },\n      __proto__: null\n  };\n  function getScope$1(doc, node) {\n      let cached = cache$1.get(node);\n      if (cached)\n          return cached;\n      let completions = [], top = true;\n      function def(node, type) {\n          let name = doc.sliceString(node.from, node.to);\n          completions.push({ label: name, type });\n      }\n      node.cursor(IterMode.IncludeAnonymous).iterate(node => {\n          if (top) {\n              top = false;\n          }\n          else if (node.name) {\n              let gather = gatherCompletions$1[node.name];\n              if (gather && gather(node, def) || ScopeNodes$1.has(node.name))\n                  return false;\n          }\n          else if (node.to - node.from > 8192) {\n              // Allow caching for bigger internal nodes\n              for (let c of getScope$1(doc, node.node))\n                  completions.push(c);\n              return false;\n          }\n      });\n      cache$1.set(node, completions);\n      return completions;\n  }\n  const Identifier$2 = /^[\\w$\\xa1-\\uffff][\\w$\\d\\xa1-\\uffff]*$/;\n  const dontComplete$1 = [\n      \"TemplateString\", \"String\", \"RegExp\",\n      \"LineComment\", \"BlockComment\",\n      \"VariableDefinition\", \"TypeDefinition\", \"Label\",\n      \"PropertyDefinition\", \"PropertyName\",\n      \"PrivatePropertyDefinition\", \"PrivatePropertyName\",\n      \"JSXText\", \"JSXAttributeValue\", \"JSXOpenTag\", \"JSXCloseTag\", \"JSXSelfClosingTag\",\n      \".\", \"?.\"\n  ];\n  /**\n  Completion source that looks up locally defined names in\n  JavaScript code.\n  */\n  function localCompletionSource$1(context) {\n      let inner = syntaxTree(context.state).resolveInner(context.pos, -1);\n      if (dontComplete$1.indexOf(inner.name) > -1)\n          return null;\n      let isWord = inner.name == \"VariableName\" ||\n          inner.to - inner.from < 20 && Identifier$2.test(context.state.sliceDoc(inner.from, inner.to));\n      if (!isWord && !context.explicit)\n          return null;\n      let options = [];\n      for (let pos = inner; pos; pos = pos.parent) {\n          if (ScopeNodes$1.has(pos.name))\n              options = options.concat(getScope$1(context.state.doc, pos));\n      }\n      return {\n          options,\n          from: isWord ? inner.from : context.pos,\n          validFor: Identifier$2\n      };\n  }\n\n  /**\n  A language provider based on the [Lezer JavaScript\n  parser](https://github.com/lezer-parser/javascript), extended with\n  highlighting and indentation information.\n  */\n  const javascriptLanguage = /*@__PURE__*/LRLanguage.define({\n      name: \"javascript\",\n      parser: /*@__PURE__*/parser$7.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  IfStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                  TryStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|catch\\b|finally\\b)/ }),\n                  LabeledStatement: flatIndent,\n                  SwitchBody: context => {\n                      let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                      return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                  },\n                  Block: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                  ArrowFunction: cx => cx.baseIndent + cx.unit,\n                  \"TemplateString BlockComment\": () => null,\n                  \"Statement Property\": /*@__PURE__*/continuedIndent({ except: /^\\s*{/ }),\n                  JSXElement(context) {\n                      let closed = /^\\s*<\\//.test(context.textAfter);\n                      return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                  },\n                  JSXEscape(context) {\n                      let closed = /\\s*\\}/.test(context.textAfter);\n                      return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                  },\n                  \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                      return context.column(context.node.from) + context.unit;\n                  }\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType\": foldInside,\n                  BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n              })\n          ]\n      }),\n      languageData: {\n          closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n          commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n          indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n          wordChars: \"$\"\n      }\n  });\n  const jsxSublanguage = {\n      test: node => /^JSX/.test(node.name),\n      facet: /*@__PURE__*/defineLanguageFacet({ commentTokens: { block: { open: \"{/*\", close: \"*/}\" } } })\n  };\n  /**\n  A language provider for TypeScript.\n  */\n  const typescriptLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"ts\" }, \"typescript\");\n  /**\n  Language provider for JSX.\n  */\n  const jsxLanguage = /*@__PURE__*/javascriptLanguage.configure({\n      dialect: \"jsx\",\n      props: [/*@__PURE__*/sublanguageProp.add(n => n.isTop ? [jsxSublanguage] : undefined)]\n  });\n  /**\n  Language provider for JSX + TypeScript.\n  */\n  const tsxLanguage = /*@__PURE__*/javascriptLanguage.configure({\n      dialect: \"jsx ts\",\n      props: [/*@__PURE__*/sublanguageProp.add(n => n.isTop ? [jsxSublanguage] : undefined)]\n  }, \"typescript\");\n  let kwCompletion = (name) => ({ label: name, type: \"keyword\" });\n  const keywords = /*@__PURE__*/\"break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield\".split(\" \").map(kwCompletion);\n  const typescriptKeywords = /*@__PURE__*/keywords.concat(/*@__PURE__*/[\"declare\", \"implements\", \"private\", \"protected\", \"public\"].map(kwCompletion));\n  /**\n  JavaScript support. Includes [snippet](https://codemirror.net/6/docs/ref/#lang-javascript.snippets)\n  and local variable completion.\n  */\n  function javascript(config = {}) {\n      let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n          : config.typescript ? typescriptLanguage : javascriptLanguage;\n      let completions = config.typescript ? typescriptSnippets.concat(typescriptKeywords) : snippets$1.concat(keywords);\n      return new LanguageSupport(lang, [\n          javascriptLanguage.data.of({\n              autocomplete: ifNotIn(dontComplete$1, completeFromList(completions))\n          }),\n          javascriptLanguage.data.of({\n              autocomplete: localCompletionSource$1\n          }),\n          config.jsx ? autoCloseTags$2 : [],\n      ]);\n  }\n  function findOpenTag(node) {\n      for (;;) {\n          if (node.name == \"JSXOpenTag\" || node.name == \"JSXSelfClosingTag\" || node.name == \"JSXFragmentTag\")\n              return node;\n          if (node.name == \"JSXEscape\" || !node.parent)\n              return null;\n          node = node.parent;\n      }\n  }\n  function elementName$3(doc, tree, max = doc.length) {\n      for (let ch = tree === null || tree === void 0 ? void 0 : tree.firstChild; ch; ch = ch.nextSibling) {\n          if (ch.name == \"JSXIdentifier\" || ch.name == \"JSXBuiltin\" || ch.name == \"JSXNamespacedName\" ||\n              ch.name == \"JSXMemberExpression\")\n              return doc.sliceString(ch.from, Math.min(ch.to, max));\n      }\n      return \"\";\n  }\n  const android = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\n  /**\n  Extension that will automatically insert JSX close tags when a `>` or\n  `/` is typed.\n  */\n  const autoCloseTags$2 = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, text, defaultInsert) => {\n      if ((android ? view.composing : view.compositionStarted) || view.state.readOnly ||\n          from != to || (text != \">\" && text != \"/\") ||\n          !javascriptLanguage.isActiveAt(view.state, from, -1))\n          return false;\n      let base = defaultInsert(), { state } = base;\n      let closeTags = state.changeByRange(range => {\n          var _a;\n          let { head } = range, around = syntaxTree(state).resolveInner(head - 1, -1), name;\n          if (around.name == \"JSXStartTag\")\n              around = around.parent;\n          if (state.doc.sliceString(head - 1, head) != text || around.name == \"JSXAttributeValue\" && around.to > head) ;\n          else if (text == \">\" && around.name == \"JSXFragmentTag\") {\n              return { range, changes: { from: head, insert: `</>` } };\n          }\n          else if (text == \"/\" && around.name == \"JSXStartCloseTag\") {\n              let empty = around.parent, base = empty.parent;\n              if (base && empty.from == head - 2 &&\n                  ((name = elementName$3(state.doc, base.firstChild, head)) || ((_a = base.firstChild) === null || _a === void 0 ? void 0 : _a.name) == \"JSXFragmentTag\")) {\n                  let insert = `${name}>`;\n                  return { range: EditorSelection.cursor(head + insert.length, -1), changes: { from: head, insert } };\n              }\n          }\n          else if (text == \">\") {\n              let openTag = findOpenTag(around);\n              if (openTag && openTag.name == \"JSXOpenTag\" &&\n                  !/^\\/?>|^<\\//.test(state.doc.sliceString(head, head + 2)) &&\n                  (name = elementName$3(state.doc, openTag, head)))\n                  return { range, changes: { from: head, insert: `</${name}>` } };\n          }\n          return { range };\n      });\n      if (closeTags.changes.empty)\n          return false;\n      view.dispatch([\n          base,\n          state.update(closeTags, { userEvent: \"input.complete\", scrollIntoView: true })\n      ]);\n      return true;\n  });\n\n  const jsonHighlighting = styleTags({\n    String: tags$1.string,\n    Number: tags$1.number,\n    \"True False\": tags$1.bool,\n    PropertyName: tags$1.propertyName,\n    Null: tags$1.null,\n    \", :\": tags$1.separator,\n    \"[ ]\": tags$1.squareBracket,\n    \"{ }\": tags$1.brace\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const parser$6 = LRParser.deserialize({\n    version: 14,\n    states: \"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l\",\n    stateData: \"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O\",\n    goto: \"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R\",\n    nodeNames: \" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array\",\n    maxTerm: 25,\n    nodeProps: [\n      [\"isolate\", -2,6,11,\"\"],\n      [\"openedBy\", 7,\"{\",14,\"[\"],\n      [\"closedBy\", 8,\"}\",15,\"]\"]\n    ],\n    propSources: [jsonHighlighting],\n    skippedNodes: [0],\n    repeatNodeCount: 2,\n    tokenData: \"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~\",\n    tokenizers: [0],\n    topRules: {\"JsonText\":[0,1]},\n    tokenPrec: 0\n  });\n\n  /**\n  A language provider that provides JSON parsing.\n  */\n  const jsonLanguage = /*@__PURE__*/LRLanguage.define({\n      name: \"json\",\n      parser: /*@__PURE__*/parser$6.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  Object: /*@__PURE__*/continuedIndent({ except: /^\\s*\\}/ }),\n                  Array: /*@__PURE__*/continuedIndent({ except: /^\\s*\\]/ })\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  \"Object Array\": foldInside\n              })\n          ]\n      }),\n      languageData: {\n          closeBrackets: { brackets: [\"[\", \"{\", '\"'] },\n          indentOnInput: /^\\s*[\\}\\]]$/\n      }\n  });\n  /**\n  JSON language support.\n  */\n  function json() {\n      return new LanguageSupport(jsonLanguage);\n  }\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const descendantOp = 122,\n    Unit = 1,\n    identifier$2 = 123,\n    callee = 124,\n    VariableName = 2,\n    queryIdentifier = 125,\n    queryVariableName = 3,\n    QueryCallee = 4;\n\n  /* Hand-written tokenizers for CSS tokens that can't be\n     expressed by Lezer's built-in tokenizer. */\n\n  const space$2 = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197,\n                 8198, 8199, 8200, 8201, 8202, 8232, 8233, 8239, 8287, 12288];\n  const colon = 58, parenL = 40, underscore = 95, bracketL = 91, dash$1 = 45, period = 46,\n        hash$1 = 35, percent = 37, ampersand = 38, backslash$1 = 92, newline$2 = 10, asterisk = 42;\n\n  function isAlpha(ch) { return ch >= 65 && ch <= 90 || ch >= 97 && ch <= 122 || ch >= 161 }\n\n  function isDigit(ch) { return ch >= 48 && ch <= 57 }\n\n  function isHex$1(ch) { return isDigit(ch) || ch >= 97 && ch <= 102 || ch >= 65 && ch <= 70 }\n\n  const identifierTokens = (id, varName, callee) => (input, stack) => {\n    for (let inside = false, dashes = 0, i = 0;; i++) {\n      let {next} = input;\n      if (isAlpha(next) || next == dash$1 || next == underscore || (inside && isDigit(next))) {\n        if (!inside && (next != dash$1 || i > 0)) inside = true;\n        if (dashes === i && next == dash$1) dashes++;\n        input.advance();\n      } else if (next == backslash$1 && input.peek(1) != newline$2) {\n        input.advance();\n        if (isHex$1(input.next)) {\n          do { input.advance(); } while (isHex$1(input.next))\n          if (input.next == 32) input.advance();\n        } else if (input.next > -1) {\n          input.advance();\n        }\n        inside = true;\n      } else {\n        if (inside) input.acceptToken(\n          dashes == 2 && stack.canShift(VariableName) ? varName : next == parenL ? callee : id\n        );\n        break\n      }\n    }\n  };\n\n  const identifiers = new ExternalTokenizer(\n    identifierTokens(identifier$2, VariableName, callee)\n  );\n  const queryIdentifiers = new ExternalTokenizer(\n    identifierTokens(queryIdentifier, queryVariableName, QueryCallee)\n  );\n\n  const descendant = new ExternalTokenizer(input => {\n    if (space$2.includes(input.peek(-1))) {\n      let {next} = input;\n      if (isAlpha(next) || next == underscore || next == hash$1 || next == period ||\n          next == asterisk || next == bracketL || next == colon && isAlpha(input.peek(1)) ||\n          next == dash$1 || next == ampersand)\n        input.acceptToken(descendantOp);\n    }\n  });\n\n  const unitToken = new ExternalTokenizer(input => {\n    if (!space$2.includes(input.peek(-1))) {\n      let {next} = input;\n      if (next == percent) { input.advance(); input.acceptToken(Unit); }\n      if (isAlpha(next)) {\n        do { input.advance(); } while (isAlpha(input.next) || isDigit(input.next))\n        input.acceptToken(Unit);\n      }\n    }\n  });\n\n  const cssHighlighting = styleTags({\n    \"AtKeyword import charset namespace keyframes media supports\": tags$1.definitionKeyword,\n    \"from to selector\": tags$1.keyword,\n    NamespaceName: tags$1.namespace,\n    KeyframeName: tags$1.labelName,\n    KeyframeRangeName: tags$1.operatorKeyword,\n    TagName: tags$1.tagName,\n    ClassName: tags$1.className,\n    PseudoClassName: tags$1.constant(tags$1.className),\n    IdName: tags$1.labelName,\n    \"FeatureName PropertyName\": tags$1.propertyName,\n    AttributeName: tags$1.attributeName,\n    NumberLiteral: tags$1.number,\n    KeywordQuery: tags$1.keyword,\n    UnaryQueryOp: tags$1.operatorKeyword,\n    \"CallTag ValueName\": tags$1.atom,\n    VariableName: tags$1.variableName,\n    Callee: tags$1.operatorKeyword,\n    Unit: tags$1.unit,\n    \"UniversalSelector NestingSelector\": tags$1.definitionOperator,\n    \"MatchOp CompareOp\": tags$1.compareOperator,\n    \"ChildOp SiblingOp, LogicOp\": tags$1.logicOperator,\n    BinOp: tags$1.arithmeticOperator,\n    Important: tags$1.modifier,\n    Comment: tags$1.blockComment,\n    ColorLiteral: tags$1.color,\n    \"ParenthesizedContent StringLiteral\": tags$1.string,\n    \":\": tags$1.punctuation,\n    \"PseudoOp #\": tags$1.derefOperator,\n    \"; ,\": tags$1.separator,\n    \"( )\": tags$1.paren,\n    \"[ ]\": tags$1.squareBracket,\n    \"{ }\": tags$1.brace\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const spec_callee = {__proto__:null,lang:38, \"nth-child\":38, \"nth-last-child\":38, \"nth-of-type\":38, \"nth-last-of-type\":38, dir:38, \"host-context\":38, if:84, url:124, \"url-prefix\":124, domain:124, regexp:124};\n  const spec_queryIdentifier = {__proto__:null,or:98, and:98, not:106, only:106, layer:170};\n  const spec_QueryCallee = {__proto__:null,selector:112, layer:166};\n  const spec_AtKeyword = {__proto__:null,\"@import\":162, \"@media\":174, \"@charset\":178, \"@namespace\":182, \"@keyframes\":188, \"@supports\":200, \"@scope\":204};\n  const spec_identifier$1 = {__proto__:null,to:207};\n  const parser$5 = LRParser.deserialize({\n    version: 14,\n    states: \"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a\",\n    stateData: \"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~\",\n    goto: \"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P\",\n    nodeNames: \" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles\",\n    maxTerm: 143,\n    nodeProps: [\n      [\"isolate\", -2,5,36,\"\"],\n      [\"openedBy\", 20,\"(\",28,\"[\",31,\"{\"],\n      [\"closedBy\", 21,\")\",29,\"]\",32,\"}\"]\n    ],\n    propSources: [cssHighlighting],\n    skippedNodes: [0,5,106],\n    repeatNodeCount: 15,\n    tokenData: \"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q\",\n    tokenizers: [descendant, unitToken, identifiers, queryIdentifiers, 1, 2, 3, 4, new LocalTokenGroup(\"m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~\", 28, 129)],\n    topRules: {\"StyleSheet\":[0,6],\"Styles\":[1,105]},\n    specialized: [{term: 124, get: (value) => spec_callee[value] || -1},{term: 125, get: (value) => spec_queryIdentifier[value] || -1},{term: 4, get: (value) => spec_QueryCallee[value] || -1},{term: 25, get: (value) => spec_AtKeyword[value] || -1},{term: 123, get: (value) => spec_identifier$1[value] || -1}],\n    tokenPrec: 1963\n  });\n\n  let _properties = null;\n  function properties() {\n      if (!_properties && typeof document == \"object\" && document.body) {\n          let { style } = document.body, names = [], seen = new Set;\n          for (let prop in style)\n              if (prop != \"cssText\" && prop != \"cssFloat\") {\n                  if (typeof style[prop] == \"string\") {\n                      if (/[A-Z]/.test(prop))\n                          prop = prop.replace(/[A-Z]/g, ch => \"-\" + ch.toLowerCase());\n                      if (!seen.has(prop)) {\n                          names.push(prop);\n                          seen.add(prop);\n                      }\n                  }\n              }\n          _properties = names.sort().map(name => ({ type: \"property\", label: name, apply: name + \": \" }));\n      }\n      return _properties || [];\n  }\n  const pseudoClasses = /*@__PURE__*/[\n      \"active\", \"after\", \"any-link\", \"autofill\", \"backdrop\", \"before\",\n      \"checked\", \"cue\", \"default\", \"defined\", \"disabled\", \"empty\",\n      \"enabled\", \"file-selector-button\", \"first\", \"first-child\",\n      \"first-letter\", \"first-line\", \"first-of-type\", \"focus\",\n      \"focus-visible\", \"focus-within\", \"fullscreen\", \"has\", \"host\",\n      \"host-context\", \"hover\", \"in-range\", \"indeterminate\", \"invalid\",\n      \"is\", \"lang\", \"last-child\", \"last-of-type\", \"left\", \"link\", \"marker\",\n      \"modal\", \"not\", \"nth-child\", \"nth-last-child\", \"nth-last-of-type\",\n      \"nth-of-type\", \"only-child\", \"only-of-type\", \"optional\", \"out-of-range\",\n      \"part\", \"placeholder\", \"placeholder-shown\", \"read-only\", \"read-write\",\n      \"required\", \"right\", \"root\", \"scope\", \"selection\", \"slotted\", \"target\",\n      \"target-text\", \"valid\", \"visited\", \"where\"\n  ].map(name => ({ type: \"class\", label: name }));\n  const values = /*@__PURE__*/[\n      \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"after-white-space\",\n      \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\", \"always\",\n      \"antialiased\", \"appworkspace\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\",\n      \"avoid-page\", \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\",\n      \"bidi-override\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n      \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n      \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"capitalize\",\n      \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\", \"cell\", \"center\", \"checkbox\", \"circle\",\n      \"cjk-decimal\", \"clear\", \"clip\", \"close-quote\", \"col-resize\", \"collapse\", \"color\", \"color-burn\",\n      \"color-dodge\", \"column\", \"column-reverse\", \"compact\", \"condensed\", \"contain\", \"content\",\n      \"contents\", \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\",\n      \"crop\", \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n      \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\", \"destination-in\",\n      \"destination-out\", \"destination-over\", \"difference\", \"disc\", \"discard\", \"disclosure-closed\",\n      \"disclosure-open\", \"document\", \"dot-dash\", \"dot-dot-dash\", \"dotted\", \"double\", \"down\", \"e-resize\",\n      \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\", \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\",\n      \"ethiopic-abegede-gez\", \"ethiopic-halehame-aa-er\", \"ethiopic-halehame-gez\", \"ew-resize\", \"exclusion\",\n      \"expanded\", \"extends\", \"extra-condensed\", \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\",\n      \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\", \"forwards\", \"from\",\n      \"geometricPrecision\", \"graytext\", \"grid\", \"groove\", \"hand\", \"hard-light\", \"help\", \"hidden\", \"hide\",\n      \"higher\", \"highlight\", \"highlighttext\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n      \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\", \"infobackground\", \"infotext\",\n      \"inherit\", \"initial\", \"inline\", \"inline-axis\", \"inline-block\", \"inline-flex\", \"inline-grid\",\n      \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\", \"italic\", \"justify\", \"keep-all\",\n      \"landscape\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\", \"line-through\", \"linear\",\n      \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\", \"local\", \"logical\", \"loud\", \"lower\",\n      \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\", \"lowercase\", \"ltr\", \"luminosity\", \"manipulation\",\n      \"match\", \"matrix\", \"matrix3d\", \"medium\", \"menu\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n      \"mix\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"n-resize\", \"narrower\",\n      \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\", \"no-open-quote\", \"no-repeat\", \"none\",\n      \"normal\", \"not-allowed\", \"nowrap\", \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\",\n      \"oblique\", \"opacity\", \"open-quote\", \"optimizeLegibility\", \"optimizeSpeed\", \"outset\", \"outside\",\n      \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\", \"painted\", \"page\", \"paused\",\n      \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\", \"pointer\", \"polygon\", \"portrait\",\n      \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\", \"progress\", \"push-button\", \"radial-gradient\", \"radio\",\n      \"read-only\", \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\", \"relative\", \"repeat\",\n      \"repeating-linear-gradient\", \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n      \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\", \"rotateZ\", \"round\",\n      \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\", \"s-resize\", \"sans-serif\", \"saturation\",\n      \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\", \"scroll\", \"scrollbar\", \"scroll-position\",\n      \"se-resize\", \"self-start\", \"self-end\", \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\",\n      \"single\", \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n      \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\", \"small\", \"small-caps\",\n      \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"source-atop\", \"source-in\", \"source-out\",\n      \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\", \"start\",\n      \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\", \"subpixel-antialiased\", \"svg_masks\",\n      \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\", \"table-caption\", \"table-cell\",\n      \"table-column\", \"table-column-group\", \"table-footer-group\", \"table-header-group\", \"table-row\",\n      \"table-row-group\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thick\", \"thin\",\n      \"threeddarkshadow\", \"threedface\", \"threedhighlight\", \"threedlightshadow\", \"threedshadow\", \"to\", \"top\",\n      \"transform\", \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\", \"transparent\",\n      \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\", \"upper-latin\",\n      \"uppercase\", \"url\", \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\",\n      \"visiblePainted\", \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\", \"window\", \"windowframe\",\n      \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\", \"xx-large\", \"xx-small\"\n  ].map(name => ({ type: \"keyword\", label: name })).concat(/*@__PURE__*/[\n      \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n      \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n      \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n      \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n      \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n      \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n      \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n      \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n      \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n      \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n      \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n      \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n      \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n      \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n      \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n      \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n      \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n      \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n      \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n      \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n      \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n      \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n      \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n      \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n      \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n      \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ].map(name => ({ type: \"constant\", label: name })));\n  const tags = /*@__PURE__*/[\n      \"a\", \"abbr\", \"address\", \"article\", \"aside\", \"b\", \"bdi\", \"bdo\", \"blockquote\", \"body\",\n      \"br\", \"button\", \"canvas\", \"caption\", \"cite\", \"code\", \"col\", \"colgroup\", \"dd\", \"del\",\n      \"details\", \"dfn\", \"dialog\", \"div\", \"dl\", \"dt\", \"em\", \"figcaption\", \"figure\", \"footer\",\n      \"form\", \"header\", \"hgroup\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"hr\", \"html\", \"i\", \"iframe\",\n      \"img\", \"input\", \"ins\", \"kbd\", \"label\", \"legend\", \"li\", \"main\", \"meter\", \"nav\", \"ol\", \"output\",\n      \"p\", \"pre\", \"ruby\", \"section\", \"select\", \"small\", \"source\", \"span\", \"strong\", \"sub\", \"summary\",\n      \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"tr\", \"u\", \"ul\"\n  ].map(name => ({ type: \"type\", label: name }));\n  const atRules = /*@__PURE__*/[\n      \"@charset\", \"@color-profile\", \"@container\", \"@counter-style\", \"@font-face\", \"@font-feature-values\",\n      \"@font-palette-values\", \"@import\", \"@keyframes\", \"@layer\", \"@media\", \"@namespace\", \"@page\",\n      \"@position-try\", \"@property\", \"@scope\", \"@starting-style\", \"@supports\", \"@view-transition\"\n  ].map(label => ({ type: \"keyword\", label }));\n  const identifier$1 = /^(\\w[\\w-]*|-\\w[\\w-]*|)$/, variable = /^-(-[\\w-]*)?$/;\n  function isVarArg(node, doc) {\n      var _a;\n      if (node.name == \"(\" || node.type.isError)\n          node = node.parent || node;\n      if (node.name != \"ArgList\")\n          return false;\n      let callee = (_a = node.parent) === null || _a === void 0 ? void 0 : _a.firstChild;\n      if ((callee === null || callee === void 0 ? void 0 : callee.name) != \"Callee\")\n          return false;\n      return doc.sliceString(callee.from, callee.to) == \"var\";\n  }\n  const VariablesByNode = /*@__PURE__*/new NodeWeakMap();\n  const declSelector = [\"Declaration\"];\n  function astTop(node) {\n      for (let cur = node;;) {\n          if (cur.type.isTop)\n              return cur;\n          if (!(cur = cur.parent))\n              return node;\n      }\n  }\n  function variableNames(doc, node, isVariable) {\n      if (node.to - node.from > 4096) {\n          let known = VariablesByNode.get(node);\n          if (known)\n              return known;\n          let result = [], seen = new Set, cursor = node.cursor(IterMode.IncludeAnonymous);\n          if (cursor.firstChild())\n              do {\n                  for (let option of variableNames(doc, cursor.node, isVariable))\n                      if (!seen.has(option.label)) {\n                          seen.add(option.label);\n                          result.push(option);\n                      }\n              } while (cursor.nextSibling());\n          VariablesByNode.set(node, result);\n          return result;\n      }\n      else {\n          let result = [], seen = new Set;\n          node.cursor().iterate(node => {\n              var _a;\n              if (isVariable(node) && node.matchContext(declSelector) && ((_a = node.node.nextSibling) === null || _a === void 0 ? void 0 : _a.name) == \":\") {\n                  let name = doc.sliceString(node.from, node.to);\n                  if (!seen.has(name)) {\n                      seen.add(name);\n                      result.push({ label: name, type: \"variable\" });\n                  }\n              }\n          });\n          return result;\n      }\n  }\n  /**\n  Create a completion source for a CSS dialect, providing a\n  predicate for determining what kind of syntax node can act as a\n  completable variable. This is used by language modes like Sass and\n  Less to reuse this package's completion logic.\n  */\n  const defineCSSCompletionSource = (isVariable) => context => {\n      let { state, pos } = context, node = syntaxTree(state).resolveInner(pos, -1);\n      let isDash = node.type.isError && node.from == node.to - 1 && state.doc.sliceString(node.from, node.to) == \"-\";\n      if (node.name == \"PropertyName\" ||\n          (isDash || node.name == \"TagName\") && /^(Block|Styles)$/.test(node.resolve(node.to).name))\n          return { from: node.from, options: properties(), validFor: identifier$1 };\n      if (node.name == \"ValueName\")\n          return { from: node.from, options: values, validFor: identifier$1 };\n      if (node.name == \"PseudoClassName\")\n          return { from: node.from, options: pseudoClasses, validFor: identifier$1 };\n      if (isVariable(node) || (context.explicit || isDash) && isVarArg(node, state.doc))\n          return { from: isVariable(node) || isDash ? node.from : pos,\n              options: variableNames(state.doc, astTop(node), isVariable),\n              validFor: variable };\n      if (node.name == \"TagName\") {\n          for (let { parent } = node; parent; parent = parent.parent)\n              if (parent.name == \"Block\")\n                  return { from: node.from, options: properties(), validFor: identifier$1 };\n          return { from: node.from, options: tags, validFor: identifier$1 };\n      }\n      if (node.name == \"AtKeyword\")\n          return { from: node.from, options: atRules, validFor: identifier$1 };\n      if (!context.explicit)\n          return null;\n      let above = node.resolve(pos), before = above.childBefore(pos);\n      if (before && before.name == \":\" && above.name == \"PseudoClassSelector\")\n          return { from: pos, options: pseudoClasses, validFor: identifier$1 };\n      if (before && before.name == \":\" && above.name == \"Declaration\" || above.name == \"ArgList\")\n          return { from: pos, options: values, validFor: identifier$1 };\n      if (above.name == \"Block\" || above.name == \"Styles\")\n          return { from: pos, options: properties(), validFor: identifier$1 };\n      return null;\n  };\n  /**\n  CSS property, variable, and value keyword completion source.\n  */\n  const cssCompletionSource = /*@__PURE__*/defineCSSCompletionSource(n => n.name == \"VariableName\");\n\n  /**\n  A language provider based on the [Lezer CSS\n  parser](https://github.com/lezer-parser/css), extended with\n  highlighting and indentation information.\n  */\n  const cssLanguage = /*@__PURE__*/LRLanguage.define({\n      name: \"css\",\n      parser: /*@__PURE__*/parser$5.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  Declaration: /*@__PURE__*/continuedIndent()\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  \"Block KeyframeList\": foldInside\n              })\n          ]\n      }),\n      languageData: {\n          commentTokens: { block: { open: \"/*\", close: \"*/\" } },\n          indentOnInput: /^\\s*\\}$/,\n          wordChars: \"-\"\n      }\n  });\n  /**\n  Language support for CSS.\n  */\n  function css() {\n      return new LanguageSupport(cssLanguage, cssLanguage.data.of({ autocomplete: cssCompletionSource }));\n  }\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const scriptText = 55,\n    StartCloseScriptTag = 1,\n    styleText = 56,\n    StartCloseStyleTag = 2,\n    textareaText = 57,\n    StartCloseTextareaTag = 3,\n    EndTag = 4,\n    SelfClosingEndTag = 5,\n    StartTag$1 = 6,\n    StartScriptTag = 7,\n    StartStyleTag = 8,\n    StartTextareaTag = 9,\n    StartSelfClosingTag = 10,\n    StartCloseTag$1 = 11,\n    NoMatchStartCloseTag = 12,\n    MismatchedStartCloseTag = 13,\n    missingCloseTag = 58,\n    IncompleteTag = 14,\n    IncompleteCloseTag = 15,\n    commentContent$1$1 = 59,\n    Element$3 = 21,\n    TagName = 23,\n    Attribute = 24,\n    AttributeName = 25,\n    AttributeValue = 27,\n    UnquotedAttributeValue = 28,\n    ScriptText = 29,\n    StyleText = 32,\n    TextareaText = 35,\n    OpenTag$1 = 37,\n    CloseTag = 38,\n    Dialect_noMatch = 0,\n    Dialect_selfClosing = 1;\n\n  /* Hand-written tokenizers for HTML. */\n\n  const selfClosers$1 = {\n    area: true, base: true, br: true, col: true, command: true,\n    embed: true, frame: true, hr: true, img: true, input: true,\n    keygen: true, link: true, meta: true, param: true, source: true,\n    track: true, wbr: true, menuitem: true\n  };\n\n  const implicitlyClosed = {\n    dd: true, li: true, optgroup: true, option: true, p: true,\n    rp: true, rt: true, tbody: true, td: true, tfoot: true,\n    th: true, tr: true\n  };\n\n  const closeOnOpen = {\n    dd: {dd: true, dt: true},\n    dt: {dd: true, dt: true},\n    li: {li: true},\n    option: {option: true, optgroup: true},\n    optgroup: {optgroup: true},\n    p: {\n      address: true, article: true, aside: true, blockquote: true, dir: true,\n      div: true, dl: true, fieldset: true, footer: true, form: true,\n      h1: true, h2: true, h3: true, h4: true, h5: true, h6: true,\n      header: true, hgroup: true, hr: true, menu: true, nav: true, ol: true,\n      p: true, pre: true, section: true, table: true, ul: true\n    },\n    rp: {rp: true, rt: true},\n    rt: {rp: true, rt: true},\n    tbody: {tbody: true, tfoot: true},\n    td: {td: true, th: true},\n    tfoot: {tbody: true},\n    th: {td: true, th: true},\n    thead: {tbody: true, tfoot: true},\n    tr: {tr: true}\n  };\n\n  function nameChar$1(ch) {\n    return ch == 45 || ch == 46 || ch == 58 || ch >= 65 && ch <= 90 || ch == 95 || ch >= 97 && ch <= 122 || ch >= 161\n  }\n\n  let cachedName$1 = null, cachedInput$1 = null, cachedPos$1 = 0;\n  function tagNameAfter$1(input, offset) {\n    let pos = input.pos + offset;\n    if (cachedPos$1 == pos && cachedInput$1 == input) return cachedName$1\n    let next = input.peek(offset), name = \"\";\n    for (;;) {\n      if (!nameChar$1(next)) break\n      name += String.fromCharCode(next);\n      next = input.peek(++offset);\n    }\n    // Undefined to signal there's a <? or <!, null for just missing\n    cachedInput$1 = input; cachedPos$1 = pos;\n    return cachedName$1 = name ? name.toLowerCase() : next == question || next == bang ? undefined : null\n  }\n\n  const lessThan = 60, greaterThan = 62, slash = 47, question = 63, bang = 33, dash = 45;\n\n  function ElementContext$1(name, parent) {\n    this.name = name;\n    this.parent = parent;\n  }\n\n  const startTagTerms = [StartTag$1, StartSelfClosingTag, StartScriptTag, StartStyleTag, StartTextareaTag];\n\n  const elementContext$1 = new ContextTracker({\n    start: null,\n    shift(context, term, stack, input) {\n      return startTagTerms.indexOf(term) > -1 ? new ElementContext$1(tagNameAfter$1(input, 1) || \"\", context) : context\n    },\n    reduce(context, term) {\n      return term == Element$3 && context ? context.parent : context\n    },\n    reuse(context, node, stack, input) {\n      let type = node.type.id;\n      return type == StartTag$1 || type == OpenTag$1\n        ? new ElementContext$1(tagNameAfter$1(input, 1) || \"\", context) : context\n    },\n    strict: false\n  });\n\n  const tagStart = new ExternalTokenizer((input, stack) => {\n    if (input.next != lessThan) {\n      // End of file, close any open tags\n      if (input.next < 0 && stack.context) input.acceptToken(missingCloseTag);\n      return\n    }\n    input.advance();\n    let close = input.next == slash;\n    if (close) input.advance();\n    let name = tagNameAfter$1(input, 0);\n    if (name === undefined) return\n    if (!name) return input.acceptToken(close ? IncompleteCloseTag : IncompleteTag)\n\n    let parent = stack.context ? stack.context.name : null;\n    if (close) {\n      if (name == parent) return input.acceptToken(StartCloseTag$1)\n      if (parent && implicitlyClosed[parent]) return input.acceptToken(missingCloseTag, -2)\n      if (stack.dialectEnabled(Dialect_noMatch)) return input.acceptToken(NoMatchStartCloseTag)\n      for (let cx = stack.context; cx; cx = cx.parent) if (cx.name == name) return\n      input.acceptToken(MismatchedStartCloseTag);\n    } else {\n      if (name == \"script\") return input.acceptToken(StartScriptTag)\n      if (name == \"style\") return input.acceptToken(StartStyleTag)\n      if (name == \"textarea\") return input.acceptToken(StartTextareaTag)\n      if (selfClosers$1.hasOwnProperty(name)) return input.acceptToken(StartSelfClosingTag)\n      if (parent && closeOnOpen[parent] && closeOnOpen[parent][name]) input.acceptToken(missingCloseTag, -1);\n      else input.acceptToken(StartTag$1);\n    }\n  }, {contextual: true});\n\n  const commentContent$2 = new ExternalTokenizer(input => {\n    for (let dashes = 0, i = 0;; i++) {\n      if (input.next < 0) {\n        if (i) input.acceptToken(commentContent$1$1);\n        break\n      }\n      if (input.next == dash) {\n        dashes++;\n      } else if (input.next == greaterThan && dashes >= 2) {\n        if (i >= 3) input.acceptToken(commentContent$1$1, -2);\n        break\n      } else {\n        dashes = 0;\n      }\n      input.advance();\n    }\n  });\n\n  function inForeignElement(context) {\n    for (; context; context = context.parent)\n      if (context.name == \"svg\" || context.name == \"math\") return true\n    return false\n  }\n\n  const endTag = new ExternalTokenizer((input, stack) => {\n    if (input.next == slash && input.peek(1) == greaterThan) {\n      let selfClosing = stack.dialectEnabled(Dialect_selfClosing) || inForeignElement(stack.context);\n      input.acceptToken(selfClosing ? SelfClosingEndTag : EndTag, 2);\n    } else if (input.next == greaterThan) {\n      input.acceptToken(EndTag, 1);\n    }\n  });\n\n  function contentTokenizer(tag, textToken, endToken) {\n    let lastState = 2 + tag.length;\n    return new ExternalTokenizer(input => {\n      // state means:\n      // - 0 nothing matched\n      // - 1 '<' matched\n      // - 2 '</'\n      // - 3-(1+tag.length) part of the tag matched\n      // - lastState whole tag + possibly whitespace matched\n      for (let state = 0, matchedLen = 0, i = 0;; i++) {\n        if (input.next < 0) {\n          if (i) input.acceptToken(textToken);\n          break\n        }\n        if (state == 0 && input.next == lessThan ||\n            state == 1 && input.next == slash ||\n            state >= 2 && state < lastState && input.next == tag.charCodeAt(state - 2)) {\n          state++;\n          matchedLen++;\n        } else if (state == lastState && input.next == greaterThan) {\n          if (i > matchedLen)\n            input.acceptToken(textToken, -matchedLen);\n          else\n            input.acceptToken(endToken, -(matchedLen - 2));\n          break\n        } else if ((input.next == 10 /* '\\n' */ || input.next == 13 /* '\\r' */) && i) {\n          input.acceptToken(textToken, 1);\n          break\n        } else {\n          state = matchedLen = 0;\n        }\n        input.advance();\n      }\n    })\n  }\n\n  const scriptTokens = contentTokenizer(\"script\", scriptText, StartCloseScriptTag);\n\n  const styleTokens = contentTokenizer(\"style\", styleText, StartCloseStyleTag);\n\n  const textareaTokens = contentTokenizer(\"textarea\", textareaText, StartCloseTextareaTag);\n\n  const htmlHighlighting = styleTags({\n    \"Text RawText IncompleteTag IncompleteCloseTag\": tags$1.content,\n    \"StartTag StartCloseTag SelfClosingEndTag EndTag\": tags$1.angleBracket,\n    TagName: tags$1.tagName,\n    \"MismatchedCloseTag/TagName\": [tags$1.tagName,  tags$1.invalid],\n    AttributeName: tags$1.attributeName,\n    \"AttributeValue UnquotedAttributeValue\": tags$1.attributeValue,\n    Is: tags$1.definitionOperator,\n    \"EntityReference CharacterReference\": tags$1.character,\n    Comment: tags$1.blockComment,\n    ProcessingInst: tags$1.processingInstruction,\n    DoctypeDecl: tags$1.documentMeta\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const parser$4 = LRParser.deserialize({\n    version: 14,\n    states: \",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[\",\n    stateData: \",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~\",\n    goto: \"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp\",\n    nodeNames: \" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl\",\n    maxTerm: 68,\n    context: elementContext$1,\n    nodeProps: [\n      [\"closedBy\", -10,1,2,3,7,8,9,10,11,12,13,\"EndTag\",6,\"EndTag SelfClosingEndTag\",-4,22,31,34,37,\"CloseTag\"],\n      [\"openedBy\", 4,\"StartTag StartCloseTag\",5,\"StartTag\",-4,30,33,36,38,\"OpenTag\"],\n      [\"group\", -10,14,15,18,19,20,21,40,41,42,43,\"Entity\",17,\"Entity TextContent\",-3,29,32,35,\"TextContent Entity\"],\n      [\"isolate\", -11,22,30,31,33,34,36,37,38,39,42,43,\"ltr\",-3,27,28,40,\"\"]\n    ],\n    propSources: [htmlHighlighting],\n    skippedNodes: [0],\n    repeatNodeCount: 9,\n    tokenData: \"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X\",\n    tokenizers: [scriptTokens, styleTokens, textareaTokens, endTag, tagStart, commentContent$2, 0, 1, 2, 3, 4, 5],\n    topRules: {\"Document\":[0,16]},\n    dialects: {noMatch: 0, selfClosing: 515},\n    tokenPrec: 517\n  });\n\n  function getAttrs(openTag, input) {\n    let attrs = Object.create(null);\n    for (let att of openTag.getChildren(Attribute)) {\n      let name = att.getChild(AttributeName), value = att.getChild(AttributeValue) || att.getChild(UnquotedAttributeValue);\n      if (name) attrs[input.read(name.from, name.to)] =\n        !value ? \"\" : value.type.id == AttributeValue ? input.read(value.from + 1, value.to - 1) : input.read(value.from, value.to);\n    }\n    return attrs\n  }\n\n  function findTagName(openTag, input) {\n    let tagNameNode = openTag.getChild(TagName);\n    return tagNameNode ? input.read(tagNameNode.from, tagNameNode.to) : \" \"\n  }\n\n  function maybeNest(node, input, tags) {\n    let attrs;\n    for (let tag of tags) {\n      if (!tag.attrs || tag.attrs(attrs || (attrs = getAttrs(node.node.parent.firstChild, input))))\n        return {parser: tag.parser, bracketed: true}\n    }\n    return null\n  }\n\n  // tags?: {\n  //   tag: string,\n  //   attrs?: ({[attr: string]: string}) => boolean,\n  //   parser: Parser\n  // }[]\n  // attributes?: {\n  //   name: string,\n  //   tagName?: string,\n  //   parser: Parser\n  // }[]\n   \n  function configureNesting(tags = [], attributes = []) {\n    let script = [], style = [], textarea = [], other = [];\n    for (let tag of tags) {\n      let array = tag.tag == \"script\" ? script : tag.tag == \"style\" ? style : tag.tag == \"textarea\" ? textarea : other;\n      array.push(tag);\n    }\n    let attrs = attributes.length ? Object.create(null) : null;\n    for (let attr of attributes) (attrs[attr.name] || (attrs[attr.name] = [])).push(attr);\n\n    return parseMixed((node, input) => {\n      let id = node.type.id;\n      if (id == ScriptText) return maybeNest(node, input, script)\n      if (id == StyleText) return maybeNest(node, input, style)\n      if (id == TextareaText) return maybeNest(node, input, textarea)\n\n      if (id == Element$3 && other.length) {\n        let n = node.node, open = n.firstChild, tagName = open && findTagName(open, input), attrs;\n        if (tagName) for (let tag of other) {\n          if (tag.tag == tagName && (!tag.attrs || tag.attrs(attrs || (attrs = getAttrs(open, input))))) {\n            let close = n.lastChild;\n            let to = close.type.id == CloseTag ? close.from : n.to;\n            if (to > open.to)\n              return {parser: tag.parser, overlay: [{from: open.to, to}]}\n          }\n        }\n      }\n\n      if (attrs && id == Attribute) {\n        let n = node.node, nameNode;\n        if (nameNode = n.firstChild) {\n          let matches = attrs[input.read(nameNode.from, nameNode.to)];\n          if (matches) for (let attr of matches) {\n            if (attr.tagName && attr.tagName != findTagName(n.parent, input)) continue\n            let value = n.lastChild;\n            if (value.type.id == AttributeValue) {\n              let from = value.from + 1;\n              let last = value.lastChild, to = value.to - (last && last.isError ? 0 : 1);\n              if (to > from) return {parser: attr.parser, overlay: [{from, to}], bracketed: true}\n            } else if (value.type.id == UnquotedAttributeValue) {\n              return {parser: attr.parser, overlay: [{from: value.from, to: value.to}]}\n            }\n          }\n        }\n      }\n      return null\n    })\n  }\n\n  const Targets = [\"_blank\", \"_self\", \"_top\", \"_parent\"];\n  const Charsets = [\"ascii\", \"utf-8\", \"utf-16\", \"latin1\", \"latin1\"];\n  const Methods = [\"get\", \"post\", \"put\", \"delete\"];\n  const Encs = [\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"];\n  const Bool = [\"true\", \"false\"];\n  const S = {}; // Empty tag spec\n  const Tags = {\n      a: {\n          attrs: {\n              href: null, ping: null, type: null,\n              media: null,\n              target: Targets,\n              hreflang: null\n          }\n      },\n      abbr: S,\n      address: S,\n      area: {\n          attrs: {\n              alt: null, coords: null, href: null, target: null, ping: null,\n              media: null, hreflang: null, type: null,\n              shape: [\"default\", \"rect\", \"circle\", \"poly\"]\n          }\n      },\n      article: S,\n      aside: S,\n      audio: {\n          attrs: {\n              src: null, mediagroup: null,\n              crossorigin: [\"anonymous\", \"use-credentials\"],\n              preload: [\"none\", \"metadata\", \"auto\"],\n              autoplay: [\"autoplay\"],\n              loop: [\"loop\"],\n              controls: [\"controls\"]\n          }\n      },\n      b: S,\n      base: { attrs: { href: null, target: Targets } },\n      bdi: S,\n      bdo: S,\n      blockquote: { attrs: { cite: null } },\n      body: S,\n      br: S,\n      button: {\n          attrs: {\n              form: null, formaction: null, name: null, value: null,\n              autofocus: [\"autofocus\"],\n              disabled: [\"autofocus\"],\n              formenctype: Encs,\n              formmethod: Methods,\n              formnovalidate: [\"novalidate\"],\n              formtarget: Targets,\n              type: [\"submit\", \"reset\", \"button\"]\n          }\n      },\n      canvas: { attrs: { width: null, height: null } },\n      caption: S,\n      center: S,\n      cite: S,\n      code: S,\n      col: { attrs: { span: null } },\n      colgroup: { attrs: { span: null } },\n      command: {\n          attrs: {\n              type: [\"command\", \"checkbox\", \"radio\"],\n              label: null, icon: null, radiogroup: null, command: null, title: null,\n              disabled: [\"disabled\"],\n              checked: [\"checked\"]\n          }\n      },\n      data: { attrs: { value: null } },\n      datagrid: { attrs: { disabled: [\"disabled\"], multiple: [\"multiple\"] } },\n      datalist: { attrs: { data: null } },\n      dd: S,\n      del: { attrs: { cite: null, datetime: null } },\n      details: { attrs: { open: [\"open\"] } },\n      dfn: S,\n      div: S,\n      dl: S,\n      dt: S,\n      em: S,\n      embed: { attrs: { src: null, type: null, width: null, height: null } },\n      eventsource: { attrs: { src: null } },\n      fieldset: { attrs: { disabled: [\"disabled\"], form: null, name: null } },\n      figcaption: S,\n      figure: S,\n      footer: S,\n      form: {\n          attrs: {\n              action: null, name: null,\n              \"accept-charset\": Charsets,\n              autocomplete: [\"on\", \"off\"],\n              enctype: Encs,\n              method: Methods,\n              novalidate: [\"novalidate\"],\n              target: Targets\n          }\n      },\n      h1: S, h2: S, h3: S, h4: S, h5: S, h6: S,\n      head: {\n          children: [\"title\", \"base\", \"link\", \"style\", \"meta\", \"script\", \"noscript\", \"command\"]\n      },\n      header: S,\n      hgroup: S,\n      hr: S,\n      html: {\n          attrs: { manifest: null }\n      },\n      i: S,\n      iframe: {\n          attrs: {\n              src: null, srcdoc: null, name: null, width: null, height: null,\n              sandbox: [\"allow-top-navigation\", \"allow-same-origin\", \"allow-forms\", \"allow-scripts\"],\n              seamless: [\"seamless\"]\n          }\n      },\n      img: {\n          attrs: {\n              alt: null, src: null, ismap: null, usemap: null, width: null, height: null,\n              crossorigin: [\"anonymous\", \"use-credentials\"]\n          }\n      },\n      input: {\n          attrs: {\n              alt: null, dirname: null, form: null, formaction: null,\n              height: null, list: null, max: null, maxlength: null, min: null,\n              name: null, pattern: null, placeholder: null, size: null, src: null,\n              step: null, value: null, width: null,\n              accept: [\"audio/*\", \"video/*\", \"image/*\"],\n              autocomplete: [\"on\", \"off\"],\n              autofocus: [\"autofocus\"],\n              checked: [\"checked\"],\n              disabled: [\"disabled\"],\n              formenctype: Encs,\n              formmethod: Methods,\n              formnovalidate: [\"novalidate\"],\n              formtarget: Targets,\n              multiple: [\"multiple\"],\n              readonly: [\"readonly\"],\n              required: [\"required\"],\n              type: [\"hidden\", \"text\", \"search\", \"tel\", \"url\", \"email\", \"password\", \"datetime\", \"date\", \"month\",\n                  \"week\", \"time\", \"datetime-local\", \"number\", \"range\", \"color\", \"checkbox\", \"radio\",\n                  \"file\", \"submit\", \"image\", \"reset\", \"button\"]\n          }\n      },\n      ins: { attrs: { cite: null, datetime: null } },\n      kbd: S,\n      keygen: {\n          attrs: {\n              challenge: null, form: null, name: null,\n              autofocus: [\"autofocus\"],\n              disabled: [\"disabled\"],\n              keytype: [\"RSA\"]\n          }\n      },\n      label: { attrs: { for: null, form: null } },\n      legend: S,\n      li: { attrs: { value: null } },\n      link: {\n          attrs: {\n              href: null, type: null,\n              hreflang: null,\n              media: null,\n              sizes: [\"all\", \"16x16\", \"16x16 32x32\", \"16x16 32x32 64x64\"]\n          }\n      },\n      map: { attrs: { name: null } },\n      mark: S,\n      menu: { attrs: { label: null, type: [\"list\", \"context\", \"toolbar\"] } },\n      meta: {\n          attrs: {\n              content: null,\n              charset: Charsets,\n              name: [\"viewport\", \"application-name\", \"author\", \"description\", \"generator\", \"keywords\"],\n              \"http-equiv\": [\"content-language\", \"content-type\", \"default-style\", \"refresh\"]\n          }\n      },\n      meter: { attrs: { value: null, min: null, low: null, high: null, max: null, optimum: null } },\n      nav: S,\n      noscript: S,\n      object: {\n          attrs: {\n              data: null, type: null, name: null, usemap: null, form: null, width: null, height: null,\n              typemustmatch: [\"typemustmatch\"]\n          }\n      },\n      ol: { attrs: { reversed: [\"reversed\"], start: null, type: [\"1\", \"a\", \"A\", \"i\", \"I\"] },\n          children: [\"li\", \"script\", \"template\", \"ul\", \"ol\"] },\n      optgroup: { attrs: { disabled: [\"disabled\"], label: null } },\n      option: { attrs: { disabled: [\"disabled\"], label: null, selected: [\"selected\"], value: null } },\n      output: { attrs: { for: null, form: null, name: null } },\n      p: S,\n      param: { attrs: { name: null, value: null } },\n      pre: S,\n      progress: { attrs: { value: null, max: null } },\n      q: { attrs: { cite: null } },\n      rp: S,\n      rt: S,\n      ruby: S,\n      samp: S,\n      script: {\n          attrs: {\n              type: [\"text/javascript\"],\n              src: null,\n              async: [\"async\"],\n              defer: [\"defer\"],\n              charset: Charsets\n          }\n      },\n      section: S,\n      select: {\n          attrs: {\n              form: null, name: null, size: null,\n              autofocus: [\"autofocus\"],\n              disabled: [\"disabled\"],\n              multiple: [\"multiple\"]\n          }\n      },\n      slot: { attrs: { name: null } },\n      small: S,\n      source: { attrs: { src: null, type: null, media: null } },\n      span: S,\n      strong: S,\n      style: {\n          attrs: {\n              type: [\"text/css\"],\n              media: null,\n              scoped: null\n          }\n      },\n      sub: S,\n      summary: S,\n      sup: S,\n      table: S,\n      tbody: S,\n      td: { attrs: { colspan: null, rowspan: null, headers: null } },\n      template: S,\n      textarea: {\n          attrs: {\n              dirname: null, form: null, maxlength: null, name: null, placeholder: null,\n              rows: null, cols: null,\n              autofocus: [\"autofocus\"],\n              disabled: [\"disabled\"],\n              readonly: [\"readonly\"],\n              required: [\"required\"],\n              wrap: [\"soft\", \"hard\"]\n          }\n      },\n      tfoot: S,\n      th: { attrs: { colspan: null, rowspan: null, headers: null, scope: [\"row\", \"col\", \"rowgroup\", \"colgroup\"] } },\n      thead: S,\n      time: { attrs: { datetime: null } },\n      title: S,\n      tr: S,\n      track: {\n          attrs: {\n              src: null, label: null, default: null,\n              kind: [\"subtitles\", \"captions\", \"descriptions\", \"chapters\", \"metadata\"],\n              srclang: null\n          }\n      },\n      ul: { children: [\"li\", \"script\", \"template\", \"ul\", \"ol\"] },\n      var: S,\n      video: {\n          attrs: {\n              src: null, poster: null, width: null, height: null,\n              crossorigin: [\"anonymous\", \"use-credentials\"],\n              preload: [\"auto\", \"metadata\", \"none\"],\n              autoplay: [\"autoplay\"],\n              mediagroup: [\"movie\"],\n              muted: [\"muted\"],\n              controls: [\"controls\"]\n          }\n      },\n      wbr: S\n  };\n  const GlobalAttrs = {\n      accesskey: null,\n      class: null,\n      contenteditable: Bool,\n      contextmenu: null,\n      dir: [\"ltr\", \"rtl\", \"auto\"],\n      draggable: [\"true\", \"false\", \"auto\"],\n      dropzone: [\"copy\", \"move\", \"link\", \"string:\", \"file:\"],\n      hidden: [\"hidden\"],\n      id: null,\n      inert: [\"inert\"],\n      itemid: null,\n      itemprop: null,\n      itemref: null,\n      itemscope: [\"itemscope\"],\n      itemtype: null,\n      lang: [\"ar\", \"bn\", \"de\", \"en-GB\", \"en-US\", \"es\", \"fr\", \"hi\", \"id\", \"ja\", \"pa\", \"pt\", \"ru\", \"tr\", \"zh\"],\n      spellcheck: Bool,\n      autocorrect: Bool,\n      autocapitalize: Bool,\n      style: null,\n      tabindex: null,\n      title: null,\n      translate: [\"yes\", \"no\"],\n      rel: [\"stylesheet\", \"alternate\", \"author\", \"bookmark\", \"help\", \"license\", \"next\", \"nofollow\", \"noreferrer\", \"prefetch\", \"prev\", \"search\", \"tag\"],\n      role: /*@__PURE__*/\"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer\".split(\" \"),\n      \"aria-activedescendant\": null,\n      \"aria-atomic\": Bool,\n      \"aria-autocomplete\": [\"inline\", \"list\", \"both\", \"none\"],\n      \"aria-busy\": Bool,\n      \"aria-checked\": [\"true\", \"false\", \"mixed\", \"undefined\"],\n      \"aria-controls\": null,\n      \"aria-describedby\": null,\n      \"aria-disabled\": Bool,\n      \"aria-dropeffect\": null,\n      \"aria-expanded\": [\"true\", \"false\", \"undefined\"],\n      \"aria-flowto\": null,\n      \"aria-grabbed\": [\"true\", \"false\", \"undefined\"],\n      \"aria-haspopup\": Bool,\n      \"aria-hidden\": Bool,\n      \"aria-invalid\": [\"true\", \"false\", \"grammar\", \"spelling\"],\n      \"aria-label\": null,\n      \"aria-labelledby\": null,\n      \"aria-level\": null,\n      \"aria-live\": [\"off\", \"polite\", \"assertive\"],\n      \"aria-multiline\": Bool,\n      \"aria-multiselectable\": Bool,\n      \"aria-owns\": null,\n      \"aria-posinset\": null,\n      \"aria-pressed\": [\"true\", \"false\", \"mixed\", \"undefined\"],\n      \"aria-readonly\": Bool,\n      \"aria-relevant\": null,\n      \"aria-required\": Bool,\n      \"aria-selected\": [\"true\", \"false\", \"undefined\"],\n      \"aria-setsize\": null,\n      \"aria-sort\": [\"ascending\", \"descending\", \"none\", \"other\"],\n      \"aria-valuemax\": null,\n      \"aria-valuemin\": null,\n      \"aria-valuenow\": null,\n      \"aria-valuetext\": null\n  };\n  const eventAttributes = /*@__PURE__*/(\"beforeunload copy cut dragstart dragover dragleave dragenter dragend \" +\n      \"drag paste focus blur change click load mousedown mouseenter mouseleave \" +\n      \"mouseup keydown keyup resize scroll unload\").split(\" \").map(n => \"on\" + n);\n  for (let a of eventAttributes)\n      GlobalAttrs[a] = null;\n  class Schema {\n      constructor(extraTags, extraAttrs) {\n          this.tags = { ...Tags, ...extraTags };\n          this.globalAttrs = { ...GlobalAttrs, ...extraAttrs };\n          this.allTags = Object.keys(this.tags);\n          this.globalAttrNames = Object.keys(this.globalAttrs);\n      }\n  }\n  Schema.default = /*@__PURE__*/new Schema;\n  function elementName$2(doc, tree, max = doc.length) {\n      if (!tree)\n          return \"\";\n      let tag = tree.firstChild;\n      let name = tag && tag.getChild(\"TagName\");\n      return name ? doc.sliceString(name.from, Math.min(name.to, max)) : \"\";\n  }\n  function findParentElement$1(tree, skip = false) {\n      for (; tree; tree = tree.parent)\n          if (tree.name == \"Element\") {\n              if (skip)\n                  skip = false;\n              else\n                  return tree;\n          }\n      return null;\n  }\n  function allowedChildren(doc, tree, schema) {\n      let parentInfo = schema.tags[elementName$2(doc, findParentElement$1(tree))];\n      return (parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.children) || schema.allTags;\n  }\n  function openTags(doc, tree) {\n      let open = [];\n      for (let parent = findParentElement$1(tree); parent && !parent.type.isTop; parent = findParentElement$1(parent.parent)) {\n          let tagName = elementName$2(doc, parent);\n          if (tagName && parent.lastChild.name == \"CloseTag\")\n              break;\n          if (tagName && open.indexOf(tagName) < 0 && (tree.name == \"EndTag\" || tree.from >= parent.firstChild.to))\n              open.push(tagName);\n      }\n      return open;\n  }\n  const identifier = /^[:\\-\\.\\w\\u00b7-\\uffff]*$/;\n  function completeTag(state, schema, tree, from, to) {\n      let end = /\\s*>/.test(state.sliceDoc(to, to + 5)) ? \"\" : \">\";\n      let parent = findParentElement$1(tree, tree.name == \"StartTag\" || tree.name == \"TagName\");\n      return { from, to,\n          options: allowedChildren(state.doc, parent, schema).map(tagName => ({ label: tagName, type: \"type\" })).concat(openTags(state.doc, tree).map((tag, i) => ({ label: \"/\" + tag, apply: \"/\" + tag + end,\n              type: \"type\", boost: 99 - i }))),\n          validFor: /^\\/?[:\\-\\.\\w\\u00b7-\\uffff]*$/ };\n  }\n  function completeCloseTag(state, tree, from, to) {\n      let end = /\\s*>/.test(state.sliceDoc(to, to + 5)) ? \"\" : \">\";\n      return { from, to,\n          options: openTags(state.doc, tree).map((tag, i) => ({ label: tag, apply: tag + end, type: \"type\", boost: 99 - i })),\n          validFor: identifier };\n  }\n  function completeStartTag(state, schema, tree, pos) {\n      let options = [], level = 0;\n      for (let tagName of allowedChildren(state.doc, tree, schema))\n          options.push({ label: \"<\" + tagName, type: \"type\" });\n      for (let open of openTags(state.doc, tree))\n          options.push({ label: \"</\" + open + \">\", type: \"type\", boost: 99 - level++ });\n      return { from: pos, to: pos, options, validFor: /^<\\/?[:\\-\\.\\w\\u00b7-\\uffff]*$/ };\n  }\n  function completeAttrName(state, schema, tree, from, to) {\n      let elt = findParentElement$1(tree), info = elt ? schema.tags[elementName$2(state.doc, elt)] : null;\n      let localAttrs = info && info.attrs ? Object.keys(info.attrs) : [];\n      let names = info && info.globalAttrs === false ? localAttrs\n          : localAttrs.length ? localAttrs.concat(schema.globalAttrNames) : schema.globalAttrNames;\n      return { from, to,\n          options: names.map(attrName => ({ label: attrName, type: \"property\" })),\n          validFor: identifier };\n  }\n  function completeAttrValue(state, schema, tree, from, to) {\n      var _a;\n      let nameNode = (_a = tree.parent) === null || _a === void 0 ? void 0 : _a.getChild(\"AttributeName\");\n      let options = [], token = undefined;\n      if (nameNode) {\n          let attrName = state.sliceDoc(nameNode.from, nameNode.to);\n          let attrs = schema.globalAttrs[attrName];\n          if (!attrs) {\n              let elt = findParentElement$1(tree), info = elt ? schema.tags[elementName$2(state.doc, elt)] : null;\n              attrs = (info === null || info === void 0 ? void 0 : info.attrs) && info.attrs[attrName];\n          }\n          if (attrs) {\n              let base = state.sliceDoc(from, to).toLowerCase(), quoteStart = '\"', quoteEnd = '\"';\n              if (/^['\"]/.test(base)) {\n                  token = base[0] == '\"' ? /^[^\"]*$/ : /^[^']*$/;\n                  quoteStart = \"\";\n                  quoteEnd = state.sliceDoc(to, to + 1) == base[0] ? \"\" : base[0];\n                  base = base.slice(1);\n                  from++;\n              }\n              else {\n                  token = /^[^\\s<>='\"]*$/;\n              }\n              for (let value of attrs)\n                  options.push({ label: value, apply: quoteStart + value + quoteEnd, type: \"constant\" });\n          }\n      }\n      return { from, to, options, validFor: token };\n  }\n  function htmlCompletionFor(schema, context) {\n      let { state, pos } = context, tree = syntaxTree(state).resolveInner(pos, -1), around = tree.resolve(pos);\n      for (let scan = pos, before; around == tree && (before = tree.childBefore(scan));) {\n          let last = before.lastChild;\n          if (!last || !last.type.isError || last.from < last.to)\n              break;\n          around = tree = before;\n          scan = last.from;\n      }\n      if (tree.name == \"TagName\") {\n          return tree.parent && /CloseTag$/.test(tree.parent.name) ? completeCloseTag(state, tree, tree.from, pos)\n              : completeTag(state, schema, tree, tree.from, pos);\n      }\n      else if (tree.name == \"StartTag\" || tree.name == \"IncompleteTag\") {\n          return completeTag(state, schema, tree, pos, pos);\n      }\n      else if (tree.name == \"StartCloseTag\" || tree.name == \"IncompleteCloseTag\") {\n          return completeCloseTag(state, tree, pos, pos);\n      }\n      else if (tree.name == \"OpenTag\" || tree.name == \"SelfClosingTag\" || tree.name == \"AttributeName\") {\n          return completeAttrName(state, schema, tree, tree.name == \"AttributeName\" ? tree.from : pos, pos);\n      }\n      else if (tree.name == \"Is\" || tree.name == \"AttributeValue\" || tree.name == \"UnquotedAttributeValue\") {\n          return completeAttrValue(state, schema, tree, tree.name == \"Is\" ? pos : tree.from, pos);\n      }\n      else if (context.explicit && (around.name == \"Element\" || around.name == \"Text\" || around.name == \"Document\")) {\n          return completeStartTag(state, schema, tree, pos);\n      }\n      else {\n          return null;\n      }\n  }\n  /**\n  HTML tag completion. Opens and closes tags and attributes in a\n  context-aware way.\n  */\n  function htmlCompletionSource(context) {\n      return htmlCompletionFor(Schema.default, context);\n  }\n  /**\n  Create a completion source for HTML extended with additional tags\n  or attributes.\n  */\n  function htmlCompletionSourceWith(config) {\n      let { extraTags, extraGlobalAttributes: extraAttrs } = config;\n      let schema = extraAttrs || extraTags ? new Schema(extraTags, extraAttrs) : Schema.default;\n      return (context) => htmlCompletionFor(schema, context);\n  }\n\n  const jsonParser = /*@__PURE__*/javascriptLanguage.parser.configure({ top: \"SingleExpression\" });\n  const defaultNesting = [\n      { tag: \"script\",\n          attrs: attrs => attrs.type == \"text/typescript\" || attrs.lang == \"ts\",\n          parser: typescriptLanguage.parser },\n      { tag: \"script\",\n          attrs: attrs => attrs.type == \"text/babel\" || attrs.type == \"text/jsx\",\n          parser: jsxLanguage.parser },\n      { tag: \"script\",\n          attrs: attrs => attrs.type == \"text/typescript-jsx\",\n          parser: tsxLanguage.parser },\n      { tag: \"script\",\n          attrs(attrs) {\n              return /^(importmap|speculationrules|application\\/(.+\\+)?json)$/i.test(attrs.type);\n          },\n          parser: jsonParser },\n      { tag: \"script\",\n          attrs(attrs) {\n              return !attrs.type || /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(attrs.type);\n          },\n          parser: javascriptLanguage.parser },\n      { tag: \"style\",\n          attrs(attrs) {\n              return (!attrs.lang || attrs.lang == \"css\") && (!attrs.type || /^(text\\/)?(x-)?(stylesheet|css)$/i.test(attrs.type));\n          },\n          parser: cssLanguage.parser }\n  ];\n  const defaultAttrs = /*@__PURE__*/[\n      { name: \"style\",\n          parser: /*@__PURE__*/cssLanguage.parser.configure({ top: \"Styles\" }) }\n  ].concat(/*@__PURE__*/eventAttributes.map(name => ({ name, parser: javascriptLanguage.parser })));\n  const htmlPlain = /*@__PURE__*/LRLanguage.define({\n      name: \"html\",\n      parser: /*@__PURE__*/parser$4.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  Element(context) {\n                      let after = /^(\\s*)(<\\/)?/.exec(context.textAfter);\n                      if (context.node.to <= context.pos + after[0].length)\n                          return context.continue();\n                      return context.lineIndent(context.node.from) + (after[2] ? 0 : context.unit);\n                  },\n                  \"OpenTag CloseTag SelfClosingTag\"(context) {\n                      return context.column(context.node.from) + context.unit;\n                  },\n                  Document(context) {\n                      if (context.pos + /\\s*/.exec(context.textAfter)[0].length < context.node.to)\n                          return context.continue();\n                      let endElt = null, close;\n                      for (let cur = context.node;;) {\n                          let last = cur.lastChild;\n                          if (!last || last.name != \"Element\" || last.to != cur.to)\n                              break;\n                          endElt = cur = last;\n                      }\n                      if (endElt && !((close = endElt.lastChild) && (close.name == \"CloseTag\" || close.name == \"SelfClosingTag\")))\n                          return context.lineIndent(endElt.from) + context.unit;\n                      return null;\n                  }\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  Element(node) {\n                      let first = node.firstChild, last = node.lastChild;\n                      if (!first || first.name != \"OpenTag\")\n                          return null;\n                      return { from: first.to, to: last.name == \"CloseTag\" ? last.from : node.to };\n                  }\n              }),\n              /*@__PURE__*/bracketMatchingHandle.add({\n                  \"OpenTag CloseTag\": node => node.getChild(\"TagName\")\n              })\n          ]\n      }),\n      languageData: {\n          commentTokens: { block: { open: \"<!--\", close: \"-->\" } },\n          indentOnInput: /^\\s*<\\/\\w+\\W$/,\n          wordChars: \"-_\"\n      }\n  });\n  /**\n  A language provider based on the [Lezer HTML\n  parser](https://github.com/lezer-parser/html), extended with the\n  JavaScript and CSS parsers to parse the content of `<script>` and\n  `<style>` tags.\n  */\n  const htmlLanguage = /*@__PURE__*/htmlPlain.configure({\n      wrap: /*@__PURE__*/configureNesting(defaultNesting, defaultAttrs)\n  });\n  /**\n  Language support for HTML, including\n  [`htmlCompletion`](https://codemirror.net/6/docs/ref/#lang-html.htmlCompletion) and JavaScript and\n  CSS support extensions.\n  */\n  function html(config = {}) {\n      let dialect = \"\", wrap;\n      if (config.matchClosingTags === false)\n          dialect = \"noMatch\";\n      if (config.selfClosingTags === true)\n          dialect = (dialect ? dialect + \" \" : \"\") + \"selfClosing\";\n      if (config.nestedLanguages && config.nestedLanguages.length ||\n          config.nestedAttributes && config.nestedAttributes.length)\n          wrap = configureNesting((config.nestedLanguages || []).concat(defaultNesting), (config.nestedAttributes || []).concat(defaultAttrs));\n      let lang = wrap ? htmlPlain.configure({ wrap, dialect }) : dialect ? htmlLanguage.configure({ dialect }) : htmlLanguage;\n      return new LanguageSupport(lang, [\n          htmlLanguage.data.of({ autocomplete: htmlCompletionSourceWith(config) }),\n          config.autoCloseTags !== false ? autoCloseTags$1 : [],\n          javascript().support,\n          css().support\n      ]);\n  }\n  const selfClosers = /*@__PURE__*/new Set(/*@__PURE__*/\"area base br col command embed frame hr img input keygen link meta param source track wbr menuitem\".split(\" \"));\n  /**\n  Extension that will automatically insert close tags when a `>` or\n  `/` is typed.\n  */\n  const autoCloseTags$1 = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, text, insertTransaction) => {\n      if (view.composing || view.state.readOnly || from != to || (text != \">\" && text != \"/\") ||\n          !htmlLanguage.isActiveAt(view.state, from, -1))\n          return false;\n      let base = insertTransaction(), { state } = base;\n      let closeTags = state.changeByRange(range => {\n          var _a, _b, _c;\n          let didType = state.doc.sliceString(range.from - 1, range.to) == text;\n          let { head } = range, after = syntaxTree(state).resolveInner(head, -1), name;\n          if (didType && text == \">\" && after.name == \"EndTag\") {\n              let tag = after.parent;\n              if (((_b = (_a = tag.parent) === null || _a === void 0 ? void 0 : _a.lastChild) === null || _b === void 0 ? void 0 : _b.name) != \"CloseTag\" &&\n                  (name = elementName$2(state.doc, tag.parent, head)) &&\n                  !selfClosers.has(name)) {\n                  let to = head + (state.doc.sliceString(head, head + 1) === \">\" ? 1 : 0);\n                  let insert = `</${name}>`;\n                  return { range, changes: { from: head, to, insert } };\n              }\n          }\n          else if (didType && text == \"/\" && after.name == \"IncompleteCloseTag\") {\n              let tag = after.parent;\n              if (after.from == head - 2 && ((_c = tag.lastChild) === null || _c === void 0 ? void 0 : _c.name) != \"CloseTag\" &&\n                  (name = elementName$2(state.doc, tag, head)) && !selfClosers.has(name)) {\n                  let to = head + (state.doc.sliceString(head, head + 1) === \">\" ? 1 : 0);\n                  let insert = `${name}>`;\n                  return {\n                      range: EditorSelection.cursor(head + insert.length, -1),\n                      changes: { from: head, to, insert }\n                  };\n              }\n          }\n          return { range };\n      });\n      if (closeTags.changes.empty)\n          return false;\n      view.dispatch([\n          base,\n          state.update(closeTags, {\n              userEvent: \"input.complete\",\n              scrollIntoView: true\n          })\n      ]);\n      return true;\n  });\n\n  class CompositeBlock {\n      static create(type, value, from, parentHash, end) {\n          let hash = (parentHash + (parentHash << 8) + type + (value << 4)) | 0;\n          return new CompositeBlock(type, value, from, hash, end, [], []);\n      }\n      constructor(type, \n      // Used for indentation in list items, markup character in lists\n      value, from, hash, end, children, positions) {\n          this.type = type;\n          this.value = value;\n          this.from = from;\n          this.hash = hash;\n          this.end = end;\n          this.children = children;\n          this.positions = positions;\n          this.hashProp = [[NodeProp.contextHash, hash]];\n      }\n      addChild(child, pos) {\n          if (child.prop(NodeProp.contextHash) != this.hash)\n              child = new Tree(child.type, child.children, child.positions, child.length, this.hashProp);\n          this.children.push(child);\n          this.positions.push(pos);\n      }\n      toTree(nodeSet, end = this.end) {\n          let last = this.children.length - 1;\n          if (last >= 0)\n              end = Math.max(end, this.positions[last] + this.children[last].length + this.from);\n          return new Tree(nodeSet.types[this.type], this.children, this.positions, end - this.from).balance({\n              makeTree: (children, positions, length) => new Tree(NodeType.none, children, positions, length, this.hashProp)\n          });\n      }\n  }\n  var Type;\n  (function (Type) {\n      Type[Type[\"Document\"] = 1] = \"Document\";\n      Type[Type[\"CodeBlock\"] = 2] = \"CodeBlock\";\n      Type[Type[\"FencedCode\"] = 3] = \"FencedCode\";\n      Type[Type[\"Blockquote\"] = 4] = \"Blockquote\";\n      Type[Type[\"HorizontalRule\"] = 5] = \"HorizontalRule\";\n      Type[Type[\"BulletList\"] = 6] = \"BulletList\";\n      Type[Type[\"OrderedList\"] = 7] = \"OrderedList\";\n      Type[Type[\"ListItem\"] = 8] = \"ListItem\";\n      Type[Type[\"ATXHeading1\"] = 9] = \"ATXHeading1\";\n      Type[Type[\"ATXHeading2\"] = 10] = \"ATXHeading2\";\n      Type[Type[\"ATXHeading3\"] = 11] = \"ATXHeading3\";\n      Type[Type[\"ATXHeading4\"] = 12] = \"ATXHeading4\";\n      Type[Type[\"ATXHeading5\"] = 13] = \"ATXHeading5\";\n      Type[Type[\"ATXHeading6\"] = 14] = \"ATXHeading6\";\n      Type[Type[\"SetextHeading1\"] = 15] = \"SetextHeading1\";\n      Type[Type[\"SetextHeading2\"] = 16] = \"SetextHeading2\";\n      Type[Type[\"HTMLBlock\"] = 17] = \"HTMLBlock\";\n      Type[Type[\"LinkReference\"] = 18] = \"LinkReference\";\n      Type[Type[\"Paragraph\"] = 19] = \"Paragraph\";\n      Type[Type[\"CommentBlock\"] = 20] = \"CommentBlock\";\n      Type[Type[\"ProcessingInstructionBlock\"] = 21] = \"ProcessingInstructionBlock\";\n      // Inline\n      Type[Type[\"Escape\"] = 22] = \"Escape\";\n      Type[Type[\"Entity\"] = 23] = \"Entity\";\n      Type[Type[\"HardBreak\"] = 24] = \"HardBreak\";\n      Type[Type[\"Emphasis\"] = 25] = \"Emphasis\";\n      Type[Type[\"StrongEmphasis\"] = 26] = \"StrongEmphasis\";\n      Type[Type[\"Link\"] = 27] = \"Link\";\n      Type[Type[\"Image\"] = 28] = \"Image\";\n      Type[Type[\"InlineCode\"] = 29] = \"InlineCode\";\n      Type[Type[\"HTMLTag\"] = 30] = \"HTMLTag\";\n      Type[Type[\"Comment\"] = 31] = \"Comment\";\n      Type[Type[\"ProcessingInstruction\"] = 32] = \"ProcessingInstruction\";\n      Type[Type[\"Autolink\"] = 33] = \"Autolink\";\n      // Smaller tokens\n      Type[Type[\"HeaderMark\"] = 34] = \"HeaderMark\";\n      Type[Type[\"QuoteMark\"] = 35] = \"QuoteMark\";\n      Type[Type[\"ListMark\"] = 36] = \"ListMark\";\n      Type[Type[\"LinkMark\"] = 37] = \"LinkMark\";\n      Type[Type[\"EmphasisMark\"] = 38] = \"EmphasisMark\";\n      Type[Type[\"CodeMark\"] = 39] = \"CodeMark\";\n      Type[Type[\"CodeText\"] = 40] = \"CodeText\";\n      Type[Type[\"CodeInfo\"] = 41] = \"CodeInfo\";\n      Type[Type[\"LinkTitle\"] = 42] = \"LinkTitle\";\n      Type[Type[\"LinkLabel\"] = 43] = \"LinkLabel\";\n      Type[Type[\"URL\"] = 44] = \"URL\";\n  })(Type || (Type = {}));\n  /**\n  Data structure used to accumulate a block's content during [leaf\n  block parsing](#BlockParser.leaf).\n  */\n  class LeafBlock {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The start position of the block.\n      */\n      start, \n      /**\n      The block's text content.\n      */\n      content) {\n          this.start = start;\n          this.content = content;\n          /**\n          @internal\n          */\n          this.marks = [];\n          /**\n          The block parsers active for this block.\n          */\n          this.parsers = [];\n      }\n  }\n  /**\n  Data structure used during block-level per-line parsing.\n  */\n  class Line {\n      constructor() {\n          /**\n          The line's full text.\n          */\n          this.text = \"\";\n          /**\n          The base indent provided by the composite contexts (that have\n          been handled so far).\n          */\n          this.baseIndent = 0;\n          /**\n          The string position corresponding to the base indent.\n          */\n          this.basePos = 0;\n          /**\n          The number of contexts handled @internal\n          */\n          this.depth = 0;\n          /**\n          Any markers (i.e. block quote markers) parsed for the contexts. @internal\n          */\n          this.markers = [];\n          /**\n          The position of the next non-whitespace character beyond any\n          list, blockquote, or other composite block markers.\n          */\n          this.pos = 0;\n          /**\n          The column of the next non-whitespace character.\n          */\n          this.indent = 0;\n          /**\n          The character code of the character after `pos`.\n          */\n          this.next = -1;\n      }\n      /**\n      @internal\n      */\n      forward() {\n          if (this.basePos > this.pos)\n              this.forwardInner();\n      }\n      /**\n      @internal\n      */\n      forwardInner() {\n          let newPos = this.skipSpace(this.basePos);\n          this.indent = this.countIndent(newPos, this.pos, this.indent);\n          this.pos = newPos;\n          this.next = newPos == this.text.length ? -1 : this.text.charCodeAt(newPos);\n      }\n      /**\n      Skip whitespace after the given position, return the position of\n      the next non-space character or the end of the line if there's\n      only space after `from`.\n      */\n      skipSpace(from) { return skipSpace(this.text, from); }\n      /**\n      @internal\n      */\n      reset(text) {\n          this.text = text;\n          this.baseIndent = this.basePos = this.pos = this.indent = 0;\n          this.forwardInner();\n          this.depth = 1;\n          while (this.markers.length)\n              this.markers.pop();\n      }\n      /**\n      Move the line's base position forward to the given position.\n      This should only be called by composite [block\n      parsers](#BlockParser.parse) or [markup skipping\n      functions](#NodeSpec.composite).\n      */\n      moveBase(to) {\n          this.basePos = to;\n          this.baseIndent = this.countIndent(to, this.pos, this.indent);\n      }\n      /**\n      Move the line's base position forward to the given _column_.\n      */\n      moveBaseColumn(indent) {\n          this.baseIndent = indent;\n          this.basePos = this.findColumn(indent);\n      }\n      /**\n      Store a composite-block-level marker. Should be called from\n      [markup skipping functions](#NodeSpec.composite) when they\n      consume any non-whitespace characters.\n      */\n      addMarker(elt) {\n          this.markers.push(elt);\n      }\n      /**\n      Find the column position at `to`, optionally starting at a given\n      position and column.\n      */\n      countIndent(to, from = 0, indent = 0) {\n          for (let i = from; i < to; i++)\n              indent += this.text.charCodeAt(i) == 9 ? 4 - indent % 4 : 1;\n          return indent;\n      }\n      /**\n      Find the position corresponding to the given column.\n      */\n      findColumn(goal) {\n          let i = 0;\n          for (let indent = 0; i < this.text.length && indent < goal; i++)\n              indent += this.text.charCodeAt(i) == 9 ? 4 - indent % 4 : 1;\n          return i;\n      }\n      /**\n      @internal\n      */\n      scrub() {\n          if (!this.baseIndent)\n              return this.text;\n          let result = \"\";\n          for (let i = 0; i < this.basePos; i++)\n              result += \" \";\n          return result + this.text.slice(this.basePos);\n      }\n  }\n  function skipForList(bl, cx, line) {\n      if (line.pos == line.text.length ||\n          (bl != cx.block && line.indent >= cx.stack[line.depth + 1].value + line.baseIndent))\n          return true;\n      if (line.indent >= line.baseIndent + 4)\n          return false;\n      let size = (bl.type == Type.OrderedList ? isOrderedList : isBulletList)(line, cx, false);\n      return size > 0 &&\n          (bl.type != Type.BulletList || isHorizontalRule(line, cx, false) < 0) &&\n          line.text.charCodeAt(line.pos + size - 1) == bl.value;\n  }\n  const DefaultSkipMarkup = {\n      [Type.Blockquote](bl, cx, line) {\n          if (line.next != 62 /* '>' */)\n              return false;\n          line.markers.push(elt(Type.QuoteMark, cx.lineStart + line.pos, cx.lineStart + line.pos + 1));\n          line.moveBase(line.pos + (space$1(line.text.charCodeAt(line.pos + 1)) ? 2 : 1));\n          bl.end = cx.lineStart + line.text.length;\n          return true;\n      },\n      [Type.ListItem](bl, _cx, line) {\n          if (line.indent < line.baseIndent + bl.value && line.next > -1)\n              return false;\n          line.moveBaseColumn(line.baseIndent + bl.value);\n          return true;\n      },\n      [Type.OrderedList]: skipForList,\n      [Type.BulletList]: skipForList,\n      [Type.Document]() { return true; }\n  };\n  function space$1(ch) { return ch == 32 || ch == 9 || ch == 10 || ch == 13; }\n  function skipSpace(line, i = 0) {\n      while (i < line.length && space$1(line.charCodeAt(i)))\n          i++;\n      return i;\n  }\n  function skipSpaceBack(line, i, to) {\n      while (i > to && space$1(line.charCodeAt(i - 1)))\n          i--;\n      return i;\n  }\n  function isFencedCode(line) {\n      if (line.next != 96 && line.next != 126 /* '`~' */)\n          return -1;\n      let pos = line.pos + 1;\n      while (pos < line.text.length && line.text.charCodeAt(pos) == line.next)\n          pos++;\n      if (pos < line.pos + 3)\n          return -1;\n      if (line.next == 96)\n          for (let i = pos; i < line.text.length; i++)\n              if (line.text.charCodeAt(i) == 96)\n                  return -1;\n      return pos;\n  }\n  function isBlockquote(line) {\n      return line.next != 62 /* '>' */ ? -1 : line.text.charCodeAt(line.pos + 1) == 32 ? 2 : 1;\n  }\n  function isHorizontalRule(line, cx, breaking) {\n      if (line.next != 42 && line.next != 45 && line.next != 95 /* '_-*' */)\n          return -1;\n      let count = 1;\n      for (let pos = line.pos + 1; pos < line.text.length; pos++) {\n          let ch = line.text.charCodeAt(pos);\n          if (ch == line.next)\n              count++;\n          else if (!space$1(ch))\n              return -1;\n      }\n      // Setext headers take precedence\n      if (breaking && line.next == 45 && isSetextUnderline(line) > -1 && line.depth == cx.stack.length &&\n          cx.parser.leafBlockParsers.indexOf(DefaultLeafBlocks.SetextHeading) > -1)\n          return -1;\n      return count < 3 ? -1 : 1;\n  }\n  function inList(cx, type) {\n      for (let i = cx.stack.length - 1; i >= 0; i--)\n          if (cx.stack[i].type == type)\n              return true;\n      return false;\n  }\n  function isBulletList(line, cx, breaking) {\n      return (line.next == 45 || line.next == 43 || line.next == 42 /* '-+*' */) &&\n          (line.pos == line.text.length - 1 || space$1(line.text.charCodeAt(line.pos + 1))) &&\n          (!breaking || inList(cx, Type.BulletList) || line.skipSpace(line.pos + 2) < line.text.length) ? 1 : -1;\n  }\n  function isOrderedList(line, cx, breaking) {\n      let pos = line.pos, next = line.next;\n      for (;;) {\n          if (next >= 48 && next <= 57 /* '0-9' */)\n              pos++;\n          else\n              break;\n          if (pos == line.text.length)\n              return -1;\n          next = line.text.charCodeAt(pos);\n      }\n      if (pos == line.pos || pos > line.pos + 9 ||\n          (next != 46 && next != 41 /* '.)' */) ||\n          (pos < line.text.length - 1 && !space$1(line.text.charCodeAt(pos + 1))) ||\n          breaking && !inList(cx, Type.OrderedList) &&\n              (line.skipSpace(pos + 1) == line.text.length || pos > line.pos + 1 || line.next != 49 /* '1' */))\n          return -1;\n      return pos + 1 - line.pos;\n  }\n  function isAtxHeading(line) {\n      if (line.next != 35 /* '#' */)\n          return -1;\n      let pos = line.pos + 1;\n      while (pos < line.text.length && line.text.charCodeAt(pos) == 35)\n          pos++;\n      if (pos < line.text.length && line.text.charCodeAt(pos) != 32)\n          return -1;\n      let size = pos - line.pos;\n      return size > 6 ? -1 : size;\n  }\n  function isSetextUnderline(line) {\n      if (line.next != 45 && line.next != 61 /* '-=' */ || line.indent >= line.baseIndent + 4)\n          return -1;\n      let pos = line.pos + 1;\n      while (pos < line.text.length && line.text.charCodeAt(pos) == line.next)\n          pos++;\n      let end = pos;\n      while (pos < line.text.length && space$1(line.text.charCodeAt(pos)))\n          pos++;\n      return pos == line.text.length ? end : -1;\n  }\n  const EmptyLine = /^[ \\t]*$/, CommentEnd = /-->/, ProcessingEnd = /\\?>/;\n  const HTMLBlockStyle = [\n      [/^<(?:script|pre|style)(?:\\s|>|$)/i, /<\\/(?:script|pre|style)>/i],\n      [/^\\s*<!--/, CommentEnd],\n      [/^\\s*<\\?/, ProcessingEnd],\n      [/^\\s*<![A-Z]/, />/],\n      [/^\\s*<!\\[CDATA\\[/, /\\]\\]>/],\n      [/^\\s*<\\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\\s|\\/?>|$)/i, EmptyLine],\n      [/^\\s*(?:<\\/[a-z][\\w-]*\\s*>|<[a-z][\\w-]*(\\s+[a-z:_][\\w-.]*(?:\\s*=\\s*(?:[^\\s\"'=<>`]+|'[^']*'|\"[^\"]*\"))?)*\\s*>)\\s*$/i, EmptyLine]\n  ];\n  function isHTMLBlock(line, _cx, breaking) {\n      if (line.next != 60 /* '<' */)\n          return -1;\n      let rest = line.text.slice(line.pos);\n      for (let i = 0, e = HTMLBlockStyle.length - (breaking ? 1 : 0); i < e; i++)\n          if (HTMLBlockStyle[i][0].test(rest))\n              return i;\n      return -1;\n  }\n  function getListIndent(line, pos) {\n      let indentAfter = line.countIndent(pos, line.pos, line.indent);\n      let indented = line.countIndent(line.skipSpace(pos), pos, indentAfter);\n      return indented >= indentAfter + 5 ? indentAfter + 1 : indented;\n  }\n  function addCodeText(marks, from, to) {\n      let last = marks.length - 1;\n      if (last >= 0 && marks[last].to == from && marks[last].type == Type.CodeText)\n          marks[last].to = to;\n      else\n          marks.push(elt(Type.CodeText, from, to));\n  }\n  // Rules for parsing blocks. A return value of false means the rule\n  // doesn't apply here, true means it does. When true is returned and\n  // `p.line` has been updated, the rule is assumed to have consumed a\n  // leaf block. Otherwise, it is assumed to have opened a context.\n  const DefaultBlockParsers = {\n      LinkReference: undefined,\n      IndentedCode(cx, line) {\n          let base = line.baseIndent + 4;\n          if (line.indent < base)\n              return false;\n          let start = line.findColumn(base);\n          let from = cx.lineStart + start, to = cx.lineStart + line.text.length;\n          let marks = [], pendingMarks = [];\n          addCodeText(marks, from, to);\n          while (cx.nextLine() && line.depth >= cx.stack.length) {\n              if (line.pos == line.text.length) { // Empty\n                  addCodeText(pendingMarks, cx.lineStart - 1, cx.lineStart);\n                  for (let m of line.markers)\n                      pendingMarks.push(m);\n              }\n              else if (line.indent < base) {\n                  break;\n              }\n              else {\n                  if (pendingMarks.length) {\n                      for (let m of pendingMarks) {\n                          if (m.type == Type.CodeText)\n                              addCodeText(marks, m.from, m.to);\n                          else\n                              marks.push(m);\n                      }\n                      pendingMarks = [];\n                  }\n                  addCodeText(marks, cx.lineStart - 1, cx.lineStart);\n                  for (let m of line.markers)\n                      marks.push(m);\n                  to = cx.lineStart + line.text.length;\n                  let codeStart = cx.lineStart + line.findColumn(line.baseIndent + 4);\n                  if (codeStart < to)\n                      addCodeText(marks, codeStart, to);\n              }\n          }\n          if (pendingMarks.length) {\n              pendingMarks = pendingMarks.filter(m => m.type != Type.CodeText);\n              if (pendingMarks.length)\n                  line.markers = pendingMarks.concat(line.markers);\n          }\n          cx.addNode(cx.buffer.writeElements(marks, -from).finish(Type.CodeBlock, to - from), from);\n          return true;\n      },\n      FencedCode(cx, line) {\n          let fenceEnd = isFencedCode(line);\n          if (fenceEnd < 0)\n              return false;\n          let from = cx.lineStart + line.pos, ch = line.next, len = fenceEnd - line.pos;\n          let infoFrom = line.skipSpace(fenceEnd), infoTo = skipSpaceBack(line.text, line.text.length, infoFrom);\n          let marks = [elt(Type.CodeMark, from, from + len)];\n          if (infoFrom < infoTo)\n              marks.push(elt(Type.CodeInfo, cx.lineStart + infoFrom, cx.lineStart + infoTo));\n          for (let first = true; cx.nextLine() && line.depth >= cx.stack.length; first = false) {\n              let i = line.pos;\n              if (line.indent - line.baseIndent < 4)\n                  while (i < line.text.length && line.text.charCodeAt(i) == ch)\n                      i++;\n              if (i - line.pos >= len && line.skipSpace(i) == line.text.length) {\n                  for (let m of line.markers)\n                      marks.push(m);\n                  marks.push(elt(Type.CodeMark, cx.lineStart + line.pos, cx.lineStart + i));\n                  cx.nextLine();\n                  break;\n              }\n              else {\n                  if (!first)\n                      addCodeText(marks, cx.lineStart - 1, cx.lineStart);\n                  for (let m of line.markers)\n                      marks.push(m);\n                  let textStart = cx.lineStart + line.basePos, textEnd = cx.lineStart + line.text.length;\n                  if (textStart < textEnd)\n                      addCodeText(marks, textStart, textEnd);\n              }\n          }\n          cx.addNode(cx.buffer.writeElements(marks, -from)\n              .finish(Type.FencedCode, cx.prevLineEnd() - from), from);\n          return true;\n      },\n      Blockquote(cx, line) {\n          let size = isBlockquote(line);\n          if (size < 0)\n              return false;\n          cx.startContext(Type.Blockquote, line.pos);\n          cx.addNode(Type.QuoteMark, cx.lineStart + line.pos, cx.lineStart + line.pos + 1);\n          line.moveBase(line.pos + size);\n          return null;\n      },\n      HorizontalRule(cx, line) {\n          if (isHorizontalRule(line, cx, false) < 0)\n              return false;\n          let from = cx.lineStart + line.pos;\n          cx.nextLine();\n          cx.addNode(Type.HorizontalRule, from);\n          return true;\n      },\n      BulletList(cx, line) {\n          let size = isBulletList(line, cx, false);\n          if (size < 0)\n              return false;\n          if (cx.block.type != Type.BulletList)\n              cx.startContext(Type.BulletList, line.basePos, line.next);\n          let newBase = getListIndent(line, line.pos + 1);\n          cx.startContext(Type.ListItem, line.basePos, newBase - line.baseIndent);\n          cx.addNode(Type.ListMark, cx.lineStart + line.pos, cx.lineStart + line.pos + size);\n          line.moveBaseColumn(newBase);\n          return null;\n      },\n      OrderedList(cx, line) {\n          let size = isOrderedList(line, cx, false);\n          if (size < 0)\n              return false;\n          if (cx.block.type != Type.OrderedList)\n              cx.startContext(Type.OrderedList, line.basePos, line.text.charCodeAt(line.pos + size - 1));\n          let newBase = getListIndent(line, line.pos + size);\n          cx.startContext(Type.ListItem, line.basePos, newBase - line.baseIndent);\n          cx.addNode(Type.ListMark, cx.lineStart + line.pos, cx.lineStart + line.pos + size);\n          line.moveBaseColumn(newBase);\n          return null;\n      },\n      ATXHeading(cx, line) {\n          let size = isAtxHeading(line);\n          if (size < 0)\n              return false;\n          let off = line.pos, from = cx.lineStart + off;\n          let endOfSpace = skipSpaceBack(line.text, line.text.length, off), after = endOfSpace;\n          while (after > off && line.text.charCodeAt(after - 1) == line.next)\n              after--;\n          if (after == endOfSpace || after == off || !space$1(line.text.charCodeAt(after - 1)))\n              after = line.text.length;\n          let buf = cx.buffer\n              .write(Type.HeaderMark, 0, size)\n              .writeElements(cx.parser.parseInline(line.text.slice(off + size + 1, after), from + size + 1), -from);\n          if (after < line.text.length)\n              buf.write(Type.HeaderMark, after - off, endOfSpace - off);\n          let node = buf.finish(Type.ATXHeading1 - 1 + size, line.text.length - off);\n          cx.nextLine();\n          cx.addNode(node, from);\n          return true;\n      },\n      HTMLBlock(cx, line) {\n          let type = isHTMLBlock(line, cx, false);\n          if (type < 0)\n              return false;\n          let from = cx.lineStart + line.pos, end = HTMLBlockStyle[type][1];\n          let marks = [], trailing = end != EmptyLine;\n          while (!end.test(line.text) && cx.nextLine()) {\n              if (line.depth < cx.stack.length) {\n                  trailing = false;\n                  break;\n              }\n              for (let m of line.markers)\n                  marks.push(m);\n          }\n          if (trailing)\n              cx.nextLine();\n          let nodeType = end == CommentEnd ? Type.CommentBlock : end == ProcessingEnd ? Type.ProcessingInstructionBlock : Type.HTMLBlock;\n          let to = cx.prevLineEnd();\n          cx.addNode(cx.buffer.writeElements(marks, -from).finish(nodeType, to - from), from);\n          return true;\n      },\n      SetextHeading: undefined // Specifies relative precedence for block-continue function\n  };\n  // This implements a state machine that incrementally parses link references. At each\n  // next line, it looks ahead to see if the line continues the reference or not. If it\n  // doesn't and a valid link is available ending before that line, it finishes that.\n  // Similarly, on `finish` (when the leaf is terminated by external circumstances), it\n  // creates a link reference if there's a valid reference up to the current point.\n  class LinkReferenceParser {\n      constructor(leaf) {\n          this.stage = 0 /* RefStage.Start */;\n          this.elts = [];\n          this.pos = 0;\n          this.start = leaf.start;\n          this.advance(leaf.content);\n      }\n      nextLine(cx, line, leaf) {\n          if (this.stage == -1 /* RefStage.Failed */)\n              return false;\n          let content = leaf.content + \"\\n\" + line.scrub();\n          let finish = this.advance(content);\n          if (finish > -1 && finish < content.length)\n              return this.complete(cx, leaf, finish);\n          return false;\n      }\n      finish(cx, leaf) {\n          if ((this.stage == 2 /* RefStage.Link */ || this.stage == 3 /* RefStage.Title */) && skipSpace(leaf.content, this.pos) == leaf.content.length)\n              return this.complete(cx, leaf, leaf.content.length);\n          return false;\n      }\n      complete(cx, leaf, len) {\n          cx.addLeafElement(leaf, elt(Type.LinkReference, this.start, this.start + len, this.elts));\n          return true;\n      }\n      nextStage(elt) {\n          if (elt) {\n              this.pos = elt.to - this.start;\n              this.elts.push(elt);\n              this.stage++;\n              return true;\n          }\n          if (elt === false)\n              this.stage = -1 /* RefStage.Failed */;\n          return false;\n      }\n      advance(content) {\n          for (;;) {\n              if (this.stage == -1 /* RefStage.Failed */) {\n                  return -1;\n              }\n              else if (this.stage == 0 /* RefStage.Start */) {\n                  if (!this.nextStage(parseLinkLabel(content, this.pos, this.start, true)))\n                      return -1;\n                  if (content.charCodeAt(this.pos) != 58 /* ':' */)\n                      return this.stage = -1 /* RefStage.Failed */;\n                  this.elts.push(elt(Type.LinkMark, this.pos + this.start, this.pos + this.start + 1));\n                  this.pos++;\n              }\n              else if (this.stage == 1 /* RefStage.Label */) {\n                  if (!this.nextStage(parseURL(content, skipSpace(content, this.pos), this.start)))\n                      return -1;\n              }\n              else if (this.stage == 2 /* RefStage.Link */) {\n                  let skip = skipSpace(content, this.pos), end = 0;\n                  if (skip > this.pos) {\n                      let title = parseLinkTitle(content, skip, this.start);\n                      if (title) {\n                          let titleEnd = lineEnd(content, title.to - this.start);\n                          if (titleEnd > 0) {\n                              this.nextStage(title);\n                              end = titleEnd;\n                          }\n                      }\n                  }\n                  if (!end)\n                      end = lineEnd(content, this.pos);\n                  return end > 0 && end < content.length ? end : -1;\n              }\n              else { // RefStage.Title\n                  return lineEnd(content, this.pos);\n              }\n          }\n      }\n  }\n  function lineEnd(text, pos) {\n      for (; pos < text.length; pos++) {\n          let next = text.charCodeAt(pos);\n          if (next == 10)\n              break;\n          if (!space$1(next))\n              return -1;\n      }\n      return pos;\n  }\n  class SetextHeadingParser {\n      nextLine(cx, line, leaf) {\n          let underline = line.depth < cx.stack.length ? -1 : isSetextUnderline(line);\n          let next = line.next;\n          if (underline < 0)\n              return false;\n          let underlineMark = elt(Type.HeaderMark, cx.lineStart + line.pos, cx.lineStart + underline);\n          cx.nextLine();\n          cx.addLeafElement(leaf, elt(next == 61 ? Type.SetextHeading1 : Type.SetextHeading2, leaf.start, cx.prevLineEnd(), [\n              ...cx.parser.parseInline(leaf.content, leaf.start),\n              underlineMark\n          ]));\n          return true;\n      }\n      finish() {\n          return false;\n      }\n  }\n  const DefaultLeafBlocks = {\n      LinkReference(_, leaf) { return leaf.content.charCodeAt(0) == 91 /* '[' */ ? new LinkReferenceParser(leaf) : null; },\n      SetextHeading() { return new SetextHeadingParser; }\n  };\n  const DefaultEndLeaf = [\n      (_, line) => isAtxHeading(line) >= 0,\n      (_, line) => isFencedCode(line) >= 0,\n      (_, line) => isBlockquote(line) >= 0,\n      (p, line) => isBulletList(line, p, true) >= 0,\n      (p, line) => isOrderedList(line, p, true) >= 0,\n      (p, line) => isHorizontalRule(line, p, true) >= 0,\n      (p, line) => isHTMLBlock(line, p, true) >= 0\n  ];\n  const scanLineResult = { text: \"\", end: 0 };\n  /**\n  Block-level parsing functions get access to this context object.\n  */\n  class BlockContext {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The parser configuration used.\n      */\n      parser, \n      /**\n      @internal\n      */\n      input, fragments, \n      /**\n      @internal\n      */\n      ranges) {\n          this.parser = parser;\n          this.input = input;\n          this.ranges = ranges;\n          this.line = new Line();\n          this.atEnd = false;\n          /**\n          For reused nodes on gaps, we can't directly put the original\n          node into the tree, since that may be bigger than its parent.\n          When this happens, we create a dummy tree that is replaced by\n          the proper node in `injectGaps` @internal\n          */\n          this.reusePlaceholders = new Map;\n          this.stoppedAt = null;\n          /**\n          The range index that absoluteLineStart points into @internal\n          */\n          this.rangeI = 0;\n          this.to = ranges[ranges.length - 1].to;\n          this.lineStart = this.absoluteLineStart = this.absoluteLineEnd = ranges[0].from;\n          this.block = CompositeBlock.create(Type.Document, 0, this.lineStart, 0, 0);\n          this.stack = [this.block];\n          this.fragments = fragments.length ? new FragmentCursor(fragments, input) : null;\n          this.readLine();\n      }\n      get parsedPos() {\n          return this.absoluteLineStart;\n      }\n      advance() {\n          if (this.stoppedAt != null && this.absoluteLineStart > this.stoppedAt)\n              return this.finish();\n          let { line } = this;\n          for (;;) {\n              for (let markI = 0;;) {\n                  let next = line.depth < this.stack.length ? this.stack[this.stack.length - 1] : null;\n                  while (markI < line.markers.length && (!next || line.markers[markI].from < next.end)) {\n                      let mark = line.markers[markI++];\n                      this.addNode(mark.type, mark.from, mark.to);\n                  }\n                  if (!next)\n                      break;\n                  this.finishContext();\n              }\n              if (line.pos < line.text.length)\n                  break;\n              // Empty line\n              if (!this.nextLine())\n                  return this.finish();\n          }\n          if (this.fragments && this.reuseFragment(line.basePos))\n              return null;\n          start: for (;;) {\n              for (let type of this.parser.blockParsers)\n                  if (type) {\n                      let result = type(this, line);\n                      if (result != false) {\n                          if (result == true)\n                              return null;\n                          line.forward();\n                          continue start;\n                      }\n                  }\n              break;\n          }\n          let leaf = new LeafBlock(this.lineStart + line.pos, line.text.slice(line.pos));\n          for (let parse of this.parser.leafBlockParsers)\n              if (parse) {\n                  let parser = parse(this, leaf);\n                  if (parser)\n                      leaf.parsers.push(parser);\n              }\n          lines: while (this.nextLine()) {\n              if (line.pos == line.text.length)\n                  break;\n              if (line.indent < line.baseIndent + 4) {\n                  for (let stop of this.parser.endLeafBlock)\n                      if (stop(this, line, leaf))\n                          break lines;\n              }\n              for (let parser of leaf.parsers)\n                  if (parser.nextLine(this, line, leaf))\n                      return null;\n              leaf.content += \"\\n\" + line.scrub();\n              for (let m of line.markers)\n                  leaf.marks.push(m);\n          }\n          this.finishLeaf(leaf);\n          return null;\n      }\n      stopAt(pos) {\n          if (this.stoppedAt != null && this.stoppedAt < pos)\n              throw new RangeError(\"Can't move stoppedAt forward\");\n          this.stoppedAt = pos;\n      }\n      reuseFragment(start) {\n          if (!this.fragments.moveTo(this.absoluteLineStart + start, this.absoluteLineStart) ||\n              !this.fragments.matches(this.block.hash))\n              return false;\n          let taken = this.fragments.takeNodes(this);\n          if (!taken)\n              return false;\n          this.absoluteLineStart += taken;\n          this.lineStart = toRelative(this.absoluteLineStart, this.ranges);\n          this.moveRangeI();\n          if (this.absoluteLineStart < this.to) {\n              this.lineStart++;\n              this.absoluteLineStart++;\n              this.readLine();\n          }\n          else {\n              this.atEnd = true;\n              this.readLine();\n          }\n          return true;\n      }\n      /**\n      The number of parent blocks surrounding the current block.\n      */\n      get depth() {\n          return this.stack.length;\n      }\n      /**\n      Get the type of the parent block at the given depth. When no\n      depth is passed, return the type of the innermost parent.\n      */\n      parentType(depth = this.depth - 1) {\n          return this.parser.nodeSet.types[this.stack[depth].type];\n      }\n      /**\n      Move to the next input line. This should only be called by\n      (non-composite) [block parsers](#BlockParser.parse) that consume\n      the line directly, or leaf block parser\n      [`nextLine`](#LeafBlockParser.nextLine) methods when they\n      consume the current line (and return true).\n      */\n      nextLine() {\n          this.lineStart += this.line.text.length;\n          if (this.absoluteLineEnd >= this.to) {\n              this.absoluteLineStart = this.absoluteLineEnd;\n              this.atEnd = true;\n              this.readLine();\n              return false;\n          }\n          else {\n              this.lineStart++;\n              this.absoluteLineStart = this.absoluteLineEnd + 1;\n              this.moveRangeI();\n              this.readLine();\n              return true;\n          }\n      }\n      /**\n      Retrieve the text of the line after the current one, without\n      actually moving the context's current line forward.\n      */\n      peekLine() {\n          return this.scanLine(this.absoluteLineEnd + 1).text;\n      }\n      moveRangeI() {\n          while (this.rangeI < this.ranges.length - 1 && this.absoluteLineStart >= this.ranges[this.rangeI].to) {\n              this.rangeI++;\n              this.absoluteLineStart = Math.max(this.absoluteLineStart, this.ranges[this.rangeI].from);\n          }\n      }\n      /**\n      @internal\n      Collect the text for the next line.\n      */\n      scanLine(start) {\n          let r = scanLineResult;\n          r.end = start;\n          if (start >= this.to) {\n              r.text = \"\";\n          }\n          else {\n              r.text = this.lineChunkAt(start);\n              r.end += r.text.length;\n              if (this.ranges.length > 1) {\n                  let textOffset = this.absoluteLineStart, rangeI = this.rangeI;\n                  while (this.ranges[rangeI].to < r.end) {\n                      rangeI++;\n                      let nextFrom = this.ranges[rangeI].from;\n                      let after = this.lineChunkAt(nextFrom);\n                      r.end = nextFrom + after.length;\n                      r.text = r.text.slice(0, this.ranges[rangeI - 1].to - textOffset) + after;\n                      textOffset = r.end - r.text.length;\n                  }\n              }\n          }\n          return r;\n      }\n      /**\n      @internal\n      Populate this.line with the content of the next line. Skip\n      leading characters covered by composite blocks.\n      */\n      readLine() {\n          let { line } = this, { text, end } = this.scanLine(this.absoluteLineStart);\n          this.absoluteLineEnd = end;\n          line.reset(text);\n          for (; line.depth < this.stack.length; line.depth++) {\n              let cx = this.stack[line.depth], handler = this.parser.skipContextMarkup[cx.type];\n              if (!handler)\n                  throw new Error(\"Unhandled block context \" + Type[cx.type]);\n              if (!handler(cx, this, line))\n                  break;\n              line.forward();\n          }\n      }\n      lineChunkAt(pos) {\n          let next = this.input.chunk(pos), text;\n          if (!this.input.lineChunks) {\n              let eol = next.indexOf(\"\\n\");\n              text = eol < 0 ? next : next.slice(0, eol);\n          }\n          else {\n              text = next == \"\\n\" ? \"\" : next;\n          }\n          return pos + text.length > this.to ? text.slice(0, this.to - pos) : text;\n      }\n      /**\n      The end position of the previous line.\n      */\n      prevLineEnd() { return this.atEnd ? this.lineStart : this.lineStart - 1; }\n      /**\n      @internal\n      */\n      startContext(type, start, value = 0) {\n          this.block = CompositeBlock.create(type, value, this.lineStart + start, this.block.hash, this.lineStart + this.line.text.length);\n          this.stack.push(this.block);\n      }\n      /**\n      Start a composite block. Should only be called from [block\n      parser functions](#BlockParser.parse) that return null.\n      */\n      startComposite(type, start, value = 0) {\n          this.startContext(this.parser.getNodeType(type), start, value);\n      }\n      /**\n      @internal\n      */\n      addNode(block, from, to) {\n          if (typeof block == \"number\")\n              block = new Tree(this.parser.nodeSet.types[block], none, none, (to !== null && to !== void 0 ? to : this.prevLineEnd()) - from);\n          this.block.addChild(block, from - this.block.from);\n      }\n      /**\n      Add a block element. Can be called by [block\n      parsers](#BlockParser.parse).\n      */\n      addElement(elt) {\n          this.block.addChild(elt.toTree(this.parser.nodeSet), elt.from - this.block.from);\n      }\n      /**\n      Add a block element from a [leaf parser](#LeafBlockParser). This\n      makes sure any extra composite block markup (such as blockquote\n      markers) inside the block are also added to the syntax tree.\n      */\n      addLeafElement(leaf, elt) {\n          this.addNode(this.buffer\n              .writeElements(injectMarks(elt.children, leaf.marks), -elt.from)\n              .finish(elt.type, elt.to - elt.from), elt.from);\n      }\n      /**\n      @internal\n      */\n      finishContext() {\n          let cx = this.stack.pop();\n          let top = this.stack[this.stack.length - 1];\n          top.addChild(cx.toTree(this.parser.nodeSet), cx.from - top.from);\n          this.block = top;\n      }\n      finish() {\n          while (this.stack.length > 1)\n              this.finishContext();\n          return this.addGaps(this.block.toTree(this.parser.nodeSet, this.lineStart));\n      }\n      addGaps(tree) {\n          return this.ranges.length > 1 ?\n              injectGaps(this.ranges, 0, tree.topNode, this.ranges[0].from, this.reusePlaceholders) : tree;\n      }\n      /**\n      @internal\n      */\n      finishLeaf(leaf) {\n          for (let parser of leaf.parsers)\n              if (parser.finish(this, leaf))\n                  return;\n          let inline = injectMarks(this.parser.parseInline(leaf.content, leaf.start), leaf.marks);\n          this.addNode(this.buffer\n              .writeElements(inline, -leaf.start)\n              .finish(Type.Paragraph, leaf.content.length), leaf.start);\n      }\n      elt(type, from, to, children) {\n          if (typeof type == \"string\")\n              return elt(this.parser.getNodeType(type), from, to, children);\n          return new TreeElement(type, from);\n      }\n      /**\n      @internal\n      */\n      get buffer() { return new Buffer(this.parser.nodeSet); }\n  }\n  function injectGaps(ranges, rangeI, tree, offset, dummies) {\n      let rangeEnd = ranges[rangeI].to;\n      let children = [], positions = [], start = tree.from + offset;\n      function movePastNext(upto, inclusive) {\n          while (inclusive ? upto >= rangeEnd : upto > rangeEnd) {\n              let size = ranges[rangeI + 1].from - rangeEnd;\n              offset += size;\n              upto += size;\n              rangeI++;\n              rangeEnd = ranges[rangeI].to;\n          }\n      }\n      for (let ch = tree.firstChild; ch; ch = ch.nextSibling) {\n          movePastNext(ch.from + offset, true);\n          let from = ch.from + offset, node, reuse = dummies.get(ch.tree);\n          if (reuse) {\n              node = reuse;\n          }\n          else if (ch.to + offset > rangeEnd) {\n              node = injectGaps(ranges, rangeI, ch, offset, dummies);\n              movePastNext(ch.to + offset, false);\n          }\n          else {\n              node = ch.toTree();\n          }\n          children.push(node);\n          positions.push(from - start);\n      }\n      movePastNext(tree.to + offset, false);\n      return new Tree(tree.type, children, positions, tree.to + offset - start, tree.tree ? tree.tree.propValues : undefined);\n  }\n  /**\n  A Markdown parser configuration.\n  */\n  class MarkdownParser extends Parser {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The parser's syntax [node\n      types](https://lezer.codemirror.net/docs/ref/#common.NodeSet).\n      */\n      nodeSet, \n      /**\n      @internal\n      */\n      blockParsers, \n      /**\n      @internal\n      */\n      leafBlockParsers, \n      /**\n      @internal\n      */\n      blockNames, \n      /**\n      @internal\n      */\n      endLeafBlock, \n      /**\n      @internal\n      */\n      skipContextMarkup, \n      /**\n      @internal\n      */\n      inlineParsers, \n      /**\n      @internal\n      */\n      inlineNames, \n      /**\n      @internal\n      */\n      wrappers) {\n          super();\n          this.nodeSet = nodeSet;\n          this.blockParsers = blockParsers;\n          this.leafBlockParsers = leafBlockParsers;\n          this.blockNames = blockNames;\n          this.endLeafBlock = endLeafBlock;\n          this.skipContextMarkup = skipContextMarkup;\n          this.inlineParsers = inlineParsers;\n          this.inlineNames = inlineNames;\n          this.wrappers = wrappers;\n          /**\n          @internal\n          */\n          this.nodeTypes = Object.create(null);\n          for (let t of nodeSet.types)\n              this.nodeTypes[t.name] = t.id;\n      }\n      createParse(input, fragments, ranges) {\n          let parse = new BlockContext(this, input, fragments, ranges);\n          for (let w of this.wrappers)\n              parse = w(parse, input, fragments, ranges);\n          return parse;\n      }\n      /**\n      Reconfigure the parser.\n      */\n      configure(spec) {\n          let config = resolveConfig(spec);\n          if (!config)\n              return this;\n          let { nodeSet, skipContextMarkup } = this;\n          let blockParsers = this.blockParsers.slice(), leafBlockParsers = this.leafBlockParsers.slice(), blockNames = this.blockNames.slice(), inlineParsers = this.inlineParsers.slice(), inlineNames = this.inlineNames.slice(), endLeafBlock = this.endLeafBlock.slice(), wrappers = this.wrappers;\n          if (nonEmpty(config.defineNodes)) {\n              skipContextMarkup = Object.assign({}, skipContextMarkup);\n              let nodeTypes = nodeSet.types.slice(), styles;\n              for (let s of config.defineNodes) {\n                  let { name, block, composite, style } = typeof s == \"string\" ? { name: s } : s;\n                  if (nodeTypes.some(t => t.name == name))\n                      continue;\n                  if (composite)\n                      skipContextMarkup[nodeTypes.length] =\n                          (bl, cx, line) => composite(cx, line, bl.value);\n                  let id = nodeTypes.length;\n                  let group = composite ? [\"Block\", \"BlockContext\"] : !block ? undefined\n                      : id >= Type.ATXHeading1 && id <= Type.SetextHeading2 ? [\"Block\", \"LeafBlock\", \"Heading\"] : [\"Block\", \"LeafBlock\"];\n                  nodeTypes.push(NodeType.define({\n                      id,\n                      name,\n                      props: group && [[NodeProp.group, group]]\n                  }));\n                  if (style) {\n                      if (!styles)\n                          styles = {};\n                      if (Array.isArray(style) || style instanceof Tag$1)\n                          styles[name] = style;\n                      else\n                          Object.assign(styles, style);\n                  }\n              }\n              nodeSet = new NodeSet(nodeTypes);\n              if (styles)\n                  nodeSet = nodeSet.extend(styleTags(styles));\n          }\n          if (nonEmpty(config.props))\n              nodeSet = nodeSet.extend(...config.props);\n          if (nonEmpty(config.remove)) {\n              for (let rm of config.remove) {\n                  let block = this.blockNames.indexOf(rm), inline = this.inlineNames.indexOf(rm);\n                  if (block > -1)\n                      blockParsers[block] = leafBlockParsers[block] = undefined;\n                  if (inline > -1)\n                      inlineParsers[inline] = undefined;\n              }\n          }\n          if (nonEmpty(config.parseBlock)) {\n              for (let spec of config.parseBlock) {\n                  let found = blockNames.indexOf(spec.name);\n                  if (found > -1) {\n                      blockParsers[found] = spec.parse;\n                      leafBlockParsers[found] = spec.leaf;\n                  }\n                  else {\n                      let pos = spec.before ? findName(blockNames, spec.before)\n                          : spec.after ? findName(blockNames, spec.after) + 1 : blockNames.length - 1;\n                      blockParsers.splice(pos, 0, spec.parse);\n                      leafBlockParsers.splice(pos, 0, spec.leaf);\n                      blockNames.splice(pos, 0, spec.name);\n                  }\n                  if (spec.endLeaf)\n                      endLeafBlock.push(spec.endLeaf);\n              }\n          }\n          if (nonEmpty(config.parseInline)) {\n              for (let spec of config.parseInline) {\n                  let found = inlineNames.indexOf(spec.name);\n                  if (found > -1) {\n                      inlineParsers[found] = spec.parse;\n                  }\n                  else {\n                      let pos = spec.before ? findName(inlineNames, spec.before)\n                          : spec.after ? findName(inlineNames, spec.after) + 1 : inlineNames.length - 1;\n                      inlineParsers.splice(pos, 0, spec.parse);\n                      inlineNames.splice(pos, 0, spec.name);\n                  }\n              }\n          }\n          if (config.wrap)\n              wrappers = wrappers.concat(config.wrap);\n          return new MarkdownParser(nodeSet, blockParsers, leafBlockParsers, blockNames, endLeafBlock, skipContextMarkup, inlineParsers, inlineNames, wrappers);\n      }\n      /**\n      @internal\n      */\n      getNodeType(name) {\n          let found = this.nodeTypes[name];\n          if (found == null)\n              throw new RangeError(`Unknown node type '${name}'`);\n          return found;\n      }\n      /**\n      Parse the given piece of inline text at the given offset,\n      returning an array of [`Element`](#Element) objects representing\n      the inline content.\n      */\n      parseInline(text, offset) {\n          let cx = new InlineContext(this, text, offset);\n          outer: for (let pos = offset; pos < cx.end;) {\n              let next = cx.char(pos);\n              for (let token of this.inlineParsers)\n                  if (token) {\n                      let result = token(cx, next, pos);\n                      if (result >= 0) {\n                          pos = result;\n                          continue outer;\n                      }\n                  }\n              pos++;\n          }\n          return cx.resolveMarkers(0);\n      }\n  }\n  function nonEmpty(a) {\n      return a != null && a.length > 0;\n  }\n  function resolveConfig(spec) {\n      if (!Array.isArray(spec))\n          return spec;\n      if (spec.length == 0)\n          return null;\n      let conf = resolveConfig(spec[0]);\n      if (spec.length == 1)\n          return conf;\n      let rest = resolveConfig(spec.slice(1));\n      if (!rest || !conf)\n          return conf || rest;\n      let conc = (a, b) => (a || none).concat(b || none);\n      let wrapA = conf.wrap, wrapB = rest.wrap;\n      return {\n          props: conc(conf.props, rest.props),\n          defineNodes: conc(conf.defineNodes, rest.defineNodes),\n          parseBlock: conc(conf.parseBlock, rest.parseBlock),\n          parseInline: conc(conf.parseInline, rest.parseInline),\n          remove: conc(conf.remove, rest.remove),\n          wrap: !wrapA ? wrapB : !wrapB ? wrapA :\n              (inner, input, fragments, ranges) => wrapA(wrapB(inner, input, fragments, ranges), input, fragments, ranges)\n      };\n  }\n  function findName(names, name) {\n      let found = names.indexOf(name);\n      if (found < 0)\n          throw new RangeError(`Position specified relative to unknown parser ${name}`);\n      return found;\n  }\n  let nodeTypes = [NodeType.none];\n  for (let i = 1, name; name = Type[i]; i++) {\n      nodeTypes[i] = NodeType.define({\n          id: i,\n          name,\n          props: i >= Type.Escape ? [] : [[NodeProp.group, i in DefaultSkipMarkup ? [\"Block\", \"BlockContext\"] : [\"Block\", \"LeafBlock\"]]],\n          top: name == \"Document\"\n      });\n  }\n  const none = [];\n  class Buffer {\n      constructor(nodeSet) {\n          this.nodeSet = nodeSet;\n          this.content = [];\n          this.nodes = [];\n      }\n      write(type, from, to, children = 0) {\n          this.content.push(type, from, to, 4 + children * 4);\n          return this;\n      }\n      writeElements(elts, offset = 0) {\n          for (let e of elts)\n              e.writeTo(this, offset);\n          return this;\n      }\n      finish(type, length) {\n          return Tree.build({\n              buffer: this.content,\n              nodeSet: this.nodeSet,\n              reused: this.nodes,\n              topID: type,\n              length\n          });\n      }\n  }\n  /**\n  Elements are used to compose syntax nodes during parsing.\n  */\n  let Element$2 = class Element {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The node's\n      [id](https://lezer.codemirror.net/docs/ref/#common.NodeType.id).\n      */\n      type, \n      /**\n      The start of the node, as an offset from the start of the document.\n      */\n      from, \n      /**\n      The end of the node.\n      */\n      to, \n      /**\n      The node's child nodes @internal\n      */\n      children = none) {\n          this.type = type;\n          this.from = from;\n          this.to = to;\n          this.children = children;\n      }\n      /**\n      @internal\n      */\n      writeTo(buf, offset) {\n          let startOff = buf.content.length;\n          buf.writeElements(this.children, offset);\n          buf.content.push(this.type, this.from + offset, this.to + offset, buf.content.length + 4 - startOff);\n      }\n      /**\n      @internal\n      */\n      toTree(nodeSet) {\n          return new Buffer(nodeSet).writeElements(this.children, -this.from).finish(this.type, this.to - this.from);\n      }\n  };\n  class TreeElement {\n      constructor(tree, from) {\n          this.tree = tree;\n          this.from = from;\n      }\n      get to() { return this.from + this.tree.length; }\n      get type() { return this.tree.type.id; }\n      get children() { return none; }\n      writeTo(buf, offset) {\n          buf.nodes.push(this.tree);\n          buf.content.push(buf.nodes.length - 1, this.from + offset, this.to + offset, -1);\n      }\n      toTree() { return this.tree; }\n  }\n  function elt(type, from, to, children) {\n      return new Element$2(type, from, to, children);\n  }\n  const EmphasisUnderscore = { resolve: \"Emphasis\", mark: \"EmphasisMark\" };\n  const EmphasisAsterisk = { resolve: \"Emphasis\", mark: \"EmphasisMark\" };\n  const LinkStart = {}, ImageStart = {};\n  class InlineDelimiter {\n      constructor(type, from, to, side) {\n          this.type = type;\n          this.from = from;\n          this.to = to;\n          this.side = side;\n      }\n  }\n  const Escapable = \"!\\\"#$%&'()*+,-./:;<=>?@[\\\\]^_`{|}~\";\n  let Punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\u2010-\\u2027]/;\n  try {\n      Punctuation = new RegExp(\"[\\\\p{S}|\\\\p{P}]\", \"u\");\n  }\n  catch (_) { }\n  const DefaultInline = {\n      Escape(cx, next, start) {\n          if (next != 92 /* '\\\\' */ || start == cx.end - 1)\n              return -1;\n          let escaped = cx.char(start + 1);\n          for (let i = 0; i < Escapable.length; i++)\n              if (Escapable.charCodeAt(i) == escaped)\n                  return cx.append(elt(Type.Escape, start, start + 2));\n          return -1;\n      },\n      Entity(cx, next, start) {\n          if (next != 38 /* '&' */)\n              return -1;\n          let m = /^(?:#\\d+|#x[a-f\\d]+|\\w+);/i.exec(cx.slice(start + 1, start + 31));\n          return m ? cx.append(elt(Type.Entity, start, start + 1 + m[0].length)) : -1;\n      },\n      InlineCode(cx, next, start) {\n          if (next != 96 /* '`' */ || start && cx.char(start - 1) == 96)\n              return -1;\n          let pos = start + 1;\n          while (pos < cx.end && cx.char(pos) == 96)\n              pos++;\n          let size = pos - start, curSize = 0;\n          for (; pos < cx.end; pos++) {\n              if (cx.char(pos) == 96) {\n                  curSize++;\n                  if (curSize == size && cx.char(pos + 1) != 96)\n                      return cx.append(elt(Type.InlineCode, start, pos + 1, [\n                          elt(Type.CodeMark, start, start + size),\n                          elt(Type.CodeMark, pos + 1 - size, pos + 1)\n                      ]));\n              }\n              else {\n                  curSize = 0;\n              }\n          }\n          return -1;\n      },\n      HTMLTag(cx, next, start) {\n          if (next != 60 /* '<' */ || start == cx.end - 1)\n              return -1;\n          let after = cx.slice(start + 1, cx.end);\n          let url = /^(?:[a-z][-\\w+.]+:[^\\s>]+|[a-z\\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\\d](?:[a-z\\d-]{0,61}[a-z\\d])?(?:\\.[a-z\\d](?:[a-z\\d-]{0,61}[a-z\\d])?)*)>/i.exec(after);\n          if (url) {\n              return cx.append(elt(Type.Autolink, start, start + 1 + url[0].length, [\n                  elt(Type.LinkMark, start, start + 1),\n                  // url[0] includes the closing bracket, so exclude it from this slice\n                  elt(Type.URL, start + 1, start + url[0].length),\n                  elt(Type.LinkMark, start + url[0].length, start + 1 + url[0].length)\n              ]));\n          }\n          let comment = /^!--[^>](?:-[^-]|[^-])*?-->/i.exec(after);\n          if (comment)\n              return cx.append(elt(Type.Comment, start, start + 1 + comment[0].length));\n          let procInst = /^\\?[^]*?\\?>/.exec(after);\n          if (procInst)\n              return cx.append(elt(Type.ProcessingInstruction, start, start + 1 + procInst[0].length));\n          let m = /^(?:![A-Z][^]*?>|!\\[CDATA\\[[^]*?\\]\\]>|\\/\\s*[a-zA-Z][\\w-]*\\s*>|\\s*[a-zA-Z][\\w-]*(\\s+[a-zA-Z:_][\\w-.:]*(?:\\s*=\\s*(?:[^\\s\"'=<>`]+|'[^']*'|\"[^\"]*\"))?)*\\s*(\\/\\s*)?>)/.exec(after);\n          if (!m)\n              return -1;\n          return cx.append(elt(Type.HTMLTag, start, start + 1 + m[0].length));\n      },\n      Emphasis(cx, next, start) {\n          if (next != 95 && next != 42)\n              return -1;\n          let pos = start + 1;\n          while (cx.char(pos) == next)\n              pos++;\n          let before = cx.slice(start - 1, start), after = cx.slice(pos, pos + 1);\n          let pBefore = Punctuation.test(before), pAfter = Punctuation.test(after);\n          let sBefore = /\\s|^$/.test(before), sAfter = /\\s|^$/.test(after);\n          let leftFlanking = !sAfter && (!pAfter || sBefore || pBefore);\n          let rightFlanking = !sBefore && (!pBefore || sAfter || pAfter);\n          let canOpen = leftFlanking && (next == 42 || !rightFlanking || pBefore);\n          let canClose = rightFlanking && (next == 42 || !leftFlanking || pAfter);\n          return cx.append(new InlineDelimiter(next == 95 ? EmphasisUnderscore : EmphasisAsterisk, start, pos, (canOpen ? 1 /* Mark.Open */ : 0 /* Mark.None */) | (canClose ? 2 /* Mark.Close */ : 0 /* Mark.None */)));\n      },\n      HardBreak(cx, next, start) {\n          if (next == 92 /* '\\\\' */ && cx.char(start + 1) == 10 /* '\\n' */)\n              return cx.append(elt(Type.HardBreak, start, start + 2));\n          if (next == 32) {\n              let pos = start + 1;\n              while (cx.char(pos) == 32)\n                  pos++;\n              if (cx.char(pos) == 10 && pos >= start + 2)\n                  return cx.append(elt(Type.HardBreak, start, pos + 1));\n          }\n          return -1;\n      },\n      Link(cx, next, start) {\n          return next == 91 /* '[' */ ? cx.append(new InlineDelimiter(LinkStart, start, start + 1, 1 /* Mark.Open */)) : -1;\n      },\n      Image(cx, next, start) {\n          return next == 33 /* '!' */ && cx.char(start + 1) == 91 /* '[' */\n              ? cx.append(new InlineDelimiter(ImageStart, start, start + 2, 1 /* Mark.Open */)) : -1;\n      },\n      LinkEnd(cx, next, start) {\n          if (next != 93 /* ']' */)\n              return -1;\n          // Scanning back to the next link/image start marker\n          for (let i = cx.parts.length - 1; i >= 0; i--) {\n              let part = cx.parts[i];\n              if (part instanceof InlineDelimiter && (part.type == LinkStart || part.type == ImageStart)) {\n                  // If this one has been set invalid (because it would produce\n                  // a nested link) or there's no valid link here ignore both.\n                  if (!part.side || cx.skipSpace(part.to) == start && !/[(\\[]/.test(cx.slice(start + 1, start + 2))) {\n                      cx.parts[i] = null;\n                      return -1;\n                  }\n                  // Finish the content and replace the entire range in\n                  // this.parts with the link/image node.\n                  let content = cx.takeContent(i);\n                  let link = cx.parts[i] = finishLink(cx, content, part.type == LinkStart ? Type.Link : Type.Image, part.from, start + 1);\n                  // Set any open-link markers before this link to invalid.\n                  if (part.type == LinkStart)\n                      for (let j = 0; j < i; j++) {\n                          let p = cx.parts[j];\n                          if (p instanceof InlineDelimiter && p.type == LinkStart)\n                              p.side = 0 /* Mark.None */;\n                      }\n                  return link.to;\n              }\n          }\n          return -1;\n      }\n  };\n  function finishLink(cx, content, type, start, startPos) {\n      let { text } = cx, next = cx.char(startPos), endPos = startPos;\n      content.unshift(elt(Type.LinkMark, start, start + (type == Type.Image ? 2 : 1)));\n      content.push(elt(Type.LinkMark, startPos - 1, startPos));\n      if (next == 40 /* '(' */) {\n          let pos = cx.skipSpace(startPos + 1);\n          let dest = parseURL(text, pos - cx.offset, cx.offset), title;\n          if (dest) {\n              pos = cx.skipSpace(dest.to);\n              // The destination and title must be separated by whitespace\n              if (pos != dest.to) {\n                  title = parseLinkTitle(text, pos - cx.offset, cx.offset);\n                  if (title)\n                      pos = cx.skipSpace(title.to);\n              }\n          }\n          if (cx.char(pos) == 41 /* ')' */) {\n              content.push(elt(Type.LinkMark, startPos, startPos + 1));\n              endPos = pos + 1;\n              if (dest)\n                  content.push(dest);\n              if (title)\n                  content.push(title);\n              content.push(elt(Type.LinkMark, pos, endPos));\n          }\n      }\n      else if (next == 91 /* '[' */) {\n          let label = parseLinkLabel(text, startPos - cx.offset, cx.offset, false);\n          if (label) {\n              content.push(label);\n              endPos = label.to;\n          }\n      }\n      return elt(type, start, endPos, content);\n  }\n  // These return `null` when falling off the end of the input, `false`\n  // when parsing fails otherwise (for use in the incremental link\n  // reference parser).\n  function parseURL(text, start, offset) {\n      let next = text.charCodeAt(start);\n      if (next == 60 /* '<' */) {\n          for (let pos = start + 1; pos < text.length; pos++) {\n              let ch = text.charCodeAt(pos);\n              if (ch == 62 /* '>' */)\n                  return elt(Type.URL, start + offset, pos + 1 + offset);\n              if (ch == 60 || ch == 10 /* '<\\n' */)\n                  return false;\n          }\n          return null;\n      }\n      else {\n          let depth = 0, pos = start;\n          for (let escaped = false; pos < text.length; pos++) {\n              let ch = text.charCodeAt(pos);\n              if (space$1(ch)) {\n                  break;\n              }\n              else if (escaped) {\n                  escaped = false;\n              }\n              else if (ch == 40 /* '(' */) {\n                  depth++;\n              }\n              else if (ch == 41 /* ')' */) {\n                  if (!depth)\n                      break;\n                  depth--;\n              }\n              else if (ch == 92 /* '\\\\' */) {\n                  escaped = true;\n              }\n          }\n          return pos > start ? elt(Type.URL, start + offset, pos + offset) : pos == text.length ? null : false;\n      }\n  }\n  function parseLinkTitle(text, start, offset) {\n      let next = text.charCodeAt(start);\n      if (next != 39 && next != 34 && next != 40 /* '\"\\'(' */)\n          return false;\n      let end = next == 40 ? 41 : next;\n      for (let pos = start + 1, escaped = false; pos < text.length; pos++) {\n          let ch = text.charCodeAt(pos);\n          if (escaped)\n              escaped = false;\n          else if (ch == end)\n              return elt(Type.LinkTitle, start + offset, pos + 1 + offset);\n          else if (ch == 92 /* '\\\\' */)\n              escaped = true;\n      }\n      return null;\n  }\n  function parseLinkLabel(text, start, offset, requireNonWS) {\n      for (let escaped = false, pos = start + 1, end = Math.min(text.length, pos + 999); pos < end; pos++) {\n          let ch = text.charCodeAt(pos);\n          if (escaped)\n              escaped = false;\n          else if (ch == 93 /* ']' */)\n              return requireNonWS ? false : elt(Type.LinkLabel, start + offset, pos + 1 + offset);\n          else {\n              if (requireNonWS && !space$1(ch))\n                  requireNonWS = false;\n              if (ch == 91 /* '[' */)\n                  return false;\n              else if (ch == 92 /* '\\\\' */)\n                  escaped = true;\n          }\n      }\n      return null;\n  }\n  /**\n  Inline parsing functions get access to this context, and use it to\n  read the content and emit syntax nodes.\n  */\n  class InlineContext {\n      /**\n      @internal\n      */\n      constructor(\n      /**\n      The parser that is being used.\n      */\n      parser, \n      /**\n      The text of this inline section.\n      */\n      text, \n      /**\n      The starting offset of the section in the document.\n      */\n      offset) {\n          this.parser = parser;\n          this.text = text;\n          this.offset = offset;\n          /**\n          @internal\n          */\n          this.parts = [];\n      }\n      /**\n      Get the character code at the given (document-relative)\n      position.\n      */\n      char(pos) { return pos >= this.end ? -1 : this.text.charCodeAt(pos - this.offset); }\n      /**\n      The position of the end of this inline section.\n      */\n      get end() { return this.offset + this.text.length; }\n      /**\n      Get a substring of this inline section. Again uses\n      document-relative positions.\n      */\n      slice(from, to) { return this.text.slice(from - this.offset, to - this.offset); }\n      /**\n      @internal\n      */\n      append(elt) {\n          this.parts.push(elt);\n          return elt.to;\n      }\n      /**\n      Add a [delimiter](#DelimiterType) at this given position. `open`\n      and `close` indicate whether this delimiter is opening, closing,\n      or both. Returns the end of the delimiter, for convenient\n      returning from [parse functions](#InlineParser.parse).\n      */\n      addDelimiter(type, from, to, open, close) {\n          return this.append(new InlineDelimiter(type, from, to, (open ? 1 /* Mark.Open */ : 0 /* Mark.None */) | (close ? 2 /* Mark.Close */ : 0 /* Mark.None */)));\n      }\n      /**\n      Returns true when there is an unmatched link or image opening\n      token before the current position.\n      */\n      get hasOpenLink() {\n          for (let i = this.parts.length - 1; i >= 0; i--) {\n              let part = this.parts[i];\n              if (part instanceof InlineDelimiter && (part.type == LinkStart || part.type == ImageStart))\n                  return true;\n          }\n          return false;\n      }\n      /**\n      Add an inline element. Returns the end of the element.\n      */\n      addElement(elt) {\n          return this.append(elt);\n      }\n      /**\n      Resolve markers between this.parts.length and from, wrapping matched markers in the\n      appropriate node and updating the content of this.parts. @internal\n      */\n      resolveMarkers(from) {\n          // Scan forward, looking for closing tokens\n          for (let i = from; i < this.parts.length; i++) {\n              let close = this.parts[i];\n              if (!(close instanceof InlineDelimiter && close.type.resolve && (close.side & 2 /* Mark.Close */)))\n                  continue;\n              let emp = close.type == EmphasisUnderscore || close.type == EmphasisAsterisk;\n              let closeSize = close.to - close.from;\n              let open, j = i - 1;\n              // Continue scanning for a matching opening token\n              for (; j >= from; j--) {\n                  let part = this.parts[j];\n                  if (part instanceof InlineDelimiter && (part.side & 1 /* Mark.Open */) && part.type == close.type &&\n                      // Ignore emphasis delimiters where the character count doesn't match\n                      !(emp && ((close.side & 1 /* Mark.Open */) || (part.side & 2 /* Mark.Close */)) &&\n                          (part.to - part.from + closeSize) % 3 == 0 && ((part.to - part.from) % 3 || closeSize % 3))) {\n                      open = part;\n                      break;\n                  }\n              }\n              if (!open)\n                  continue;\n              let type = close.type.resolve, content = [];\n              let start = open.from, end = close.to;\n              // Emphasis marker effect depends on the character count. Size consumed is minimum of the two\n              // markers.\n              if (emp) {\n                  let size = Math.min(2, open.to - open.from, closeSize);\n                  start = open.to - size;\n                  end = close.from + size;\n                  type = size == 1 ? \"Emphasis\" : \"StrongEmphasis\";\n              }\n              // Move the covered region into content, optionally adding marker nodes\n              if (open.type.mark)\n                  content.push(this.elt(open.type.mark, start, open.to));\n              for (let k = j + 1; k < i; k++) {\n                  if (this.parts[k] instanceof Element$2)\n                      content.push(this.parts[k]);\n                  this.parts[k] = null;\n              }\n              if (close.type.mark)\n                  content.push(this.elt(close.type.mark, close.from, end));\n              let element = this.elt(type, start, end, content);\n              // If there are leftover emphasis marker characters, shrink the close/open markers. Otherwise, clear them.\n              this.parts[j] = emp && open.from != start ? new InlineDelimiter(open.type, open.from, start, open.side) : null;\n              let keep = this.parts[i] = emp && close.to != end ? new InlineDelimiter(close.type, end, close.to, close.side) : null;\n              // Insert the new element in this.parts\n              if (keep)\n                  this.parts.splice(i, 0, element);\n              else\n                  this.parts[i] = element;\n          }\n          // Collect the elements remaining in this.parts into an array.\n          let result = [];\n          for (let i = from; i < this.parts.length; i++) {\n              let part = this.parts[i];\n              if (part instanceof Element$2)\n                  result.push(part);\n          }\n          return result;\n      }\n      /**\n      Find an opening delimiter of the given type. Returns `null` if\n      no delimiter is found, or an index that can be passed to\n      [`takeContent`](#InlineContext.takeContent) otherwise.\n      */\n      findOpeningDelimiter(type) {\n          for (let i = this.parts.length - 1; i >= 0; i--) {\n              let part = this.parts[i];\n              if (part instanceof InlineDelimiter && part.type == type)\n                  return i;\n          }\n          return null;\n      }\n      /**\n      Remove all inline elements and delimiters starting from the\n      given index (which you should get from\n      [`findOpeningDelimiter`](#InlineContext.findOpeningDelimiter),\n      resolve delimiters inside of them, and return them as an array\n      of elements.\n      */\n      takeContent(startIndex) {\n          let content = this.resolveMarkers(startIndex);\n          this.parts.length = startIndex;\n          return content;\n      }\n      /**\n      Skip space after the given (document) position, returning either\n      the position of the next non-space character or the end of the\n      section.\n      */\n      skipSpace(from) { return skipSpace(this.text, from - this.offset) + this.offset; }\n      elt(type, from, to, children) {\n          if (typeof type == \"string\")\n              return elt(this.parser.getNodeType(type), from, to, children);\n          return new TreeElement(type, from);\n      }\n  }\n  function injectMarks(elements, marks) {\n      if (!marks.length)\n          return elements;\n      if (!elements.length)\n          return marks;\n      let elts = elements.slice(), eI = 0;\n      for (let mark of marks) {\n          while (eI < elts.length && elts[eI].to < mark.to)\n              eI++;\n          if (eI < elts.length && elts[eI].from < mark.from) {\n              let e = elts[eI];\n              if (e instanceof Element$2)\n                  elts[eI] = new Element$2(e.type, e.from, e.to, injectMarks(e.children, [mark]));\n          }\n          else {\n              elts.splice(eI++, 0, mark);\n          }\n      }\n      return elts;\n  }\n  // These are blocks that can span blank lines, and should thus only be\n  // reused if their next sibling is also being reused.\n  const NotLast = [Type.CodeBlock, Type.ListItem, Type.OrderedList, Type.BulletList];\n  class FragmentCursor {\n      constructor(fragments, input) {\n          this.fragments = fragments;\n          this.input = input;\n          // Index into fragment array\n          this.i = 0;\n          // Active fragment\n          this.fragment = null;\n          this.fragmentEnd = -1;\n          // Cursor into the current fragment, if any. When `moveTo` returns\n          // true, this points at the first block after `pos`.\n          this.cursor = null;\n          if (fragments.length)\n              this.fragment = fragments[this.i++];\n      }\n      nextFragment() {\n          this.fragment = this.i < this.fragments.length ? this.fragments[this.i++] : null;\n          this.cursor = null;\n          this.fragmentEnd = -1;\n      }\n      moveTo(pos, lineStart) {\n          while (this.fragment && this.fragment.to <= pos)\n              this.nextFragment();\n          if (!this.fragment || this.fragment.from > (pos ? pos - 1 : 0))\n              return false;\n          if (this.fragmentEnd < 0) {\n              let end = this.fragment.to;\n              while (end > 0 && this.input.read(end - 1, end) != \"\\n\")\n                  end--;\n              this.fragmentEnd = end ? end - 1 : 0;\n          }\n          let c = this.cursor;\n          if (!c) {\n              c = this.cursor = this.fragment.tree.cursor();\n              c.firstChild();\n          }\n          let rPos = pos + this.fragment.offset;\n          while (c.to <= rPos)\n              if (!c.parent())\n                  return false;\n          for (;;) {\n              if (c.from >= rPos)\n                  return this.fragment.from <= lineStart;\n              if (!c.childAfter(rPos))\n                  return false;\n          }\n      }\n      matches(hash) {\n          let tree = this.cursor.tree;\n          return tree && tree.prop(NodeProp.contextHash) == hash;\n      }\n      takeNodes(cx) {\n          let cur = this.cursor, off = this.fragment.offset, fragEnd = this.fragmentEnd - (this.fragment.openEnd ? 1 : 0);\n          let start = cx.absoluteLineStart, end = start, blockI = cx.block.children.length;\n          let prevEnd = end, prevI = blockI;\n          for (;;) {\n              if (cur.to - off > fragEnd) {\n                  if (cur.type.isAnonymous && cur.firstChild())\n                      continue;\n                  break;\n              }\n              let pos = toRelative(cur.from - off, cx.ranges);\n              if (cur.to - off <= cx.ranges[cx.rangeI].to) { // Fits in current range\n                  cx.addNode(cur.tree, pos);\n              }\n              else {\n                  let dummy = new Tree(cx.parser.nodeSet.types[Type.Paragraph], [], [], 0, cx.block.hashProp);\n                  cx.reusePlaceholders.set(dummy, cur.tree);\n                  cx.addNode(dummy, pos);\n              }\n              // Taken content must always end in a block, because incremental\n              // parsing happens on block boundaries. Never stop directly\n              // after an indented code block, since those can continue after\n              // any number of blank lines.\n              if (cur.type.is(\"Block\")) {\n                  if (NotLast.indexOf(cur.type.id) < 0) {\n                      end = cur.to - off;\n                      blockI = cx.block.children.length;\n                  }\n                  else {\n                      end = prevEnd;\n                      blockI = prevI;\n                      prevEnd = cur.to - off;\n                      prevI = cx.block.children.length;\n                  }\n              }\n              if (!cur.nextSibling())\n                  break;\n          }\n          while (cx.block.children.length > blockI) {\n              cx.block.children.pop();\n              cx.block.positions.pop();\n          }\n          return end - start;\n      }\n  }\n  // Convert an input-stream-relative position to a\n  // Markdown-doc-relative position by subtracting the size of all input\n  // gaps before `abs`.\n  function toRelative(abs, ranges) {\n      let pos = abs;\n      for (let i = 1; i < ranges.length; i++) {\n          let gapFrom = ranges[i - 1].to, gapTo = ranges[i].from;\n          if (gapFrom < abs)\n              pos -= gapTo - gapFrom;\n      }\n      return pos;\n  }\n  const markdownHighlighting = styleTags({\n      \"Blockquote/...\": tags$1.quote,\n      HorizontalRule: tags$1.contentSeparator,\n      \"ATXHeading1/... SetextHeading1/...\": tags$1.heading1,\n      \"ATXHeading2/... SetextHeading2/...\": tags$1.heading2,\n      \"ATXHeading3/...\": tags$1.heading3,\n      \"ATXHeading4/...\": tags$1.heading4,\n      \"ATXHeading5/...\": tags$1.heading5,\n      \"ATXHeading6/...\": tags$1.heading6,\n      \"Comment CommentBlock\": tags$1.comment,\n      Escape: tags$1.escape,\n      Entity: tags$1.character,\n      \"Emphasis/...\": tags$1.emphasis,\n      \"StrongEmphasis/...\": tags$1.strong,\n      \"Link/... Image/...\": tags$1.link,\n      \"OrderedList/... BulletList/...\": tags$1.list,\n      \"BlockQuote/...\": tags$1.quote,\n      \"InlineCode CodeText\": tags$1.monospace,\n      \"URL Autolink\": tags$1.url,\n      \"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark\": tags$1.processingInstruction,\n      \"CodeInfo LinkLabel\": tags$1.labelName,\n      LinkTitle: tags$1.string,\n      Paragraph: tags$1.content\n  });\n  /**\n  The default CommonMark parser.\n  */\n  const parser$3 = new MarkdownParser(new NodeSet(nodeTypes).extend(markdownHighlighting), Object.keys(DefaultBlockParsers).map(n => DefaultBlockParsers[n]), Object.keys(DefaultBlockParsers).map(n => DefaultLeafBlocks[n]), Object.keys(DefaultBlockParsers), DefaultEndLeaf, DefaultSkipMarkup, Object.keys(DefaultInline).map(n => DefaultInline[n]), Object.keys(DefaultInline), []);\n\n  function leftOverSpace(node, from, to) {\n      let ranges = [];\n      for (let n = node.firstChild, pos = from;; n = n.nextSibling) {\n          let nextPos = n ? n.from : to;\n          if (nextPos > pos)\n              ranges.push({ from: pos, to: nextPos });\n          if (!n)\n              break;\n          pos = n.to;\n      }\n      return ranges;\n  }\n  /**\n  Create a Markdown extension to enable nested parsing on code\n  blocks and/or embedded HTML.\n  */\n  function parseCode(config) {\n      let { codeParser, htmlParser } = config;\n      let wrap = parseMixed((node, input) => {\n          let id = node.type.id;\n          if (codeParser && (id == Type.CodeBlock || id == Type.FencedCode)) {\n              let info = \"\";\n              if (id == Type.FencedCode) {\n                  let infoNode = node.node.getChild(Type.CodeInfo);\n                  if (infoNode)\n                      info = input.read(infoNode.from, infoNode.to);\n              }\n              let parser = codeParser(info);\n              if (parser)\n                  return { parser, overlay: node => node.type.id == Type.CodeText };\n          }\n          else if (htmlParser && (id == Type.HTMLBlock || id == Type.HTMLTag || id == Type.CommentBlock)) {\n              return { parser: htmlParser, overlay: leftOverSpace(node.node, node.from, node.to) };\n          }\n          return null;\n      });\n      return { wrap };\n  }\n\n  const StrikethroughDelim = { resolve: \"Strikethrough\", mark: \"StrikethroughMark\" };\n  /**\n  An extension that implements\n  [GFM-style](https://github.github.com/gfm/#strikethrough-extension-)\n  Strikethrough syntax using `~~` delimiters.\n  */\n  const Strikethrough = {\n      defineNodes: [{\n              name: \"Strikethrough\",\n              style: { \"Strikethrough/...\": tags$1.strikethrough }\n          }, {\n              name: \"StrikethroughMark\",\n              style: tags$1.processingInstruction\n          }],\n      parseInline: [{\n              name: \"Strikethrough\",\n              parse(cx, next, pos) {\n                  if (next != 126 /* '~' */ || cx.char(pos + 1) != 126 || cx.char(pos + 2) == 126)\n                      return -1;\n                  let before = cx.slice(pos - 1, pos), after = cx.slice(pos + 2, pos + 3);\n                  let sBefore = /\\s|^$/.test(before), sAfter = /\\s|^$/.test(after);\n                  let pBefore = Punctuation.test(before), pAfter = Punctuation.test(after);\n                  return cx.addDelimiter(StrikethroughDelim, pos, pos + 2, !sAfter && (!pAfter || sBefore || pBefore), !sBefore && (!pBefore || sAfter || pAfter));\n              },\n              after: \"Emphasis\"\n          }]\n  };\n  // Parse a line as a table row and return the row count. When `elts`\n  // is given, push syntax elements for the content onto it.\n  function parseRow(cx, line, startI = 0, elts, offset = 0) {\n      let count = 0, first = true, cellStart = -1, cellEnd = -1, esc = false;\n      let parseCell = () => {\n          elts.push(cx.elt(\"TableCell\", offset + cellStart, offset + cellEnd, cx.parser.parseInline(line.slice(cellStart, cellEnd), offset + cellStart)));\n      };\n      for (let i = startI; i < line.length; i++) {\n          let next = line.charCodeAt(i);\n          if (next == 124 /* '|' */ && !esc) {\n              if (!first || cellStart > -1)\n                  count++;\n              first = false;\n              if (elts) {\n                  if (cellStart > -1)\n                      parseCell();\n                  elts.push(cx.elt(\"TableDelimiter\", i + offset, i + offset + 1));\n              }\n              cellStart = cellEnd = -1;\n          }\n          else if (esc || next != 32 && next != 9) {\n              if (cellStart < 0)\n                  cellStart = i;\n              cellEnd = i + 1;\n          }\n          esc = !esc && next == 92;\n      }\n      if (cellStart > -1) {\n          count++;\n          if (elts)\n              parseCell();\n      }\n      return count;\n  }\n  function hasPipe(str, start) {\n      for (let i = start; i < str.length; i++) {\n          let next = str.charCodeAt(i);\n          if (next == 124 /* '|' */)\n              return true;\n          if (next == 92 /* '\\\\' */)\n              i++;\n      }\n      return false;\n  }\n  const delimiterLine = /^\\|?(\\s*:?-+:?\\s*\\|)+(\\s*:?-+:?\\s*)?$/;\n  class TableParser {\n      constructor() {\n          // Null means we haven't seen the second line yet, false means this\n          // isn't a table, and an array means this is a table and we've\n          // parsed the given rows so far.\n          this.rows = null;\n      }\n      nextLine(cx, line, leaf) {\n          if (this.rows == null) { // Second line\n              this.rows = false;\n              let lineText;\n              if ((line.next == 45 || line.next == 58 || line.next == 124 /* '-:|' */) &&\n                  delimiterLine.test(lineText = line.text.slice(line.pos))) {\n                  let firstRow = [], firstCount = parseRow(cx, leaf.content, 0, firstRow, leaf.start);\n                  if (firstCount == parseRow(cx, lineText, line.pos))\n                      this.rows = [cx.elt(\"TableHeader\", leaf.start, leaf.start + leaf.content.length, firstRow),\n                          cx.elt(\"TableDelimiter\", cx.lineStart + line.pos, cx.lineStart + line.text.length)];\n              }\n          }\n          else if (this.rows) { // Line after the second\n              let content = [];\n              parseRow(cx, line.text, line.pos, content, cx.lineStart);\n              this.rows.push(cx.elt(\"TableRow\", cx.lineStart + line.pos, cx.lineStart + line.text.length, content));\n          }\n          return false;\n      }\n      finish(cx, leaf) {\n          if (!this.rows)\n              return false;\n          cx.addLeafElement(leaf, cx.elt(\"Table\", leaf.start, leaf.start + leaf.content.length, this.rows));\n          return true;\n      }\n  }\n  /**\n  This extension provides\n  [GFM-style](https://github.github.com/gfm/#tables-extension-)\n  tables, using syntax like this:\n\n  ```\n  | head 1 | head 2 |\n  | ---    | ---    |\n  | cell 1 | cell 2 |\n  ```\n  */\n  const Table = {\n      defineNodes: [\n          { name: \"Table\", block: true },\n          { name: \"TableHeader\", style: { \"TableHeader/...\": tags$1.heading } },\n          \"TableRow\",\n          { name: \"TableCell\", style: tags$1.content },\n          { name: \"TableDelimiter\", style: tags$1.processingInstruction },\n      ],\n      parseBlock: [{\n              name: \"Table\",\n              leaf(_, leaf) { return hasPipe(leaf.content, 0) ? new TableParser : null; },\n              endLeaf(cx, line, leaf) {\n                  if (leaf.parsers.some(p => p instanceof TableParser) || !hasPipe(line.text, line.basePos))\n                      return false;\n                  let next = cx.peekLine();\n                  return delimiterLine.test(next) && parseRow(cx, line.text, line.basePos) == parseRow(cx, next, line.basePos);\n              },\n              before: \"SetextHeading\"\n          }]\n  };\n  class TaskParser {\n      nextLine() { return false; }\n      finish(cx, leaf) {\n          cx.addLeafElement(leaf, cx.elt(\"Task\", leaf.start, leaf.start + leaf.content.length, [\n              cx.elt(\"TaskMarker\", leaf.start, leaf.start + 3),\n              ...cx.parser.parseInline(leaf.content.slice(3), leaf.start + 3)\n          ]));\n          return true;\n      }\n  }\n  /**\n  Extension providing\n  [GFM-style](https://github.github.com/gfm/#task-list-items-extension-)\n  task list items, where list items can be prefixed with `[ ]` or\n  `[x]` to add a checkbox.\n  */\n  const TaskList = {\n      defineNodes: [\n          { name: \"Task\", block: true, style: tags$1.list },\n          { name: \"TaskMarker\", style: tags$1.atom }\n      ],\n      parseBlock: [{\n              name: \"TaskList\",\n              leaf(cx, leaf) {\n                  return /^\\[[ xX]\\][ \\t]/.test(leaf.content) && cx.parentType().name == \"ListItem\" ? new TaskParser : null;\n              },\n              after: \"SetextHeading\"\n          }]\n  };\n  const autolinkRE = /(www\\.)|(https?:\\/\\/)|([\\w.+-]{1,100}@)|(mailto:|xmpp:)/gy;\n  const urlRE = /[\\w-]+(\\.[\\w-]+)+(\\/[^\\s<]*)?/gy;\n  const lastTwoDomainWords = /[\\w-]+\\.[\\w-]+($|\\/)/;\n  const emailRE = /[\\w.+-]+@[\\w-]+(\\.[\\w.-]+)+/gy;\n  const xmppResourceRE = /\\/[a-zA-Z\\d@.]+/gy;\n  function count(str, from, to, ch) {\n      let result = 0;\n      for (let i = from; i < to; i++)\n          if (str[i] == ch)\n              result++;\n      return result;\n  }\n  function autolinkURLEnd(text, from) {\n      urlRE.lastIndex = from;\n      let m = urlRE.exec(text);\n      if (!m || lastTwoDomainWords.exec(m[0])[0].indexOf(\"_\") > -1)\n          return -1;\n      let end = from + m[0].length;\n      for (;;) {\n          let last = text[end - 1], m;\n          if (/[?!.,:*_~]/.test(last) ||\n              last == \")\" && count(text, from, end, \")\") > count(text, from, end, \"(\"))\n              end--;\n          else if (last == \";\" && (m = /&(?:#\\d+|#x[a-f\\d]+|\\w+);$/.exec(text.slice(from, end))))\n              end = from + m.index;\n          else\n              break;\n      }\n      return end;\n  }\n  function autolinkEmailEnd(text, from) {\n      emailRE.lastIndex = from;\n      let m = emailRE.exec(text);\n      if (!m)\n          return -1;\n      let last = m[0][m[0].length - 1];\n      return last == \"_\" || last == \"-\" ? -1 : from + m[0].length - (last == \".\" ? 1 : 0);\n  }\n  /**\n  Extension that implements autolinking for\n  `www.`/`http://`/`https://`/`mailto:`/`xmpp:` URLs and email\n  addresses.\n  */\n  const Autolink = {\n      parseInline: [{\n              name: \"Autolink\",\n              parse(cx, next, absPos) {\n                  let pos = absPos - cx.offset;\n                  if (pos && /\\w/.test(cx.text[pos - 1]))\n                      return -1;\n                  autolinkRE.lastIndex = pos;\n                  let m = autolinkRE.exec(cx.text), end = -1;\n                  if (!m)\n                      return -1;\n                  if (m[1] || m[2]) { // www., http://\n                      end = autolinkURLEnd(cx.text, pos + m[0].length);\n                      if (end > -1 && cx.hasOpenLink) {\n                          let noBracket = /([^\\[\\]]|\\[[^\\]]*\\])*/.exec(cx.text.slice(pos, end));\n                          end = pos + noBracket[0].length;\n                      }\n                  }\n                  else if (m[3]) { // email address\n                      end = autolinkEmailEnd(cx.text, pos);\n                  }\n                  else { // mailto:/xmpp:\n                      end = autolinkEmailEnd(cx.text, pos + m[0].length);\n                      if (end > -1 && m[0] == \"xmpp:\") {\n                          xmppResourceRE.lastIndex = end;\n                          m = xmppResourceRE.exec(cx.text);\n                          if (m)\n                              end = m.index + m[0].length;\n                      }\n                  }\n                  if (end < 0)\n                      return -1;\n                  cx.addElement(cx.elt(\"URL\", absPos, end + cx.offset));\n                  return end + cx.offset;\n              }\n          }]\n  };\n  /**\n  Extension bundle containing [`Table`](#Table),\n  [`TaskList`](#TaskList), [`Strikethrough`](#Strikethrough), and\n  [`Autolink`](#Autolink).\n  */\n  const GFM = [Table, TaskList, Strikethrough, Autolink];\n  function parseSubSuper(ch, node, mark) {\n      return (cx, next, pos) => {\n          if (next != ch || cx.char(pos + 1) == ch)\n              return -1;\n          let elts = [cx.elt(mark, pos, pos + 1)];\n          for (let i = pos + 1; i < cx.end; i++) {\n              let next = cx.char(i);\n              if (next == ch)\n                  return cx.addElement(cx.elt(node, pos, i + 1, elts.concat(cx.elt(mark, i, i + 1))));\n              if (next == 92 /* '\\\\' */)\n                  elts.push(cx.elt(\"Escape\", i, i++ + 2));\n              if (space$1(next))\n                  break;\n          }\n          return -1;\n      };\n  }\n  /**\n  Extension providing\n  [Pandoc-style](https://pandoc.org/MANUAL.html#superscripts-and-subscripts)\n  superscript using `^` markers.\n  */\n  const Superscript = {\n      defineNodes: [\n          { name: \"Superscript\", style: tags$1.special(tags$1.content) },\n          { name: \"SuperscriptMark\", style: tags$1.processingInstruction }\n      ],\n      parseInline: [{\n              name: \"Superscript\",\n              parse: parseSubSuper(94 /* '^' */, \"Superscript\", \"SuperscriptMark\")\n          }]\n  };\n  /**\n  Extension providing\n  [Pandoc-style](https://pandoc.org/MANUAL.html#superscripts-and-subscripts)\n  subscript using `~` markers.\n  */\n  const Subscript = {\n      defineNodes: [\n          { name: \"Subscript\", style: tags$1.special(tags$1.content) },\n          { name: \"SubscriptMark\", style: tags$1.processingInstruction }\n      ],\n      parseInline: [{\n              name: \"Subscript\",\n              parse: parseSubSuper(126 /* '~' */, \"Subscript\", \"SubscriptMark\")\n          }]\n  };\n  /**\n  Extension that parses two colons with only letters, underscores,\n  and numbers between them as `Emoji` nodes.\n  */\n  const Emoji = {\n      defineNodes: [{ name: \"Emoji\", style: tags$1.character }],\n      parseInline: [{\n              name: \"Emoji\",\n              parse(cx, next, pos) {\n                  let match;\n                  if (next != 58 /* ':' */ || !(match = /^[a-zA-Z_0-9]+:/.exec(cx.slice(pos + 1, cx.end))))\n                      return -1;\n                  return cx.addElement(cx.elt(\"Emoji\", pos, pos + 1 + match[0].length));\n              }\n          }]\n  };\n\n  const data = /*@__PURE__*/defineLanguageFacet({ commentTokens: { block: { open: \"<!--\", close: \"-->\" } } });\n  const headingProp = /*@__PURE__*/new NodeProp();\n  const commonmark = /*@__PURE__*/parser$3.configure({\n      props: [\n          /*@__PURE__*/foldNodeProp.add(type => {\n              return !type.is(\"Block\") || type.is(\"Document\") || isHeading(type) != null || isList(type) ? undefined\n                  : (tree, state) => ({ from: state.doc.lineAt(tree.from).to, to: tree.to });\n          }),\n          /*@__PURE__*/headingProp.add(isHeading),\n          /*@__PURE__*/indentNodeProp.add({\n              Document: () => null\n          }),\n          /*@__PURE__*/languageDataProp.add({\n              Document: data\n          })\n      ]\n  });\n  function isHeading(type) {\n      let match = /^(?:ATX|Setext)Heading(\\d)$/.exec(type.name);\n      return match ? +match[1] : undefined;\n  }\n  function isList(type) {\n      return type.name == \"OrderedList\" || type.name == \"BulletList\";\n  }\n  function findSectionEnd(headerNode, level) {\n      let last = headerNode;\n      for (;;) {\n          let next = last.nextSibling, heading;\n          if (!next || (heading = isHeading(next.type)) != null && heading <= level)\n              break;\n          last = next;\n      }\n      return last.to;\n  }\n  const headerIndent = /*@__PURE__*/foldService.of((state, start, end) => {\n      for (let node = syntaxTree(state).resolveInner(end, -1); node; node = node.parent) {\n          if (node.from < start)\n              break;\n          let heading = node.type.prop(headingProp);\n          if (heading == null)\n              continue;\n          let upto = findSectionEnd(node, heading);\n          if (upto > end)\n              return { from: end, to: upto };\n      }\n      return null;\n  });\n  function mkLang(parser) {\n      return new Language(data, parser, [], \"markdown\");\n  }\n  /**\n  Language support for strict CommonMark.\n  */\n  const commonmarkLanguage = /*@__PURE__*/mkLang(commonmark);\n  const extended = /*@__PURE__*/commonmark.configure([GFM, Subscript, Superscript, Emoji, {\n          props: [\n              /*@__PURE__*/foldNodeProp.add({\n                  Table: (tree, state) => ({ from: state.doc.lineAt(tree.from).to, to: tree.to })\n              })\n          ]\n      }]);\n  /**\n  Language support for [GFM](https://github.github.com/gfm/) plus\n  subscript, superscript, and emoji syntax.\n  */\n  const markdownLanguage = /*@__PURE__*/mkLang(extended);\n  function getCodeParser(languages, defaultLanguage) {\n      return (info) => {\n          if (info && languages) {\n              let found = null;\n              // Strip anything after whitespace\n              info = /\\S*/.exec(info)[0];\n              if (typeof languages == \"function\")\n                  found = languages(info);\n              else\n                  found = LanguageDescription.matchLanguageName(languages, info, true);\n              if (found instanceof LanguageDescription)\n                  return found.support ? found.support.language.parser : ParseContext.getSkippingParser(found.load());\n              else if (found)\n                  return found.parser;\n          }\n          return defaultLanguage ? defaultLanguage.parser : null;\n      };\n  }\n\n  let Context$2 = class Context {\n      constructor(node, from, to, spaceBefore, spaceAfter, type, item) {\n          this.node = node;\n          this.from = from;\n          this.to = to;\n          this.spaceBefore = spaceBefore;\n          this.spaceAfter = spaceAfter;\n          this.type = type;\n          this.item = item;\n      }\n      blank(maxWidth, trailing = true) {\n          let result = this.spaceBefore + (this.node.name == \"Blockquote\" ? \">\" : \"\");\n          if (maxWidth != null) {\n              while (result.length < maxWidth)\n                  result += \" \";\n              return result;\n          }\n          else {\n              for (let i = this.to - this.from - result.length - this.spaceAfter.length; i > 0; i--)\n                  result += \" \";\n              return result + (trailing ? this.spaceAfter : \"\");\n          }\n      }\n      marker(doc, add) {\n          let number = this.node.name == \"OrderedList\" ? String((+itemNumber(this.item, doc)[2] + add)) : \"\";\n          return this.spaceBefore + number + this.type + this.spaceAfter;\n      }\n  };\n  function getContext(node, doc) {\n      let nodes = [], context = [];\n      for (let cur = node; cur; cur = cur.parent) {\n          if (cur.name == \"FencedCode\")\n              return context;\n          if (cur.name == \"ListItem\" || cur.name == \"Blockquote\")\n              nodes.push(cur);\n      }\n      for (let i = nodes.length - 1; i >= 0; i--) {\n          let node = nodes[i], match;\n          let line = doc.lineAt(node.from), startPos = node.from - line.from;\n          if (node.name == \"Blockquote\" && (match = /^ *>( ?)/.exec(line.text.slice(startPos)))) {\n              context.push(new Context$2(node, startPos, startPos + match[0].length, \"\", match[1], \">\", null));\n          }\n          else if (node.name == \"ListItem\" && node.parent.name == \"OrderedList\" &&\n              (match = /^( *)\\d+([.)])( *)/.exec(line.text.slice(startPos)))) {\n              let after = match[3], len = match[0].length;\n              if (after.length >= 4) {\n                  after = after.slice(0, after.length - 4);\n                  len -= 4;\n              }\n              context.push(new Context$2(node.parent, startPos, startPos + len, match[1], after, match[2], node));\n          }\n          else if (node.name == \"ListItem\" && node.parent.name == \"BulletList\" &&\n              (match = /^( *)([-+*])( {1,4}\\[[ xX]\\])?( +)/.exec(line.text.slice(startPos)))) {\n              let after = match[4], len = match[0].length;\n              if (after.length > 4) {\n                  after = after.slice(0, after.length - 4);\n                  len -= 4;\n              }\n              let type = match[2];\n              if (match[3])\n                  type += match[3].replace(/[xX]/, ' ');\n              context.push(new Context$2(node.parent, startPos, startPos + len, match[1], after, type, node));\n          }\n      }\n      return context;\n  }\n  function itemNumber(item, doc) {\n      return /^(\\s*)(\\d+)(?=[.)])/.exec(doc.sliceString(item.from, item.from + 10));\n  }\n  function renumberList(after, doc, changes, offset = 0) {\n      for (let prev = -1, node = after;;) {\n          if (node.name == \"ListItem\") {\n              let m = itemNumber(node, doc);\n              let number = +m[2];\n              if (prev >= 0) {\n                  if (number != prev + 1)\n                      return;\n                  changes.push({ from: node.from + m[1].length, to: node.from + m[0].length, insert: String(prev + 2 + offset) });\n              }\n              prev = number;\n          }\n          let next = node.nextSibling;\n          if (!next)\n              break;\n          node = next;\n      }\n  }\n  function normalizeIndent(content, state) {\n      let blank = /^[ \\t]*/.exec(content)[0].length;\n      if (!blank || state.facet(indentUnit) != \"\\t\")\n          return content;\n      let col = countColumn(content, 4, blank);\n      let space = \"\";\n      for (let i = col; i > 0;) {\n          if (i >= 4) {\n              space += \"\\t\";\n              i -= 4;\n          }\n          else {\n              space += \" \";\n              i--;\n          }\n      }\n      return space + content.slice(blank);\n  }\n  /**\n  Returns a command like\n  [`insertNewlineContinueMarkup`](https://codemirror.net/6/docs/ref/#lang-markdown.insertNewlineContinueMarkup),\n  allowing further configuration.\n  */\n  const insertNewlineContinueMarkupCommand = (config = {}) => ({ state, dispatch }) => {\n      let tree = syntaxTree(state), { doc } = state;\n      let dont = null, changes = state.changeByRange(range => {\n          if (!range.empty || !markdownLanguage.isActiveAt(state, range.from, -1) && !markdownLanguage.isActiveAt(state, range.from, 1))\n              return dont = { range };\n          let pos = range.from, line = doc.lineAt(pos);\n          let context = getContext(tree.resolveInner(pos, -1), doc);\n          while (context.length && context[context.length - 1].from > pos - line.from)\n              context.pop();\n          if (!context.length)\n              return dont = { range };\n          let inner = context[context.length - 1];\n          if (inner.to - inner.spaceAfter.length > pos - line.from)\n              return dont = { range };\n          let emptyLine = pos >= (inner.to - inner.spaceAfter.length) && !/\\S/.test(line.text.slice(inner.to));\n          // Empty line in list\n          if (inner.item && emptyLine) {\n              let first = inner.node.firstChild, second = inner.node.getChild(\"ListItem\", \"ListItem\");\n              // Not second item or blank line before: delete a level of markup\n              if (first.to >= pos || second && second.to < pos ||\n                  line.from > 0 && !/[^\\s>]/.test(doc.lineAt(line.from - 1).text) ||\n                  config.nonTightLists === false) {\n                  let next = context.length > 1 ? context[context.length - 2] : null;\n                  let delTo, insert = \"\";\n                  if (next && next.item) { // Re-add marker for the list at the next level\n                      delTo = line.from + next.from;\n                      insert = next.marker(doc, 1);\n                  }\n                  else {\n                      delTo = line.from + (next ? next.to : 0);\n                  }\n                  let changes = [{ from: delTo, to: pos, insert }];\n                  if (inner.node.name == \"OrderedList\")\n                      renumberList(inner.item, doc, changes, -2);\n                  if (next && next.node.name == \"OrderedList\")\n                      renumberList(next.item, doc, changes);\n                  return { range: EditorSelection.cursor(delTo + insert.length), changes };\n              }\n              else { // Move second item down, making tight two-item list non-tight\n                  let insert = blankLine(context, state, line);\n                  return { range: EditorSelection.cursor(pos + insert.length + 1),\n                      changes: { from: line.from, insert: insert + state.lineBreak } };\n              }\n          }\n          if (inner.node.name == \"Blockquote\" && emptyLine && line.from) {\n              let prevLine = doc.lineAt(line.from - 1), quoted = />\\s*$/.exec(prevLine.text);\n              // Two aligned empty quoted lines in a row\n              if (quoted && quoted.index == inner.from) {\n                  let changes = state.changes([{ from: prevLine.from + quoted.index, to: prevLine.to },\n                      { from: line.from + inner.from, to: line.to }]);\n                  return { range: range.map(changes), changes };\n              }\n          }\n          let changes = [];\n          if (inner.node.name == \"OrderedList\")\n              renumberList(inner.item, doc, changes);\n          let continued = inner.item && inner.item.from < line.from;\n          let insert = \"\";\n          // If not dedented\n          if (!continued || /^[\\s\\d.)\\-+*>]*/.exec(line.text)[0].length >= inner.to) {\n              for (let i = 0, e = context.length - 1; i <= e; i++) {\n                  insert += i == e && !continued ? context[i].marker(doc, 1)\n                      : context[i].blank(i < e ? countColumn(line.text, 4, context[i + 1].from) - insert.length : null);\n              }\n          }\n          let from = pos;\n          while (from > line.from && /\\s/.test(line.text.charAt(from - line.from - 1)))\n              from--;\n          insert = normalizeIndent(insert, state);\n          if (nonTightList(inner.node, state.doc))\n              insert = blankLine(context, state, line) + state.lineBreak + insert;\n          changes.push({ from, to: pos, insert: state.lineBreak + insert });\n          return { range: EditorSelection.cursor(from + insert.length + 1), changes };\n      });\n      if (dont)\n          return false;\n      dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n      return true;\n  };\n  /**\n  This command, when invoked in Markdown context with cursor\n  selection(s), will create a new line with the markup for\n  blockquotes and lists that were active on the old line. If the\n  cursor was directly after the end of the markup for the old line,\n  trailing whitespace and list markers are removed from that line.\n\n  The command does nothing in non-Markdown context, so it should\n  not be used as the only binding for Enter (even in a Markdown\n  document, HTML and code regions might use a different language).\n  */\n  const insertNewlineContinueMarkup = /*@__PURE__*/insertNewlineContinueMarkupCommand();\n  function isMark(node) {\n      return node.name == \"QuoteMark\" || node.name == \"ListMark\";\n  }\n  function nonTightList(node, doc) {\n      if (node.name != \"OrderedList\" && node.name != \"BulletList\")\n          return false;\n      let first = node.firstChild, second = node.getChild(\"ListItem\", \"ListItem\");\n      if (!second)\n          return false;\n      let line1 = doc.lineAt(first.to), line2 = doc.lineAt(second.from);\n      let empty = /^[\\s>]*$/.test(line1.text);\n      return line1.number + (empty ? 0 : 1) < line2.number;\n  }\n  function blankLine(context, state, line) {\n      let insert = \"\";\n      for (let i = 0, e = context.length - 2; i <= e; i++) {\n          insert += context[i].blank(i < e\n              ? countColumn(line.text, 4, context[i + 1].from) - insert.length\n              : null, i < e);\n      }\n      return normalizeIndent(insert, state);\n  }\n  function contextNodeForDelete(tree, pos) {\n      let node = tree.resolveInner(pos, -1), scan = pos;\n      if (isMark(node)) {\n          scan = node.from;\n          node = node.parent;\n      }\n      for (let prev; prev = node.childBefore(scan);) {\n          if (isMark(prev)) {\n              scan = prev.from;\n          }\n          else if (prev.name == \"OrderedList\" || prev.name == \"BulletList\") {\n              node = prev.lastChild;\n              scan = node.to;\n          }\n          else {\n              break;\n          }\n      }\n      return node;\n  }\n  /**\n  This command will, when invoked in a Markdown context with the\n  cursor directly after list or blockquote markup, delete one level\n  of markup. When the markup is for a list, it will be replaced by\n  spaces on the first invocation (a further invocation will delete\n  the spaces), to make it easy to continue a list.\n\n  When not after Markdown block markup, this command will return\n  false, so it is intended to be bound alongside other deletion\n  commands, with a higher precedence than the more generic commands.\n  */\n  const deleteMarkupBackward = ({ state, dispatch }) => {\n      let tree = syntaxTree(state);\n      let dont = null, changes = state.changeByRange(range => {\n          let pos = range.from, { doc } = state;\n          if (range.empty && markdownLanguage.isActiveAt(state, range.from)) {\n              let line = doc.lineAt(pos);\n              let context = getContext(contextNodeForDelete(tree, pos), doc);\n              if (context.length) {\n                  let inner = context[context.length - 1];\n                  let spaceEnd = inner.to - inner.spaceAfter.length + (inner.spaceAfter ? 1 : 0);\n                  // Delete extra trailing space after markup\n                  if (pos - line.from > spaceEnd && !/\\S/.test(line.text.slice(spaceEnd, pos - line.from)))\n                      return { range: EditorSelection.cursor(line.from + spaceEnd),\n                          changes: { from: line.from + spaceEnd, to: pos } };\n                  if (pos - line.from == spaceEnd &&\n                      // Only apply this if we're on the line that has the\n                      // construct's syntax, or there's only indentation in the\n                      // target range\n                      (!inner.item || line.from <= inner.item.from || !/\\S/.test(line.text.slice(0, inner.to)))) {\n                      let start = line.from + inner.from;\n                      // Replace a list item marker with blank space\n                      if (inner.item && inner.node.from < inner.item.from && /\\S/.test(line.text.slice(inner.from, inner.to))) {\n                          let insert = inner.blank(countColumn(line.text, 4, inner.to) - countColumn(line.text, 4, inner.from));\n                          if (start == line.from)\n                              insert = normalizeIndent(insert, state);\n                          return { range: EditorSelection.cursor(start + insert.length),\n                              changes: { from: start, to: line.from + inner.to, insert } };\n                      }\n                      // Delete one level of indentation\n                      if (start < pos)\n                          return { range: EditorSelection.cursor(start), changes: { from: start, to: pos } };\n                  }\n              }\n          }\n          return dont = { range };\n      });\n      if (dont)\n          return false;\n      dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"delete\" }));\n      return true;\n  };\n\n  /**\n  A small keymap with Markdown-specific bindings. Binds Enter to\n  [`insertNewlineContinueMarkup`](https://codemirror.net/6/docs/ref/#lang-markdown.insertNewlineContinueMarkup)\n  and Backspace to\n  [`deleteMarkupBackward`](https://codemirror.net/6/docs/ref/#lang-markdown.deleteMarkupBackward).\n  */\n  const markdownKeymap = [\n      { key: \"Enter\", run: insertNewlineContinueMarkup },\n      { key: \"Backspace\", run: deleteMarkupBackward }\n  ];\n  const htmlNoMatch = /*@__PURE__*/html({ matchClosingTags: false });\n  /**\n  Markdown language support.\n  */\n  function markdown(config = {}) {\n      let { codeLanguages, defaultCodeLanguage, addKeymap = true, base: { parser } = commonmarkLanguage, completeHTMLTags = true, pasteURLAsLink: pasteURL = true, htmlTagLanguage = htmlNoMatch } = config;\n      if (!(parser instanceof MarkdownParser))\n          throw new RangeError(\"Base parser provided to `markdown` should be a Markdown parser\");\n      let extensions = config.extensions ? [config.extensions] : [];\n      let support = [htmlTagLanguage.support, headerIndent], defaultCode;\n      if (pasteURL)\n          support.push(pasteURLAsLink);\n      if (defaultCodeLanguage instanceof LanguageSupport) {\n          support.push(defaultCodeLanguage.support);\n          defaultCode = defaultCodeLanguage.language;\n      }\n      else if (defaultCodeLanguage) {\n          defaultCode = defaultCodeLanguage;\n      }\n      let codeParser = codeLanguages || defaultCode ? getCodeParser(codeLanguages, defaultCode) : undefined;\n      extensions.push(parseCode({ codeParser, htmlParser: htmlTagLanguage.language.parser }));\n      if (addKeymap)\n          support.push(Prec.high(keymap.of(markdownKeymap)));\n      let lang = mkLang(parser.configure(extensions));\n      if (completeHTMLTags)\n          support.push(lang.data.of({ autocomplete: htmlTagCompletion }));\n      return new LanguageSupport(lang, support);\n  }\n  function htmlTagCompletion(context) {\n      let { state, pos } = context, m = /<[:\\-\\.\\w\\u00b7-\\uffff]*$/.exec(state.sliceDoc(pos - 25, pos));\n      if (!m)\n          return null;\n      let tree = syntaxTree(state).resolveInner(pos, -1);\n      while (tree && !tree.type.isTop) {\n          if (tree.name == \"CodeBlock\" || tree.name == \"FencedCode\" || tree.name == \"ProcessingInstructionBlock\" ||\n              tree.name == \"CommentBlock\" || tree.name == \"Link\" || tree.name == \"Image\")\n              return null;\n          tree = tree.parent;\n      }\n      return {\n          from: pos - m[0].length, to: pos,\n          options: htmlTagCompletions(),\n          validFor: /^<[:\\-\\.\\w\\u00b7-\\uffff]*$/\n      };\n  }\n  let _tagCompletions = null;\n  function htmlTagCompletions() {\n      if (_tagCompletions)\n          return _tagCompletions;\n      let result = htmlCompletionSource(new CompletionContext(EditorState.create({ extensions: htmlNoMatch }), 0, true));\n      return _tagCompletions = result ? result.options : [];\n  }\n  const nonPlainText = /code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i;\n  /**\n  An extension that intercepts pastes when the pasted content looks\n  like a URL and the selection is non-empty and selects regular\n  text, making the selection a link with the pasted URL as target.\n  */\n  const pasteURLAsLink = /*@__PURE__*/EditorView.domEventHandlers({\n      paste: (event, view) => {\n          var _a;\n          let { main } = view.state.selection;\n          if (main.empty)\n              return false;\n          let link = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData(\"text/plain\");\n          if (!link || !/^(https?:\\/\\/|mailto:|xmpp:|www\\.)/.test(link))\n              return false;\n          if (/^www\\./.test(link))\n              link = \"https://\" + link;\n          if (!markdownLanguage.isActiveAt(view.state, main.from, 1))\n              return false;\n          let tree = syntaxTree(view.state), crossesNode = false;\n          // Verify that no nodes are started/ended between the selection\n          // points, and we're not inside any non-plain-text construct.\n          tree.iterate({\n              from: main.from, to: main.to,\n              enter: node => { if (node.from > main.from || nonPlainText.test(node.name))\n                  crossesNode = true; },\n              leave: node => { if (node.to < main.to)\n                  crossesNode = true; }\n          });\n          if (crossesNode)\n              return false;\n          view.dispatch({\n              changes: [{ from: main.from, insert: \"[\" }, { from: main.to, insert: `](${link})` }],\n              userEvent: \"input.paste\",\n              scrollIntoView: true\n          });\n          return true;\n      }\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const printKeyword = 1,\n    indent = 194,\n    dedent = 195,\n    newline$1 = 196,\n    blankLineStart = 197,\n    newlineBracketed = 198,\n    eof$1 = 199,\n    stringContent = 200,\n    Escape = 2,\n    replacementStart = 3,\n    stringEnd = 201,\n    ParenL = 24,\n    ParenthesizedExpression = 25,\n    TupleExpression = 49,\n    ComprehensionExpression = 50,\n    BracketL$1 = 55,\n    ArrayExpression = 56,\n    ArrayComprehensionExpression = 57,\n    BraceL$1 = 59,\n    DictionaryExpression = 60,\n    DictionaryComprehensionExpression = 61,\n    SetExpression = 62,\n    SetComprehensionExpression = 63,\n    ArgList = 65,\n    subscript = 238,\n    String$1 = 71,\n    stringStart = 241,\n    stringStartD = 242,\n    stringStartL = 243,\n    stringStartLD = 244,\n    stringStartR = 245,\n    stringStartRD = 246,\n    stringStartRL = 247,\n    stringStartRLD = 248,\n    FormatString = 72,\n    stringStartF = 249,\n    stringStartFD = 250,\n    stringStartFL = 251,\n    stringStartFLD = 252,\n    stringStartFR = 253,\n    stringStartFRD = 254,\n    stringStartFRL = 255,\n    stringStartFRLD = 256,\n    FormatReplacement = 73,\n    nestedFormatReplacement = 77,\n    importList = 263,\n    TypeParamList = 112,\n    ParamList = 130,\n    SequencePattern = 151,\n    MappingPattern = 152,\n    PatternArgList = 155;\n\n  const newline = 10, carriageReturn = 13, space = 32, tab = 9, hash = 35, parenOpen = 40, dot = 46,\n        braceOpen = 123, braceClose = 125, singleQuote = 39, doubleQuote = 34, backslash = 92,\n        letter_o = 111, letter_x = 120, letter_N = 78, letter_u = 117, letter_U = 85;\n\n  const bracketed = new Set([\n    ParenthesizedExpression, TupleExpression, ComprehensionExpression, importList, ArgList, ParamList,\n    ArrayExpression, ArrayComprehensionExpression, subscript,\n    SetExpression, SetComprehensionExpression, FormatString, FormatReplacement, nestedFormatReplacement,\n    DictionaryExpression, DictionaryComprehensionExpression,\n    SequencePattern, MappingPattern, PatternArgList, TypeParamList\n  ]);\n\n  function isLineBreak(ch) {\n    return ch == newline || ch == carriageReturn\n  }\n\n  function isHex(ch) {\n    return ch >= 48 && ch <= 57 || ch >= 65 && ch <= 70 || ch >= 97 && ch <= 102\n  }\n\n  const newlines$1 = new ExternalTokenizer((input, stack) => {\n    let prev;\n    if (input.next < 0) {\n      input.acceptToken(eof$1);\n    } else if (stack.context.flags & cx_Bracketed) {\n      if (isLineBreak(input.next)) input.acceptToken(newlineBracketed, 1);\n    } else if (((prev = input.peek(-1)) < 0 || isLineBreak(prev)) &&\n               stack.canShift(blankLineStart)) {\n      let spaces = 0;\n      while (input.next == space || input.next == tab) { input.advance(); spaces++; }\n      if (input.next == newline || input.next == carriageReturn || input.next == hash)\n        input.acceptToken(blankLineStart, -spaces);\n    } else if (isLineBreak(input.next)) {\n      input.acceptToken(newline$1, 1);\n    }\n  }, {contextual: true});\n\n  const indentation$1 = new ExternalTokenizer((input, stack) => {\n    let context = stack.context;\n    if (context.flags) return\n    let prev = input.peek(-1);\n    if (prev == newline || prev == carriageReturn) {\n      let depth = 0, chars = 0;\n      for (;;) {\n        if (input.next == space) depth++;\n        else if (input.next == tab) depth += 8 - (depth % 8);\n        else break\n        input.advance();\n        chars++;\n      }\n      if (depth != context.indent &&\n          input.next != newline && input.next != carriageReturn && input.next != hash) {\n        if (depth < context.indent) input.acceptToken(dedent, -chars);\n        else input.acceptToken(indent);\n      }\n    }\n  });\n\n  // Flags used in Context objects\n  const cx_Bracketed = 1, cx_String = 2, cx_DoubleQuote = 4, cx_Long = 8, cx_Raw = 16, cx_Format = 32;\n\n  function Context$1(parent, indent, flags) {\n    this.parent = parent;\n    this.indent = indent;\n    this.flags = flags;\n    this.hash = (parent ? parent.hash + parent.hash << 8 : 0) + indent + (indent << 4) + flags + (flags << 6);\n  }\n\n  const topIndent = new Context$1(null, 0, 0);\n\n  function countIndent(space) {\n    let depth = 0;\n    for (let i = 0; i < space.length; i++)\n      depth += space.charCodeAt(i) == tab ? 8 - (depth % 8) : 1;\n    return depth\n  }\n\n  const stringFlags = new Map([\n    [stringStart, 0],\n    [stringStartD, cx_DoubleQuote],\n    [stringStartL, cx_Long],\n    [stringStartLD, cx_Long | cx_DoubleQuote],\n    [stringStartR, cx_Raw],\n    [stringStartRD, cx_Raw | cx_DoubleQuote],\n    [stringStartRL, cx_Raw | cx_Long],\n    [stringStartRLD, cx_Raw | cx_Long | cx_DoubleQuote],\n    [stringStartF, cx_Format],\n    [stringStartFD, cx_Format | cx_DoubleQuote],\n    [stringStartFL, cx_Format | cx_Long],\n    [stringStartFLD, cx_Format | cx_Long | cx_DoubleQuote],\n    [stringStartFR, cx_Format | cx_Raw],\n    [stringStartFRD, cx_Format | cx_Raw | cx_DoubleQuote],\n    [stringStartFRL, cx_Format | cx_Raw | cx_Long],\n    [stringStartFRLD, cx_Format | cx_Raw | cx_Long | cx_DoubleQuote]\n  ].map(([term, flags]) => [term, flags | cx_String]));\n\n  const trackIndent = new ContextTracker({\n    start: topIndent,\n    reduce(context, term, _, input) {\n      if ((context.flags & cx_Bracketed) && bracketed.has(term) ||\n          (term == String$1 || term == FormatString) && (context.flags & cx_String))\n        return context.parent\n      return context\n    },\n    shift(context, term, stack, input) {\n      if (term == indent)\n        return new Context$1(context, countIndent(input.read(input.pos, stack.pos)), 0)\n      if (term == dedent)\n        return context.parent\n      if (term == ParenL || term == BracketL$1 || term == BraceL$1 || term == replacementStart)\n        return new Context$1(context, 0, cx_Bracketed)\n      if (stringFlags.has(term))\n        return new Context$1(context, 0, stringFlags.get(term) | (context.flags & cx_Bracketed))\n      return context\n    },\n    hash(context) { return context.hash }\n  });\n\n  const legacyPrint = new ExternalTokenizer(input => {\n    for (let i = 0; i < 5; i++) {\n      if (input.next != \"print\".charCodeAt(i)) return\n      input.advance();\n    }\n    if (/\\w/.test(String.fromCharCode(input.next))) return\n    for (let off = 0;; off++) {\n      let next = input.peek(off);\n      if (next == space || next == tab) continue\n      if (next != parenOpen && next != dot && next != newline && next != carriageReturn && next != hash)\n        input.acceptToken(printKeyword);\n      return\n    }\n  });\n\n  const strings = new ExternalTokenizer((input, stack) => {\n    let {flags} = stack.context;\n    let quote = (flags & cx_DoubleQuote) ? doubleQuote : singleQuote;\n    let long = (flags & cx_Long) > 0;\n    let escapes = !(flags & cx_Raw);\n    let format = (flags & cx_Format) > 0;\n\n    let start = input.pos;\n    for (;;) {\n      if (input.next < 0) {\n        break\n      } else if (format && input.next == braceOpen) {\n        if (input.peek(1) == braceOpen) {\n          input.advance(2);\n        } else {\n          if (input.pos == start) {\n            input.acceptToken(replacementStart, 1);\n            return\n          }\n          break\n        }\n      } else if (escapes && input.next == backslash) {\n        if (input.pos == start) {\n          input.advance();\n          let escaped = input.next;\n          if (escaped >= 0) {\n            input.advance();\n            skipEscape(input, escaped);\n          }\n          input.acceptToken(Escape);\n          return\n        }\n        break\n      } else if (input.next == backslash && !escapes && input.peek(1) > -1) {\n        // Raw strings still ignore escaped quotes, weirdly.\n        input.advance(2);\n      } else if (input.next == quote && (!long || input.peek(1) == quote && input.peek(2) == quote)) {\n        if (input.pos == start) {\n          input.acceptToken(stringEnd, long ? 3 : 1);\n          return\n        }\n        break\n      } else if (input.next == newline) {\n        if (long) {\n          input.advance();\n        } else if (input.pos == start) {\n          input.acceptToken(stringEnd);\n          return\n        }\n        break\n      } else {\n        input.advance();\n      }\n    }\n    if (input.pos > start) input.acceptToken(stringContent);\n  });\n\n  function skipEscape(input, ch) {\n    if (ch == letter_o) {\n      for (let i = 0; i < 2 && input.next >= 48 && input.next <= 55; i++) input.advance();\n    } else if (ch == letter_x) {\n      for (let i = 0; i < 2 && isHex(input.next); i++) input.advance();\n    } else if (ch == letter_u) {\n      for (let i = 0; i < 4 && isHex(input.next); i++) input.advance();\n    } else if (ch == letter_U) {\n      for (let i = 0; i < 8 && isHex(input.next); i++) input.advance();\n    } else if (ch == letter_N) {\n      if (input.next == braceOpen) {\n        input.advance();\n        while (input.next >= 0 && input.next != braceClose && input.next != singleQuote &&\n               input.next != doubleQuote && input.next != newline) input.advance();\n        if (input.next == braceClose) input.advance();\n      }\n    }\n  }\n\n  const pythonHighlighting = styleTags({\n    \"async \\\"*\\\" \\\"**\\\" FormatConversion FormatSpec\": tags$1.modifier,\n    \"for while if elif else try except finally return raise break continue with pass assert await yield match case\": tags$1.controlKeyword,\n    \"in not and or is del\": tags$1.operatorKeyword,\n    \"from def class global nonlocal lambda\": tags$1.definitionKeyword,\n    import: tags$1.moduleKeyword,\n    \"with as print\": tags$1.keyword,\n    Boolean: tags$1.bool,\n    None: tags$1.null,\n    VariableName: tags$1.variableName,\n    \"CallExpression/VariableName\": tags$1.function(tags$1.variableName),\n    \"FunctionDefinition/VariableName\": tags$1.function(tags$1.definition(tags$1.variableName)),\n    \"ClassDefinition/VariableName\": tags$1.definition(tags$1.className),\n    PropertyName: tags$1.propertyName,\n    \"CallExpression/MemberExpression/PropertyName\": tags$1.function(tags$1.propertyName),\n    Comment: tags$1.lineComment,\n    Number: tags$1.number,\n    String: tags$1.string,\n    FormatString: tags$1.special(tags$1.string),\n    Escape: tags$1.escape,\n    UpdateOp: tags$1.updateOperator,\n    \"ArithOp!\": tags$1.arithmeticOperator,\n    BitOp: tags$1.bitwiseOperator,\n    CompareOp: tags$1.compareOperator,\n    AssignOp: tags$1.definitionOperator,\n    Ellipsis: tags$1.punctuation,\n    At: tags$1.meta,\n    \"( )\": tags$1.paren,\n    \"[ ]\": tags$1.squareBracket,\n    \"{ }\": tags$1.brace,\n    \".\": tags$1.derefOperator,\n    \", ;\": tags$1.separator\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const spec_identifier = {__proto__:null,await:44, or:54, and:56, in:60, not:62, is:64, if:70, else:72, lambda:76, yield:94, from:96, async:102, for:104, None:162, True:164, False:164, del:178, pass:182, break:186, continue:190, return:194, raise:202, import:206, as:208, global:212, nonlocal:214, assert:218, type:223, elif:236, while:240, try:246, except:248, finally:250, with:254, def:258, class:268, match:279, case:285};\n  const parser$2 = LRParser.deserialize({\n    version: 14,\n    states: \"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j\",\n    stateData: \"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~\",\n    goto: \"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t\",\n    nodeNames: \" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard\",\n    maxTerm: 277,\n    context: trackIndent,\n    nodeProps: [\n      [\"isolate\", -5,4,71,72,73,77,\"\"],\n      [\"group\", -15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,\"Statement Statement\",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,\"Expression\",-10,114,116,119,121,122,126,128,133,135,138,\"Statement\",-9,143,144,147,148,150,151,152,153,154,\"Pattern\"],\n      [\"openedBy\", 23,\"(\",54,\"[\",58,\"{\"],\n      [\"closedBy\", 24,\")\",55,\"]\",59,\"}\"]\n    ],\n    propSources: [pythonHighlighting],\n    skippedNodes: [0,4],\n    repeatNodeCount: 34,\n    tokenData: \"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T\",\n    tokenizers: [legacyPrint, indentation$1, newlines$1, strings, 0, 1, 2, 3, 4],\n    topRules: {\"Script\":[0,5]},\n    specialized: [{term: 221, get: (value) => spec_identifier[value] || -1}],\n    tokenPrec: 7668\n  });\n\n  const cache = /*@__PURE__*/new NodeWeakMap();\n  const ScopeNodes = /*@__PURE__*/new Set([\n      \"Script\", \"Body\",\n      \"FunctionDefinition\", \"ClassDefinition\", \"LambdaExpression\",\n      \"ForStatement\", \"MatchClause\"\n  ]);\n  function defID(type) {\n      return (node, def, outer) => {\n          if (outer)\n              return false;\n          let id = node.node.getChild(\"VariableName\");\n          if (id)\n              def(id, type);\n          return true;\n      };\n  }\n  const gatherCompletions = {\n      FunctionDefinition: /*@__PURE__*/defID(\"function\"),\n      ClassDefinition: /*@__PURE__*/defID(\"class\"),\n      ForStatement(node, def, outer) {\n          if (outer)\n              for (let child = node.node.firstChild; child; child = child.nextSibling) {\n                  if (child.name == \"VariableName\")\n                      def(child, \"variable\");\n                  else if (child.name == \"in\")\n                      break;\n              }\n      },\n      ImportStatement(_node, def) {\n          var _a, _b;\n          let { node } = _node;\n          let isFrom = ((_a = node.firstChild) === null || _a === void 0 ? void 0 : _a.name) == \"from\";\n          for (let ch = node.getChild(\"import\"); ch; ch = ch.nextSibling) {\n              if (ch.name == \"VariableName\" && ((_b = ch.nextSibling) === null || _b === void 0 ? void 0 : _b.name) != \"as\")\n                  def(ch, isFrom ? \"variable\" : \"namespace\");\n          }\n      },\n      AssignStatement(node, def) {\n          for (let child = node.node.firstChild; child; child = child.nextSibling) {\n              if (child.name == \"VariableName\")\n                  def(child, \"variable\");\n              else if (child.name == \":\" || child.name == \"AssignOp\")\n                  break;\n          }\n      },\n      ParamList(node, def) {\n          for (let prev = null, child = node.node.firstChild; child; child = child.nextSibling) {\n              if (child.name == \"VariableName\" && (!prev || !/\\*|AssignOp/.test(prev.name)))\n                  def(child, \"variable\");\n              prev = child;\n          }\n      },\n      CapturePattern: /*@__PURE__*/defID(\"variable\"),\n      AsPattern: /*@__PURE__*/defID(\"variable\"),\n      __proto__: null\n  };\n  function getScope(doc, node) {\n      let cached = cache.get(node);\n      if (cached)\n          return cached;\n      let completions = [], top = true;\n      function def(node, type) {\n          let name = doc.sliceString(node.from, node.to);\n          completions.push({ label: name, type });\n      }\n      node.cursor(IterMode.IncludeAnonymous).iterate(node => {\n          if (node.name) {\n              let gather = gatherCompletions[node.name];\n              if (gather && gather(node, def, top) || !top && ScopeNodes.has(node.name))\n                  return false;\n              top = false;\n          }\n          else if (node.to - node.from > 8192) {\n              // Allow caching for bigger internal nodes\n              for (let c of getScope(doc, node.node))\n                  completions.push(c);\n              return false;\n          }\n      });\n      cache.set(node, completions);\n      return completions;\n  }\n  const Identifier$1 = /^[\\w\\xa1-\\uffff][\\w\\d\\xa1-\\uffff]*$/;\n  const dontComplete = [\"String\", \"FormatString\", \"Comment\", \"PropertyName\"];\n  /**\n  Completion source that looks up locally defined names in\n  Python code.\n  */\n  function localCompletionSource(context) {\n      let inner = syntaxTree(context.state).resolveInner(context.pos, -1);\n      if (dontComplete.indexOf(inner.name) > -1)\n          return null;\n      let isWord = inner.name == \"VariableName\" ||\n          inner.to - inner.from < 20 && Identifier$1.test(context.state.sliceDoc(inner.from, inner.to));\n      if (!isWord && !context.explicit)\n          return null;\n      let options = [];\n      for (let pos = inner; pos; pos = pos.parent) {\n          if (ScopeNodes.has(pos.name))\n              options = options.concat(getScope(context.state.doc, pos));\n      }\n      return {\n          options,\n          from: isWord ? inner.from : context.pos,\n          validFor: Identifier$1\n      };\n  }\n  const globals = /*@__PURE__*/[\n      \"__annotations__\", \"__builtins__\", \"__debug__\", \"__doc__\", \"__import__\", \"__name__\",\n      \"__loader__\", \"__package__\", \"__spec__\",\n      \"False\", \"None\", \"True\"\n  ].map(n => ({ label: n, type: \"constant\" })).concat(/*@__PURE__*/[\n      \"ArithmeticError\", \"AssertionError\", \"AttributeError\", \"BaseException\", \"BlockingIOError\",\n      \"BrokenPipeError\", \"BufferError\", \"BytesWarning\", \"ChildProcessError\", \"ConnectionAbortedError\",\n      \"ConnectionError\", \"ConnectionRefusedError\", \"ConnectionResetError\", \"DeprecationWarning\",\n      \"EOFError\", \"Ellipsis\", \"EncodingWarning\", \"EnvironmentError\", \"Exception\", \"FileExistsError\",\n      \"FileNotFoundError\", \"FloatingPointError\", \"FutureWarning\", \"GeneratorExit\", \"IOError\",\n      \"ImportError\", \"ImportWarning\", \"IndentationError\", \"IndexError\", \"InterruptedError\",\n      \"IsADirectoryError\", \"KeyError\", \"KeyboardInterrupt\", \"LookupError\", \"MemoryError\",\n      \"ModuleNotFoundError\", \"NameError\", \"NotADirectoryError\", \"NotImplemented\", \"NotImplementedError\",\n      \"OSError\", \"OverflowError\", \"PendingDeprecationWarning\", \"PermissionError\", \"ProcessLookupError\",\n      \"RecursionError\", \"ReferenceError\", \"ResourceWarning\", \"RuntimeError\", \"RuntimeWarning\",\n      \"StopAsyncIteration\", \"StopIteration\", \"SyntaxError\", \"SyntaxWarning\", \"SystemError\",\n      \"SystemExit\", \"TabError\", \"TimeoutError\", \"TypeError\", \"UnboundLocalError\", \"UnicodeDecodeError\",\n      \"UnicodeEncodeError\", \"UnicodeError\", \"UnicodeTranslateError\", \"UnicodeWarning\", \"UserWarning\",\n      \"ValueError\", \"Warning\", \"ZeroDivisionError\"\n  ].map(n => ({ label: n, type: \"type\" }))).concat(/*@__PURE__*/[\n      \"bool\", \"bytearray\", \"bytes\", \"classmethod\", \"complex\", \"float\", \"frozenset\", \"int\", \"list\",\n      \"map\", \"memoryview\", \"object\", \"range\", \"set\", \"staticmethod\", \"str\", \"super\", \"tuple\", \"type\"\n  ].map(n => ({ label: n, type: \"class\" }))).concat(/*@__PURE__*/[\n      \"abs\", \"aiter\", \"all\", \"anext\", \"any\", \"ascii\", \"bin\", \"breakpoint\", \"callable\", \"chr\",\n      \"compile\", \"delattr\", \"dict\", \"dir\", \"divmod\", \"enumerate\", \"eval\", \"exec\", \"exit\", \"filter\",\n      \"format\", \"getattr\", \"globals\", \"hasattr\", \"hash\", \"help\", \"hex\", \"id\", \"input\", \"isinstance\",\n      \"issubclass\", \"iter\", \"len\", \"license\", \"locals\", \"max\", \"min\", \"next\", \"oct\", \"open\",\n      \"ord\", \"pow\", \"print\", \"property\", \"quit\", \"repr\", \"reversed\", \"round\", \"setattr\", \"slice\",\n      \"sorted\", \"sum\", \"vars\", \"zip\"\n  ].map(n => ({ label: n, type: \"function\" })));\n  const snippets = [\n      /*@__PURE__*/snippetCompletion(\"def ${name}(${params}):\\n\\t${}\", {\n          label: \"def\",\n          detail: \"function\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"for ${name} in ${collection}:\\n\\t${}\", {\n          label: \"for\",\n          detail: \"loop\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"while ${}:\\n\\t${}\", {\n          label: \"while\",\n          detail: \"loop\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"try:\\n\\t${}\\nexcept ${error}:\\n\\t${}\", {\n          label: \"try\",\n          detail: \"/ except block\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"if ${}:\\n\\t\\n\", {\n          label: \"if\",\n          detail: \"block\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"if ${}:\\n\\t${}\\nelse:\\n\\t${}\", {\n          label: \"if\",\n          detail: \"/ else block\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"class ${name}:\\n\\tdef __init__(self, ${params}):\\n\\t\\t\\t${}\", {\n          label: \"class\",\n          detail: \"definition\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"import ${module}\", {\n          label: \"import\",\n          detail: \"statement\",\n          type: \"keyword\"\n      }),\n      /*@__PURE__*/snippetCompletion(\"from ${module} import ${names}\", {\n          label: \"from\",\n          detail: \"import\",\n          type: \"keyword\"\n      })\n  ];\n  /**\n  Autocompletion for built-in Python globals and keywords.\n  */\n  const globalCompletion = /*@__PURE__*/ifNotIn(dontComplete, /*@__PURE__*/completeFromList(/*@__PURE__*/globals.concat(snippets)));\n\n  function innerBody(context) {\n      let { node, pos } = context;\n      let lineIndent = context.lineIndent(pos, -1);\n      let found = null;\n      for (;;) {\n          let before = node.childBefore(pos);\n          if (!before) {\n              break;\n          }\n          else if (before.name == \"Comment\") {\n              pos = before.from;\n          }\n          else if (before.name == \"Body\" || before.name == \"MatchBody\") {\n              if (context.baseIndentFor(before) + context.unit <= lineIndent)\n                  found = before;\n              node = before;\n          }\n          else if (before.name == \"MatchClause\") {\n              node = before;\n          }\n          else if (before.type.is(\"Statement\")) {\n              node = before;\n          }\n          else {\n              break;\n          }\n      }\n      return found;\n  }\n  function indentBody(context, node) {\n      let base = context.baseIndentFor(node);\n      let line = context.lineAt(context.pos, -1), to = line.from + line.text.length;\n      // Don't consider blank, deindented lines at the end of the\n      // block part of the block\n      if (/^\\s*($|#)/.test(line.text) &&\n          context.node.to < to + 100 &&\n          !/\\S/.test(context.state.sliceDoc(to, context.node.to)) &&\n          context.lineIndent(context.pos, -1) <= base)\n          return null;\n      // A normally deindenting keyword that appears at a higher\n      // indentation than the block should probably be handled by the next\n      // level\n      if (/^\\s*(else:|elif |except |finally:|case\\s+[^=:]+:)/.test(context.textAfter) && context.lineIndent(context.pos, -1) > base)\n          return null;\n      return base + context.unit;\n  }\n  /**\n  A language provider based on the [Lezer Python\n  parser](https://github.com/lezer-parser/python), extended with\n  highlighting and indentation information.\n  */\n  const pythonLanguage = /*@__PURE__*/LRLanguage.define({\n      name: \"python\",\n      parser: /*@__PURE__*/parser$2.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  Body: context => {\n                      var _a;\n                      let body = /^\\s*(#|$)/.test(context.textAfter) && innerBody(context) || context.node;\n                      return (_a = indentBody(context, body)) !== null && _a !== void 0 ? _a : context.continue();\n                  },\n                  MatchBody: context => {\n                      var _a;\n                      let inner = innerBody(context);\n                      return (_a = indentBody(context, inner || context.node)) !== null && _a !== void 0 ? _a : context.continue();\n                  },\n                  IfStatement: cx => /^\\s*(else:|elif )/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                  \"ForStatement WhileStatement\": cx => /^\\s*else:/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                  TryStatement: cx => /^\\s*(except[ :]|finally:|else:)/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                  MatchStatement: cx => {\n                      if (/^\\s*case /.test(cx.textAfter))\n                          return cx.baseIndent + cx.unit;\n                      return cx.continue();\n                  },\n                  \"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression\": /*@__PURE__*/delimitedIndent({ closing: \")\" }),\n                  \"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression\": /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                  \"ArrayExpression ArrayComprehensionExpression\": /*@__PURE__*/delimitedIndent({ closing: \"]\" }),\n                  MemberExpression: cx => cx.baseIndent + cx.unit,\n                  \"String FormatString\": () => null,\n                  Script: context => {\n                      var _a;\n                      let inner = innerBody(context);\n                      return (_a = (inner && indentBody(context, inner))) !== null && _a !== void 0 ? _a : context.continue();\n                  },\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  \"ArrayExpression DictionaryExpression SetExpression TupleExpression\": foldInside,\n                  Body: (node, state) => ({ from: node.from + 1, to: node.to - (node.to == state.doc.length ? 0 : 1) }),\n                  \"String FormatString\": (node, state) => ({ from: state.doc.lineAt(node.from).to, to: node.to })\n              })\n          ],\n      }),\n      languageData: {\n          closeBrackets: {\n              brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"'''\", '\"\"\"'],\n              stringPrefixes: [\"f\", \"fr\", \"rf\", \"r\", \"u\", \"b\", \"br\", \"rb\",\n                  \"F\", \"FR\", \"RF\", \"R\", \"U\", \"B\", \"BR\", \"RB\"]\n          },\n          commentTokens: { line: \"#\" },\n          // Indent logic logic are triggered upon below input patterns\n          indentOnInput: /^\\s*([\\}\\]\\)]|else:|elif |except |finally:|case\\s+[^:]*:?)$/,\n      }\n  });\n  /**\n  Python language support.\n  */\n  function python() {\n      return new LanguageSupport(pythonLanguage, [\n          pythonLanguage.data.of({ autocomplete: localCompletionSource }),\n          pythonLanguage.data.of({ autocomplete: globalCompletion }),\n      ]);\n  }\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const blockEnd = 63,\n    eof = 64,\n    DirectiveEnd = 1,\n    DocEnd = 2,\n    sequenceStartMark = 3,\n    sequenceContinueMark = 4,\n    explicitMapStartMark = 5,\n    explicitMapContinueMark = 6,\n    flowMapMark = 7,\n    mapStartMark = 65,\n    mapContinueMark = 66,\n    Literal = 8,\n    QuotedLiteral = 9,\n    Anchor = 10,\n    Alias = 11,\n    Tag = 12,\n    BlockLiteralContent = 13,\n    BracketL = 19,\n    FlowSequence = 20,\n    Colon = 29,\n    BraceL = 33,\n    FlowMapping = 34,\n    BlockLiteralHeader = 47;\n\n  const\n    type_Top = 0, // Top document level\n    type_Seq = 1, // Block sequence\n    type_Map = 2, // Block mapping\n    type_Flow = 3, // Inside flow content\n    type_Lit = 4; // Block literal with explicit indentation\n\n  class Context {\n    constructor(parent, depth, type) {\n      this.parent = parent;\n      this.depth = depth;\n      this.type = type;\n      this.hash = (parent ? parent.hash + parent.hash << 8 : 0) + depth + (depth << 4) + type;\n    }\n  }\n\n  Context.top = new Context(null, -1, type_Top);\n\n  function findColumn(input, pos) {\n    for (let col = 0, p = pos - input.pos - 1;; p--, col++) {\n      let ch = input.peek(p);\n      if (isBreakSpace(ch) || ch == -1) return col\n    }\n  }\n\n  function isNonBreakSpace(ch) {\n    return ch == 32 || ch == 9\n  }\n\n  function isBreakSpace(ch) {\n    return ch == 10 || ch == 13\n  }\n\n  function isSpace$1(ch) {\n    return isNonBreakSpace(ch) || isBreakSpace(ch)\n  }\n\n  function isSep(ch) {\n    return ch < 0 || isSpace$1(ch)\n  }\n\n  const indentation = new ContextTracker({\n    start: Context.top,\n    reduce(context, term) {\n      return context.type == type_Flow && (term == FlowSequence || term == FlowMapping) ? context.parent : context\n    },\n    shift(context, term, stack, input) {\n      if (term == sequenceStartMark)\n        return new Context(context, findColumn(input, input.pos), type_Seq)\n      if (term == mapStartMark || term == explicitMapStartMark)\n        return new Context(context, findColumn(input, input.pos), type_Map)\n      if (term == blockEnd)\n        return context.parent\n      if (term == BracketL || term == BraceL)\n        return new Context(context, 0, type_Flow)\n      if (term == BlockLiteralContent && context.type == type_Lit)\n        return context.parent\n      if (term == BlockLiteralHeader) {\n        let indent = /[1-9]/.exec(input.read(input.pos, stack.pos));\n        if (indent) return new Context(context, context.depth + (+indent[0]), type_Lit)\n      }\n      return context\n    },\n    hash(context) { return context.hash }\n  });\n\n  function three(input, ch, off = 0) {\n    return input.peek(off) == ch && input.peek(off + 1) == ch && input.peek(off + 2) == ch && isSep(input.peek(off + 3))\n  }\n\n  const newlines = new ExternalTokenizer((input, stack) => {\n    if (input.next == -1 && stack.canShift(eof))\n      return input.acceptToken(eof)\n    let prev = input.peek(-1);\n    if ((isBreakSpace(prev) || prev < 0) && stack.context.type != type_Flow) {\n      if (three(input, 45 /* '-' */)) {\n        if (stack.canShift(blockEnd)) input.acceptToken(blockEnd);\n        else return input.acceptToken(DirectiveEnd, 3)\n      }\n      if (three(input, 46 /* '.' */)) {\n        if (stack.canShift(blockEnd)) input.acceptToken(blockEnd);\n        else return input.acceptToken(DocEnd, 3)\n      }\n      let depth = 0;\n      while (input.next == 32 /* ' ' */) { depth++; input.advance(); }\n      if ((depth < stack.context.depth ||\n           depth == stack.context.depth && stack.context.type == type_Seq &&\n           (input.next != 45 /* '-' */ || !isSep(input.peek(1)))) &&\n          // Not blank\n          input.next != -1 && !isBreakSpace(input.next) && input.next != 35 /* '#' */)\n        input.acceptToken(blockEnd, -depth);\n    }\n  }, {contextual: true});\n\n  const blockMark = new ExternalTokenizer((input, stack) => {\n    if (stack.context.type == type_Flow) {\n      if (input.next == 63 /* '?' */) {\n        input.advance();\n        if (isSep(input.next)) input.acceptToken(flowMapMark);\n      }\n      return\n    }\n    if (input.next == 45 /* '-' */) {\n      input.advance();\n      if (isSep(input.next))\n        input.acceptToken(stack.context.type == type_Seq && stack.context.depth == findColumn(input, input.pos - 1)\n                          ? sequenceContinueMark : sequenceStartMark);\n    } else if (input.next == 63 /* '?' */) {\n      input.advance();\n      if (isSep(input.next))\n        input.acceptToken(stack.context.type == type_Map && stack.context.depth == findColumn(input, input.pos - 1)\n                          ? explicitMapContinueMark : explicitMapStartMark);\n    } else {\n      let start = input.pos;\n      // Scan over a potential key to see if it is followed by a colon.\n      for (;;) {\n        if (isNonBreakSpace(input.next)) {\n          if (input.pos == start) return\n          input.advance();\n        } else if (input.next == 33 /* '!' */) {\n          readTag(input);\n        } else if (input.next == 38 /* '&' */) {\n          readAnchor(input);\n        } else if (input.next == 42 /* '*' */) {\n          readAnchor(input);\n          break\n        } else if (input.next == 39 /* \"'\" */ || input.next == 34 /* '\"' */) {\n          if (readQuoted(input, true)) break\n          return\n        } else if (input.next == 91 /* '[' */ || input.next == 123 /* '{' */) {\n          if (!scanBrackets(input)) return\n          break\n        } else {\n          readPlain(input, true, false, 0);\n          break\n        }\n      }\n      while (isNonBreakSpace(input.next)) input.advance();\n      if (input.next == 58 /* ':' */) {\n        if (input.pos == start && stack.canShift(Colon)) return\n        let after = input.peek(1);\n        if (isSep(after))\n          input.acceptTokenTo(stack.context.type == type_Map && stack.context.depth == findColumn(input, start)\n                              ? mapContinueMark : mapStartMark, start);\n      }\n    }\n  }, {contextual: true});\n\n  function uriChar(ch) {\n    return ch > 32 && ch < 127 && ch != 34 && ch != 37 && ch != 44 && ch != 60 &&\n      ch != 62 && ch != 92 && ch != 94 && ch != 96 && ch != 123 && ch != 124 && ch != 125\n  }\n\n  function hexChar(ch) {\n    return ch >= 48 && ch <= 57 || ch >= 97 && ch <= 102 || ch >= 65 && ch <= 70\n  }\n\n  function readUriChar(input, quoted) {\n    if (input.next == 37 /* '%' */) {\n      input.advance();\n      if (hexChar(input.next)) input.advance();\n      if (hexChar(input.next)) input.advance();\n      return true\n    } else if (uriChar(input.next) || quoted && input.next == 44 /* ',' */) {\n      input.advance();\n      return true\n    }\n    return false\n  }\n\n  function readTag(input) {\n    input.advance(); // !\n    if (input.next == 60 /* '<' */) {\n      input.advance();\n      for (;;) {\n        if (!readUriChar(input, true)) {\n          if (input.next == 62 /* '>' */) input.advance();\n          break\n        }\n      }\n    } else {\n      while (readUriChar(input, false)) {}\n    }\n  }\n\n  function readAnchor(input) {\n    input.advance();\n    while (!isSep(input.next) && charTag(input.tag) != \"f\") input.advance();\n  }\n    \n  function readQuoted(input, scan) {\n    let quote = input.next, lineBreak = false, start = input.pos;\n    input.advance();\n    for (;;) {\n      let ch = input.next;\n      if (ch < 0) break\n      input.advance();\n      if (ch == quote) {\n        if (ch == 39 /* \"'\" */) {\n          if (input.next == 39) input.advance();\n          else break\n        } else {\n          break\n        }\n      } else if (ch == 92 /* \"\\\\\" */ && quote == 34 /* '\"' */) {\n        if (input.next >= 0) input.advance();\n      } else if (isBreakSpace(ch)) {\n        if (scan) return false\n        lineBreak = true;\n      } else if (scan && input.pos >= start + 1024) {\n        return false\n      }\n    }\n    return !lineBreak\n  }\n\n  function scanBrackets(input) {\n    for (let stack = [], end = input.pos + 1024;;) {\n      if (input.next == 91 /* '[' */ || input.next == 123 /* '{' */) {\n        stack.push(input.next);\n        input.advance();\n      } else if (input.next == 39 /* \"'\" */ || input.next == 34 /* '\"' */) {\n        if (!readQuoted(input, true)) return false\n      } else if (input.next == 93 /* ']' */ || input.next == 125 /* '}' */) {\n        if (stack[stack.length - 1] != input.next - 2) return false\n        stack.pop();\n        input.advance();\n        if (!stack.length) return true\n      } else if (input.next < 0 || input.pos > end || isBreakSpace(input.next)) {\n        return false\n      } else {\n        input.advance();\n      }\n    }\n  }\n\n  // \"Safe char\" info for char codes 33 to 125. s: safe, i: indicator, f: flow indicator\n  const charTable = \"iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif\";\n\n  function charTag(ch) {\n    if (ch < 33) return \"u\"\n    if (ch > 125) return \"s\"\n    return charTable[ch - 33]\n  }\n\n  function isSafe(ch, inFlow) {\n    let tag = charTag(ch);\n    return tag != \"u\" && !(inFlow && tag == \"f\")\n  }\n\n  function readPlain(input, scan, inFlow, indent) {\n    if (charTag(input.next) == \"s\" ||\n        (input.next == 63 /* '?' */ || input.next == 58 /* ':' */ || input.next == 45 /* '-' */) &&\n        isSafe(input.peek(1), inFlow)) {\n      input.advance();\n    } else {\n      return false\n    }\n    let start = input.pos;\n    for (;;) {\n      let next = input.next, off = 0, lineIndent = indent + 1;\n      while (isSpace$1(next)) {\n        if (isBreakSpace(next)) {\n          if (scan) return false\n          lineIndent = 0;\n        } else {\n          lineIndent++;\n        }\n        next = input.peek(++off);\n      }\n      let safe = next >= 0 &&\n          (next == 58 /* ':' */ ? isSafe(input.peek(off + 1), inFlow) :\n           next == 35 /* '#' */ ? input.peek(off - 1) != 32 /* ' ' */ :\n           isSafe(next, inFlow));\n      if (!safe || !inFlow && lineIndent <= indent ||\n          lineIndent == 0 && !inFlow && (three(input, 45, off) || three(input, 46, off)))\n        break\n      if (scan && charTag(next) == \"f\") return false\n      for (let i = off; i >= 0; i--) input.advance();\n      if (scan && input.pos > start + 1024) return false\n    }\n    return true\n  }\n\n  const literals = new ExternalTokenizer((input, stack) => {\n    if (input.next == 33 /* '!' */) {\n      readTag(input);\n      input.acceptToken(Tag);\n    } else if (input.next == 38 /* '&' */ || input.next == 42 /* '*' */) {\n      let token = input.next == 38 ? Anchor : Alias;\n      readAnchor(input);\n      input.acceptToken(token);\n    } else if (input.next == 39 /* \"'\" */ || input.next == 34 /* '\"' */) {\n      readQuoted(input, false);\n      input.acceptToken(QuotedLiteral);\n    } else if (readPlain(input, false, stack.context.type == type_Flow, stack.context.depth)) {\n      input.acceptToken(Literal);\n    }\n  });\n\n  const blockLiteral = new ExternalTokenizer((input, stack) => {\n    let indent = stack.context.type == type_Lit ? stack.context.depth : -1, upto = input.pos;\n    scan: for (;;) {\n      let depth = 0, next = input.next;\n      while (next == 32 /* ' ' */) next = input.peek(++depth);\n      if (!depth && (three(input, 45, depth) || three(input, 46, depth))) break\n      if (!isBreakSpace(next)) {\n        if (indent < 0) indent = Math.max(stack.context.depth + 1, depth);\n        if (depth < indent) break\n      }\n      for (;;) {\n        if (input.next < 0) break scan\n        let isBreak = isBreakSpace(input.next);\n        input.advance();\n        if (isBreak) continue scan\n        upto = input.pos;\n      }\n    }\n    input.acceptTokenTo(BlockLiteralContent, upto);\n  });\n\n  const yamlHighlighting = styleTags({\n    DirectiveName: tags$1.keyword,\n    DirectiveContent: tags$1.attributeValue,\n    \"DirectiveEnd DocEnd\": tags$1.meta,\n    QuotedLiteral: tags$1.string,\n    BlockLiteralHeader: tags$1.special(tags$1.string),\n    BlockLiteralContent: tags$1.content,\n    Literal: tags$1.content,\n    \"Key/Literal Key/QuotedLiteral\": tags$1.definition(tags$1.propertyName),\n    \"Anchor Alias\": tags$1.labelName,\n    Tag: tags$1.typeName,\n    Comment: tags$1.lineComment,\n    \": , -\": tags$1.separator,\n    \"?\": tags$1.punctuation,\n    \"[ ]\": tags$1.squareBracket,\n    \"{ }\": tags$1.brace\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const parser$1 = LRParser.deserialize({\n    version: 14,\n    states: \"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y\",\n    stateData: \";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O\",\n    goto: \",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv\",\n    nodeNames: \" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document\",\n    maxTerm: 74,\n    context: indentation,\n    nodeProps: [\n      [\"isolate\", -3,8,9,14,\"\"],\n      [\"openedBy\", 18,\"[\",32,\"{\"],\n      [\"closedBy\", 19,\"]\",33,\"}\"]\n    ],\n    propSources: [yamlHighlighting],\n    skippedNodes: [0],\n    repeatNodeCount: 6,\n    tokenData: \"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P\",\n    tokenizers: [newlines, blockMark, literals, blockLiteral, 0, 1],\n    topRules: {\"Stream\":[0,15]},\n    tokenPrec: 0\n  });\n\n  /**\n  A language provider based on the [Lezer YAML\n  parser](https://github.com/lezer-parser/yaml), extended with\n  highlighting and indentation information.\n  */\n  const yamlLanguage = /*@__PURE__*/LRLanguage.define({\n      name: \"yaml\",\n      parser: /*@__PURE__*/parser$1.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  Stream: cx => {\n                      for (let before = cx.node.resolve(cx.pos, -1); before && before.to >= cx.pos; before = before.parent) {\n                          if (before.name == \"BlockLiteralContent\" && before.from < before.to)\n                              return cx.baseIndentFor(before);\n                          if (before.name == \"BlockLiteral\")\n                              return cx.baseIndentFor(before) + cx.unit;\n                          if (before.name == \"BlockSequence\" || before.name == \"BlockMapping\")\n                              return cx.column(before.from, 1);\n                          if (before.name == \"QuotedLiteral\")\n                              return null;\n                          if (before.name == \"Literal\") {\n                              let col = cx.column(before.from, 1);\n                              if (col == cx.lineIndent(before.from, 1))\n                                  return col; // Start on own line\n                              if (before.to > cx.pos)\n                                  return null;\n                          }\n                      }\n                      return null;\n                  },\n                  FlowMapping: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                  FlowSequence: /*@__PURE__*/delimitedIndent({ closing: \"]\" }),\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  \"FlowMapping FlowSequence\": foldInside,\n                  \"Item Pair BlockLiteral\": (node, state) => ({ from: state.doc.lineAt(node.from).to, to: node.to })\n              })\n          ]\n      }),\n      languageData: {\n          commentTokens: { line: \"#\" },\n          indentOnInput: /^\\s*[\\]\\}]$/,\n      }\n  });\n  /**\n  Language support for YAML.\n  */\n  function yaml() {\n      return new LanguageSupport(yamlLanguage);\n  }\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const StartTag = 1,\n    StartCloseTag = 2,\n    MissingCloseTag = 3,\n    mismatchedStartCloseTag = 4,\n    incompleteStartCloseTag = 5,\n    commentContent$1 = 36,\n    piContent$1 = 37,\n    cdataContent$1 = 38,\n    Element$1 = 11,\n    OpenTag = 13;\n\n  /* Hand-written tokenizer for XML tag matching. */\n\n  function nameChar(ch) {\n    return ch == 45 || ch == 46 || ch == 58 || ch >= 65 && ch <= 90 || ch == 95 || ch >= 97 && ch <= 122 || ch >= 161\n  }\n\n  function isSpace(ch) {\n    return ch == 9 || ch == 10 || ch == 13 || ch == 32\n  }\n\n  let cachedName = null, cachedInput = null, cachedPos = 0;\n  function tagNameAfter(input, offset) {\n    let pos = input.pos + offset;\n    if (cachedInput == input && cachedPos == pos) return cachedName\n    while (isSpace(input.peek(offset))) offset++;\n    let name = \"\";\n    for (;;) {\n      let next = input.peek(offset);\n      if (!nameChar(next)) break\n      name += String.fromCharCode(next);\n      offset++;\n    }\n    cachedInput = input; cachedPos = pos;\n    return cachedName = name || null\n  }\n\n  function ElementContext(name, parent) {\n    this.name = name;\n    this.parent = parent;\n  }\n\n  const elementContext = new ContextTracker({\n    start: null,\n    shift(context, term, stack, input) {\n      return term == StartTag ? new ElementContext(tagNameAfter(input, 1) || \"\", context) : context\n    },\n    reduce(context, term) {\n      return term == Element$1 && context ? context.parent : context\n    },\n    reuse(context, node, _stack, input) {\n      let type = node.type.id;\n      return type == StartTag || type == OpenTag\n        ? new ElementContext(tagNameAfter(input, 1) || \"\", context) : context\n    },\n    strict: false\n  });\n\n  const startTag = new ExternalTokenizer((input, stack) => {\n    if (input.next != 60 /* '<' */) return\n    input.advance();\n    if (input.next == 47 /* '/' */) {\n      input.advance();\n      let name = tagNameAfter(input, 0);\n      if (!name) return input.acceptToken(incompleteStartCloseTag)\n      if (stack.context && name == stack.context.name) return input.acceptToken(StartCloseTag)\n      for (let cx = stack.context; cx; cx = cx.parent) if (cx.name == name) return input.acceptToken(MissingCloseTag, -2)\n      input.acceptToken(mismatchedStartCloseTag);\n    } else if (input.next != 33 /* '!' */ && input.next != 63 /* '?' */) {\n      return input.acceptToken(StartTag)\n    }\n  }, {contextual: true});\n\n  function scanTo(type, end) {\n    return new ExternalTokenizer(input => {\n      let len = 0, first = end.charCodeAt(0);\n      scan: for (;; input.advance(), len++) {\n        if (input.next < 0) break\n        if (input.next == first) {\n          for (let i = 1; i < end.length; i++)\n            if (input.peek(i) != end.charCodeAt(i)) continue scan\n          break\n        }\n      }\n      if (len) input.acceptToken(type);\n    })\n  }\n\n  const commentContent = scanTo(commentContent$1, \"-->\");\n  const piContent = scanTo(piContent$1, \"?>\");\n  const cdataContent = scanTo(cdataContent$1, \"]]>\");\n\n  const xmlHighlighting = styleTags({\n    Text: tags$1.content,\n    \"StartTag StartCloseTag EndTag SelfCloseEndTag\": tags$1.angleBracket,\n    TagName: tags$1.tagName,\n    \"MismatchedCloseTag/TagName\": [tags$1.tagName, tags$1.invalid],\n    AttributeName: tags$1.attributeName,\n    AttributeValue: tags$1.attributeValue,\n    Is: tags$1.definitionOperator,\n    \"EntityReference CharacterReference\": tags$1.character,\n    Comment: tags$1.blockComment,\n    ProcessingInst: tags$1.processingInstruction,\n    DoctypeDecl: tags$1.documentMeta,\n    Cdata: tags$1.special(tags$1.string)\n  });\n\n  // This file was generated by lezer-generator. You probably shouldn't edit it.\n  const parser = LRParser.deserialize({\n    version: 14,\n    states: \",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y\",\n    stateData: \")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O\",\n    goto: \"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb\",\n    nodeNames: \" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl\",\n    maxTerm: 50,\n    context: elementContext,\n    nodeProps: [\n      [\"closedBy\", 1,\"SelfCloseEndTag EndTag\",13,\"CloseTag MissingCloseTag\"],\n      [\"openedBy\", 12,\"StartTag StartCloseTag\",19,\"OpenTag\",20,\"StartTag\"],\n      [\"isolate\", -6,13,18,19,21,22,24,\"\"]\n    ],\n    propSources: [xmlHighlighting],\n    skippedNodes: [0],\n    repeatNodeCount: 9,\n    tokenData: \"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q\",\n    tokenizers: [startTag, commentContent, piContent, cdataContent, 0, 1, 2, 3, 4],\n    topRules: {\"Document\":[0,6]},\n    tokenPrec: 0\n  });\n\n  function tagName(doc, tag) {\n      let name = tag && tag.getChild(\"TagName\");\n      return name ? doc.sliceString(name.from, name.to) : \"\";\n  }\n  function elementName$1(doc, tree) {\n      let tag = tree && tree.firstChild;\n      return !tag || tag.name != \"OpenTag\" ? \"\" : tagName(doc, tag);\n  }\n  function attrName(doc, tag, pos) {\n      let attr = tag && tag.getChildren(\"Attribute\").find(a => a.from <= pos && a.to >= pos);\n      let name = attr && attr.getChild(\"AttributeName\");\n      return name ? doc.sliceString(name.from, name.to) : \"\";\n  }\n  function findParentElement(tree) {\n      for (let cur = tree && tree.parent; cur; cur = cur.parent)\n          if (cur.name == \"Element\")\n              return cur;\n      return null;\n  }\n  function findLocation(state, pos) {\n      var _a;\n      let at = syntaxTree(state).resolveInner(pos, -1), inTag = null;\n      for (let cur = at; !inTag && cur.parent; cur = cur.parent)\n          if (cur.name == \"OpenTag\" || cur.name == \"CloseTag\" || cur.name == \"SelfClosingTag\" || cur.name == \"MismatchedCloseTag\")\n              inTag = cur;\n      if (inTag && (inTag.to > pos || inTag.lastChild.type.isError)) {\n          let elt = inTag.parent;\n          if (at.name == \"TagName\")\n              return inTag.name == \"CloseTag\" || inTag.name == \"MismatchedCloseTag\"\n                  ? { type: \"closeTag\", from: at.from, context: elt }\n                  : { type: \"openTag\", from: at.from, context: findParentElement(elt) };\n          if (at.name == \"AttributeName\")\n              return { type: \"attrName\", from: at.from, context: inTag };\n          if (at.name == \"AttributeValue\")\n              return { type: \"attrValue\", from: at.from, context: inTag };\n          let before = at == inTag || at.name == \"Attribute\" ? at.childBefore(pos) : at;\n          if ((before === null || before === void 0 ? void 0 : before.name) == \"StartTag\")\n              return { type: \"openTag\", from: pos, context: findParentElement(elt) };\n          if ((before === null || before === void 0 ? void 0 : before.name) == \"StartCloseTag\" && before.to <= pos)\n              return { type: \"closeTag\", from: pos, context: elt };\n          if ((before === null || before === void 0 ? void 0 : before.name) == \"Is\")\n              return { type: \"attrValue\", from: pos, context: inTag };\n          if (before)\n              return { type: \"attrName\", from: pos, context: inTag };\n          return null;\n      }\n      else if (at.name == \"StartCloseTag\") {\n          return { type: \"closeTag\", from: pos, context: at.parent };\n      }\n      while (at.parent && at.to == pos && !((_a = at.lastChild) === null || _a === void 0 ? void 0 : _a.type.isError))\n          at = at.parent;\n      if (at.name == \"Element\" || at.name == \"Text\" || at.name == \"Document\")\n          return { type: \"tag\", from: pos, context: at.name == \"Element\" ? at : findParentElement(at) };\n      return null;\n  }\n  class Element {\n      constructor(spec, attrs, attrValues) {\n          this.attrs = attrs;\n          this.attrValues = attrValues;\n          this.children = [];\n          this.name = spec.name;\n          this.completion = Object.assign(Object.assign({ type: \"type\" }, spec.completion || {}), { label: this.name });\n          this.openCompletion = Object.assign(Object.assign({}, this.completion), { label: \"<\" + this.name });\n          this.closeCompletion = Object.assign(Object.assign({}, this.completion), { label: \"</\" + this.name + \">\", boost: 2 });\n          this.closeNameCompletion = Object.assign(Object.assign({}, this.completion), { label: this.name + \">\" });\n          this.text = spec.textContent ? spec.textContent.map(s => ({ label: s, type: \"text\" })) : [];\n      }\n  }\n  const Identifier = /^[:\\-\\.\\w\\u00b7-\\uffff]*$/;\n  function attrCompletion(spec) {\n      return Object.assign(Object.assign({ type: \"property\" }, spec.completion || {}), { label: spec.name });\n  }\n  function valueCompletion(spec) {\n      return typeof spec == \"string\" ? { label: `\"${spec}\"`, type: \"constant\" }\n          : /^\"/.test(spec.label) ? spec\n              : Object.assign(Object.assign({}, spec), { label: `\"${spec.label}\"` });\n  }\n  /**\n  Create a completion source for the given schema.\n  */\n  function completeFromSchema(eltSpecs, attrSpecs) {\n      let allAttrs = [], globalAttrs = [];\n      let attrValues = Object.create(null);\n      for (let s of attrSpecs) {\n          let completion = attrCompletion(s);\n          allAttrs.push(completion);\n          if (s.global)\n              globalAttrs.push(completion);\n          if (s.values)\n              attrValues[s.name] = s.values.map(valueCompletion);\n      }\n      let allElements = [], topElements = [];\n      let byName = Object.create(null);\n      for (let s of eltSpecs) {\n          let attrs = globalAttrs, attrVals = attrValues;\n          if (s.attributes)\n              attrs = attrs.concat(s.attributes.map(s => {\n                  if (typeof s == \"string\")\n                      return allAttrs.find(a => a.label == s) || { label: s, type: \"property\" };\n                  if (s.values) {\n                      if (attrVals == attrValues)\n                          attrVals = Object.create(attrVals);\n                      attrVals[s.name] = s.values.map(valueCompletion);\n                  }\n                  return attrCompletion(s);\n              }));\n          let elt = new Element(s, attrs, attrVals);\n          byName[elt.name] = elt;\n          allElements.push(elt);\n          if (s.top)\n              topElements.push(elt);\n      }\n      if (!topElements.length)\n          topElements = allElements;\n      for (let i = 0; i < allElements.length; i++) {\n          let s = eltSpecs[i], elt = allElements[i];\n          if (s.children) {\n              for (let ch of s.children)\n                  if (byName[ch])\n                      elt.children.push(byName[ch]);\n          }\n          else {\n              elt.children = allElements;\n          }\n      }\n      return cx => {\n          var _a;\n          let { doc } = cx.state, loc = findLocation(cx.state, cx.pos);\n          if (!loc || (loc.type == \"tag\" && !cx.explicit))\n              return null;\n          let { type, from, context } = loc;\n          if (type == \"openTag\") {\n              let children = topElements;\n              let parentName = elementName$1(doc, context);\n              if (parentName) {\n                  let parent = byName[parentName];\n                  children = (parent === null || parent === void 0 ? void 0 : parent.children) || allElements;\n              }\n              return {\n                  from,\n                  options: children.map(ch => ch.completion),\n                  validFor: Identifier\n              };\n          }\n          else if (type == \"closeTag\") {\n              let parentName = elementName$1(doc, context);\n              return parentName ? {\n                  from,\n                  to: cx.pos + (doc.sliceString(cx.pos, cx.pos + 1) == \">\" ? 1 : 0),\n                  options: [((_a = byName[parentName]) === null || _a === void 0 ? void 0 : _a.closeNameCompletion) || { label: parentName + \">\", type: \"type\" }],\n                  validFor: Identifier\n              } : null;\n          }\n          else if (type == \"attrName\") {\n              let parent = byName[tagName(doc, context)];\n              return {\n                  from,\n                  options: (parent === null || parent === void 0 ? void 0 : parent.attrs) || globalAttrs,\n                  validFor: Identifier\n              };\n          }\n          else if (type == \"attrValue\") {\n              let attr = attrName(doc, context, from);\n              if (!attr)\n                  return null;\n              let parent = byName[tagName(doc, context)];\n              let values = ((parent === null || parent === void 0 ? void 0 : parent.attrValues) || attrValues)[attr];\n              if (!values || !values.length)\n                  return null;\n              return {\n                  from,\n                  to: cx.pos + (doc.sliceString(cx.pos, cx.pos + 1) == '\"' ? 1 : 0),\n                  options: values,\n                  validFor: /^\"[^\"]*\"?$/\n              };\n          }\n          else if (type == \"tag\") {\n              let parentName = elementName$1(doc, context), parent = byName[parentName];\n              let closing = [], last = context && context.lastChild;\n              if (parentName && (!last || last.name != \"CloseTag\" || tagName(doc, last) != parentName))\n                  closing.push(parent ? parent.closeCompletion : { label: \"</\" + parentName + \">\", type: \"type\", boost: 2 });\n              let options = closing.concat(((parent === null || parent === void 0 ? void 0 : parent.children) || (context ? allElements : topElements)).map(e => e.openCompletion));\n              if (context && (parent === null || parent === void 0 ? void 0 : parent.text.length)) {\n                  let openTag = context.firstChild;\n                  if (openTag.to > cx.pos - 20 && !/\\S/.test(cx.state.sliceDoc(openTag.to, cx.pos)))\n                      options = options.concat(parent.text);\n              }\n              return {\n                  from,\n                  options,\n                  validFor: /^<\\/?[:\\-\\.\\w\\u00b7-\\uffff]*$/\n              };\n          }\n          else {\n              return null;\n          }\n      };\n  }\n\n  /**\n  A language provider based on the [Lezer XML\n  parser](https://github.com/lezer-parser/xml), extended with\n  highlighting and indentation information.\n  */\n  const xmlLanguage = /*@__PURE__*/LRLanguage.define({\n      name: \"xml\",\n      parser: /*@__PURE__*/parser.configure({\n          props: [\n              /*@__PURE__*/indentNodeProp.add({\n                  Element(context) {\n                      let closed = /^\\s*<\\//.test(context.textAfter);\n                      return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                  },\n                  \"OpenTag CloseTag SelfClosingTag\"(context) {\n                      return context.column(context.node.from) + context.unit;\n                  }\n              }),\n              /*@__PURE__*/foldNodeProp.add({\n                  Element(subtree) {\n                      let first = subtree.firstChild, last = subtree.lastChild;\n                      if (!first || first.name != \"OpenTag\")\n                          return null;\n                      return { from: first.to, to: last.name == \"CloseTag\" ? last.from : subtree.to };\n                  }\n              }),\n              /*@__PURE__*/bracketMatchingHandle.add({\n                  \"OpenTag CloseTag\": node => node.getChild(\"TagName\")\n              })\n          ]\n      }),\n      languageData: {\n          commentTokens: { block: { open: \"<!--\", close: \"-->\" } },\n          indentOnInput: /^\\s*<\\/$/\n      }\n  });\n  /**\n  XML language support. Includes schema-based autocompletion when\n  configured.\n  */\n  function xml(conf = {}) {\n      let support = [xmlLanguage.data.of({\n              autocomplete: completeFromSchema(conf.elements || [], conf.attributes || [])\n          })];\n      if (conf.autoCloseTags !== false)\n          support.push(autoCloseTags);\n      return new LanguageSupport(xmlLanguage, support);\n  }\n  function elementName(doc, tree, max = doc.length) {\n      if (!tree)\n          return \"\";\n      let tag = tree.firstChild;\n      let name = tag && tag.getChild(\"TagName\");\n      return name ? doc.sliceString(name.from, Math.min(name.to, max)) : \"\";\n  }\n  /**\n  Extension that will automatically insert close tags when a `>` or\n  `/` is typed.\n  */\n  const autoCloseTags = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, text, insertTransaction) => {\n      if (view.composing || view.state.readOnly || from != to || (text != \">\" && text != \"/\") ||\n          !xmlLanguage.isActiveAt(view.state, from, -1))\n          return false;\n      let base = insertTransaction(), { state } = base;\n      let closeTags = state.changeByRange(range => {\n          var _a, _b, _c;\n          let { head } = range;\n          let didType = state.doc.sliceString(head - 1, head) == text;\n          let after = syntaxTree(state).resolveInner(head, -1), name;\n          if (didType && text == \">\" && after.name == \"EndTag\") {\n              let tag = after.parent;\n              if (((_b = (_a = tag.parent) === null || _a === void 0 ? void 0 : _a.lastChild) === null || _b === void 0 ? void 0 : _b.name) != \"CloseTag\" &&\n                  (name = elementName(state.doc, tag.parent, head))) {\n                  let to = head + (state.doc.sliceString(head, head + 1) === \">\" ? 1 : 0);\n                  let insert = `</${name}>`;\n                  return { range, changes: { from: head, to, insert } };\n              }\n          }\n          else if (didType && text == \"/\" && after.name == \"StartCloseTag\") {\n              let base = after.parent;\n              if (after.from == head - 2 && ((_c = base.lastChild) === null || _c === void 0 ? void 0 : _c.name) != \"CloseTag\" &&\n                  (name = elementName(state.doc, base, head))) {\n                  let to = head + (state.doc.sliceString(head, head + 1) === \">\" ? 1 : 0);\n                  let insert = `${name}>`;\n                  return {\n                      range: EditorSelection.cursor(head + insert.length, -1),\n                      changes: { from: head, to, insert }\n                  };\n              }\n          }\n          return { range };\n      });\n      if (closeTags.changes.empty)\n          return false;\n      view.dispatch([\n          base,\n          state.update(closeTags, {\n              userEvent: \"input.complete\",\n              scrollIntoView: true\n          })\n      ]);\n      return true;\n  });\n\n  // Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\n  const chalky = \"#e5c07b\", coral = \"#e06c75\", cyan = \"#56b6c2\", invalid = \"#ffffff\", ivory = \"#abb2bf\", stone = \"#7d8799\", // Brightened compared to original to increase contrast\n  malibu = \"#61afef\", sage = \"#98c379\", whiskey = \"#d19a66\", violet = \"#c678dd\", darkBackground = \"#21252b\", highlightBackground = \"#2c313a\", background = \"#282c34\", tooltipBackground = \"#353a42\", selection = \"#3E4451\", cursor = \"#528bff\";\n  /**\n  The editor theme styles for One Dark.\n  */\n  const oneDarkTheme = /*@__PURE__*/EditorView.theme({\n      \"&\": {\n          color: ivory,\n          backgroundColor: background\n      },\n      \".cm-content\": {\n          caretColor: cursor\n      },\n      \".cm-cursor, .cm-dropCursor\": { borderLeftColor: cursor },\n      \"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\": { backgroundColor: selection },\n      \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n      \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n      \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n      \".cm-searchMatch\": {\n          backgroundColor: \"#72a1ff59\",\n          outline: \"1px solid #457dff\"\n      },\n      \".cm-searchMatch.cm-searchMatch-selected\": {\n          backgroundColor: \"#6199ff2f\"\n      },\n      \".cm-activeLine\": { backgroundColor: \"#6699ff0b\" },\n      \".cm-selectionMatch\": { backgroundColor: \"#aafe661a\" },\n      \"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n          backgroundColor: \"#bad0f847\"\n      },\n      \".cm-gutters\": {\n          backgroundColor: background,\n          color: stone,\n          border: \"none\"\n      },\n      \".cm-activeLineGutter\": {\n          backgroundColor: highlightBackground\n      },\n      \".cm-foldPlaceholder\": {\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          color: \"#ddd\"\n      },\n      \".cm-tooltip\": {\n          border: \"none\",\n          backgroundColor: tooltipBackground\n      },\n      \".cm-tooltip .cm-tooltip-arrow:before\": {\n          borderTopColor: \"transparent\",\n          borderBottomColor: \"transparent\"\n      },\n      \".cm-tooltip .cm-tooltip-arrow:after\": {\n          borderTopColor: tooltipBackground,\n          borderBottomColor: tooltipBackground\n      },\n      \".cm-tooltip-autocomplete\": {\n          \"& > ul > li[aria-selected]\": {\n              backgroundColor: highlightBackground,\n              color: ivory\n          }\n      }\n  }, { dark: true });\n  /**\n  The highlighting style for code in the One Dark theme.\n  */\n  const oneDarkHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n      { tag: tags$1.keyword,\n          color: violet },\n      { tag: [tags$1.name, tags$1.deleted, tags$1.character, tags$1.propertyName, tags$1.macroName],\n          color: coral },\n      { tag: [/*@__PURE__*/tags$1.function(tags$1.variableName), tags$1.labelName],\n          color: malibu },\n      { tag: [tags$1.color, /*@__PURE__*/tags$1.constant(tags$1.name), /*@__PURE__*/tags$1.standard(tags$1.name)],\n          color: whiskey },\n      { tag: [/*@__PURE__*/tags$1.definition(tags$1.name), tags$1.separator],\n          color: ivory },\n      { tag: [tags$1.typeName, tags$1.className, tags$1.number, tags$1.changed, tags$1.annotation, tags$1.modifier, tags$1.self, tags$1.namespace],\n          color: chalky },\n      { tag: [tags$1.operator, tags$1.operatorKeyword, tags$1.url, tags$1.escape, tags$1.regexp, tags$1.link, /*@__PURE__*/tags$1.special(tags$1.string)],\n          color: cyan },\n      { tag: [tags$1.meta, tags$1.comment],\n          color: stone },\n      { tag: tags$1.strong,\n          fontWeight: \"bold\" },\n      { tag: tags$1.emphasis,\n          fontStyle: \"italic\" },\n      { tag: tags$1.strikethrough,\n          textDecoration: \"line-through\" },\n      { tag: tags$1.link,\n          color: stone,\n          textDecoration: \"underline\" },\n      { tag: tags$1.heading,\n          fontWeight: \"bold\",\n          color: coral },\n      { tag: [tags$1.atom, tags$1.bool, /*@__PURE__*/tags$1.special(tags$1.variableName)],\n          color: whiskey },\n      { tag: [tags$1.processingInstruction, tags$1.string, tags$1.inserted],\n          color: sage },\n      { tag: tags$1.invalid,\n          color: invalid },\n  ]);\n  /**\n  Extension to enable the One Dark theme (both the editor theme and\n  the highlight style).\n  */\n  const oneDark = [oneDarkTheme, /*@__PURE__*/syntaxHighlighting(oneDarkHighlightStyle)];\n\n  class EditorBundle {\n    constructor(ev, compartment) {\n      this.ev = ev;\n      this.compartment = compartment;\n    }\n    disable() {\n      this.ev.dispatch({\n        effects: this.compartment.reconfigure(EditorState.readOnly.of(true)),\n      });\n    }\n    enable() {\n      this.ev.dispatch({\n        effects: this.compartment.reconfigure(EditorState.readOnly.of(false)),\n      });\n    }\n  }\n\n  function fullScreenKeymap() {\n    return keymap.of([\n      {\n        key: \"F11\",\n        run() {\n          $(\".cm-editor\").parent().toggleClass(\"cm-full-screen\");\n          return true;\n        },\n      },\n    ]);\n  }\n\n  function daStartNewSearch(cm, searchTerm) {\n    let currentQuery = getSearchQuery(cm.state);\n    if (currentQuery.search == searchTerm) {\n      findNext(cm);\n    } else {\n      $(\".cm-textfield\").val(\"\");\n      $(\".cm-textfield\").trigger(\"change\");\n      var query = new SearchQuery({\n        search: searchTerm,\n        caseSensitive: true,\n        regexp: false,\n        wholeWord: false,\n      });\n      cm.dispatch({ effects: setSearchQuery.of(query) });\n      getSearchQuery(cm.state);\n      findNext(cm);\n    }\n    cm.focus();\n  }\n\n  function daNewEditor(parent, initial_contents, mode, keymapping, lineWrapping) {\n    let readOnlyCompartment = new Compartment();\n    let extensions = [\n      basicSetup,\n      readOnlyCompartment.of(EditorState.readOnly.of(false)),\n    ];\n    if (lineWrapping) {\n      extensions.push(EditorView.lineWrapping);\n    }\n    function autoCompletions(context) {\n      let word = context.matchBefore(/\\w*/);\n      if (word.from == word.to && !context.explicit) return null;\n      return {\n        from: word.from,\n        options:\n          typeof window !== \"undefined\" ? window.daAutoComp : global.daAutoComp,\n      };\n    }\n    extensions.push(\n      autocompletion({ override: [autoCompletions], activateOnTyping: false }),\n    );\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      extensions.push(oneDark);\n    }\n    switch (mode) {\n      case \"tsx\":\n      case \"ts\":\n      case \"node\":\n      case \"jsonld\":\n      case \"ecmascript\":\n      case \"js\":\n        extensions.push(javascript());\n        break;\n      case \"json\":\n        extensions.push(json());\n        break;\n      case \"html\":\n        extensions.push(html());\n        break;\n      case \"md\":\n        extensions.push(markdown());\n        break;\n      case \"scss\":\n      case \"less\":\n      case \"gss\":\n      case \"css\":\n        extensions.push(css());\n        break;\n      case \"pxd\":\n      case \"pxi\":\n      case \"pyx\":\n      case \"py\":\n        extensions.push(python());\n        break;\n      case \"yaml\":\n      case \"yml\":\n        extensions.push(yaml());\n        break;\n      case \"xsd\":\n      case \"xsl\":\n      case \"xml\":\n        extensions.push(xml());\n        break;\n    }\n    extensions = [\n      ...extensions,\n      history(),\n      EditorState.tabSize.of(2),\n      search(),\n      lineNumbers(),\n      bracketMatching(),\n      highlightSpecialChars({\n        specialChars:\n          /[\\u00a0\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g,\n      }),\n      fullScreenKeymap(),\n    ];\n    var keymaps = [...defaultKeymap];\n    switch (keymapping) {\n      case \"emacs\":\n        keymaps = [...keymaps, ...emacsStyleKeymap];\n    }\n    keymaps = [...keymaps, ...historyKeymap, ...searchKeymap, indentWithTab];\n    extensions.push(keymap.of(keymaps));\n    var ev = new EditorView({\n      doc: initial_contents,\n      extensions: extensions,\n      parent: parent,\n      lineWrapping: lineWrapping,\n    });\n    ev.focus();\n    let eb = new EditorBundle(ev, readOnlyCompartment);\n    return eb;\n  }\n\n  if (typeof window !== \"undefined\") {\n    window.daNewEditor = daNewEditor;\n    window.daStartNewSearch = daStartNewSearch;\n  } else if (typeof global !== \"undefined\") {\n    global.daNewEditor = daNewEditor;\n    global.daStartNewSearch = daStartNewSearch;\n  }\n\n})();\n\n// playground_page\nvar daCm;\nvar daAutoComp = [];\nvar exampleData;\nvar attrs_showing = Object();\nvar daExpireSession = null;\nvar vocab = [];\nvar attrs_showing = Object();\n\nvar $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (typeof $ == \"undefined\") {\n    $ = jQuery.noConflict();\n  }\n  $(document).ready(function () {\n    switch (daPage) {\n      case \"questions\":\n        readyQuestionsPage();\n        uploadListeners();\n        readyVariables();\n        break;\n      case \"files\":\n        readyFilesPage();\n        readyVariables();\n        break;\n      case \"package\":\n        readyPackagePage();\n        uploadListeners();\n        break;\n    }\n  });\n});\n\nObject.defineProperty(String.prototype, \"daSprintf\", {\n  value: function () {\n    var args = Array.from(arguments),\n      i = 0;\n    function defaultNumber(iValue) {\n      return iValue != undefined && !isNaN(iValue) ? iValue : \"0\";\n    }\n    function defaultString(iValue) {\n      return iValue == undefined ? \"\" : \"\" + iValue;\n    }\n    return this.replace(\n      /%%|%([+\\-])?([^1-9])?(\\d+)?(\\.\\d+)?([deEfhHioQqs])/g,\n      function (match, sign, filler, scale, precision, type) {\n        var strOut, space, value;\n        var asNumber = false;\n        if (match == \"%%\") return \"%\";\n        if (i >= args.length) return match;\n        value = args[i];\n        while (Array.isArray(value)) {\n          args.splice(i, 1);\n          for (var j = i; value.length > 0; j++)\n            args.splice(j, 0, value.shift());\n          value = args[i];\n        }\n        i++;\n        if (filler == undefined) filler = \" \"; // default\n        if (scale == undefined && !isNaN(filler)) {\n          scale = filler;\n          filler = \" \";\n        }\n        if (sign == undefined) sign = \"sqQ\".indexOf(type) >= 0 ? \"+\" : \"-\"; // default\n        if (scale == undefined) scale = 0; // default\n        if (precision == undefined) precision = \".0\"; // default\n        scale = parseInt(scale);\n        precision = parseInt(precision.substr(1));\n        switch (type) {\n          case \"d\":\n          case \"i\":\n            // decimal integer\n            asNumber = true;\n            strOut = parseInt(defaultNumber(value));\n            if (precision > 0) strOut += \".\" + \"0\".repeat(precision);\n            break;\n          case \"e\":\n          case \"E\":\n            // float in exponential notation\n            asNumber = true;\n            strOut = parseFloat(defaultNumber(value));\n            if (precision == 0) strOut = strOut.toExponential();\n            else strOut = strOut.toExponential(precision);\n            if (type == \"E\") strOut = strOut.replace(\"e\", \"E\");\n            break;\n          case \"f\":\n            // decimal float\n            asNumber = true;\n            strOut = parseFloat(defaultNumber(value));\n            if (precision != 0) strOut = strOut.toFixed(precision);\n            break;\n          case \"o\":\n          case \"h\":\n          case \"H\":\n            // Octal or Hexagesimal integer notation\n            strOut =\n              \"\\\\\" +\n              (type == \"o\" ? \"0\" : type) +\n              parseInt(defaultNumber(value)).toString(type == \"o\" ? 8 : 16);\n            break;\n          case \"q\":\n            // single quoted string\n            strOut = \"'\" + defaultString(value) + \"'\";\n            break;\n          case \"Q\":\n            // double quoted string\n            strOut = '\"' + defaultString(value) + '\"';\n            break;\n          default:\n            // string\n            strOut = defaultString(value);\n            break;\n        }\n        if (typeof strOut != \"string\") strOut = \"\" + strOut;\n        if ((space = strOut.length) < scale) {\n          if (asNumber) {\n            if (sign == \"-\") {\n              if (strOut.indexOf(\"-\") < 0)\n                strOut = filler.repeat(scale - space) + strOut;\n              else\n                strOut =\n                  \"-\" + filler.repeat(scale - space) + strOut.replace(\"-\", \"\");\n            } else {\n              if (strOut.indexOf(\"-\") < 0)\n                strOut = \"+\" + filler.repeat(scale - space - 1) + strOut;\n              else\n                strOut =\n                  \"-\" + filler.repeat(scale - space) + strOut.replace(\"-\", \"\");\n            }\n          } else {\n            if (sign == \"-\") strOut = filler.repeat(scale - space) + strOut;\n            else strOut = strOut + filler.repeat(scale - space);\n          }\n        } else if (asNumber && sign == \"+\" && strOut.indexOf(\"-\") < 0)\n          strOut = \"+\" + strOut;\n        return strOut;\n      },\n    );\n  },\n});\n\nObject.defineProperty(window, \"daSprintf\", {\n  value: function (str, ...rest) {\n    if (typeof str == \"string\")\n      return String.prototype.daSprintf.apply(str, rest);\n    return \"\";\n  },\n});\n\nfunction resetExpireSession() {\n  if (daExpireSession != null) {\n    window.clearTimeout(daExpireSession);\n  }\n  daExpireSession = setTimeout(function () {\n    alert(daTranslations.sessionHasExpired);\n  }, daSessionLifetimeSeconds);\n}\n\nfunction activateExample(id, scroll) {\n  var info = exampleData[id];\n  $(\"#da-example-source\").html(info[\"html\"]);\n  $(\"#da-example-source-before\").html(info[\"before_html\"]);\n  $(\"#da-example-source-after\").html(info[\"after_html\"]);\n  $(\"#da-example-image-link\").attr(\"href\", info[\"interview\"]);\n  $(\"#da-example-image\").attr(\"src\", info[\"image\"]);\n  $(\"#da-example-image-dark\").attr(\n    \"srcset\",\n    info[\"image\"].replace(\"/examples/\", \"/examplesdark/\"),\n  );\n  if (info[\"documentation\"] != null) {\n    $(\"#da-example-documentation-link\").attr(\"href\", info[\"documentation\"]);\n    $(\"#da-example-documentation-link\").removeClass(\"da-example-hidden\");\n    //$(\"#da-example-documentation-link\").slideUp();\n  } else {\n    $(\"#da-example-documentation-link\").addClass(\"da-example-hidden\");\n    //$(\"#da-example-documentation-link\").slideDown();\n  }\n  $(\".da-example-list\").addClass(\"da-example-hidden\");\n  $(\".da-example-link\").removeClass(\"da-example-active\");\n  $(\".da-example-link\").removeClass(\"active\");\n  $(\".da-example-link\").each(function () {\n    if ($(this).data(\"example\") == id) {\n      $(this).addClass(\"da-example-active\");\n      $(this).addClass(\"active\");\n      $(this).parents(\".da-example-list\").removeClass(\"da-example-hidden\");\n      if (scroll) {\n        setTimeout(function () {\n          //console.log($(this).parents(\"li\").last()[0].offsetTop);\n          //console.log($(this).parents(\"li\").last().parent()[0].offsetTop);\n          $(\".da-example-active\")\n            .parents(\"ul\")\n            .last()\n            .scrollTop(\n              $(\".da-example-active\").parents(\"li\").last()[0].offsetTop,\n            );\n        }, 0);\n      }\n      //$(this).parents(\".da-example-list\").slideDown();\n    }\n  });\n  $(\"#da-hide-full-example\").addClass(\"dainvisible\");\n  if (info[\"has_context\"]) {\n    $(\"#da-show-full-example\").removeClass(\"dainvisible\");\n  } else {\n    $(\"#da-show-full-example\").addClass(\"dainvisible\");\n  }\n  $(\"#da-example-source-before\").addClass(\"dainvisible\");\n  $(\"#da-example-source-after\").addClass(\"dainvisible\");\n}\n\nfunction saveCallback(data) {\n  if (data.action && data.action == \"reload\") {\n    location.reload(true);\n  }\n  if ($(\"#daflash\").length) {\n    $(\"#daflash\").html(data.flash_message);\n  } else {\n    $(\"#damain\").prepend(\n      daSprintf(daNotificationContainer, data.flash_message),\n    );\n  }\n  if (data.vocab_list != null) {\n    vocab = data.vocab_list;\n  }\n  if (data.current_project != null) {\n    currentProject = data.current_project;\n  }\n  history.replaceState(\n    {},\n    \"\",\n    daUrlPlaygroundPage +\n      encodeURI(\"?project=\" + currentProject + \"&file=\" + currentFile),\n  );\n  $(\"#daVariables\").val(data.active_file);\n  $(\"#share-link\").attr(\"href\", data.active_interview_url);\n  if (data.ac_list != null) {\n    daAutoComp.length = 0;\n    let n = data.ac_list.length;\n    for (let i = 0; i < n; i++) {\n      daAutoComp.push(data.ac_list[i]);\n    }\n  }\n  if (data.variables_html != null) {\n    $(\"#daplaygroundtable\").html(data.variables_html);\n    activateVariables();\n    $(\"#form\").trigger(\"reinitialize.areYouSure\");\n    var daPopoverTriggerList = [].slice.call(\n      document.querySelectorAll('[data-bs-toggle=\"popover\"]'),\n    );\n    var daPopoverList = daPopoverTriggerList.map(function (daPopoverTriggerEl) {\n      return new bootstrap.Popover(daPopoverTriggerEl, {\n        trigger: \"click\",\n        html: true,\n      });\n    });\n  }\n  daConsoleMessages = data.console_messages;\n  daShowConsoleMessages();\n}\n\nfunction daShowConsoleMessages() {\n  for (i = 0; i < daConsoleMessages.length; ++i) {\n    console.log(daConsoleMessages[i]);\n  }\n}\n\nfunction disableButtonsUntilCallback() {\n  $(\"button.dasubmitbutton\").prop(\"disabled\", true);\n  $(\"a.dasubmitbutton\").addClass(\"dadisabled\");\n}\n\nfunction enableButtons() {\n  $(\".dasubmitbutton\").prop(\"disabled\", false);\n  $(\"a.dasubmitbutton\").removeClass(\"dadisabled\");\n}\n\nfunction flash(message, priority) {\n  if (priority == null) {\n    priority = \"info\";\n  }\n  if (!$(\"#daflash\").length) {\n    $(\"body\").append(daSprintf(daNotificationContainer, \"\"));\n  }\n  var newElement = $(daSprintf(daNotificationMessage, priority, message));\n  $(\"#daflash\").append(newElement);\n  if (priority == \"success\") {\n    setTimeout(function () {\n      $(newElement).hide(300, function () {\n        $(self).remove();\n      });\n    }, 3000);\n  }\n}\n\nfunction uploadListeners() {\n  $(\"#uploadlink\").on(\"click\", function (event) {\n    $(\"#uploadlabel\").click();\n    event.preventDefault();\n    return false;\n  });\n  $(\"#uploadlabel\").on(\"click\", function (event) {\n    event.stopPropagation();\n    event.preventDefault();\n    $(\"#uploadfile\").click();\n    return false;\n  });\n  $(\"#uploadfile\").on(\"click\", function (event) {\n    event.stopPropagation();\n  });\n  $(\"#uploadfile\").on(\"change\", function (event) {\n    $(\"#fileform\").submit();\n  });\n}\n\nfunction readyQuestionsPage() {\n  daCm = daNewEditor(\n    $(\"#playground_content_container\")[0],\n    daContent,\n    \"yml\",\n    daKeymap,\n    daWrapLines,\n  );\n  $(\"#daDelete\").click(function (event) {\n    if (\n      originalFileName != $(\"#playground_name\").val() ||\n      $(\"#playground_name\").val() == \"\"\n    ) {\n      $(\"#form button[name='submit']\").click();\n      event.preventDefault();\n      return false;\n    }\n    if (!confirm(daTranslations.sureYouWantToDelete)) {\n      event.preventDefault();\n    }\n  });\n  $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n  $(daCm.ev.dom).attr(\"tabindex\", 70);\n  $(daCm.ev.dom).on(\"focus\", function () {\n    daCm.ev.focus();\n  });\n  $(window).bind(\"beforeunload\", function () {\n    $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n    $(\"#form\").trigger(\"checkform.areYouSure\");\n  });\n  $(\"#form\").areYouSure(daTranslations.unsavedChangesWarning);\n  $(\"#form\").bind(\"submit\", function () {\n    $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n    $(\"#form\").trigger(\"reinitialize.areYouSure\");\n    return true;\n  });\n  $(\"#my-form\").trigger(\"reinitialize.areYouSure\");\n  $(\"#daVariablesReport\").on(\"shown.bs.modal\", function () {\n    daFetchVariableReport();\n  });\n  if (daEncodedExampleData) {\n    exampleData = JSON.parse(atob(daEncodedExampleData[0]));\n    activateExample(daEncodedExampleData[1], false);\n    delete window.daEncodedExampleData;\n  }\n  variablesReady();\n  resetExpireSession();\n  $(\"#playground_name\").on(\"change\", function () {\n    var newFileName = $(this).val();\n    if (!isNew && newFileName == currentFile) {\n      return;\n    }\n    for (var i = 0; i < existingFiles.length; i++) {\n      if (\n        newFileName == existingFiles[i] ||\n        newFileName + \".yml\" == existingFiles[i]\n      ) {\n        alert(daTranslations.fileExistWarning);\n        return;\n      }\n    }\n    return;\n  });\n  $(\"#share-link\").click(function (event) {\n    const shareLink = document.getElementById(\"share-link\");\n    const url = shareLink.getAttribute(\"href\");\n    const tempInput = document.createElement(\"input\");\n    tempInput.value = url;\n    document.body.appendChild(tempInput);\n\n    tempInput.select();\n    tempInput.setSelectionRange(0, 99999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(tempInput);\n\n    flash(daTranslations.linkCopiedClipboard, \"success\");\n    event.preventDefault();\n    return false;\n  });\n  $(\"#daRun\").click(function (event) {\n    if (\n      originalFileName != $(\"#playground_name\").val() ||\n      $(\"#playground_name\").val() == \"\"\n    ) {\n      $(\"#form button[name='submit']\").click();\n      event.preventDefault();\n      return false;\n    }\n    $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n    disableButtonsUntilCallback();\n    $.ajax({\n      type: \"POST\",\n      url: daUrlPlaygroundPageWithProject,\n      data: $(\"#form\").serialize() + \"&run=Save+and+Run&ajax=1\",\n      success: function (data) {\n        if (data.action && data.action == \"reload\") {\n          location.reload(true);\n        }\n        enableButtons();\n        resetExpireSession();\n        saveCallback(data);\n      },\n      dataType: \"json\",\n    });\n    //event.preventDefault();\n    return true;\n  });\n  var thisWindow = window;\n  $(\"#daRunSyncGD\").click(function (event) {\n    $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n    $(\"#form\").trigger(\"checkform.areYouSure\");\n    if (\n      $(\"#form\").hasClass(\"dirty\") &&\n      !confirm(daTranslations.unsavedChangesWarning)\n    ) {\n      event.preventDefault();\n      return false;\n    }\n    if ($(\"#playground_name\").val() == \"\") {\n      $(\"#form button[name='submit']\").click();\n      event.preventDefault();\n      return false;\n    }\n    setTimeout(function () {\n      thisWindow.location.replace(daGoogleDriveSyncUrl);\n    }, 100);\n    return true;\n  });\n  $(\"#daRunSyncOD\").click(function (event) {\n    $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n    $(\"#form\").trigger(\"checkform.areYouSure\");\n    if (\n      $(\"#form\").hasClass(\"dirty\") &&\n      !confirm(daTranslations.unsavedChangesWarning)\n    ) {\n      event.preventDefault();\n      return false;\n    }\n    if ($(\"#playground_name\").val() == \"\") {\n      $(\"#form button[name='submit']\").click();\n      event.preventDefault();\n      return false;\n    }\n    setTimeout(function () {\n      thisWindow.location.replace(daOneDriveSyncUrl);\n    }, 100);\n    return true;\n  });\n  $(\"#form button[name='submit']\").click(function (event) {\n    $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n    if (\n      validForm == false ||\n      isNew == true ||\n      originalFileName != $(\"#playground_name\").val() ||\n      $(\"#playground_name\").val().trim() == \"\"\n    ) {\n      return true;\n    }\n    disableButtonsUntilCallback();\n    $.ajax({\n      type: \"POST\",\n      url: daUrlPlaygroundPageWithProject,\n      data: $(\"#form\").serialize() + \"&submit=Save&ajax=1\",\n      success: function (data) {\n        if (data.action && data.action == \"reload\") {\n          location.reload(true);\n        }\n        enableButtons();\n        resetExpireSession();\n        saveCallback(data);\n        $(\"#daflash .alert-success\").each(function () {\n          var oThis = this;\n          setTimeout(function () {\n            $(oThis).hide(300, function () {\n              $(self).remove();\n            });\n          }, 3000);\n        });\n      },\n      dataType: \"json\",\n    });\n    event.preventDefault();\n    return false;\n  });\n\n  $(\".da-example-link\").on(\"click\", function () {\n    var id = $(this).data(\"example\");\n    activateExample(id, false);\n  });\n\n  $(\".da-example-copy\").on(\"click\", function (event) {\n    if (daCm.ev.state.selection.ranges.some((r) => !r.empty)) {\n      daCm.ev.dispatch(daCm.ev.state.replaceSelection(\"\"));\n    }\n    var id = $(\".da-example-active\").data(\"example\");\n    var curPos = daCm.ev.state.selection.main.head;\n    var notFound = 1;\n    var curLine = daCm.ev.state.doc.lineAt(curPos).number;\n    let pos = 0;\n    for (\n      let lines = daCm.ev.state.doc.iterLines((from = curLine));\n      !lines.next().done && notFound;\n      pos++\n    ) {\n      let { value } = lines;\n      if (value.substring(0, 3) == \"---\" || value.substring(0, 3) == \"...\") {\n        notFound = 0;\n      }\n    }\n    let replacementText = \"---\\n\" + exampleData[id][\"source\"] + \"\\n\";\n    var newPos;\n    if (notFound) {\n      newPos = daCm.ev.state.doc.length;\n      replacementText = \"\\n\" + replacementText;\n    } else {\n      if (pos > 0) {\n        pos--;\n      }\n      newPos = daCm.ev.state.doc.line(curLine + pos).from;\n    }\n    daCm.ev.dispatch({ selection: { anchor: newPos, head: newPos } });\n    daCm.ev.dispatch(daCm.ev.state.replaceSelection(replacementText, \"around\"));\n    daCm.ev.focus();\n    event.preventDefault();\n    return false;\n  });\n\n  $(\".da-example-heading\").on(\"click\", function () {\n    var list = $(this).parent().children(\"ul\").first();\n    if (list != null) {\n      if (!list.hasClass(\"da-example-hidden\")) {\n        return;\n      }\n      $(\".da-example-list\").addClass(\"da-example-hidden\");\n      //$(\".da-example-list\").slideUp();\n      var new_link = $(this).parent().find(\"a.da-example-link\").first();\n      if (new_link.length) {\n        var id = new_link.data(\"example\");\n        activateExample(id, true);\n      }\n    }\n  });\n\n  activatePopovers();\n\n  $(\"#da-show-full-example\").on(\"click\", function () {\n    var id = $(\".da-example-active\").data(\"example\");\n    var info = exampleData[id];\n    $(this).addClass(\"dainvisible\");\n    $(\"#da-hide-full-example\").removeClass(\"dainvisible\");\n    $(\"#da-example-source-before\").removeClass(\"dainvisible\");\n    $(\"#da-example-source-after\").removeClass(\"dainvisible\");\n  });\n\n  $(\"#da-hide-full-example\").on(\"click\", function () {\n    var id = $(\".da-example-active\").data(\"example\");\n    var info = exampleData[id];\n    $(this).addClass(\"dainvisible\");\n    $(\"#da-show-full-example\").removeClass(\"dainvisible\");\n    $(\"#da-example-source-before\").addClass(\"dainvisible\");\n    $(\"#da-example-source-after\").addClass(\"dainvisible\");\n  });\n  if ($(\"#playground_name\").val().length > 0) {\n    daCm.ev.focus();\n    $(\"#form\").trigger(\"reset\");\n  } else {\n    $(\"#playground_name\").focus();\n  }\n  $(\"#daflash .alert-success\").each(function () {\n    var oThis = this;\n    setTimeout(function () {\n      $(oThis).hide(300, function () {\n        $(self).remove();\n      });\n    }, 3000);\n  });\n\n  activateVariables();\n  updateRunLink();\n  daShowConsoleMessages();\n  if (currentFile != \"\") {\n    history.replaceState(\n      {},\n      \"\",\n      daUrlPlaygroundPage +\n        encodeURI(\"?project=\" + currentProject + \"&file=\" + currentFile),\n    );\n  }\n}\n\n// variables_js()\n\nfunction activatePopovers() {\n  var daPopoverTriggerList = [].slice.call(\n    document.querySelectorAll('[data-bs-toggle=\"popover\"]'),\n  );\n  var daPopoverList = daPopoverTriggerList.map(function (daPopoverTriggerEl) {\n    return new bootstrap.Popover(daPopoverTriggerEl, {\n      trigger: \"click\",\n      html: true,\n    });\n  });\n}\n\nfunction activateVariables() {\n  $(\".daparenthetical\").on(\"click\", function (event) {\n    var reference = $(this).data(\"ref\");\n    var target = $('[data-name=\"' + reference + '\"]').first();\n    if (target.length > 0) {\n      $(\"#daplaygroundcard\").animate(\n        {\n          scrollTop: target.parent().parent().position().top,\n        },\n        1000,\n      );\n    }\n    event.preventDefault();\n  });\n\n  $(\".dashowmethods\").on(\"click\", function (event) {\n    var target_id = $(this).data(\"showhide\");\n    $(\"#\" + target_id).slideToggle();\n  });\n\n  $(\".dashowattributes\").each(function () {\n    var basename = $(this).data(\"name\");\n    if (attrs_showing.hasOwnProperty(basename)) {\n      if (attrs_showing[basename]) {\n        $('tr[data-parent=\"' + basename + '\"]').show();\n      }\n    } else {\n      attrs_showing[basename] = false;\n    }\n  });\n\n  $(\".dashowattributes\").on(\"click\", function (event) {\n    var basename = $(this).data(\"name\");\n    attrs_showing[basename] = !attrs_showing[basename];\n    $('tr[data-parent=\"' + basename + '\"]').each(function () {\n      $(this).toggle();\n    });\n  });\n  $(\".playground-variable\").on(\"click\", function (event) {\n    daCm.ev.dispatch(\n      daCm.ev.state.replaceSelection($(this).data(\"insert\"), \"around\"),\n    );\n    daCm.ev.focus();\n  });\n  $(\".dasearchicon\").on(\"click\", function (event) {\n    var query = $(this).data(\"name\");\n    if (query == null || query.length == 0) {\n      daCm.ev.dispatch({\n        selection: { anchor: daCm.ev.state.selection.main.head },\n      });\n      return;\n    }\n    daStartNewSearch(daCm.ev, query);\n    event.preventDefault();\n    return false;\n  });\n}\n\nfunction updateRunLink() {\n  if (currentProject == \"default\") {\n    $(\"#daRunButton\").attr(\n      \"href\",\n      interviewBaseUrl.replace(\":.yml\", \":\" + $(\"#daVariables\").val()),\n    );\n    $(\"a.da-example-share\").attr(\n      \"href\",\n      shareBaseUrl.replace(\":.yml\", \":\" + $(\"#daVariables\").val()),\n    );\n  } else {\n    $(\"#daRunButton\").attr(\n      \"href\",\n      interviewBaseUrl.replace(\n        \":.yml\",\n        currentProject + \":\" + $(\"#daVariables\").val(),\n      ),\n    );\n    $(\"a.da-example-share\").attr(\n      \"href\",\n      shareBaseUrl.replace(\n        \":.yml\",\n        currentProject + \":\" + $(\"#daVariables\").val(),\n      ),\n    );\n  }\n}\n\nfunction fetchVars(changed) {\n  $(\"#playground_content\").val(daCm.ev.state.doc.toString());\n  updateRunLink();\n  $.ajax({\n    type: \"POST\",\n    url: daUrlPlaygroundVariables + \"?project=\" + currentProject,\n    data:\n      \"csrf_token=\" +\n      $(\"#form input[name='csrf_token']\").val() +\n      \"&variablefile=\" +\n      $(\"#daVariables\").val() +\n      \"&ajax=1&changed=\" +\n      (changed ? 1 : 0),\n    success: function (data) {\n      if (data.action && data.action == \"reload\") {\n        location.reload(true);\n      }\n      if (data.vocab_list != null) {\n        vocab = data.vocab_list;\n      }\n      if (data.current_project != null) {\n        currentProject = data.current_project;\n      }\n      if (data.ac_list != null) {\n        daAutoComp.length = 0;\n        let n = data.ac_list.length;\n        for (let i = 0; i < n; i++) {\n          daAutoComp.push(data.ac_list[i]);\n        }\n      }\n      if (data.variables_html != null) {\n        $(\"#daplaygroundtable\").html(data.variables_html);\n        var daPopoverTriggerList = [].slice.call(\n          document.querySelectorAll('[data-bs-toggle=\"popover\"]'),\n        );\n        var daPopoverList = daPopoverTriggerList.map(\n          function (daPopoverTriggerEl) {\n            return new bootstrap.Popover(daPopoverTriggerEl, {\n              trigger: \"focus\",\n              html: true,\n            });\n          },\n        );\n        activateVariables();\n      }\n    },\n    dataType: \"json\",\n  });\n  $(\"#daVariables\").blur();\n}\n\nfunction variablesReady() {\n  $(\"#daVariables\").change(function (event) {\n    fetchVars(true);\n  });\n}\n\nfunction daFetchVariableReportCallback(data) {\n  var modal = $(\"#daVariablesReport .modal-body\");\n  if (modal.length == 0) {\n    console.log(\"No modal body on page\");\n    return;\n  }\n  if (!data.success) {\n    $(modal).html(\"<p>\" + daTranslations.failedToLoad + \"</p>\");\n    return;\n  }\n  var yaml_file = data.yaml_file;\n  modal.empty();\n  var accordion = $(\"<div>\");\n  accordion.addClass(\"accordion\");\n  accordion.attr(\"id\", \"varsreport\");\n  var n = data.items.length;\n  for (var i = 0; i < n; ++i) {\n    var item = data.items[i];\n    if (item.questions.length) {\n      var accordionItem = $(\"<div>\");\n      accordionItem.addClass(\"accordion-item\");\n      var accordionItemHeader = $(\"<h2>\");\n      accordionItemHeader.addClass(\"accordion-header\");\n      accordionItemHeader.attr(\"id\", \"accordionItemheader\" + i);\n      accordionItemHeader.html(\n        '<button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapse' +\n          i +\n          '\" aria-expanded=\"false\" aria-controls=\"collapse' +\n          i +\n          '\">' +\n          item.name +\n          \"</button>\",\n      );\n      accordionItem.append(accordionItemHeader);\n      var collapse = $(\"<div>\");\n      collapse.attr(\"id\", \"collapse\" + i);\n      collapse.attr(\"aria-labelledby\", \"accordionItemheader\" + i);\n      collapse.data(\"bs-parent\", \"#varsreport\");\n      collapse.addClass(\"accordion-collapse\");\n      collapse.addClass(\"collapse\");\n      var accordionItemBody = $(\"<div>\");\n      accordionItemBody.addClass(\"accordion-body\");\n      var m = item.questions.length;\n      for (var j = 0; j < m; j++) {\n        var h5 = $(\"<h5>\");\n        h5.html(\n          item.questions[j].usage.map((x) => daTranslations[x]).join(\",\"),\n        );\n        var pre = $(\"<pre>\");\n        pre.html(item.questions[j].source_code);\n        accordionItemBody.append(h5);\n        accordionItemBody.append(pre);\n        if (item.questions[j].yaml_file != yaml_file) {\n          var p = $(\"<p>\");\n          p.html(daTranslations.from + \" \" + item.questions[j].yaml_file);\n          accordionItemBody.append(p);\n        }\n      }\n      collapse.append(accordionItemBody);\n      accordionItem.append(collapse);\n      accordion.append(accordionItem);\n    }\n  }\n  modal.append(accordion);\n}\n\nfunction daFetchVariableReport(theFile = currentFile) {\n  url = daVariablesReportUrl + \"&file=\" + theFile;\n  $(\"#daVariablesReport .modal-body\").html(\n    \"<p>\" + daTranslations.loading + \"</p>\",\n  );\n  $.ajax({\n    type: \"GET\",\n    url: url,\n    success: daFetchVariableReportCallback,\n    xhrFields: {\n      withCredentials: true,\n    },\n    error: function (xhr, status, error) {\n      $(\"#daVariablesReport .modal-body\").html(\n        \"<p>\" + daTranslations.failedToLoad + \"</p>\",\n      );\n    },\n  });\n}\n\nfunction readyVariables() {\n  $(document).on(\"keydown\", function (e) {\n    if (e.which == 13) {\n      var tag = $(document.activeElement).prop(\"tagName\");\n      if (tag == \"INPUT\") {\n        e.preventDefault();\n        e.stopPropagation();\n        daCm.ev.focus();\n        return false;\n      }\n    }\n  });\n}\n\n// files page\n\nfunction saveCallbackFiles(data) {\n  if (!data.success) {\n    var n = data.errors.length;\n    for (var i = 0; i < n; ++i) {\n      $('input[name=\"' + data.errors[i].fieldName + '\"]')\n        .parents(\".input-group\")\n        .addClass(\"da-group-has-error\")\n        .after(\n          '<div class=\"da-has-error invalid-feedback\">' +\n            data.errors[i].err +\n            \"</div>\",\n        );\n    }\n    return;\n  }\n  $(\".da-has-error\").remove();\n  $(\".da-group-has-error\").removeClass(\"da-group-has-error\");\n  fetchVars(true);\n  if ($(\"#daflash\").length) {\n    $(\"#daflash\").html(data.flash_message);\n  } else {\n    $(\"#damain\").prepend(\n      daSprintf(daNotificationContainer, data.flash_message),\n    );\n  }\n}\n\nfunction scrollBottom() {\n  $(\"html, body\").animate(\n    {\n      scrollTop: $(\"#editnav\").offset().top - 53,\n    },\n    \"slow\",\n  );\n}\n\nfunction readyFilesPage() {\n  resetExpireSession();\n  $(\"#file_name\").on(\"change\", function () {\n    var newFileName = $(this).val();\n    if (!isNew && newFileName == currentFile) {\n      return;\n    }\n    for (var i = 0; i < existingFiles.length; i++) {\n      if (newFileName == existingFiles[i]) {\n        alert(daTranslations.fileExistWarning);\n        return;\n      }\n    }\n    return;\n  });\n  $(\"#dauploadbutton\").click(function (event) {\n    if ($(\"#uploadfile\").val() == \"\") {\n      event.preventDefault();\n      return false;\n    }\n  });\n  daCm = daNewEditor(\n    $(\"#playground_content_container\")[0],\n    daContent,\n    daMode,\n    daKeymap,\n    daWrapLines,\n  );\n  $(daCm.ev.dom).attr(\"tabindex\", 580);\n  $(daCm.ev.dom).on(\"focus\", function () {\n    daCm.ev.focus();\n  });\n  if (daScroll) {\n    if ($(\"#file_name\").val().length > 0) {\n      daCm.ev.focus();\n    } else {\n      $(\"#file_name\").focus();\n    }\n    scrollBottom();\n  }\n  $(\"#file_content\").val(daCm.ev.state.doc.toString());\n  $(window).bind(\"beforeunload\", function () {\n    $(\"#file_content\").val(daCm.ev.state.doc.toString());\n    $(\"#formtwo\").trigger(\"checkform.areYouSure\");\n  });\n  $(\"#daDelete\").click(function (event) {\n    if (!confirm(daTranslations.sureYouWantToDeleteFile)) {\n      event.preventDefault();\n    }\n  });\n  $(\"#formtwo\").areYouSure({ message: daTranslations.unsavedChangesWarning });\n  $(\"#formtwo\").bind(\"submit\", function (e) {\n    $(\"#file_content\").val(daCm.ev.state.doc.toString());\n    $(\"#formtwo\").trigger(\"reinitialize.areYouSure\");\n    if (daSection != \"modules\" && !isNew) {\n      var extraVariable = \"\";\n      if ($(\"#daVariables\").length) {\n        extraVariable =\n          \"&active_file=\" + encodeURIComponent($(\"#daVariables\").val());\n      }\n      $.ajax({\n        type: \"POST\",\n        url: daUrlPlaygroundFiles,\n        data: $(\"#formtwo\").serialize() + extraVariable + \"&submit=Save&ajax=1\",\n        success: function (data) {\n          if (data.action && data.action == \"reload\") {\n            location.reload(true);\n          }\n          resetExpireSession();\n          saveCallbackFiles(data);\n          $(\"#daflash .alert-success\").each(function () {\n            var oThis = this;\n            setTimeout(function () {\n              $(oThis).hide(300, function () {\n                $(self).remove();\n              });\n            }, 3000);\n          });\n        },\n        dataType: \"json\",\n      });\n      e.preventDefault();\n      return false;\n    }\n    return true;\n  });\n  variablesReady();\n  fetchVars(false);\n  $(\"#uploadfile\").on(\"change\", function () {\n    var fileName = $(this).val();\n    fileName = fileName.replace(/.*\\\\/, \"\");\n    fileName = fileName.replace(/.*\\//, \"\");\n    $(this).next(\".custom-file-label\").html(fileName);\n  });\n  $(\"#daVariablesReport\").on(\"shown.bs.modal\", function () {\n    daFetchVariableReport($(\"#daVariables\").val());\n  });\n}\n\n// packages page\n\nfunction scrollBottomPackagePage() {\n  $(\"html, body\").animate({ scrollTop: $(document).height() }, \"slow\");\n}\n\nfunction readyPackagePage() {\n  if (daScroll) {\n    scrollBottomPackagePage();\n  }\n  resetExpireSession();\n  $(\"#file_name\").on(\"change\", function () {\n    var newFileName = $(this).val();\n    if (!isNew && newFileName == currentFile) {\n      return;\n    }\n    for (var i = 0; i < existingFiles.length; i++) {\n      if (newFileName == existingFiles[i]) {\n        alert(daTranslations.packageExistsWarning);\n        return;\n      }\n    }\n    return;\n  });\n  $(\"#daDelete\").click(function (event) {\n    if (!confirm(daTranslations.sureDeletePackage)) {\n      event.preventDefault();\n    }\n  });\n  daCm = daNewEditor(\n    $(\"#playground_content_container\")[0],\n    daContent,\n    \"yml\",\n    daKeymap,\n    daWrapLines,\n  );\n  $(daCm.ev.dom).attr(\"tabindex\", 70);\n  $(daCm.ev.dom).on(\"focus\", function () {\n    daCm.ev.focus();\n  });\n  $(\"#readme\").val(daCm.ev.state.doc.toString());\n  $(daCm.ev.dom).attr(\"id\", \"readme_content\");\n  $(window).bind(\"beforeunload\", function () {\n    $(\"#readme\").val(daCm.ev.state.doc.toString());\n    $(\"#form\").trigger(\"checkform.areYouSure\");\n  });\n  $(\"#form\").areYouSure(daTranslations.unsavedChangesWarning);\n  $(\"#form\").bind(\"submit\", function () {\n    $(\"#readme\").val(daCm.ev.state.doc.toString());\n    $(\"#form\").trigger(\"reinitialize.areYouSure\");\n    return true;\n  });\n  // extra_command goes here\n  $(\"#daCancelPyPI\").click(function (event) {\n    var daWhichButton = this;\n    $(\"#pypi_message_div\").hide();\n    $(\".btn-da\").each(function () {\n      if (\n        this != daWhichButton &&\n        $(this).attr(\"id\") != \"daCancelGitHub\" &&\n        $(this).is(\":hidden\")\n      ) {\n        $(this).show();\n      }\n    });\n    $(\"#daPyPI\").html(daTranslations.pypi);\n    $(this).hide();\n    event.preventDefault();\n    return false;\n  });\n  $(\"#daCancelGitHub\").click(function (event) {\n    var daWhichButton = this;\n    $(\"#files_to_add\").prop(\"disabled\", true);\n    $(\"#commit_message_div\").hide();\n    $(\".btn-da\").each(function () {\n      if (\n        this != daWhichButton &&\n        $(this).attr(\"id\") != \"daCancelPyPI\" &&\n        $(this).is(\":hidden\")\n      ) {\n        $(this).show();\n      }\n    });\n    $(\"#daGitHub\").html(daTranslations.github);\n    $(this).hide();\n    $(\n      \"#file_name, #version, #license, #author_name, #author_email, #description, #url, #dependencies, #interview_files, #template_files, #static_files, #sources_files, #module_files\",\n    ).prop(\"disabled\", false);\n    daCm.enable();\n    event.preventDefault();\n    return false;\n  });\n  if ($(\"#github_branch option\").length == 0) {\n    $(\"#github_branch_div\").hide();\n  }\n  $(\"#github_branch\").on(\"change\", function (event) {\n    if ($(this).val() == \"<new>\") {\n      $(\"#new_branch_div\").show();\n    } else {\n      $(\"#new_branch_div\").hide();\n    }\n  });\n  $(\"#daPyPI\").click(function (event) {\n    if (\n      existingPypiVersion != null &&\n      existingPypiVersion == $(\"#version\").val()\n    ) {\n      alert(daTranslations.needToIncrement);\n      $(\"html, body\").animate({\n        scrollTop: $(\"#version\").offset().top - 90,\n        scrollLeft: 0,\n      });\n      $(\"#version\").focus();\n      var tmpStr = $(\"#version\").val();\n      $(\"#version\").val(\"\");\n      $(\"#version\").val(tmpStr);\n      event.preventDefault();\n      return false;\n    }\n    var daWhichButton = this;\n    if ($(\"#pypi_message_div\").is(\":hidden\")) {\n      $(\"#pypi_message_div\").show();\n      $(\".btn-da\").each(function () {\n        if (this != daWhichButton && $(this).is(\":visible\")) {\n          $(this).hide();\n        }\n      });\n      $(this).html(daTranslations.publish);\n      $(\"#daCancelPyPI\").show();\n      window.scrollTo(0, document.body.scrollHeight);\n      event.preventDefault();\n      return false;\n    }\n  });\n  $(\"#daGitHub\").click(function (event) {\n    var daWhichButton = this;\n    if (\n      $(\"#commit_message\").val().length == 0 ||\n      $(\"#commit_message_div\").is(\":hidden\")\n    ) {\n      if ($(\"#commit_message_div\").is(\":visible\")) {\n        $(\"#commit_message\").addClass(\"is-invalid\");\n      } else {\n        $(\"#commit_message_div\").show();\n        $(\".btn-da\").each(function () {\n          if (this != daWhichButton && $(this).is(\":visible\")) {\n            $(this).hide();\n          }\n        });\n        $(this).html(daTranslations.commit);\n        $(\"#daCancelGitHub\").show();\n        $(\n          \"#file_name, #version, #license, #author_name, #author_email, #description, #url, #dependencies, #interview_files, #template_files, #static_files, #sources_files, #module_files\",\n        ).prop(\"disabled\", true);\n        daCm.disable();\n        $(\"#files_to_add\").prop(\"disabled\", false);\n        let currentPrefix = \"docassemble/\" + $(\"#file_name\").val();\n        let fileList = [\n          \".gitignore\",\n          \"LICENSE\",\n          \"MANIFEST.in\",\n          \"README.md\",\n          \"pyproject.toml\",\n          \"setup.cfg\",\n          \"setup.py\",\n          currentPrefix + \"/__init__.py\",\n          currentPrefix + \"/data/templates/README.md\",\n          currentPrefix + \"/data/static/README.md\",\n          currentPrefix + \"/data/sources/README.md\",\n        ];\n        $(\"#interview_files\")\n          .find(\"option:selected\")\n          .each(function () {\n            fileList.push(currentPrefix + \"/data/questions/\" + $(this).text());\n          });\n        $(\"#template_files\")\n          .find(\"option:selected\")\n          .each(function () {\n            fileList.push(currentPrefix + \"/data/templates/\" + $(this).text());\n          });\n        $(\"#static_files\")\n          .find(\"option:selected\")\n          .each(function () {\n            fileList.push(currentPrefix + \"/data/static/\" + $(this).text());\n          });\n        $(\"#sources_files\")\n          .find(\"option:selected\")\n          .each(function () {\n            fileList.push(currentPrefix + \"/data/sources/\" + $(this).text());\n          });\n        $(\"#module_files\")\n          .find(\"option:selected\")\n          .each(function () {\n            fileList.push(currentPrefix + \"/\" + $(this).text());\n          });\n        $(\"#files_to_add\").empty();\n        if (fileList.length < 10) {\n          $(\"#files_to_add\").attr(\"size\", fileList.length);\n        } else {\n          $(\"#files_to_add\").attr(\"size\", 10);\n        }\n        for (var i = 0; i < fileList.length; ++i) {\n          let option = $(\"<option>\");\n          option.text(fileList[i]);\n          option.val(fileList[i]);\n          option.prop(\"selected\", true);\n          $(\"#files_to_add\").append(option);\n        }\n      }\n      $(\"#commit_message\").focus();\n      window.scrollTo(0, document.body.scrollHeight);\n      event.preventDefault();\n      return false;\n    }\n    $(\n      \"#file_name, #version, #license, #author_name, #author_email, #description, #url, #dependencies, #interview_files, #template_files, #static_files, #sources_files, #module_files\",\n    ).prop(\"disabled\", false);\n    if (\n      $(\"#pypi_also\").prop(\"checked\") &&\n      existingPypiVersion != null &&\n      existingPypiVersion == $(\"#version\").val()\n    ) {\n      alert(daTranslations.needToIncrement);\n      $(\"html, body\").animate({\n        scrollTop: $(\"#version\").offset().top - 90,\n        scrollLeft: 0,\n      });\n      $(\"#version\").focus();\n      var tmpStr = $(\"#version\").val();\n      $(\"#version\").val(\"\");\n      $(\"#version\").val(tmpStr);\n      event.preventDefault();\n      return false;\n    }\n  });\n  $(document).on(\"keydown\", function (e) {\n    if (e.which == 13) {\n      var tag = $(document.activeElement).prop(\"tagName\");\n      if (\n        tag != \"TEXTAREA\" &&\n        tag != \"A\" &&\n        tag != \"LABEL\" &&\n        tag != \"BUTTON\"\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  });\n}\n\n"],"names":["$","fn","areYouSure","options","settings","extend","message","dirtyClass","change","silent","addRemoveFieldsMarksDirty","fieldEvents","fieldSelector","getValue","$field","hasClass","attr","undefined","is","val","type","find","each","o","$option","this","storeOrigValue","data","checkForm","evt","isFieldDirty","origValue","$form","parents","target","setDirtyStatus","$fields","origCount","length","isDirty","initForm","fields","unbind","bind","changed","toggleClass","call","trigger","rescan","reinitialize","window","aysUnloadSet","$dirtyForms","filter","navigator","userAgent","toLowerCase","match","aysHasPrompted","setTimeout","elem","submit","removeClass","jQuery","that","version","remove","jpeg","b64","slice","atob","split","segments","splitIntoSegments","concat","new_data","join","btoa","insert","exif","exifStr","pack","mergeSegments","load","input_data","exifDict","exif_dict","0th","Exif","GPS","Interop","1st","thumbnail","exifReader","ExifReader","tiftag","endian_mark","pointer","unpack","get_ifd","first_ifd_pointer","end","thumb","dump","exif_dict_original","TIFF_HEADER_LENGTH","copy","header","exif_is","gps_is","interop_is","first_is","zeroth_ifd","exif_ifd","interop_ifd","gps_ifd","first_ifd","Object","keys","indexOf","ExifIFD","InteroperabilityTag","toString","ImageIFD","ExifTag","GPSTag","zeroth_set","_dict_to_bytes","zeroth_length","exif_set","exif_bytes","exif_length","gps_set","gps_bytes","gps_length","interop_set","interop_bytes","interop_length","first_set","first_bytes","offset","_get_thumbnail","exif_pointer","gps_pointer","interop_pointer","pointer_value","pointer_str","key","key_str","type_str","TYPES","length_str","thumbnail_pointer","thumbnail_p_bytes","thumbnail_length_bytes","zeroth_bytes","obj","JSON","parse","stringify","_pack_byte","array","nStr","_pack_short","_pack_long","_value_to_bytes","raw_value","value_type","four_bytes_over","value_str","new_value","num","den","n","ifd_dict","ifd","ifd_offset","tag_count","entry_header","entries_length","entries","values","parseInt","TAGS","b","app1","getExifSeg","prototype","ifd_name","t","x","tag","value_num","value","v_set","convert_value","push","Array","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","i","keyStr","charCodeAt","isNaN","charAt","replace","String","fromCharCode","getImageSize","imageArray","slice2Segments","seg","width","height","SOF","mark","littleEndian","packed","p","c","valStr","Math","floor","reverse","str","l","markPointer","unpacked","strPointer","sliced","ch","head","endPoint","toHex","hexStr","h","hex","Byte","Ascii","Short","Long","Rational","Undefined","SLong","SRational","Image","11","name","254","255","256","257","258","259","262","263","264","265","266","269","270","271","272","273","274","277","278","279","282","283","284","290","291","292","293","296","301","305","306","315","316","317","318","319","320","321","322","323","324","325","330","332","333","334","336","337","338","339","340","341","342","343","344","345","346","347","351","512","513","514","515","517","518","519","520","521","529","530","531","532","700","18246","18249","32781","33421","33422","33423","33432","33434","34377","34665","34675","34853","34857","34858","34859","37387","37388","37389","37390","37391","37392","37393","37394","37395","37397","37398","37399","40091","40092","40093","40094","40095","50341","50706","50707","50708","50709","50710","50711","50712","50713","50714","50715","50716","50717","50718","50719","50720","50721","50722","50723","50724","50725","50726","50727","50728","50729","50730","50731","50732","50733","50734","50735","50736","50737","50738","50739","50740","50741","50778","50779","50780","50781","50827","50828","50829","50830","50831","50832","50833","50834","50879","50931","50932","50934","50935","50936","50937","50938","50939","50940","50941","50942","50964","50965","50966","50967","50968","50969","50970","50971","50972","50973","50974","50975","50981","50982","51008","51009","51022","33437","34850","34852","34855","34856","34864","34865","34866","34867","34868","34869","36864","36867","36868","37121","37122","37377","37378","37379","37380","37381","37382","37383","37384","37385","37386","37396","37500","37510","37520","37521","37522","40960","40961","40962","40963","40964","40965","41483","41484","41486","41487","41488","41492","41493","41495","41728","41729","41730","41985","41986","41987","41988","41989","41990","41991","41992","41993","41994","41995","41996","42016","42032","42033","42034","42035","42036","42037","42240","0","1","2","3","4","5","6","7","8","9","10","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","ProcessingSoftware","NewSubfileType","SubfileType","ImageWidth","ImageLength","BitsPerSample","Compression","PhotometricInterpretation","Threshholding","CellWidth","CellLength","FillOrder","DocumentName","ImageDescription","Make","Model","StripOffsets","Orientation","SamplesPerPixel","RowsPerStrip","StripByteCounts","XResolution","YResolution","PlanarConfiguration","GrayResponseUnit","GrayResponseCurve","T4Options","T6Options","ResolutionUnit","TransferFunction","Software","DateTime","Artist","HostComputer","Predictor","WhitePoint","PrimaryChromaticities","ColorMap","HalftoneHints","TileWidth","TileLength","TileOffsets","TileByteCounts","SubIFDs","InkSet","InkNames","NumberOfInks","DotRange","TargetPrinter","ExtraSamples","SampleFormat","SMinSampleValue","SMaxSampleValue","TransferRange","ClipPath","XClipPathUnits","YClipPathUnits","Indexed","JPEGTables","OPIProxy","JPEGProc","JPEGInterchangeFormat","JPEGInterchangeFormatLength","JPEGRestartInterval","JPEGLosslessPredictors","JPEGPointTransforms","JPEGQTables","JPEGDCTables","JPEGACTables","YCbCrCoefficients","YCbCrSubSampling","YCbCrPositioning","ReferenceBlackWhite","XMLPacket","Rating","RatingPercent","ImageID","CFARepeatPatternDim","CFAPattern","BatteryLevel","Copyright","ExposureTime","ImageResources","InterColorProfile","Interlace","TimeZoneOffset","SelfTimerMode","FlashEnergy","SpatialFrequencyResponse","Noise","FocalPlaneXResolution","FocalPlaneYResolution","FocalPlaneResolutionUnit","ImageNumber","SecurityClassification","ImageHistory","ExposureIndex","TIFFEPStandardID","SensingMethod","XPTitle","XPComment","XPAuthor","XPKeywords","XPSubject","PrintImageMatching","DNGVersion","DNGBackwardVersion","UniqueCameraModel","LocalizedCameraModel","CFAPlaneColor","CFALayout","LinearizationTable","BlackLevelRepeatDim","BlackLevel","BlackLevelDeltaH","BlackLevelDeltaV","WhiteLevel","DefaultScale","DefaultCropOrigin","DefaultCropSize","ColorMatrix1","ColorMatrix2","CameraCalibration1","CameraCalibration2","ReductionMatrix1","ReductionMatrix2","AnalogBalance","AsShotNeutral","AsShotWhiteXY","BaselineExposure","BaselineNoise","BaselineSharpness","BayerGreenSplit","LinearResponseLimit","CameraSerialNumber","LensInfo","ChromaBlurRadius","AntiAliasStrength","ShadowScale","DNGPrivateData","MakerNoteSafety","CalibrationIlluminant1","CalibrationIlluminant2","BestQualityScale","RawDataUniqueID","OriginalRawFileName","OriginalRawFileData","ActiveArea","MaskedAreas","AsShotICCProfile","AsShotPreProfileMatrix","CurrentICCProfile","CurrentPreProfileMatrix","ColorimetricReference","CameraCalibrationSignature","ProfileCalibrationSignature","AsShotProfileName","NoiseReductionApplied","ProfileName","ProfileHueSatMapDims","ProfileHueSatMapData1","ProfileHueSatMapData2","ProfileToneCurve","ProfileEmbedPolicy","ProfileCopyright","ForwardMatrix1","ForwardMatrix2","PreviewApplicationName","PreviewApplicationVersion","PreviewSettingsName","PreviewSettingsDigest","PreviewColorSpace","PreviewDateTime","RawImageDigest","OriginalRawFileDigest","SubTileBlockSize","RowInterleaveFactor","ProfileLookTableDims","ProfileLookTableData","OpcodeList1","OpcodeList2","OpcodeList3","NoiseProfile","FNumber","ExposureProgram","SpectralSensitivity","ISOSpeedRatings","OECF","SensitivityType","StandardOutputSensitivity","RecommendedExposureIndex","ISOSpeed","ISOSpeedLatitudeyyy","ISOSpeedLatitudezzz","ExifVersion","DateTimeOriginal","DateTimeDigitized","ComponentsConfiguration","CompressedBitsPerPixel","ShutterSpeedValue","ApertureValue","BrightnessValue","ExposureBiasValue","MaxApertureValue","SubjectDistance","MeteringMode","LightSource","Flash","FocalLength","SubjectArea","MakerNote","UserComment","SubSecTime","SubSecTimeOriginal","SubSecTimeDigitized","FlashpixVersion","ColorSpace","PixelXDimension","PixelYDimension","RelatedSoundFile","SubjectLocation","FileSource","SceneType","CustomRendered","ExposureMode","WhiteBalance","DigitalZoomRatio","FocalLengthIn35mmFilm","SceneCaptureType","GainControl","Contrast","Saturation","Sharpness","DeviceSettingDescription","SubjectDistanceRange","ImageUniqueID","CameraOwnerName","BodySerialNumber","LensSpecification","LensMake","LensModel","LensSerialNumber","Gamma","GPSIFD","GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError","InteropIFD","InteroperabilityIndex","GPSHelper","degToDmsRational","degFloat","minFloat","secFloat","deg","min","sec","round","exports","module","piexif","factory","define","amd","require","fileinputLocales","fileinputThemes","setTokens","replacePairs","re","hasOwnProperty","RegExp","flatMap","lambda","map","$h","FileInput","FRAMES","SORT_CSS","INIT_FLAG","OBJECT_PARAMS","DEFAULT_PREVIEW","MODAL_ID","MODAL_EVENTS","logMessages","ajaxError","badDroppedFiles","badExifParser","badInputType","exifWarning","invalidChunkSize","invalidThumb","noResumableSupport","noUploadUrl","retryStatus","chunkQueueError","resumableMaxRetriesReached","resumableRetryError","resumableAborting","objUrl","URL","webkitURL","now","Date","getTime","parseFloat","getArray","arr","len","getFileRelativePath","file","newPath","relativePath","webkitRelativePath","getFileName","getFileId","generateFileId","size","encodeURIComponent","getFrameSelector","id","selector","getZoomSelector","getFrameElement","$element","getZoomElement","getElapsed","seconds","delta","out","result","structure","year","month","week","day","hour","minute","second","getObjectKeys","forEach","substring","debounce","func","delay","inDebounce","args","arguments","context","clearTimeout","apply","stopEvent","e","stopPropagation","preventDefault","fileName","createObjectURL","revokeObjectURL","compare","exact","isIE","ver","div","status","appName","test","document","createElement","innerHTML","getElementsByTagName","body","appendChild","parentNode","removeChild","canOrientImage","$el","$img","css","insertAfter","flag","canAssignFilesToInput","files","err","getDragDropFolders","items","item","folders","webkitGetAsEntry","isDirectory","initModal","$modal","$body","appendTo","isFunction","v","isEmpty","trim","isArray","a","ifSet","needle","haystack","def","cleanArray","spliceArray","index","reverseOrder","j","newArr","getNum","hasFileAPISupport","File","FileReader","hasDragDropSupport","draggable","ondragstart","ondrop","hasFileUploadSupport","FormData","hasBlobSupport","Blob","Boolean","hasArrayBufferViewSupport","Uint8Array","hasResumableUploadSupport","webkitSlice","mozSlice","dataURI2Blob","dataURI","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","canBlob","byteStr","arrayBuffer","intArray","mimeStr","bb","canProceed","ArrayBuffer","decodeURIComponent","append","getBlob","arrayBuffer2String","buffer","TextDecoder","decode","char2","char3","isHtml","childNodes","nodeType","isSvg","getMimeType","signature","contents","addCss","addClass","getElement","param","parseHTML","uniqId","random","pow","cspBuffer","CSP_ATTRIB","domElementsStyles","stash","htmlString","self","outerDom","$elem","styleString","styles","removeAttr","itm","domElement","setHtml","buf","html","htmlEncode","undefVal","replaceTags","tags","cleanMemory","$thumb","findFileName","filePath","sepIndex","lastIndexOf","pop","checkFullScreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","toggleFullScreen","maximize","doc","de","documentElement","isFullScreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","moveArray","oldIndex","newIndex","k","splice","closeButton","getRotation","setTransform","el","style","transform","webkitTransform","getObjectSize","whenAll","s","resolveValues","deferred","Deferred","failed","remaining","rejectContexts","rejectValues","resolveContexts","updateFunc","contexts","notifyWith","promise","done","fail","resolveWith","element","$parent","parent","_validate","isPreviewable","isIE9","isIE10","_init","_listen","constructor","_cleanup","reader","clearFileStack","fileBatchCompleted","isError","isDuplicateError","isPersistentError","cancelling","paused","lastProgress","_initAjax","_isAborted","tm","taskManager","pool","addPool","TasksPool","getPool","addTask","logic","Task","tp","cancelled","cancelledDeferrer","tasks","run","maxThreads","task","tasksList","tasksDone","enqueue","callback","resolve","reject","tasksDeferredList","argv","when","always","notify","shift","cancel","tk","unshift","runWithContext","ajaxQueue","ajaxRequests","ajaxAborted","refreshMode","f","$cont","tmp","maxTotalFileCount","maxFileCount","rtl","previewZoomButtonIcons","prev","next","maxAjaxThreads","resumableUploadOptions","_initFileManager","autoOrientImage","autoOrientImageInitial","duplicateErrors","closest","_initTemplateDefaults","uploadFileAttr","_getLayoutTemplate","progressTemplate","progressClass","progressInfoTemplate","progressInfoClass","progressPauseTemplate","progressPauseClass","progressCompleteTemplate","progressCompleteClass","progressErrorTemplate","progressErrorClass","isDisabled","isClickable","browseOnZoneClick","showPreview","dropZoneEnabled","defaultPreviewContent","isAjaxUpload","uploadUrl","slug","slugCallback","_slugDefault","mainTemplate","showCaption","captionTemplate","previewGenericTemplate","_getPreviewTemplate","imageCanvas","resizeImage","maxImageWidth","maxImageHeight","imageCanvasContext","getContext","namespace","$container","_createContainer","_refreshContainer","$dropZone","$progress","$btnUpload","$captionContainer","$caption","$captionLabel","msgPlaceholder","filePlural","fileSingle","origLabel","querySelector","$captionIcon","$previewContainer","$preview","$previewStatus","$errorContainer","_validateDisabled","msgErrorClass","_resetErrors","hide","previewInitId","_initPreviewCache","_initPreview","_initPreviewActions","insertBefore","_errorsExist","_setFileDropZoneTitle","disable","_initZoom","hideThumbnailContent","uploadStartTime","fileManager","stack","filesProcessed","errors","loadedImages","totalImages","totalFiles","totalSize","uploadedSize","stats","initStats","started","getUploadStats","loaded","total","fm","elapsed","speeds","bps","bitrate","_getSize","pendingBytes","fileId","exists","inArray","getIdList","count","getTotalSize","add","getId","nameFmt","_getFileName","sizeFmt","removeFile","move","idFrom","idTo","list","isPending","isProcessed","clear","clearImages","addImage","config","removeImage","getImageIdList","getImageCount","_getFileId","getIndex","getThumb","_getThumbs","$t","getThumbIndex","getFile","fmt","getFirstFile","ids","setFile","setProcessed","getProgress","ceil","setProgress","pct","progress","_setUploadData","fd","uploadParamNames","_initResumableUpload","opts","logs","rm","enableResumableUpload","fallback","_log","chunkSize","resumableManager","init","error","fileIndex","completed","$btnDelete","chunkCount","getTotalChunks","setAjaxError","jqXHR","textStatus","errorThrown","isTest","responseJSON","showErrorLog","text","responseText","reset","chunksProcessed","msg","$prog","hasThumb","params","_setProgress","_setThumbStatus","_initUploadSuccess","_raise","_setPreviewError","msgProgressError","msgResumableUploadRetriesExceeded","max","maxRetries","_showFileError","check","processedResumables","getUploadedSize","checkAborted","intervalId","clearInterval","unlock","upload","setInterval","lock","processUpload","$initThumbs","_initSortable","_clearFileInput","previewCache","initialPreview","content","initialPreviewConfig","initialPreviewThumbTags","_getExtraData","processDelay","uploadResumable","pushAjax","fnBefore","fnSuccess","fnError","fnComplete","outData","testUrl","fileSize","fileRelativePath","_getOutData","pNames","chunksUploaded","_ajaxSubmit","retry","deferrer","sendAjax","msgs","logError","tokens","blob","chunkIndex","chunkSizeStart","fileBlob","retryCount","show","paramNames","filename","chunk","tMain1","tMain2","tPreview","tFileIcon","tClose","tCaption","tBtnDefault","tBtnLink","tBtnBrowse","tModalMain","tModal","tProgress","tSize","tFooter","tActions","tActionDelete","tActionUpload","tActionDownload","tActionZoom","tActionDrag","tIndicator","tTagBef","tTagBef1","tTagBef2","tTagAft","tGeneric","tHtml","tImage","tText","tOffice","tGdocs","tVideo","tAudio","tFlash","tObject","tPdf","tOther","tStyle","tZoomCache","vDefaultDim","tStats","tModalLabel","renderObject","mime","min-height","_isPdfRendered","pdfRendererTemplate","_encodeURI","pdfRendererUrl","defaults","layoutTemplates","main1","main2","preview","close","fileIcon","caption","modalMain","modal","footer","indicator","actions","actionDelete","actionUpload","actionDownload","actionZoom","actionDrag","btnDefault","btnLink","btnBrowse","zoomCache","previewMarkupTags","tagBefore1","tagBefore2","tagAfter","previewContentTemplates","generic","image","office","gdocs","video","audio","flash","object","pdf","other","allowedPreviewTypes","previewTemplates","previewSettings","max-width","max-height","position","previewSettingsSmall","previewZoomSettings","mimeTypeAliases","video/quicktime","fileTypeSettings","vType","vName","fileActionSettings","showRemove","showUpload","showDownload","showZoom","showDrag","removeIcon","removeErrorClass","removeTitle","uploadIcon","uploadClass","uploadTitle","uploadRetryIcon","uploadRetryTitle","downloadIcon","downloadClass","downloadTitle","zoomIcon","zoomClass","zoomTitle","dragIcon","dragClass","dragTitle","dragSettings","indicatorNew","indicatorSuccess","indicatorError","indicatorLoading","indicatorPaused","indicatorNewTitle","indicatorSuccessTitle","indicatorErrorTitle","indicatorLoadingTitle","indicatorPausedTitle","setting","_initPreviewTemplates","tagBef","tagAft","initialPreviewDelimiter","skipNull","chk","get","ind","$tmp","cat","ftr","fname","ftype","frameClass","asData","initialPreviewAsData","title","alt","parseTemplate","dat","fclass","fc","_generatePreviewTemplate","zoomData","initialPreviewFileType","frameAttr","clean","set","unset","rev","reversePreviewOrder","_getMsgSelected","url","fs","initPreviewShowDel","initialPreviewShowDelete","downloadInitialUrl","initialPreviewDownloadUrl","dUrl","downloadUrl","dFil","initPreviewShowDwl","sDel","sDwl","sZm","sDrg","dis","_renderFileActions","_renderThumbProgress","useLib","usePdfRenderer","_handler","event","ns","ev","off","on","vUrl","encodeUrl","encodeURI","showConsoleLogs","console","log","alert","$err","$errList","_errorHandler","showError","_showError","code","NOT_FOUND_ERR","msgFileNotFound","SECURITY_ERR","msgFileSecured","NOT_READABLE_ERR","msgFileNotReadable","ABORT_ERR","msgFilePreviewAborted","msgFilePreviewError","_addError","$error","errorCloseButton","getFrames","fadeOut","_setValidationError","fade","_showFolderError","msgFoldersNotAllowed","fadeIn","fadeDelay","fId","_noFilesError","label","minFileCount","msgFilesTooLess","_updateFileDetails","_parseError","operation","errMsg","textPre","errText","msgUploadAborted","showAjaxErrorDetails","msgAjaxError","_parseFileType","isValid","types","_getPreviewIcon","ext","previewFileIconSettings","previewFileExtSettings","previewFileIcon","_parseFilePreviewIcon","icn","previewFileIconClass","Event","isDefaultPrevented","_listenFullScreen","$btnFull","$btnBord","_maximizeZoomDialog","fullScreenEv","$cap","pastefn","proxy","_change","showBrowse","$btnFile","_browse","daIgnoreAllButTab","pause","_initDragDrop","_submitForm","_uploadClick","screen","innerWidth","innerHeight","_autoFitContent","_initClickable","_refreshPreview","clientWidth","sel","_scanDroppedItems","path","dirReader","readDir","errorHandler","isFile","createReader","readEntries","$zone","_zoneDragEnter","_zoneDragLeave","_zoneDrop","_zoneDragDropInit","dt","originalEvent","dataTransfer","hasFiles","effectAllowed","dropEffect","sourceEvent","Files","processFiles","changeTriggered","$btn","isEnabled","_isFileSelectionValid","_abort","_clearPreview","$thumbs","showUploadedThumbs","_resetUpload","_validateDefaultPreview","$html","Sortable","beginGrab","endGrab","handle","dataIdAttr","animation","scroll","forceFallback","onChoose","onStart","onUnchoose","onEnd","onSort","exceedsLast","$item","$first","slideUp","slideDown","previewId","sortable","destroy","create","_setPreviewContent","_initPreviewImageOrientations","$zoomImg","_getZoom","setImageOrientation","isInit","cap","initialCaption","_setCaption","_initCaption","_setInitThumbAttr","_getZoomButton","previewZoomButtonClasses","previewZoomButtonTitles","_getModalContent","zoomFrameClass","heading","msgZoomModalHeading","toggleheader","fullscreen","borderless","_listenModalEvent","getParams","$dialog","modalId","_initZoomButtons","$last","thumbs","toArray","$prev","$next","$head","$foot","diff","outerHeight","_resizeZoomDialog","fullScreen","zoomModalHeight","focus","_setZoomContent","$frame","animate","$content","tmplt","$dataEl","$zoomPreview","$btnTogh","clone","_zoomSlideShow","$header","$floatBar","ht","$actions","resize","which","keyCode","vId","vPrevKey","vNextKey","_showModal","_zoomPreview","dir","$targFrame","thumbsData","_initZoomButton","_inputFileCount","readFiles","_clearObjects","$srcFrm","$tmpFrm","$tmpEl","before","after","uploadCache","_hideProgress","_resetCanvas","overwriteInitial","canvas","clearRect","_hasInitialPreview","_resetPreview","$div","hasSuc","hasErr","removeFromPreviewOnError","includeProcessed","_clearDefaultPreview","_resetPreviewThumbs","isAjax","template","customLayoutTags","templates","customPreviewTags","formdata","responseData","filesData","filenames","filescount","getFilesCount","extra","response","strFiles","msgSelected","msgNoFilesSelected","_getFrame","skipWarning","_getThumbId","uploadExtraData","_initXhr","xhrobj","lengthComputable","_setFileUploadStats","_getStats","progressDelay","addEventListener","_initAjaxSettings","_ajaxSettings","ajaxSettings","_ajaxDeleteSettings","ajaxDeleteSettings","_mergeAjaxCallback","funcName","srcFunc","mergeAjaxCallbacks","targFunc","mergeAjaxDeleteCallbacks","ajaxTask","uploadUrlThumb","xhr","dataType","cache","processData","contentType","ajax","_mergeArray","prop","arr1","arr2","allFiles","$newCache","isEmptyObject","_resetCaption","hasInitData","$newThumb","_getUploadCacheIndex","_initSuccessThumbs","$remove","_updateInitialPreview","u","_uploadSingle","isBatch","chkComplete","hasPostData","uploadFailed","updateUploadLog","op","ajaxOperations","uploadThumb","fileObj","triggerReset","errCount","uploadAsync","retryErrorUploads","abort","_setProgressCancelled","pid","msgUploadError","msgAjaxProgressError","_setFileData","preProcess","preProcessUpload","_uploadBatch","setAllUploaded","uploadBatch","errorkeys","uploadFileCount","ctr","_uploadExtraOnly","uploadExtra","_deleteFileIndex","$nFrame","nInd","incomplete","_initFileActions","hasError","_validateMinCount","deleteExtraData","btnRemove","origClass","errClass","resetProgress","deleteUrl","vKey","deleteThumb","extraData","msgDeleteError","Promise","then","_hideFileIcon","_showFileIcon","bytes","sizes","fileSizeGetter","isNumeric","toFixed","_getFileType","foot","templ","attrs","prevContent","zoomContent","styleAttribs","screenW","typeCss","getContent","_renderFileFooter","forcePrevIcon","preferIconicPreview","forceZoomIcon","preferIconicZoomPreview","newCat","d","zoom","frameCss","fileindex","fileid","sanitizeZoomCache","_addToPreview","prepend","_previewDefault","_setThumbAttr","_previewFile","theFile","fileInfo","fsize","iData","_validateImageOrientation","numFiles","skipRaiseEvent","nFiles","icon","$indicator","msgCancelled","pctLimit","progressUploadThreshold","percent","msgUploadThreshold","msgUploadEnd","_hasFiles","dropZoneTitle","dropZoneClickTitle","dropZoneTitleClass","pendingTime","showUploadStats","msgCalculatingTime","msgPendingTime","time","uploadSpeed","_setResumableProgress","_toggleResumableProgress","pctTot","totUpSize","totSize","totStats","currUplSize","currTotSize","totLoaded","cfg","validateInitialCount","_getFileCount","fileCount","includeInitial","addCount","defaultValue","_getFileNames","keepFile","removeFrame","_refreshUploadButton","_checkDimensions","dim","limit","$imgEl","naturalWidth","naturalHeight","_getExifObj","exifObj","details","invalidImg","invalidZoomImg","$mark","isHidden","zoomOnly","img","zoomImg","offsetHeight","w","offsetWidth","r","offsetAngle","atan","origFactor","sqrt","scale","cos","PI","abs","_validateImage","w1","w2","one","typ","siz","validated","imgData","_validateAllImages","complete","counter","numImgs","minSize","resizeIfSizeMoreThan","_getResizedImage","ratio","maxWidth","maxHeight","isValidImage","chkWidth","chkHeight","throwError","evParams","msgImageResizeError","resizeDefaultImageType","resizePreference","drawImage","toDataURL","resizeQuality","msgImageResizeException","_showProgress","_initBrowse","$tmpZone","$tar","elErrorContainer","blur","msgValidationError","msgNo","msgValidationErrorClass","msgValidationErrorIcon","attribs","class","_renderMain","theme","readonly","dropCss","showClose","previewClass","dropClass","captionClass","mainClass","_renderButton","browse","btnType","showCancel","showPause","buttonLabelClass","msgUploadBegin","rem","drg","upl","tInd","indicatorTitle","previewThumbTags","showUpl","showDwn","showDel","disabled","dFile","btnZoom","btnDrag","btnDelete","btnUpload","btnDownload","otherButtons","otherActionButtons","dataKey","dataUrl","delete","download","drag","focusCaptionOnBrowse","isDragDrop","tfiles","initCount","isSingleUpl","maxCount","maxTotCount","inclAll","flagSingle","mesg","p1","p2","maxCountCheck","m","all","msgTotalFilesTooMany","msgFilesTooMany","autoReplace","abortData","abortMessage","_resetFileStack","data-fileindex","cnt","required","msgFileRequired","_canPreview","allowedTypes","allowedMimes","allowedExts","skipPreview","mimes","allowedPreviewMimeTypes","exts","allowedPreviewExtensions","dTypes","disabledPreviewTypes","dMimes","disabledPreviewMimeTypes","dExts","disabledPreviewExtensions","maxSize","maxFilePreviewSize","expAllExt","expDisExt","addToStack","getFileStack","getFileList","$status","msgLoading","msgProgress","readFile","fileTypes","allowedFileTypes","typLen","fileExt","allowedFileExtensions","strExt","fSizeKB","fnText","fnImage","fnHtml","typ1","typ2","fileExtExpr","previewData","strTypes","canLoad","fileReaderAborted","knownTypes","isImage","txtFlag","processFileLoaded","msgFileTypes","msgInvalidFileName","msgDuplicateFile","maxFileSize","msgSizeTooLarge","minFileSize","msgSizeTooSmall","msgInvalidFileType","msgInvalidFileExtension","extensions","onerror","onload","uint","byte","readImage","newReader","theFileNew","enable","readAsDataURL","onprogress","fact","readAsArrayBuffer","selectMode","resume","msgUploadResume","msgPaused","focusCaptionOnClear","totLen","hasExtraData","msgUploadEmpty","removeData","refresh","frameId","getExif","cssFilter","$frames","getPreview","fileinput","option","retvals","lang","language","opt","en","IFRAME_ATTRIBS","ua","webkit","iOS","iOSSafari","browseIcon","browseClass","cancelIcon","cancelClass","pauseIcon","pauseClass","queueDelay","minImageWidth","minImageHeight","progressThumbClass","previewFileType","elCaptionContainer","elCaptionText","elCaptionLabelText","elPreviewContainer","elPreviewImage","elPreviewStatus","textEncoding","isIE11","MSInputMethodContext","documentMode","browseLabel","removeLabel","cancelLabel","cancelTitle","pauseLabel","pauseTitle","uploadLabel","msgImageWidthSmall","msgImageHeightSmall","msgImageWidthLarge","msgImageHeightLarge","Constructor","ready","$input","fas","let","rangeFrom","rangeTo","numbers","isExtendingChar","from","to","mid","isRegionalIndicator","ZWJ","findClusterBreak$1","pos","forward","includeExtending","nextClusterBreak","prevClusterBreak","surrogateLow$1","surrogateHigh$1","codePointAt$1","codePointSize$1","countBefore","found","code0","code1","Text","lineAt","RangeError","lineInner","line","lines","clip","parts","decompose","TextNode","eq","start","scanIdentical","RawTextCursor","skip","lineBreak","iter","iterRange","PartialTextCursor","iterLines","inner","LineCursor","sliceString","toJSON","flatten","of","empty","TextLeaf","textLength","super","children","isLine","string","Line$1","open","sliceText","joined","appendText","newLen","lineSep","part","child","endLine","childOpen","updated","totalLines","iA","iB","eA","eB","chA","chB","reduce","flat","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","last","node","flush","first","nodes","offsets","nextInner","top","offsetValue","cursor","afterBreak","Symbol","iterator","Line","number","findClusterBreak","surrogateLow","surrogateHigh","codePointAt","fromCodePoint","codePointSize","DefaultSplit","MapMode","ChangeDesc","sections","newLength","ins","iterGaps","posA","posB","iterChangedRanges","individual","iterChanges","invertedDesc","composeDesc","composeSets","mapDesc","mapSet","mapPos","assoc","mode","Simple","endA","TrackDel","TrackBefore","TrackAfter","touchesRange","fromJSON","json","some","ChangeSet","inserted","fromA","toA","fromB","_toB","invert","compose","desc","ranges","resultSections","resultInserted","filteredSections","SectionIter","addSection","addInsert","changes","filtered","force","process","spec","sub","insText","insLen","createSet","forceJoin","endB","setA","setB","mkSet","Error","piece","left","len2","sectionLen","insB","textBit","forward2","SelectionRange","flags","anchor","bidiLevel","level","goalColumn","EditorSelection","range","includeAssoc","mainIndex","main","asSingle","addRange","replaceRange","single","normalized","sort","checkSelection","selection","docLength","nextID","Facet","combine","compareInput","isStatic","enables","default","sameArray$1","static","FacetProvider","compute","deps","computeN","field","state","every","dependencies","facet","dynamicSlot","addresses","_a","getter","idx","multi","depDoc","depSel","depAddrs","dep","update","tr","docChanged","ensureAll","newVal","compareArray","reconfigure","oldState","oldAddr","address","oldVal","getAddr","StateField","addrs","addr","ensureAddr","dynamicFacetSlot","providers","providerAddrs","providerTypes","dynamic","depChanged","oldProviders","facets","oldValue","initField","createF","updateF","compareF","provides","provide","slot","oldInit","reInit","extension","Prec_","lowest","low","high","highest","prec","PrecExtension","Prec","Compartment","CompartmentInstance","compartment","compartments","Configuration","base","dynamicSlots","staticValues","statusTemplate","staticFacet","newCompartments","Map","oldFacets","seen","known","has","computeSlot","languageData","allowMultipleSelections","lineSeparator","changeFilter","transactionFilter","transactionExtender","readOnly","Annotation","AnnotationType","StateEffectType","StateEffect","mapping","mapped","mapEffects","effects","effect","appendConfig","Transaction","startState","annotations","scrollIntoView","_doc","_state","newDoc","newSelection","applyTransaction","annotation","ann","reconfigured","isUserEvent","userEvent","addToHistory","remote","joinRanges","mergeTransaction","sequential","mapForA","mapForB","resolveTransactionInner","docSize","asArray$1","resolveTransaction","specs","seq","extendTransaction","filterTransaction","back","filters","extenders","none$3","CharCategory","nonASCIISingleCaseWordChar","wordChar","_","hasWordChar","toUpperCase","makeCategorizer","wordChars","char","Space","Word","Other","EditorState","conf","startValues","intermediateState","replaceSelection","toText","changeByRange","result1","newChanges","newMapped","mapBy","sliceDoc","fieldInit","configuration","tabSize","phrase","phrases","languageDataAt","side","provider","charCategorizer","at","wordAt","kA","kB","combineConfig","configs","current","RangeValue","Range$1","startSide","endSide","point","mapMode","Range","cmpRange","Chunk","maxPoint","findIndex","startAt","lo","hi","between","newPos","curFrom","curTo","newFrom","newTo","RangeSet","chunkPos","nextLayer","chunkEnd","updateSpec","filterFrom","filterTo","cur","LayerCursor","goto","spill","builder","RangeSetBuilder","addInner","rangeIndex","addChunk","nextChunk","finishInner","chunks","touch","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","sameValues","active","spans","openRanges","openStart","activeForPoint","openCount","pointFrom","pointRank","openEnd","span","build","lazySort","finish","layer","finishChunk","newArrays","chunkStart","setMaxPoint","lastFrom","lastTo","inA","shared","Set","minPoint","rank","gotoInner","setRangeIndex","heap","heapBubble","childIndex","activeTo","activeRank","minActive","removeActive","findMinIndex","addActive","trackOpen","wasPoint","nextVal","startA","startB","dPos","dEnd","clipEnd","comparePoint","compareRange","boundChange","foundPos","countColumn","findColumn$1","col","strict","C","COUNT","for","SET","globalThis","StyleModule","rules","splitSelector","render","selectors","isKeyframes","local","isAt","exec","keyframes","getRules","newName","mount","root","modules","nonce","StyleSet","setNonce","adoptedSet","ownerDocument","win","defaultView","adoptedStyleSheets","CSSStyleSheet","adopted","sheet","styleTag","setAttribute","mod","insertRule","textContent","firstChild","getAttribute","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","106","107","108","109","110","111","144","145","160","161","162","163","164","165","173","186","187","188","189","190","191","192","219","220","221","222","48","49","50","51","52","53","54","55","56","57","mac","platform","ie$1","keyName","ignoreKey","metaKey","shiftKey","ctrlKey","altKey","crelt","elt","createTextNode","getSelection","contains","dom","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","isBlockElement","nodeName","maxOffset","contentEditable","flattenRect","rect","right","bottom","windowRect","vp","visualViewport","getScale","scaleX","scaleY","isFinite","scrollRectIntoView","y","xMargin","yMargin","ltr","stop","bounding","getComputedStyle","scrollHeight","clientHeight","scrollWidth","assignedSlot","getBoundingClientRect","moveX","moveY","rectHeight","boundingHeight","targetTop","targetLeft","scrollBy","movedX","movedY","scrollTop","scrollLeft","host","scrollableParents","DOMSelectionState","anchorOffset","focusNode","focusOffset","domSel","setRange","preventScrollSupported","focusPreventScroll","setActive","preventScroll","scratchRange","createRange","setEnd","setStart","dispatchKey","mods","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","clearAttributes","attributes","removeAttributeNode","atElementStart","isScrolledToBottom","textNodeBefore","startNode","startOffset","textNodeAfter","DOMPos","precise","noChildren","ContentView","overrideDOMText","posAtStart","posBefore","posAtEnd","view","breakAfter","posAfter","sync","track","nextSibling","contentView","canReuseDOM","reuseDOM","written","rm$1","_dom","localPosFromDOM","bias","lastChild","domBoundsAround","fromI","fromStart","toI","toEnd","prevEnd","startDOM","endDOM","markDirty","andParent","markParentsDirty","childList","setParent","setDOM","cmView","rootView","replaceChildren","ignoreMutation","_rec","ignoreEvent","_event","childCursor","ChildCursor","childPos","findPos","isEditable","isWidget","merge","source","hasStart","become","getSide","fromOff","toOff","breakAtStart","breakAtEnd","mergeChildrenInto","dLen","nav","vendor","ie_edge","ie_upto10","ie_11up","ie","gecko","chrome","safari","ios","maxTouchPoints","browser","windows","linux","ie_version","gecko_version","chrome_version","android","webkit_version","MaxJoinLen","TextView","createDOM","textDOM","domAtPos","_from","_to","coordsAt","textCoords","MarkView","setAttrs","className","tagName","_hasStart","detachFrom","inlineDOMAtPos","coordsInChildren","rects","WidgetView","widget","prevWidget","updateDOM","toDOM","editable","custom","fromBack","WidgetBufferView","joinInlineInto","beforePos","afterPos","scan","onSameLine","fallbackRect","combineAttrs","noAttrs$1","attrsEq","ignore","keysA","keysB","updateAttrs","cssText","removeAttribute","getAttrs$1","WidgetType","estimatedHeight","lineBreaks","BlockType","Decoration","heightRelevant","MarkDecoration","block","inlineOrder","PointDecoration","isBlockGap","getInclusive","LineDecoration","hasHeight","none","_b","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","margin","LineView","prevAttrs","transferDOM","setDeco","addLineDeco","deco","cls","classList","hack","cmIgnore","measureTextSize","totalWidth","textHeight","lineHeight","charWidth","heightOracle","viewState","dist","covers","docView","BlockWidgetView","_takeDeco","BlockGapWidget","ContentBuilder","disallowBlockEffectsFor","curLine","pendingBuffer","bufferMarks","atCursorPos","textOff","posCovered","getLine","flushBuffer","wrapMarks","addBlockWidget","buildText","take","NullWidget","inline","cursorBefore","cursorAfter","decorations","dynamicDecorationMap","Direction","LTR","RTL","dec","LowTypes","ArabicTypes","Brackets","BracketStack","charType","BidiRE","BidiSpan","order","maybe","isolatesEq","direction","computeCharTypes","rFrom","rTo","isolates","outerType","iI","prevType","prevStrong","processBracketPairs","oppositeType","sI","br","sJ","embed","processNeutrals","beforeL","afterL","jI","fromJ","emitSpans","baseLevel","ourType","iCh","sameDir","isNum","recurse","localLevel","iScan","iso","upto","dirSwap","computeSectionOrder","computeOrder","trivialOrder","movedOver","moveVisually","startIndex","spanI","spanEnd","nextI","nextIndex","nextSpan","autoDirection","clickAddsSelectionRange","dragMovesSelection$1","mouseSelectionStyle","exceptionSink","updateListener","inputHandler$1","focusChangeEffect","clipboardInputFilter","clipboardOutputFilter","perLineTextDirection","nativeSelectionHidden","scrollHandler","ScrollTarget","isSnapshot","scrollIntoView$1","setEditContextFormatting","logException","exception","handler","nextPluginID","viewPlugin","plugins","plugin","ViewPlugin","domEventHandlers","domEventObservers","buildExtensions","baseExtensions","arg","eventHandlers","eventObservers","pluginInst","fromClass","PluginInstance","mustUpdate","deactivate","editorAttributes","contentAttributes","outerDecorations","atomicRanges","bidiIsolatedRanges","getIsolatedRanges","Function","fromDoc","toDoc","bidiIsolate","scrollMargins","getScrollMargins","styleModule","ChangedRange","toB","addToSet","me","extendWithRanges","dI","rI","ViewUpdate","transactions","changedRanges","viewportChanged","viewportMoved","heightChanged","geometryChanged","focusChanged","selectionSet","DocView","domChanged","hasComposition","markedForComposition","editContextFormatting","lastCompositionAfterCursor","minWidth","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","forceSelection","lastUpdate","contentDOM","updateDeco","updateInner","updateEditContextFormatting","readCompositionAt","inputState","composing","observer","editContext","newSel","touchesComposition","composition","findCompositionRange","prevDeco","decoDiff","findChangedDeco","oldLength","mustMeasureContent","updateChildren","contentHeight","flexBasis","selectionRange","cView","gaps","viewport","updateGaps","compLine","compositionView","fixCompositionDOM","marks","fix","updateSelection","mustRead","fromPointer","readSelectionRange","activeElt","activeElement","focused","selectionNotFocus","tabIndex","moveToLine","betweenUneditable","dummy","suppressWidgetCursorChange","inUneditable","rawSel","nextTo","nextToUneditable","collapse","caretBidiLevel","removeAllRanges","setSelectionRange","posFromDOM","enforceCursorAssoc","modify","lineStart","newRange","nearest","domView","best","bestPos","coordsForChar","childOff","measureVisibleLineHeights","contentWidth","isWider","scrollDOM","widest","textDirection","childRect","textDirectionAt","measure","computeBlockGapDeco","vs","viewports","lineBlockAt","allDeco","dynamicOuter","outerDeco","lineGapDeco","ref","margins","targetRect","findCompositionNode","headPos","textBefore","textAfter","textNode","descAfter","descBefore","inv","parentView","DecorationComparator$1","DecorationComparator","comp","inside","touched","groupAt","categorize","linePos","getdx","getdy","yOverlap","upTop","upBot","domPosAtCoords","closestRect","closestX","closestY","closestOverlap","above","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","coords","docTop","paddingTop","docHeight","yOffset","halfLine","bounced","elementAtHeight","posAtCoordsImprecise","elementFromPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","isSuspiciousSafariCaretResult","isSuspiciousChromeCaretResult","contentRect","into","defaultCharacterWidth","lineWrapping","defaultLineHeight","lineLength","blockAt","moveToLineBoundary","includeWrap","widgetLineBreaks","coordsAtPos","editorRect","moveByChar","by","bidiSpans","visualLineSide","byGroup","nextCat","moveVertically","distance","startPos","goal","startY","startCoords","documentTop","resolvedGoal","curY","charRect","skipAtomicRanges","atoms","moved","skipAtomsForSelection","skipAtoms","oldPos","LineBreakPlaceholder","DOMReader","points","readRange","findPointBefore","oldLen","readNode","nextView","readTextNode","nextBreak","breakSize","fromView","findPointInside","isAtEnd","DOMPoint","DOMChange","typeOver","bounds","iHead","iAnchor","selPoints","selectionPoints","selectionFromPoints","offFrom","offTo","applyDOMChange","domChange","lastKey","lastKeyTime","lastKeyCode","preferredPos","preferredSide","findDiff","hasFocus","applyDOMChangeInner","lastSelectionTime","lastSelectionOrigin","dispatch","flushIOSKey","defaultTr","defaultInsert","applyDefaultInsert","mainSel","replaced","compositionRange","rangeChanges","selOff","compositionPendingChange","compositionEndedAt","compositionFirstChange","minLen","adjust","InputState","setSelectionOrigin","origin","lastTouchTime","lastFocusTime","lastScrollTop","lastScrollLeft","pendingIOSKey","tabFocusMode","lastContextMenu","scrollHandlers","handlers","compositionPendingKey","mouseSelection","draggedContent","handleEvent","notifiedFocused","firefoxCopyCutHack","eventBelongsToEditor","ignoreDuringComposition","keydown","updateState","runHandlers","observers","ensureHandlers","computeHandlers","passive","removeEventListener","modifierCodes","delayAndroidKey","pending","PendingKeys","EmacsyPendingKeys","forceFlush","startMouseSelection","bindHandler","record","inputType","dragScrollMargin","dragScrollSpeed","clientX","clientY","MouseSelection","startEvent","mustSelect","scrollSpeed","scrolling","lastEvent","scrollParents","multiple","addsSelectionRange","dragging","isInPrimarySelection","getClickType","select","buttons","sx","sy","setScrollSpeed","dragMovesSelection","rangeCount","getRangeAt","bubbles","brokenClipboardAPI","capturePaste","doPaste","textFilter","byLine","linewise","lastLinewiseCopy","lastLine","touchstart","touchmove","mousedown","makeStyle","button","basicMouseSelection","mustFocus","mouseSel","rangeForClick","visual","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","detail","lastTime","startSel","removed","startRange","removeRangeAround","dragstart","setData","dragend","dropText","direct","dropPos","del","drop","read","finishFile","readAsText","getData","paste","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","cut","clearData","isFocusChange","focusChangeTransaction","getEffect","updateForFocusChange","clearSelectionRange","compositionstart","compositionupdate","compositionend","pendingRecords","flushSoon","contextmenu","beforeinput","getTargetRanges","posAtDOM","endContainer","endOffset","startViewHeight","appliedFirefoxHack","wrappingWhiteSpace","heightChangeFlag","clearHeightChangeFlag","HeightOracle","heightSamples","heightForGap","heightForLine","setDoc","mustRefreshForWrapping","whiteSpace","mustRefreshForHeights","lineHeights","newHeight","knownHeights","MeasuredHeights","heights","more","BlockInfo","_content","QueryType$1","QueryType","Epsilon","HeightMap","outdated","setHeight","decomposeLeft","decomposeRight","applyChanges","oldDoc","oracle","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","break","brk","HeightMapBranch","old","HeightMapBlock","_height","_oracle","_value","_type","forEachLine","_force","measured","collapsed","widgetHeight","breaks","HeightMapGap","heightMetrics","firstLine","perLine","perChar","totalPerLine","guess","lineTop","ByHeight","linesAbove","singleHeight","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","mergeGaps","rebalance","around","relevantWidgetHeight","lineEnd","covering","writtenTo","isCovered","addBlock","enterLine","blankContent","gap","ensureLine","heightRelevantDecoChanges","visiblePixelRange","overflow","parentRect","offsetParent","inWindow","fullPixelRange","LineGap","displaySize","same","gA","gB","draw","wrapping","LineGapWidget","vertical","display","ViewState","pixelViewport","inView","paddingBottom","contentDOMWidth","contentDOMHeight","editorHeight","editorWidth","scrolledToBottom","scrollAnchorPos","scrollAnchorHeight","scaler","IdScaler","scrollTarget","printing","defaultTextDirection","visibleRanges","mustEnforceCursorAssoc","guessWrapping","stateDeco","heightMap","getViewport","updateForViewport","updateViewportLines","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","updateScaler","BigScaler","viewportLines","scaleBlock","contentChanges","heightChanges","prevHeight","scrollAnchor","scrollAnchorAt","mapViewport","viewportIsAppropriate","viewportChange","updateLineGaps","mapLineGaps","domRect","measureContent","dTop","dBottom","visibleTop","fromDOM","visibleBottom","marginTop","viewHeight","topPos","mayMeasure","halfMargin","doubleMargin","addGap","avoid","gapSize","checkLine","lineStructure","viewFrom","viewTo","marginHeight","bot","targetFrac","findFraction","spaceFrac","findPosition","marginWidth","horizOffset","pxLeft","pxRight","fraction","nw","lineBlockAtHeight","counted","vpHeight","domBase","domTop","domBottom","bTop","bBottom","strs","darkTheme","baseThemeID","baseLightID","baseDarkID","lightDarkIDs","&light","&dark","buildTheme","scopes","baseTheme$1$3","&","boxSizing","&.cm-focused","outline","flexDirection",".cm-scroller","alignItems","fontFamily","overflowX","zIndex","overflowAnchor",".cm-content","flexGrow","flexShrink","wordWrap","minHeight","padding","&[contenteditable=true]","WebkitUserModify",".cm-lineWrapping","whiteSpace_fallback","wordBreak","overflowWrap","&light .cm-content","caretColor","&dark .cm-content",".cm-line",".cm-layer","contain","& > *","&light .cm-selectionBackground","background","&dark .cm-selectionBackground","&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground","&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground",".cm-cursorLayer","pointerEvents","&.cm-focused > .cm-scroller > .cm-cursorLayer","@keyframes cm-blink","0%","50%","opacity","100%","@keyframes cm-blink2",".cm-cursor, .cm-dropCursor","borderLeft","marginLeft",".cm-cursor","&dark .cm-cursor","borderLeftColor",".cm-dropCursor","&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor",".cm-iso","unicodeBidi",".cm-announced","@media print","&light .cm-activeLine","backgroundColor","&dark .cm-activeLine","&light .cm-specialChar","color","&dark .cm-specialChar",".cm-gutters",".cm-gutters-before","insetInlineStart",".cm-gutters-after","insetInlineEnd","&light .cm-gutters","border","&.cm-gutters-before","borderRightWidth","&.cm-gutters-after","borderLeftWidth","&dark .cm-gutters",".cm-gutter",".cm-gutterElement",".cm-lineNumbers .cm-gutterElement","textAlign","&light .cm-activeLineGutter","&dark .cm-activeLineGutter",".cm-panels","&light .cm-panels","&light .cm-panels-top","borderBottom","&light .cm-panels-bottom","borderTop","&dark .cm-panels",".cm-dialog","& label","fontSize",".cm-dialog-close","font",".cm-tab","verticalAlign",".cm-widgetBuffer",".cm-placeholder","userSelect",".cm-highlightSpace","backgroundImage","backgroundPosition",".cm-highlightTab","backgroundSize","backgroundRepeat",".cm-trailingSpace",".cm-button","borderRadius","&light .cm-button","&:active","&dark .cm-button",".cm-textfield","&light .cm-textfield","&dark .cm-textfield","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","selectionChanged","delayedFlush","resizeTimeout","queue","delayedAndroidKey","flushingAndroidKey","lastChange","scrollTargets","intersection","resizeScroll","intersecting","gapIntersection","printQuery","parentCheck","MutationObserver","mutations","mut","removedNodes","EditContext","EDIT_CONTEXT","EditContextManager","onCharData","prevValue","onSelectionChange","onResize","onPrint","onScroll","matchMedia","ResizeObserver","observe","addWindowListeners","IntersectionObserver","listenForScroll","intersectionRatio","onScrollChanged","createEvent","threshold","requestMeasure","measureReq","matches","g","disconnect","wasChanged","safariSelectionRangeHack","processRecords","clearDelayedAndroidKey","flushed","requestAnimationFrame","cancelAnimationFrame","takeRecords","records","readMutation","readChange","readSelection","handled","rec","childBefore","findChild","childAfter","setWindow","removeWindowListeners","addListener","removeListener","_c","curView","buildSelectionRangeFromRange","curAnchor","getComposedRanges","stopImmediatePropagation","execCommand","pendingContextChange","resetRange","toContextPos","textupdate","toEditorPos","updateRangeStart","updateRangeEnd","contextBase","editorBase","drifted","revertPending","setSelection","characterboundsupdate","rangeStart","rangeEnd","DOMRect","updateCharacterBounds","textformatupdate","format","getTextFormats","lineStyle","underlineStyle","thickness","underlineThickness","updateControlBounds","updateSelectionBounds","applyEdits","_fromB","updateText","reverted","rangeIsValid","contextPos","clipLen","editorPos","EditorView","compositionStarted","_root","pluginMap","editorAttrs","contentAttrs","bidiCache","destroyed","measureScheduled","measureRequests","announceDOM","dispatchTransactions","trs","scrollTo","mountStyles","fonts","redrawn","attrsChanged","focusFlag","dispatchFocus","pendingKey","setState","CachedOrder","updatePlugins","styleModules","showAnnouncements","docViewUpdate","listener","newState","hadFocus","prevSpecs","newPlugins","sDOM","warn","measuring","BadMeasure","write","newAnchorHeight","themeClasses","attrsFromFacet","spellcheck","autocorrect","autocapitalize","writingsuggestions","translate","contenteditable","role","aria-multiline","changedContent","changedEditor","announce","cspNonce","readMeasured","request","documentPadding","viewportLineBlocks","moveByGroup","initial","MaxBidiLine","entry","fresh","setRoot","scrollSnapshot","setTabFocusMode","prefix","dark","baseTheme","findFromDOM","inputHandler","lastDir","sources","currentPlatform","normalizeKeyName","ctrl","meta","modifiers","handleKeyEvents","getKeymap","keymap","Keymaps","WeakMap","bindings","buildKeymap","runScopeHandlers","scope","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","command","scopeObj","ourObj","full","binding","_any","any","currentKeyEvent","charCode","isChar","prevented","ran","runFor","cmd","baseName","shiftName","RectangleMarker","forRange","getBase","rectanglesForRange","wrappedLine","lineElt","leftSide","paddingLeft","textIndent","rightSide","paddingRight","startBlock","endBlock","visualStart","visualEnd","pieces","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","endPos","docLine","spanFrom","spanTo","sameMarker","LayerView","drawn","setOrder","layerOrder","updateOnDocViewUpdate","markers","oldI","marker","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","cursorLayer","selectionLayer","hideNativeSelection","configChanged","cursors","prim","animationName","confChange","setBlinkRate","animationDuration","& ::selection, &::selection","& :focus","&::selection, & ::selection","setDropCursorPos","dropCursorPos","drawDropCursor","readPos","drawCursor","cursorPos","outer","setDropPos","dragover","dragleave","relatedTarget","dropCursor","iterMatches","lastIndex","matchRanges","maxLength","visible","MatchDecorator","regexp","decoration","decorate","boundary","global","addMatch","_view","createDeco","changeFrom","changeTo","_f","_t","updateRange","updateFrom","updateTo","fromLine","toLine","UnicodeRegexpSupport","unicode","Specials","Names","8203","8204","8205","8206","8207","8232","8237","8238","8294","8295","8297","8233","65279","65532","_supportsTabSize","supportsTabSize","MozTabSize","specialCharConfig","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","ph","highlightActiveLine","activeLineHighlighter","lineDeco","getDeco","lastLineStart","MaxOff","rectangleFor","startLine","startOff","endOff","startCol","endCol","absoluteColumn","getPos","rectangleSelectionStyle","newStart","newLine","_extend","rectangularSelection","Alt","Control","Shift","Meta","showCrosshair","crosshairCursor","isDown","keyup","mousemove","Outside","TooltipViewManager","createTooltipView","removeTooltipView","tooltips","tooltipViews","newAbove","tip","tooltipView","windowSpace","docElt","tooltipConfig","tooltipSpace","knownHeight","tooltipPlugin","madeAbsolute","lastTransaction","measureTimeout","classes","createContainer","readMeasure","writeMeasure","resizeObserver","measureSoon","manager","showTooltip","createTooltip","unobserve","intersectionObserver","observeIntersection","maybeMeasure","container","tooltip","shouldMeasure","newConfig","arrow","makeAbsolute","tv","getCoords","space","others","tView","arrowHeight","noOffset","strictSide","spaceVert","overlap","setLeftStyle","arrowLeft","toggle","positioned","baseTheme$4",".cm-tooltip","&light .cm-tooltip","&light .cm-tooltip-section:not(:first-child)","&dark .cm-tooltip",".cm-tooltip-arrow","&:before, &:after","borderRight",".cm-tooltip-above &","&:before","&:after",".cm-tooltip-below &","&dark .cm-tooltip .cm-tooltip-arrow","borderTopColor","borderBottomColor","showHoverTooltip","inputs","HoverTooltipHost","mounted","createHostedView","hostedView","passProp","given","showHoverTooltipHost","HoverPlugin","setHover","hoverTime","hoverTimeout","restartTimeout","lastMove","checkHover","mouseleave","startHover","hovered","posCoords","bidi","isInTooltip","isOverRange","inTooltip","watchTooltipLeave","watch","tooltipMargin","arrowRect","docBottom","hoverTooltip","hoverState","hideOnChange","hideOn","assign","closeHoverTooltipEffect","getTooltip","panelConfig","topContainer","bottomContainer","getPanel","panel","panelPlugin","panels","showPanel","PanelGroup","syncClasses","scrollMargin","syncDOM","curDOM","GutterMarker","elementClass","gutterLineClass","gutterWidgetClass","defaults$1","renderEmptyElements","elementStyle","lineMarker","widgetMarker","lineMarkerChange","initialSpacer","updateSpacer","activeGutters","gutter","gutters","unfixGutters","gutterView","domAfter","prevViewport","SingleGutterView","fixed","getDOMAfter","syncGutters","updateGutters","vpA","vpB","vpOverlap","detach","lineClasses","classSet","UpdateContext","advanceCursor","cx","asArray","collect","addElement","elements","newElt","GutterElement","extraMarkers","localMarkers","forLine","spacer","prevMarkers","sameMarkers","setMarkers","domPos","iNew","iOld","skipTo","matched","lineNumberMarkers","lineNumberWidgetMarker","lineNumberConfig","formatNumber","NumberMarker","lineNumberGutter","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","highlightActiveLineGutter","DefaultBufferLength","nextPropID","NodeProp","perNode","deserialize","NodeType","closedBy","openedBy","group","isolate","contextHash","lookAhead","MountedTree","tree","overlay","parser","props","noProps","skipped","src","isTop","isSkipped","isAnonymous","groups","NodeSet","newTypes","newProps","CachedNode","CachedInnerNode","IterMode","Tree","positions","TreeCursor","topNode","cursorAt","moveTo","_tree","TreeNode","resolveNode","resolveInner","resolveStack","stackIterator","iterate","enter","leave","anon","IncludeAnonymous","entered","propValues","balance","balanceRange","makeTree","buildTree","FlatBufferCursor","fork","TreeBuffer","childString","endIndex","pick","checkSide","startI","endI","Uint16Array","overlays","IgnoreOverlays","BaseNode","getChild","getChildren","matchContext","matchNodeContext","enterUnfinishedNodesBefore","prevSibling","_parent","nextChild","ExcludeBuffers","BufferNode","BufferContext","hasChild","IgnoreMounts","rPos","nextSignificantParent","toTree","externalSibling","parentStart","iterStack","heads","picked","newHeads","StackIterator","layers","bufferNode","yieldNode","yieldBuf","yield","enterChild","sibling","atLastNode","depth","mustLeave","nodeSet","maxBufferLength","reused","minRepeatType","takeNode","minPos","inRepeat","lookAheadAtStart","contextAtStart","findBufferSize","copyToBuffer","localChildren","localPositions","localInRepeat","lastGroup","lastEnd","makeRepeatLeaf","takeFlatNode","make","makeBalanced","nodeCount","stopAt","lastI","lookAheadProp","pair","minStart","nodeSize","localSkipped","nodeStart","bufferStart","topID","nodeSizeCache","balanceType","mkTop","mkTree","maxChild","divide","groupFrom","groupStart","groupSize","nextSize","only","NodeWeakMap","setBuffer","getBuffer","cursorSet","cursorGet","TreeFragment","addTree","fragments","partial","minGap","fI","nextF","cI","nextC","nextPos","fFrom","fTo","Parser","startParse","StringInput","createParse","advance","lineChunks","parseMixed","nest","MixedParse","InnerParse","checkRanges","ActiveOverlay","predicate","mounts","stoppedInner","innerDone","baseTree","stoppedAt","baseParse","startInner","parsedPos","fragmentCursor","FragmentCursor$2","covered","hasNode","frag","checkCover","materialize","oldMounts","findMounts","punchRanges","enterFragments","sliceBuf","newStack","innerOffset","stackPos","targetI","StructureCursor","FragmentCursor","fragI","curFrag","nextFrag","gapFrom","gapTo","findCoverChanges","inB","nextA","nextB","nextTagID","Tag$1","Tag","modified","nameOrParent","defineModifier","Modifier","nextModifierID","instances","sameArray","powerSet","styleTags","byName","rest","rule","Rule","ruleNodeProp","opaque","inherit","tagHighlighter","tagClass","highlightTags","highlighters","highlighter","highlightTree","putStyle","HighlightBuilder","highlightRange","startSpan","inheritedClass","getStyleTags","tagCls","innerHighlighters","comment","typeName","propertyName","literal","keyword","operator","punctuation","bracket","tags$1","lineComment","blockComment","docComment","variableName","attributeName","labelName","macroName","docString","character","attributeValue","integer","float","bool","escape","null","atom","unit","modifier","operatorKeyword","controlKeyword","definitionKeyword","moduleKeyword","derefOperator","arithmeticOperator","logicOperator","bitwiseOperator","compareOperator","updateOperator","definitionOperator","typeOperator","controlOperator","separator","angleBracket","squareBracket","paren","brace","heading1","heading2","heading3","heading4","heading5","heading6","contentSeparator","quote","emphasis","strong","link","monospace","strikethrough","deleted","invalid","documentMeta","processingInstruction","definition","constant","function","standard","special","languageDataProp","defineLanguageFacet","baseData","sublanguageProp","Language","extraExtensions","defineProperty","syntaxTree","topNodeAt","innerNode","sublang","isActiveAt","findRegions","allowsNesting","explore","topLang","LRLanguage","configure","hasWrappers","DocInput","syncTo","stringStart","currentContext","ParseContext","treeLen","scheduleOn","tempSkipped","work","until","isDone","takeTree","withContext","endTime","withoutTempSkipped","cutFragments","updateViewport","startLen","skipUntilInView","getSkippingParser","frags","LanguageState","newCx","vpTo","parseState","requestIdle","timeout","requestIdleCallback","idle","cancelIdleCallback","isInputPending","scheduling","parseWorker","ParseWorker","working","workScheduled","chunkBudget","scheduleWork","checkAsyncSchedule","deadline","timeRemaining","viewportFirst","catch","isWorking","languages","data-language","LanguageSupport","support","LanguageDescription","alias","loadFunc","loading","matchFilename","descs","matchLanguageName","fuzzy","indentService","indentUnit","getIndentUnit","indentString","cols","ts","getIndentation","IndentContext","service","syntaxIndentation","simulateBreak","simulateDoubleBreak","textAfterPos","column","override","overrideIndentation","search","lineIndent","overriden","simulatedBreak","indentNodeProp","ast","indentFor","strategy","indentStrategy","TreeIndentContext","ignoreClosed","closed","delimitedStrategy","topIndent$1","baseIndent","baseIndentFor","atBreak","isParent","continue","bracketedAligned","openToken","sim","openLine","delimitedIndent","closing","align","units","closedAt","aligned","flatIndent","continuedIndent","except","matchExcept","DontIndentBeyond","indentOnInput","indent","norm","foldService","foldNodeProp","foldInside","syntaxFolding","isUnfinished","foldable","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","folded","clearTouchedFolds","foldExists","preparePlaceholder","foldConfig","foldWidget","PreparedFoldWidget","findFold","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldKeymap","defaultConfig","placeholderDOM","placeholderText","baseTheme$1$2","widgetToDOM","prepared","onclick","foldGutterDefaults","openText","closedText","markerDOM","foldingChanged","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","buildMarkers","click",".cm-foldPlaceholder",".cm-foldGutter span","HighlightStyle","modSpec","scopeOpt","themeType","highlighterFacet","fallbackHighlighter","getHighlighters","syntaxHighlighting","treeHighlighter","TreeHighlighter","markCache","buildDeco","decoratedTo","styleChange","decoratedToMapped","defaultHighlightStyle","textDecoration","fontWeight","fontStyle","baseTheme$3","&.cm-focused .cm-matchingBracket","&.cm-focused .cm-nonmatchingBracket","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","brackets","maxScanDistance","renderMatch","defaultRenderMatch","matchingMark","nonmatchingMark","bracketMatchingState","matchBrackets","bracketMatchingUnique","bracketMatching","bracketMatchingHandle","matchingNodes","byProp","findHandle","hasHandle","matchMarkedBrackets","matchPlainBrackets","_pos","token","matching","firstToken","endHandle","tokenType","startCh","startToken","basePos","noTokens","typeArray","warned","byTag","defaultTable","legacyName","createTokenType","warnForPart","tagStr","tags$1$1","toggleComment","getConfig","toggleLineComment","toggleBlockCommentByLine","changeLineComment","toggleBlockComment","changeBlockComment","selectedLineRanges","SearchMargin","findBlockComment","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","comments","prevLine","minIndent","changeSet","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","joinToEvent","isAdjacent","adj","historyField_","HistoryState","fromHist","HistEvent","fromTransaction","undone","updateBranch","addSelection","addMapping","addChanges","history","undo","redo","historyState","undoSelection","redoSelection","startSelection","selectionsAfter","setSelAfter","none$2","selections","branch","maxLen","newEvent","newBranch","eqSelectionShape","conc","MaxSelectionsPerEvent","sels","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","joinableUserEvent","prevTime","prevUserEvent","onlySelection","historyKeymap","updateSel","setSel","moveSel","how","cursorByChar","ltrAtCursor","cursorCharLeft","cursorCharRight","cursorByGroup","cursorGroupLeft","cursorGroupRight","interestingNode","bracketProp","moveBySyntax","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","cursorLineUp","cursorLineDown","pageInfo","selfScroll","marginBottom","cursorByPage","page","scrollRect","scrollBottom","cursorPageUp","cursorPageDown","moveByLineBoundary","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineBoundaryLeft","cursorLineBoundaryRight","cursorLineStart","cursorLineEnd","toMatchingBracket","cursorMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectByGroup","selectGroupLeft","selectGroupRight","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineBoundaryLeft","selectLineBoundaryRight","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","stackBefore","simplifySelection","deleteBy","towards","skipAtomic","deleteByChar","byIndentUnit","targetPos","deleteCharBackward","deleteCharForward","deleteByGroup","nextChar","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","deleteLineBoundaryBackward","deleteLineBoundaryForward","splitLine","transposeChars","blocks","moveLine","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","isBetweenBrackets","insertNewlineAndIndent","newlineAndIndent","insertBlankLine","atEof","explode","changeBySelectedLine","atLine","indentSelection","indentMore","indentLess","keep","toggleTabFocusMode","emacsStyleKeymap","standardKeymap","defaultKeymap","indentWithTab","basicNormalize","normalize","SearchCursor","query","bufferPos","peek","nextOverlapping","baseFlags","RegExpCursor","MultilineRegExpCursor","ignoreCase","curLineStart","matchPos","toCharEnd","flattened","FlattenedDoc","cached","cachedFrom","validRegExp","createLineDialog","onkeydown","dialogEffect","go","onsubmit","aria-label","sign","ln","cl","pc","dialogField","gotoLine","baseTheme$1$1",".cm-panel.cm-gotoLine","& [name=close]","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","wholeWords","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","insideWordBoundaries","insideWord","word",".cm-selectionMatch",".cm-searchMatch .cm-selectionMatch","selectWord","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","searchConfigFacet","caseSensitive","wholeWord","createPanel","SearchPanel","scrollToMatch","searchExtensions","SearchQuery","valid","unquoted","unquote","RegExpQuery","StringQuery","getCursor","st","regexpCursor","stringCursor","stringWordTest","categorizer","bufPos","charBefore","charAfter","nextMatch","prevMatchInRange","prevMatch","getReplacement","_result","matchAll","highlight","regexpWordTest","setSearchQuery","togglePanel$1","searchState","SearchState","defaultQuery","createSearchPanel","getSearchQuery","curState","matchMark","selectedMatchMark","searchHighlighter","selected","searchCommand","openSearchPanel","findNext","announceMatch","selectSearchInput","findPrevious","selectMatches","selectSelectionMatches","replaceNext","replacement","replaceAll","announceText","_d","_e","selText","getSearchInput","searchInput","closeSearchPanel","searchKeymap","commit","searchField","placeholder","form","main-field","onchange","onkeyup","replaceField","caseField","checked","reField","wordField","setQuery","AnnounceMargin","Break","baseTheme$2",".cm-panel.cm-search","& input, & button, & label","& input[type=checkbox]","marginRight","&light .cm-searchMatch","&dark .cm-searchMatch","&light .cm-searchMatch-selected","&dark .cm-searchMatch-selected","CompletionContext","explicit","abortListeners","abortOnDocChange","tokenBefore","matchBefore","expr","ensureAnchor","aborted","onDocChange","toSet","chars","words","prefixMatch","completeFromList","validFor","ifNotIn","Option","completion","score","addStart","addEnd","pickedCompletion","insertCompletionText","SourceCache","asSource","startCompletionEffect","closeCompletionEffect","FuzzyMatcher","pattern","byWord","upper","astral","ret","firstSize","anyTo","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","wordAdjacent","StrictMatcher","completionConfig","activateOnTyping","activateOnCompletion","activateOnTypingDelay","selectOnOpen","closeOnBlur","maxRenderedOptions","tooltipClass","optionClass","aboveCursor","icons","addToOptions","positionInfo","defaultPositionInfo","filterStrict","compareCompletions","sortText","localeCompare","interactionDelay","updateSyncTime","joinClass","info","narrow","spaceLeft","spaceRight","infoWidth","infoHeight","spaceBelow","optionContent","_s","_v","labelElt","displayLabel","detailElt","rangeAroundSelected","CompletionTooltip","stateField","applyCompletion","infoDestroy","placeInfoReq","measureInfo","placeInfo","currentClass","cState","updateTooltipClass","showOptions","createListBox","prevState","updateSelectedOption","destroyInfo","infoResult","addInfoPane","wrap","hasAttribute","listRect","infoRect","selRect","ul","curSection","section","li","completionTooltip","boost","sortOptions","dynamicSectionScore","addOption","hasResult","getMatch","matcher","sectionOrder","cmp","CompletionDialog","timestamp","setSelected","makeAttrs","didSetActive","setDisabled","selectedValue","CompletionState","none$1","ActiveSource","didSet","setActiveEffect","sameResults","setSelectedEffect","baseAttrs","noAttrs","aria-autocomplete","aria-haspopup","aria-controls","getUpdateType","typing","touches","updateFor","ActiveResult","checkValid","completionState","moveCompletionSelection","step","acceptCompletion","startCompletion","closeCompletion","RunningQuery","updates","MaxUpdateCount","MinAbortTime","completionPlugin","debounceUpdate","running","debounceAccept","pendingStart","startQuery","doesReset","q","startUpdate","accept","scheduleAccept","dialog","commitCharacters","commitChars","baseTheme$1",".cm-tooltip.cm-tooltip-autocomplete","& > ul","maxWidth_fallback","listStyle","& > li, & > completion-section","& > li","textOverflow","& > completion-section","&light .cm-tooltip-autocomplete ul li[aria-selected]","&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]","&dark .cm-tooltip-autocomplete ul li[aria-selected]","&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]",".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after",".cm-tooltip.cm-completionInfo",".cm-completionInfo.cm-completionInfo-left",".cm-completionInfo.cm-completionInfo-right",".cm-completionInfo.cm-completionInfo-left-narrow",".cm-completionInfo.cm-completionInfo-right-narrow","&light .cm-snippetField","&dark .cm-snippetField",".cm-snippetFieldPosition",".cm-completionMatchedText",".cm-completionDetail",".cm-completionIcon",".cm-completionIcon-function, .cm-completionIcon-method",".cm-completionIcon-class",".cm-completionIcon-interface",".cm-completionIcon-variable",".cm-completionIcon-constant",".cm-completionIcon-type",".cm-completionIcon-enum",".cm-completionIcon-property",".cm-completionIcon-keyword",".cm-completionIcon-namespace",".cm-completionIcon-text","FieldPos","FieldRange","Snippet","fieldPositions","instantiate","lineObj","tabs","rawName","snip","fieldMarker","fieldRange","ActiveSnippet","selectionInsideField","moveToField","snippetState","fieldSelection","snippet","editor","addSnippetKeymap","snippetPointerHandler","moveField","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","snippetKeymap","maps","snippetCompletion","stringPrefixes","closeBracketEffect","closedBracket","bracketState","closeBrackets","definedClosing","android$1","insertBracket","deleteBracketPair","dont","prevChar","closeBracketsKeymap","tok","handleSame","handleOpen","closedBracketAt","handleClose","closeBefore","_open","allowTriple","isTriple","canStartStringAt","probablyInString","quoteToken","prefixes","maxPrefix","quotePos","charCat","autocompletion","completionKeymapExt","completionKeymap","SelectedDiagnostic","diagnostic","LintState","diagnostics","diagnosticFilter","lintConfig","markerFilter","sorted","sev","maxSeverity","DiagnosticWidget","markClass","findDiagnostic","hideTooltip","setDiagnosticsEffect","maybeEnableLint","lintState","lintExtensions","togglePanel","movePanelSelection","selPos","autoPanel","LintPanel","activeMark","lintTooltip","tooltipFilter","diagnosticsTooltip","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","needsRefresh","assignKeys","assigned","inPanel","severity","renderMessage","action","fired","keyIndex","nameElt","onmousedown","PanelItem","moveSelection","selectedIndex","needsSync","newSelectedItem","_start","_end","svg","underline",".cm-diagnostic",".cm-diagnostic-error",".cm-diagnostic-warning",".cm-diagnostic-info",".cm-diagnostic-hint",".cm-diagnosticAction",".cm-diagnosticSource",".cm-lintRange",".cm-lintRange-error",".cm-lintRange-warning",".cm-lintRange-info",".cm-lintRange-hint",".cm-lintRange-active",".cm-tooltip-lint",".cm-lintPoint",".cm-lintPoint-warning",".cm-lintPoint-info",".cm-lintPoint-hint",".cm-panel.cm-panel-lint","& ul","overflowY","& [aria-selected]","& u","&:focus [aria-selected]","background_fallback","color_fallback","severityWeight","weight","basicSetup","Stack","reducePos","bufferBase","curContext","StackContext","pushState","lookaheadRecord","setLookAhead","dPrec","dynamicPrecedence","getGoto","minRepeatTerm","storeNode","reduceContext","lastBigReductionStart","bigReductionCount","lastBigReductionSize","stateFlag","baseStateID","term","mustSink","mustMove","nextState","maxNode","shiftContext","nextStart","nextEnd","useNode","updateContext","tracker","reuse","stream","recoverByDelete","isNode","canShift","SimulatedStack","stateSlot","hasAction","recoverByInsert","nextStates","forceReduce","validAction","backup","findForcedReduction","includes","allActions","rDepth","forceAll","deadEnd","restart","sameState","dialectEnabled","dialectID","dialect","emitContext","hash","emitLookAhead","StackBufferCursor","maybeNext","decodeArray","Type","digit","CachedToken","extended","mask","nullToken","InputStream","chunkOff","chunk2","chunk2Pos","readNext","resolveOffset","clipPos","resolved","acceptToken","acceptTokenTo","getChunk","setDone","TokenGroup","readToken","tokenPrecTable","contextual","LocalTokenGroup","precTable","elseToken","ExternalTokenizer","precOffset","groupMask","accEnd","allows","overrides","findOffset","tableData","tableOffset","iPrev","verbose","env","LOG","stackIDs","cutAt","FragmentCursor$1","fragment","safeFrom","safeTo","trees","nextFragment","fr","nodeAt","TokenCache","mainToken","tokenizers","getActions","actionIndex","tokenizer","updateCachedToken","addActions","eofTerm","getMainToken","specialized","specializers","putAction","Parse","recovering","nextStackID","minStackPos","topTerm","stacks","bufferLength","newStacks","stopped","stoppedTokens","advanceStack","finished","findFinished","stackID","stackToTree","getName","SyntaxError","runRecovery","maxRemaining","strictCx","cxHash","defaultReduce","localStack","advanceFully","pushStackDedup","restarted","tokenEnd","forceBase","Dialect","ContextTracker","LRParser","wrappers","nodeNames","repeatNodeCount","topTerms","topRules","nodeProps","setProp","nodeID","propSpec","skippedNodes","propSources","tokenArray","tokenData","specializerSpecs","getSpecializer","states","Uint32Array","stateData","maxTerm","dialects","dynamicPrecedences","tokenPrec","termNames","parseDialect","loose","table","groupTag","terminal","deflt","external","contextTracker","noSemi","noSemiType","incdec","incdecPrefix","questionDot","JSXStartTag","insertSemi","spaces","newline$3","LineComment","BlockComment","Dialect_jsx","space$3","braceR","semicolon","slash$1","star","plus","minus","lt","comma","question$1","dot$1","bracketL$1","trackNewline","insertSemicolon","noSemicolon","noSemicolonType","operatorToken","mayPostfix","identifierChar","jsx","jsHighlight","get set async static","for while do if else switch try catch finally return throw break continue default case","in of await yield void typeof delete instanceof as satisfies","let var const using function class extends","import export from","with debugger new","TemplateString","BooleanLiteral","Star","VariableName","CallExpression/VariableName TaggedTemplateExpression/VariableName","VariableDefinition","Label","PropertyName","PrivatePropertyName","CallExpression/MemberExpression/PropertyName","FunctionDeclaration/VariableDefinition","ClassDeclaration/VariableDefinition","NewExpression/VariableName","PropertyDefinition","PrivatePropertyDefinition","UpdateOp","LineComment Hashbang","Number","Escape","ArithOp","LogicOp","BitOp","CompareOp","Equals","Arrow",": Spread","( )","[ ]","{ }","InterpolationStart InterpolationEnd",".",", ;","@","TypeName","TypeDefinition","type enum interface implements namespace module declare","abstract global Privacy readonly override","is keyof unique infer asserts","JSXAttributeValue","JSXText","JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag","JSXIdentifier JSXNameSpacedName","JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName","JSXBuiltin/JSXIdentifier","spec_identifier$2","__proto__","export","as","async","in","const","extends","true","false","void","typeof","new","await","public","private","protected","instanceof","satisfies","import","keyof","unique","infer","asserts","abstract","implements","var","using","interface","enum","declare","defer","while","with","do","if","else","switch","case","try","finally","return","throw","debugger","spec_word","accessor","spec_LessThan","<","parser$7","Script","SingleExpression","SingleClassItem","80","82","94","169","199","snippets$1","typescriptSnippets","cache$1","ScopeNodes$1","defID$1","functionContext","gatherCompletions$1","FunctionDeclaration","ClassDeclaration","ClassExpression","EnumDeclaration","TypeAliasDeclaration","NamespaceDeclaration","getScope$1","completions","gather","Identifier$2","dontComplete$1","localCompletionSource$1","isWord","javascriptLanguage","IfStatement","TryStatement","LabeledStatement","SwitchBody","isCase","Block","ArrowFunction","TemplateString BlockComment","Statement Property","JSXElement","JSXEscape","JSXOpenTag JSXSelfClosingTag","Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType","commentTokens","jsxSublanguage","typescriptLanguage","jsxLanguage","tsxLanguage","kwCompletion","keywords","typescriptKeywords","javascript","typescript","autocomplete","autoCloseTags$2","findOpenTag","elementName$3","closeTags","openTag","jsonHighlighting","True False","Null",", :","parser$6","JsonText","jsonLanguage","Object Array","descendantOp","Unit","identifier$2","callee","queryIdentifier","queryVariableName","QueryCallee","space$2","colon","parenL","underscore","bracketL","dash$1","period","hash$1","ampersand","backslash$1","newline$2","asterisk","isAlpha","isDigit","isHex$1","identifierTokens","varName","dashes","identifiers","queryIdentifiers","descendant","unitToken","cssHighlighting","AtKeyword import charset namespace keyframes media supports","from to selector","NamespaceName","KeyframeName","KeyframeRangeName","TagName","ClassName","PseudoClassName","IdName","FeatureName PropertyName","AttributeName","NumberLiteral","KeywordQuery","UnaryQueryOp","CallTag ValueName","Callee","UniversalSelector NestingSelector","MatchOp CompareOp","ChildOp SiblingOp, LogicOp","BinOp","Important","Comment","ColorLiteral","ParenthesizedContent StringLiteral",":","PseudoOp #","; ,","spec_callee","nth-child","nth-last-child","nth-of-type","nth-last-of-type","host-context","url-prefix","domain","spec_queryIdentifier","or","and","not","spec_QueryCallee","spec_AtKeyword","@import","@media","@charset","@namespace","@keyframes","@supports","@scope","spec_identifier$1","parser$5","StyleSheet","Styles","_properties","properties","names","pseudoClasses","atRules","identifier$1","variable","isVarArg","VariablesByNode","declSelector","astTop","variableNames","isVariable","defineCSSCompletionSource","isDash","cssCompletionSource","cssLanguage","Declaration","Block KeyframeList","scriptText","StartCloseScriptTag","styleText","StartCloseStyleTag","textareaText","StartCloseTextareaTag","EndTag","SelfClosingEndTag","StartTag$1","StartScriptTag","StartStyleTag","StartTextareaTag","StartSelfClosingTag","StartCloseTag$1","NoMatchStartCloseTag","MismatchedStartCloseTag","missingCloseTag","IncompleteTag","IncompleteCloseTag","commentContent$1$1","Element$3","Attribute","AttributeValue","UnquotedAttributeValue","ScriptText","StyleText","TextareaText","OpenTag$1","CloseTag","Dialect_noMatch","Dialect_selfClosing","selfClosers$1","area","frame","hr","keygen","wbr","menuitem","implicitlyClosed","dd","optgroup","rp","rt","tbody","td","tfoot","th","closeOnOpen","article","aside","blockquote","dl","fieldset","h1","h2","h3","h4","h5","h6","hgroup","menu","ol","pre","thead","nameChar$1","cachedName$1","cachedInput$1","cachedPos$1","tagNameAfter$1","question","bang","lessThan","greaterThan","slash","dash","ElementContext$1","startTagTerms","elementContext$1","tagStart","commentContent$2","inForeignElement","endTag","selfClosing","contentTokenizer","textToken","endToken","lastState","matchedLen","scriptTokens","styleTokens","textareaTokens","htmlHighlighting","Text RawText IncompleteTag IncompleteCloseTag","StartTag StartCloseTag SelfClosingEndTag EndTag","MismatchedCloseTag/TagName","AttributeValue UnquotedAttributeValue","Is","EntityReference CharacterReference","ProcessingInst","DoctypeDecl","parser$4","Document","noMatch","getAttrs","att","findTagName","tagNameNode","maybeNest","bracketed","configureNesting","script","textarea","nameNode","Targets","Charsets","Methods","Encs","Bool","S","Tags","href","ping","media","hreflang","abbr","shape","mediagroup","crossorigin","preload","autoplay","loop","controls","bdi","bdo","cite","formaction","autofocus","formenctype","formmethod","formnovalidate","formtarget","center","colgroup","radiogroup","datagrid","datalist","datetime","dfn","em","eventsource","figcaption","figure","accept-charset","enctype","method","novalidate","manifest","iframe","srcdoc","sandbox","seamless","ismap","usemap","dirname","maxlength","kbd","challenge","keytype","legend","charset","http-equiv","meter","optimum","noscript","typemustmatch","reversed","ruby","samp","small","scoped","summary","sup","colspan","rowspan","headers","rows","kind","srclang","poster","muted","GlobalAttrs","accesskey","dropzone","hidden","inert","itemid","itemprop","itemref","itemscope","itemtype","tabindex","rel","aria-activedescendant","aria-atomic","aria-busy","aria-checked","aria-describedby","aria-disabled","aria-dropeffect","aria-expanded","aria-flowto","aria-grabbed","aria-hidden","aria-invalid","aria-labelledby","aria-level","aria-live","aria-multiselectable","aria-owns","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","eventAttributes","Schema","extraTags","extraAttrs","globalAttrs","allTags","globalAttrNames","elementName$2","findParentElement$1","allowedChildren","schema","parentInfo","openTags","identifier","completeTag","completeCloseTag","completeStartTag","completeAttrName","localAttrs","attrName","completeAttrValue","quoteStart","quoteEnd","htmlCompletionFor","htmlCompletionSource","htmlCompletionSourceWith","extraGlobalAttributes","jsonParser","defaultNesting","defaultAttrs","htmlPlain","OpenTag CloseTag SelfClosingTag","endElt","OpenTag CloseTag","htmlLanguage","matchClosingTags","selfClosingTags","nestedLanguages","nestedAttributes","autoCloseTags","autoCloseTags$1","selfClosers","insertTransaction","didType","CompositeBlock","parentHash","hashProp","addChild","LeafBlock","parsers","forwardInner","skipSpace","countIndent","moveBase","moveBaseColumn","findColumn","addMarker","scrub","skipForList","bl","OrderedList","isOrderedList","isBulletList","BulletList","isHorizontalRule","DefaultSkipMarkup","Blockquote","QuoteMark","space$1","ListItem","_cx","skipSpaceBack","isFencedCode","isBlockquote","breaking","isSetextUnderline","leafBlockParsers","DefaultLeafBlocks","SetextHeading","inList","isAtxHeading","EmptyLine","CommentEnd","ProcessingEnd","HTMLBlockStyle","isHTMLBlock","getListIndent","indentAfter","indented","addCodeText","CodeText","DefaultBlockParsers","LinkReference","IndentedCode","pendingMarks","codeStart","addNode","writeElements","CodeBlock","FencedCode","fenceEnd","infoFrom","infoTo","CodeMark","CodeInfo","textStart","textEnd","prevLineEnd","startContext","HorizontalRule","newBase","ListMark","ATXHeading","endOfSpace","HeaderMark","parseInline","ATXHeading1","HTMLBlock","trailing","CommentBlock","ProcessingInstructionBlock","LinkReferenceParser","leaf","stage","elts","addLeafElement","nextStage","parseLinkLabel","LinkMark","parseURL","parseLinkTitle","titleEnd","SetextHeadingParser","underlineMark","SetextHeading1","SetextHeading2","DefaultEndLeaf","scanLineResult","BlockContext","atEnd","reusePlaceholders","rangeI","absoluteLineStart","absoluteLineEnd","readLine","markI","finishContext","reuseFragment","blockParsers","endLeafBlock","finishLeaf","taken","takeNodes","toRelative","moveRangeI","parentType","peekLine","scanLine","lineChunkAt","textOffset","nextFrom","skipContextMarkup","eol","startComposite","getNodeType","injectMarks","addGaps","injectGaps","Paragraph","TreeElement","Buffer","dummies","movePastNext","MarkdownParser","blockNames","inlineParsers","inlineNames","nodeTypes","resolveConfig","nonEmpty","defineNodes","composite","parseBlock","findName","endLeaf","InlineContext","resolveMarkers","wrapA","wrapB","writeTo","Element$2","EmphasisUnderscore","EmphasisAsterisk","LinkStart","ImageStart","InlineDelimiter","Escapable","Punctuation","DefaultInline","escaped","Entity","InlineCode","curSize","HTMLTag","Autolink","procInst","ProcessingInstruction","Emphasis","pBefore","pAfter","sBefore","sAfter","leftFlanking","rightFlanking","canOpen","canClose","HardBreak","Link","LinkEnd","takeContent","finishLink","dest","LinkTitle","requireNonWS","LinkLabel","addDelimiter","hasOpenLink","emp","closeSize","findOpeningDelimiter","eI","NotLast","fragmentEnd","fragEnd","blockI","prevI","markdownHighlighting","Blockquote/...","ATXHeading1/... SetextHeading1/...","ATXHeading2/... SetextHeading2/...","ATXHeading3/...","ATXHeading4/...","ATXHeading5/...","ATXHeading6/...","Comment CommentBlock","Emphasis/...","StrongEmphasis/...","Link/... Image/...","OrderedList/... BulletList/...","BlockQuote/...","InlineCode CodeText","URL Autolink","HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark","CodeInfo LinkLabel","parser$3","leftOverSpace","parseCode","codeParser","htmlParser","infoNode","StrikethroughDelim","Strikethrough","Strikethrough/...","parseRow","cellStart","cellEnd","esc","parseCell","hasPipe","delimiterLine","TableParser","lineText","firstRow","firstCount","Table","TableHeader/...","TaskParser","TaskList","autolinkRE","urlRE","lastTwoDomainWords","emailRE","xmppResourceRE","autolinkURLEnd","autolinkEmailEnd","absPos","noBracket","GFM","parseSubSuper","Superscript","Subscript","Emoji","headingProp","commonmark","isHeading","isList","findSectionEnd","headerNode","headerIndent","mkLang","commonmarkLanguage","markdownLanguage","getCodeParser","defaultLanguage","Context$2","Context","blank","itemNumber","renumberList","normalizeIndent","insertNewlineContinueMarkupCommand","emptyLine","nonTightLists","delTo","blankLine","quoted","continued","nonTightList","insertNewlineContinueMarkup","isMark","line1","line2","contextNodeForDelete","deleteMarkupBackward","spaceEnd","markdownKeymap","htmlNoMatch","markdown","codeLanguages","defaultCodeLanguage","addKeymap","completeHTMLTags","pasteURLAsLink","pasteURL","htmlTagLanguage","defaultCode","htmlTagCompletion","htmlTagCompletions","_tagCompletions","nonPlainText","crossesNode","printKeyword","dedent","newline$1","blankLineStart","newlineBracketed","eof$1","stringContent","replacementStart","stringEnd","ParenL","ParenthesizedExpression","TupleExpression","ComprehensionExpression","BracketL$1","ArrayExpression","ArrayComprehensionExpression","BraceL$1","DictionaryExpression","DictionaryComprehensionExpression","SetExpression","SetComprehensionExpression","ArgList","subscript","String$1","stringStartD","stringStartL","stringStartLD","stringStartR","stringStartRD","stringStartRL","stringStartRLD","FormatString","stringStartF","stringStartFD","stringStartFL","stringStartFLD","stringStartFR","stringStartFRD","stringStartFRL","stringStartFRLD","FormatReplacement","nestedFormatReplacement","importList","TypeParamList","ParamList","SequencePattern","MappingPattern","PatternArgList","newline","carriageReturn","tab","parenOpen","dot","braceOpen","braceClose","singleQuote","doubleQuote","backslash","letter_o","letter_x","letter_N","letter_u","letter_U","isLineBreak","isHex","newlines$1","cx_Bracketed","indentation$1","cx_String","cx_DoubleQuote","cx_Long","cx_Raw","cx_Format","Context$1","topIndent","stringFlags","trackIndent","legacyPrint","strings","long","escapes","skipEscape","pythonHighlighting","async \"*\" \"**\" FormatConversion FormatSpec","for while if elif else try except finally return raise break continue with pass assert await yield match case","in not and or is del","from def class global nonlocal lambda","with as print","None","CallExpression/VariableName","FunctionDefinition/VariableName","ClassDefinition/VariableName","ArithOp!","AssignOp","Ellipsis","At","spec_identifier","True","False","pass","raise","nonlocal","assert","elif","parser$2","ScopeNodes","defID","gatherCompletions","FunctionDefinition","ClassDefinition","ForStatement","ImportStatement","_node","isFrom","AssignStatement","CapturePattern","AsPattern","getScope","Identifier$1","dontComplete","localCompletionSource","globals","snippets","globalCompletion","innerBody","indentBody","pythonLanguage","Body","MatchBody","ForStatement WhileStatement","MatchStatement","TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression","DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression","ArrayExpression ArrayComprehensionExpression","MemberExpression","String FormatString","ArrayExpression DictionaryExpression SetExpression TupleExpression","python","blockEnd","eof","DirectiveEnd","DocEnd","sequenceStartMark","sequenceContinueMark","explicitMapStartMark","explicitMapContinueMark","flowMapMark","mapStartMark","mapContinueMark","Literal","QuotedLiteral","Anchor","Alias","BlockLiteralContent","BracketL","FlowSequence","Colon","BraceL","FlowMapping","BlockLiteralHeader","type_Top","type_Seq","type_Map","type_Flow","type_Lit","isBreakSpace","isNonBreakSpace","isSpace$1","isSep","indentation","three","newlines","blockMark","readTag","readAnchor","readQuoted","scanBrackets","readPlain","uriChar","hexChar","readUriChar","charTag","charTable","isSafe","inFlow","safe","literals","blockLiteral","isBreak","yamlHighlighting","DirectiveName","DirectiveContent","DirectiveEnd DocEnd","Key/Literal Key/QuotedLiteral","Anchor Alias",": , -","?","parser$1","Stream","yamlLanguage","FlowMapping FlowSequence","Item Pair BlockLiteral","yaml","StartTag","StartCloseTag","MissingCloseTag","mismatchedStartCloseTag","incompleteStartCloseTag","commentContent$1","piContent$1","cdataContent$1","Element$1","OpenTag","nameChar","isSpace","cachedName","cachedInput","cachedPos","tagNameAfter","ElementContext","elementContext","_stack","startTag","scanTo","commentContent","piContent","cdataContent","xmlHighlighting","StartTag StartCloseTag EndTag SelfCloseEndTag","Cdata","elementName$1","findParentElement","findLocation","inTag","attrValues","openCompletion","closeNameCompletion","Identifier","attrCompletion","valueCompletion","completeFromSchema","eltSpecs","attrSpecs","allAttrs","allElements","topElements","attrVals","loc","parentName","xmlLanguage","xml","elementName","chalky","coral","cyan","ivory","stone","malibu","sage","whiskey","violet","darkBackground","highlightBackground","tooltipBackground","oneDarkTheme","&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection",".cm-panels.cm-panels-top",".cm-panels.cm-panels-bottom",".cm-searchMatch",".cm-searchMatch.cm-searchMatch-selected",".cm-activeLine","&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket",".cm-activeLineGutter",".cm-tooltip .cm-tooltip-arrow:before",".cm-tooltip .cm-tooltip-arrow:after",".cm-tooltip-autocomplete","& > ul > li[aria-selected]","oneDarkHighlightStyle","oneDark","EditorBundle","fullScreenKeymap","daStartNewSearch","cm","searchTerm","currentQuery","daNewEditor","initial_contents","keymapping","readOnlyCompartment","autoCompletions","daAutoComp","keymaps","eb","daCm","exampleData","attrs_showing","daExpireSession","vocab","noConflict","daPage","readyQuestionsPage","uploadListeners","readyVariables","readyFilesPage","readyPackagePage","defaultNumber","iValue","defaultString","filler","precision","strOut","asNumber","substr","repeat","toExponential","daSprintf","resetExpireSession","daTranslations","sessionHasExpired","daSessionLifetimeSeconds","activateExample","offsetTop","saveCallback","location","reload","flash_message","daNotificationContainer","vocab_list","current_project","currentProject","replaceState","daUrlPlaygroundPage","currentFile","active_file","active_interview_url","ac_list","variables_html","activateVariables","daPopoverTriggerList","querySelectorAll","daPopoverList","daPopoverTriggerEl","bootstrap","Popover","daConsoleMessages","console_messages","daShowConsoleMessages","disableButtonsUntilCallback","enableButtons","priority","newElement","daNotificationMessage","daContent","daKeymap","daWrapLines","originalFileName","confirm","sureYouWantToDelete","unsavedChangesWarning","daFetchVariableReport","daEncodedExampleData","variablesReady","newFileName","isNew","existingFiles","fileExistWarning","shareLink","getElementById","tempInput","linkCopiedClipboard","daUrlPlaygroundPageWithProject","serialize","success","thisWindow","daGoogleDriveSyncUrl","daOneDriveSyncUrl","validForm","oThis","curPos","notFound","replacementText","new_link","activatePopovers","updateRunLink","reference","target_id","slideToggle","basename","interviewBaseUrl","shareBaseUrl","fetchVars","daUrlPlaygroundVariables","daFetchVariableReportCallback","failedToLoad","yaml_file","accordion","questions","accordionItem","accordionItemHeader","accordionItemBody","usage","source_code","daVariablesReportUrl","xhrFields","withCredentials","saveCallbackFiles","fieldName","daMode","daScroll","sureYouWantToDeleteFile","daSection","extraVariable","daUrlPlaygroundFiles","scrollBottomPackagePage","packageExistsWarning","sureDeletePackage","daWhichButton","pypi","github","existingPypiVersion","needToIncrement","tmpStr","publish","currentPrefix","fileList"],"mappings":"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uD,GACA/R,KAAKoW,YAAY1E,EAAE,EACpB,CACH,CACF,EACA1R,KAAKuW,YACHX,SACAC,UACAE,WACAD,QACApE,GACAhb,GACAqb,GAAGQ,SACL,CACF,CACF,EACAR,GAAGsB,MAAM,CACX,EACAlK,sBAAuB,WACrB,IAAInJ,KAAOp/B,KACT22C,OACAC,OACAC,SACAC,UACAC,OACAC,SACAC,YACAC,SACAC,WACAC,WACAC,OACAC,UACAC,MACAC,QACAC,SACAC,cACAC,cACAC,gBACAC,YACAC,YACAC,WACAC,QACAC,SACAC,SACAC,QACAC,SACAC,MACAC,OACAC,MACAC,QACAC,OACAC,OACAC,OACAC,OACAC,QACAC,KACAC,OACAC,OACAC,WACAC,YACAC,OACAC,YACAC,aAAe,SAAU15C,KAAM25C,MAC7B,MACE,+CACA35C,KACA,uBACA,uBACA25C,KACA,IACAN,OACA,MACA/lB,GAAGM,gBACH,eAEJ,EACFojB,OACE,cACA,iFACA,sCACA,gBACA,eACA,eACA,cACA,eACA,eACA,SACFC,OACE,8FACA,2CACFC,SACE,uCACA,YACA,yCACA,uDACA,eACA,yEACA,+CACA,aACA,SACFE,OAAS9jB,GAAGmP,YAAY,kBAAkB,EAC1C0U,UAAY,2CAEZE,SACE,oDACA,8CACA,iEACA,wCACA,SAEFC,YACE,oEACA,mCAEFC,SACE,0FAEFC,WACE,gEACFiC,YAAcnmB,GAAGO,SAAW,QAC5B4jB,WACE,YACAnkB,GAAGO,SACH,yCACA,kCACA4lB,YACA,WACF/B,OACE,6DACA,kCACA,mCACA,qCACA+B,YACA,qBACA,8CACA,2FACA,eACA,iCACA,+CACA,8EACA,kBACA,eACA,aACA,WACF9B,UACE,2BACA,8CACA,gGACA,qBACA,gBACA,gBACF6B,OACE,4CACA,mDACA,kDACA,SACF5B,MAAQ,6BACRC,QACE,wCACA,4DACA,2DACA,qDACA,eACA,2CACA,SACFC,SACE,+BACA,0CACA,sDACA,eACA,WACA,WACA,+BAEFC,cACE,8DACA,mEACFC,cACE,oFACA,wBAC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"}