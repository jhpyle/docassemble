Feature: Example interviews
  In order to ensure docassemble is running properly, I want
  to run the example interviews.

  # Scenario: Set up the server
  #   Given I am using the server "http://localhost"

  # Scenario: Test the interview "File upload"
  #   Given I start the interview "docassemble.base:data/questions/examples/file.yml"
  #   Then I should see the phrase "Please upload a file"
  #   And I upload the file "../../octocat.png"
  #   And I click the button "Continue"
  #   And I wait 2 seconds
  #   Then I should see the phrase "Here is the file you uploaded"

  Scenario: Test the interview "Action with arguments"
    Given I start the interview "docassemble.base:data/questions/examples/actions-parameters.yml"
    And I click the link "Add blue fish"
    When I wait 4 seconds
    Then I should see the phrase "You have 3 blue fishes"
    And I click the button "Continue"
    Then I should see the phrase "You have 3 blue fishes"

  Scenario: Test the interview "Action"
    Given I start the interview "docassemble.base:data/questions/examples/actions.yml"
    And I click the link "Change this"
    Then I should see that "Favorite Color" is "blue"
    And I set "Favorite Color" to "red"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is red"

  Scenario: Test the interview "Age of Individual"
    Given I start the interview "docassemble.base:data/questions/examples/age_in_years.yml"
    Then I should see the phrase "What is your date of birth?"
    And I set the text box to "03/31/1977"
    And I click the button "Continue"
    Then I should see the phrase "You are 43 years old"

  Scenario: Test the interview "Scheduled task"
    Given I start the interview "docassemble.base:data/questions/examples/alarm-clock.yml"

  Scenario: Test the interview "Text alignment"
    Given I start the interview "docassemble.base:data/questions/examples/alignment.yml"
    Then I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Checkbox method"
    Given I start the interview "docassemble.base:data/questions/examples/all-false.yml"
    And I click the "Apples" option under "Select the fruits you like"
    And I click the "Plums" option under "Select the fruits you like"
    And I click the button "Continue"
    Then I should see the phrase "It is not true that you don’t like any of the fruit."
    And I should see the phrase "It is not true that you do not like apples or pears."
    And I should see the phrase "It is not true that apples and pears are the only fruits you do not like."

  Scenario: Test the interview "Interview"
    Given I start the interview "docassemble.base:data/questions/examples/all-mandatory.yml"
    And I click the "Fine" option
    And I click the button "Continue"
    And I set "Color" to "red"
    When I click the button "Continue"
    Then I should see the phrase "I am glad you are doing well"
    And I should see the phrase "Your favorite color is red"

  Scenario: Test the interview "Disallowing e-mailing 1"
    Given I start the interview "docassemble.base:data/questions/examples/allow-emailing-false-pdf.yml"
    And I wait 5 seconds
    Then I should not see the phrase "E-mail this document"

  Scenario: Test the interview "Disallowing e-mailing 2"
    Given I start the interview "docassemble.base:data/questions/examples/allow-emailing-false.yml"
    And I wait 5 seconds
    Then I should not see the phrase "E-mail this document"

  Scenario: Test the interview "Allowing documents to be e-mailed"
    Given I start the interview "docassemble.base:data/questions/examples/allow-emailing-true.yml"
    And I wait 5 seconds
    Then I should see the phrase "E-mail this document"

  Scenario: Test the interview "Checkbox method"
    Given I start the interview "docassemble.base:data/questions/examples/all-true.yml"
    And I click the "Apples" option under "Select the fruits you like"
    And I click the "Plums" option under "Select the fruits you like"
    And I click the button "Continue"
    Then I should see the phrase "It is not true that you like all fruit."
    And I should see the phrase "It is not true that you like apples and pears."
    And I should see the phrase "It is not true that apples and pears are the only fruits you like."

  Scenario: Test the interview "Variables as dictionary"
    Given I start the interview "docassemble.base:data/questions/examples/all_variables.yml"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    And I set "Pieces" to "4"
    And I click the button "Continue"
    Then I should see the phrase "'favorite_fruit'"
    And I should see the phrase "'number_of_pieces': 4"

  Scenario: Test the interview "Animals and vegetables"
    Given I start the interview "docassemble.base:data/questions/examples/animal.yml"
    And I set "Animal" to "pig"
    When I click the button "Continue"
    Then I should see the phrase "My favorite animal is the pig, too"
#    When I exit by clicking "Exit"
#    And I wait 5 seconds
#    Then I should see "A demonstration of docassemble" as the title of the page
#    And I should see "https://docassemble.org/demo.html" as the URL of the page

  Scenario: Test the interview "Convert to datetime"
    Given I start the interview "docassemble.base:data/questions/examples/as-datetime.yml"
    Then I should see the phrase "The Delorean will go back in time to 1955"

  Scenario: Test the interview "Assets"
    Given I start the interview "docassemble.base:data/questions/examples/assets.yml"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    When I click the button "Continue"
    Then I should see the phrase "Does the estate of Jöhn Smith have any assets?"
    When I click the button "Yes"
    And I set "Type of asset" to "fish"
    And I click the button "Continue"
    And I set "Value" to "400"
    And I click the button "Continue"
    And I click the button "Yes"
    And I set "Type of asset" to "vegetables"
    And I click the button "Continue"
    And I set "Value" to "10"
    And I click the button "Continue"
    When I click the button "No"
    Then I should see the phrase "The total value of Jöhn Smith’s estate is $410.00."

  Scenario: Test the interview "Computed attachment list"
    Given I start the interview "docassemble.base:data/questions/examples/attachment-code.yml"
    And I wait 4 seconds
    Then I should see the phrase "The first document"
    And I should see the phrase "The second document"
    And I should see the phrase "The third document"
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "Attachment"
    Given I start the interview "docassemble.base:data/questions/examples/attachment-simple.yml"
    And I wait 4 seconds
    Then I should see the phrase "A hello world document"
    And I should see the phrase "A document with a classic message"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Allowing documents to be e-mailed"
    Given I start the interview "docassemble.base:data/questions/examples/attachment.yml"
    And I wait 4 seconds
    Then I should see the phrase "A hello world document"
    And I should see the phrase "A document with a classic message"
    And I should see the phrase "E-mail address"

  # Scenario: Test the interview "Inheritance"
  #   Given I start the interview "docassemble.base:data/questions/examples/attorney.yml"

  # Scenario: Test the interview "Audio upload"
  #   Given I start the interview "docassemble.base:data/questions/examples/audio-upload.yml"

  Scenario: Test the interview "Audio"
    Given I start the interview "docassemble.base:data/questions/examples/audio.yml"
    Then I should see the phrase "You need to relax."
    And I click the button "Continue"
    Then I should see the phrase "You are done for today."

  Scenario: Test the interview "Global terms"
    Given I start the interview "docassemble.base:data/questions/examples/auto-terms.yml"
    Then I should see the phrase "Have you ever met a creeper?"
    And I click the link "creeper"
    And I wait 1 second
    Then I should see the phrase "A tall green creature that explodes if you get too close."
    And I click the button "No"
    Then I should see the phrase "You clearly need to play more Minecraft."

  Scenario: Test the interview "Return a value and show a message"
    Given I start the interview "docassemble.base:data/questions/examples/background_action_flash.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Your answer will appear shortly."
    And I wait 12 seconds
    Then I should see the phrase "The answer is 555."
    And I click the button "Continue"
    Then I should see the phrase "All done."
    And I should see the phrase "The answer is 555."

  # Scenario: Test the interview "Return a value and run Javascript"
  #   Given I start the interview "docassemble.base:data/questions/examples/background_action_javascript.yml"
  #   Then I should see the phrase "How much shall I add to 553?"
  #   And I set "Number" to "2"
  #   And I click the button "Continue"
  #   Then I should see the phrase "Your answer will appear shortly."

  Scenario: Test the interview "Set a variable and refresh the screen"
    Given I start the interview "docassemble.base:data/questions/examples/background_action_refresh.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    And I wait 12 seconds
    Then I should see the phrase "The answer is 555."

  Scenario: Test the interview "Set a variable"
    Given I start the interview "docassemble.base:data/questions/examples/background_action_with_response_action.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Hang tight."
    And I wait 12 seconds
    Then I should see the phrase "The answer is 555."

  Scenario: Test the interview "Return a value"
    Given I start the interview "docassemble.base:data/questions/examples/background_action.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Hang tight."
    And I wait 12 seconds
    Then I should see the phrase "The answer is 555."

  Scenario: Test the interview "Set a variable and show a message"
    Given I start the interview "docassemble.base:data/questions/examples/background_response_action_flash.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Your answer will appear shortly."
    And I wait 12 seconds
    Then I should see the phrase "The answer is 555."
    And I click the button "Continue"
    Then I should see the phrase "The answer is 555."

  Scenario: Test the interview "Blank label"
    Given I start the interview "docassemble.base:data/questions/examples/blank-label-field.yml"
    Then I should see the phrase "What is your Zodiac sign?"
    And I set the text box to "Aries"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “Aries”"

  Scenario: Test the interview "Object"
    Given I start the interview "docassemble.base:data/questions/examples/branch-no-error.yml"
    Then I should see the phrase "What is the length of the branch on the tree?"
    And I set "Length" to "30"
    And I click the button "Continue"
    Then I should see the phrase "The length of the branch is 30."

  Scenario: Test the interview "Buttons that run code"
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-color.yml"
    Then I should see the phrase "What is your favorite color?"
    And I click the button "Red"
    Then I should see the phrase "Dark red or light red?"
    And I click the button "Dark Red"
    Then I should see the phrase "Your favorite color is Dark Red."

  Scenario: Test the interview "Buttons defined with list" and understands
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-list-equivalent.yml"
    Then I should see the phrase "Your use of this system does not mean that you have a lawyer. Do you understand this?"
    And I click the button "I understand"
    Then I should see the phrase "target_variable is: “understands”"

  Scenario: Test the interview "Buttons defined with list" and does not understand
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-list-equivalent.yml"
    Then I should see the phrase "Your use of this system does not mean that you have a lawyer. Do you understand this?"
    And I click the button "I do not understand"
    Then I should see the phrase "target_variable is: “does not understand”"

  Scenario: Test the interview "Buttons defined with list" and is not sure
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-list-equivalent.yml"
    Then I should see the phrase "Your use of this system does not mean that you have a lawyer. Do you understand this?"
    And I click the button "I’m not sure"
    Then I should see the phrase "target_variable is: “unsure”"

  Scenario: Test the interview "Buttons defined with code"
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-list-partial.yml"
    Then I should see the phrase "Your use of this system does not mean that you have a lawyer. Do you understand this?"
    And I click the button "I understand"
    Then I should see the phrase "target_variable is: “understands”"

  Scenario: Test the interview "Buttons defined with code"
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-list.yml"
    Then I should see the phrase "Your use of this system does not mean that you have a lawyer. Do you understand this?"
    And I click the button "I understand"
    Then I should see the phrase "target_variable is: “understands”"

  Scenario: Test the interview "Buttons that run code" with Ford Focus
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code.yml"
    Then I should see the phrase "What kind of car do you want?"
    And I click the button "Ford Focus"
    Then I should see the phrase "You need to go to a Ford dealership and ask if they have a Focus for sale."

  Scenario: Test the interview "Buttons that run code" with Toyota Camry
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code.yml"
    Then I should see the phrase "What kind of car do you want?"
    And I click the button "Toyota Camry"
    Then I should see the phrase "You need to go to a Toyota dealership and ask if they have a Camry for sale."

  # Scenario: Test the interview "Buttons with icons from code"
  #   Given I start the interview "docassemble.base:data/questions/examples/buttons-icons-code-upload.yml"

  Scenario: Test the interview "Buttons with icons from code"
    Given I start the interview "docassemble.base:data/questions/examples/buttons-icons-code.yml"
    Then I should see the phrase "What is the most important question to ask?"
    And I click the button "When?"
    Then I should see the phrase "In that case, when were you born?"
    And I set the text box to "1977"
    And I click the button "Continue"
    Then I should see the phrase "You were born in 1977."

  # Scenario: Test the interview "Buttons with icons"
  #   Given I start the interview "docassemble.base:data/questions/examples/buttons-icons.yml"

  Scenario: Test the interview "Labels ≠ values" first
    Given I start the interview "docassemble.base:data/questions/examples/buttons-labels.yml"
    Then I should see the phrase "How would you like to pay for your car?"
    And I click the button "Buy it"
    Then I should see the phrase "You are a purchaser."

  Scenario: Test the interview "Labels ≠ values" second
    Given I start the interview "docassemble.base:data/questions/examples/buttons-labels.yml"
    Then I should see the phrase "How would you like to pay for your car?"
    And I click the button "Lease it"
    Then I should see the phrase "You are a borrower."

  Scenario: Test the interview "Buttons" first
    Given I start the interview "docassemble.base:data/questions/examples/buttons-variation-1.yml"
    Then I should see the phrase "What is your gender?"
    And I click the button "Male"
    Then I should see the phrase "You are Male."

  Scenario: Test the interview "Buttons" second
    Given I start the interview "docassemble.base:data/questions/examples/buttons-variation-1.yml"
    Then I should see the phrase "What is your gender?"
    And I click the button "Female"
    Then I should see the phrase "You are Female."

  Scenario: Test the interview "Buttons variation two" first
    Given I start the interview "docassemble.base:data/questions/examples/buttons-variation-2.yml"
    Then I should see the phrase "What is your gender?"
    And I click the button "Male"
    Then I should see the phrase "You are Male."

  Scenario: Test the interview "Buttons variation two" second
    Given I start the interview "docassemble.base:data/questions/examples/buttons-variation-2.yml"
    Then I should see the phrase "What is your gender?"
    And I click the button "Female"
    Then I should see the phrase "You are Female."

  Scenario: Test the interview "Buttons" first
    Given I start the interview "docassemble.base:data/questions/examples/buttons.yml"
    Then I should see the phrase "What type of belly button do you have?"
    And I click the button "Innie"
    Then I should see the phrase "target_variable is: “Innie”"

  Scenario: Test the interview "Buttons" second
    Given I start the interview "docassemble.base:data/questions/examples/buttons.yml"
    Then I should see the phrase "What type of belly button do you have?"
    And I click the button "Outie"
    Then I should see the phrase "target_variable is: “Outie”"

  Scenario: Test the interview "Buttons" third
    Given I start the interview "docassemble.base:data/questions/examples/buttons.yml"
    Then I should see the phrase "What type of belly button do you have?"
    And I click the button "No belly button"
    Then I should see the phrase "target_variable is: “No belly button”"

  Scenario: Test the interview "Capitalize"
    Given I start the interview "docassemble.base:data/questions/examples/capitalize.yml"
    Then I should see the phrase "Green is your favorite color, but green is not your favorite color of eggs."

  # Scenario: Test the interview "Complaint for Child Support"
  #   Given I start the interview "docassemble.base:data/questions/examples/chat-example-1.yml"

  # Scenario: Test the interview "Petition To Modify Support Order"
  #   Given I start the interview "docassemble.base:data/questions/examples/chat-example-2.yml"

  # Scenario: Test the interview "Live chat partners"
  #   Given I start the interview "docassemble.base:data/questions/examples/chat-partners-available.yml"

  # Scenario: Test the interview "Live chat"
  #   Given I start the interview "docassemble.base:data/questions/examples/chat.yml"

  Scenario: Test the interview "Dropdown"
    Given I start the interview "docassemble.base:data/questions/examples/choices-dropdown.yml"
    Then I should see the phrase "What type of shoes do you wear?"
    And I choose "Sneakers"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "Sneakers"

  Scenario: Test the interview "Radio buttons from code"
    Given I start the interview "docassemble.base:data/questions/examples/choices-from-code.yml"
    Then I should see the phrase "What type of shoes do you wear?"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "other"

  Scenario: Test the interview "Choices with icons"
    Given I start the interview "docassemble.base:data/questions/examples/choices-icons.yml"
    Then I should see the phrase "What is the most important question to ask?"

  Scenario: Test the interview "Radio buttons with default"
    Given I start the interview "docassemble.base:data/questions/examples/choices-with-default-item.yml"
    Then I should see the phrase "What type of shoes do you wear?"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "sandals"

  Scenario: Test the interview "Radio buttons with default"
    Given I start the interview "docassemble.base:data/questions/examples/choices-with-default.yml"
    Then I should see the phrase "What type of shoes do you wear?"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "Sandals"

  Scenario: Test the interview "Radio buttons with help"
    Given I start the interview "docassemble.base:data/questions/examples/choices-with-help.yml"
    Then I should see the phrase "What type of shoes do you wear?"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "other"

  Scenario: Test the interview "Radio buttons"
    Given I start the interview "docassemble.base:data/questions/examples/choices.yml"
    Then I should see the phrase "What type of shoes do you wear?"
    And I click the "Sneakers" option
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "Sneakers"

  # Scenario: Test the interview "Classifier"
  #   Given I start the interview "docassemble.base:data/questions/examples/classify.yml"

  Scenario: Test the interview "Two plus two"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-01.yml"
    Then I should see the phrase "The answer is 4."

  Scenario: Test the interview "Two plus three"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-02.yml"
    Then I should see the phrase "The answer is 5."

  Scenario: Test the interview "Two plus three"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-03.yml"
    Then I should see the phrase "The answer is 5."

  Scenario: Test the interview "Two plus two in template"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-04.yml"
    Then I should see the phrase "The answer is 4."

  Scenario: Test the interview "Arithmetic"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-05.yml"
    Then I should see the phrase "The answer is 766."

  Scenario: Test the interview "Arithmetic without spaces"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-06.yml"
    Then I should see the phrase "The answer is 766."

  Scenario: Test the interview "If/then/else"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-07.yml"
    Then I should see the phrase "The answer is 82."

  Scenario: Test the interview "If/then/else in code"
    Given I start the interview "docassemble.base:data/questions/examples/code-example-08.yml"
    Then I should see the phrase "The answer is 82."

  Scenario: Test the interview "Code"
    Given I start the interview "docassemble.base:data/questions/examples/code.yml"
    Then I should see the phrase "How many peaches do you have?"
    And I set the text box to "2"
    And I click the button "Continue"
    Then I should see the phrase "How many pears do you have?"
    And I set the text box to "1"
    And I click the button "Continue"
    Then I should see the phrase "You have 3 pieces of fruit."

  Scenario: Test the interview "Comments"
    Given I start the interview "docassemble.base:data/questions/examples/comment-weather.yml"
    Then I should see the phrase "Do you agree the weather is nice today?"
    And I click the button "Yes"
    Then I should see the phrase "All done with the interview."

  Scenario: Test the interview "Comments"
    Given I start the interview "docassemble.base:data/questions/examples/comment.yml"
    Then I should see the phrase "Do you like turnips?"
    And I click the button "Yes"
    Then I should see the phrase "You like turnips."

  Scenario: Test the interview "Custom continue button"
    Given I start the interview "docassemble.base:data/questions/examples/continue-button-label.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "starfruit"
    And I click the button "Keep going"
    Then I should see the phrase "Your favorite fruit is starfruit."

  Scenario: Test the interview "Continue button"
    Given I start the interview "docassemble.base:data/questions/examples/continue-participation.yml"
    Then I should see the phrase "Welcome to the interview!"
    And I should see the phrase "Your participation means a lot to us."
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "user_saw_intro is: “True”"

  Scenario: Test the interview "Series of Continue screens"
    Given I start the interview "docassemble.base:data/questions/examples/continue-serial.yml"
    Then I should see the phrase "This is the first screen"
    And I click the button "Continue"
    Then I should see the phrase "This is the second screen"
    And I click the button "Continue"
    Then I should see the phrase "This is the third screen"
    And I click the button "Continue"
    Then I should see the phrase "This is the fourth screen"
    And I click the button "Continue"
    Then I should see the phrase "This is the last screen"

  Scenario: Test the interview "Continue option"
    Given I start the interview "docassemble.base:data/questions/examples/continue-special.yml"
    Then I should see the phrase "What is your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "Ok, are any of these your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "I give up. Just tell me your favorite food."
    And I set "Favorite food" to "pasta"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is pasta."
    And I click the link "Ask it again"
    Then I should see the phrase "What is your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "Ok, are any of these your favorite food?"
    And I click the "Grapes" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is grapes."

  Scenario: Test the interview "Continue button"
    Given I start the interview "docassemble.base:data/questions/examples/continue.yml"
    Then I should see the phrase "Welcome to the interview."
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "target_variable is: “True”"

  Scenario: Test the interview "Country selection"
    Given I start the interview "docassemble.base:data/questions/examples/country.yml"
    Then I should see the phrase "Where do you live?"
    And I select "Togo" as the "Country"
    And I click the button "Continue"
    Then I should see the phrase "You live in Togo, which is abbreviated TG."

  # Scenario: Test the interview "Scheduled task"
  #   Given I start the interview "docassemble.base:data/questions/examples/cron.yml"

  Scenario: Test the interview "CSS"
    Given I start the interview "docassemble.base:data/questions/examples/css.yml"
    Then I should see the phrase "Do you want to build a snowman?"
    And I click the button "Yes"
    Then I should see the phrase "Great! Too bad there is no snow."

  Scenario: Test the interview "Currency"
    Given I start the interview "docassemble.base:data/questions/examples/currency.yml"
    Then I should see the phrase "If you sold 3.5 fish for a dollar each, you would get $3.50."

  Scenario: Test the interview "Current date and time"
    Given I start the interview "docassemble.base:data/questions/examples/current-datetime.yml"
    Then I should see the phrase "Unfortunately, the Normans have already invaded England."

  Scenario: Test the interview "Dictionary: prepopuated objects"
    Given I start the interview "docassemble.base:data/questions/examples/dadict.yml"
    Then I should see the phrase "What is the beneficiary player’s name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is the grantor player’s name?"
    And I set "First Name" to "Jane"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is the trustee player’s name?"
    And I set "First Name" to "Harold"
    And I set "Last Name" to "Meecham"
    And I click the button "Continue"
    Then I should see the phrase "The players"
    And I should see the phrase "Jöhn Smith is here."
    And I should see the phrase "Jane Smith is here."
    And I should see the phrase "Harold Meecham is here."

  Scenario: Test the interview "URL of a file"
    Given I start the interview "docassemble.base:data/questions/examples/dafile-url-for.yml"
    Then I should see the phrase "This interview is all done."

  Scenario: Test the interview "Create file with code"
    Given I start the interview "docassemble.base:data/questions/examples/dafile.yml"
    Then I should see the phrase "Here is the picture."

  Scenario: Test the interview "Basic lists"
    Given I start the interview "docassemble.base:data/questions/examples/dalist2.yml"
    Then I should see the phrase "How many things are there?"
    And I set "Number of things" to "2"
    And I click the button "Continue"
    Then I should see the phrase "What is the first thing?"
    And I set the text box to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "What is the second thing?"
    And I set the text box to "peaches"
    And I click the button "Continue"
    Then I should see the phrase "The things are: äpples and peaches."
    And I click the button "Restart"
    Then I should see the phrase "How many things are there?"
    And I set "Number of things" to "1"
    And I click the button "Continue"
    Then I should see the phrase "What is the first thing?"
    And I set the text box to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "The things are: äpples."

  Scenario: Test the interview "List of objects"
    Given I start the interview "docassemble.base:data/questions/examples/dalist.yml"
    Then I should see the phrase "Do you have any people to add to the list?"
    And I click the button "Yes"
    Then I should see the phrase "What is the person’s name?"
    And I set "First" to "Jöhn"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Do you have more people for me?"
    And I should see the phrase "So far you have told me about Jöhn Smith."
    And I click the button "Yes"
    Then I should see the phrase "What is the person’s name?"
    And I set "First" to "Jane"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Do you have more people for me?"
    And I should see the phrase "So far you have told me about Jöhn Smith and Jane Smith."
    And I click the button "No"
    Then I should see the phrase "Here is your list of people."
    And I should see the phrase "Jöhn Smith and Jane Smith"

  Scenario: Test the interview "DAObject"
    Given I start the interview "docassemble.base:data/questions/examples/daobject.yml"
    Then I should see the phrase "What is the color of the turnip?"
    And I set "Color" to "purple"
    And I click the button "Continue"
    Then I should see the phrase "What is the color of the front gate in the park?"
    And I set "Color" to "black"
    And I click the button "Continue"
    Then I should see the phrase "The purple turnip sat before the black gate."

  Scenario: Test the interview "Database storage"
    Given I start the interview "docassemble.base:data/questions/examples/database_storage.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Favorite Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "Contents of database"
    And I should see the phrase "äpple"

  Scenario: Test the interview "Difference between dates"
    Given I start the interview "docassemble.base:data/questions/examples/date-difference.yml"
    Then I should see the phrase "The length of time between my birthday and Christmas can be described several ways."
    And I should see the phrase "222"

  Scenario: Test the interview "Date"
    Given I start the interview "docassemble.base:data/questions/examples/date-field.yml"
    Then I should see the phrase "What is your date of birth?"
    And I set "Birthdate" to "04/01/1989"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "When inserted in into a question, target_variable looks like April 1, 1989."
    And I should see the phrase "For example, when you were one week old, the date was April 8, 1989."

  Scenario: Test the interview "Adding to a date"
    Given I start the interview "docassemble.base:data/questions/examples/date-interval.yml"
    Then I should see the phrase "In three days, it will be"

  Scenario: Test the interview "Date parts"
    Given I start the interview "docassemble.base:data/questions/examples/date-parts.yml"
    Then I should see the phrase "Give me a date."
    And I set "Date" to "04/01/1989"
    And I click the button "Continue"
    Then I should see the phrase "The date April 1, 1989, explained."
    And I should see the phrase "The year is 1989."
    And I should see the phrase "The month is 4."
    And I should see the phrase "The month as a word is April."
    And I should see the phrase "The day of month is 1."
    And I should see the phrase "The day of week is 6."
    And I should see the phrase "The day of week as a word is Saturday."

  Scenario: Test the interview "Dead end question"
    Given I start the interview "docassemble.base:data/questions/examples/dead-end.yml"
    Then I should see the phrase "You have reached the end of the interview."

  Scenario: Test the interview "Icon in corner"
    Given I start the interview "docassemble.base:data/questions/examples/decoration.yml"
    Then I should see the phrase "Do you have children?"
    And I click the button "Yes"
    Then I should see the phrase "You said you have children."

  Scenario: Test the interview "Whether variable is defined"
    Given I start the interview "docassemble.base:data/questions/examples/defined.yml"
    Then I should see the phrase "Tell me about your favorite fruit."
    And I set "Favorite fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "I do not know your favorite vegetable."

  Scenario: Test the interview "Mako functions"
    Given I start the interview "docassemble.base:data/questions/examples/def.yml"
    Then I should see the phrase "The world of fruit"
    And I should see the phrase "Peaches are a type of fruit, and they are delicious."
    And I should see the phrase "Oranges are a type of fruit, and they are delicious."
    And I should see the phrase "Strawberries are disgusting, and they are basically inedible."

  Scenario: Test the interview "Re-ask a question with del"
    Given I start the interview "docassemble.base:data/questions/examples/del.yml"
    Then I should see the phrase "Are you a communist?"
    And I click the button "Yes"
    Then I should see the phrase "I suggest you reconsider your answer."
    And I click the button "Continue"
    Then I should see the phrase "Are you a communist?"
    And I click the button "No"
    Then I should see the phrase "I am glad you are a true American."

  Scenario: Test the interview "User IP"
    Given I start the interview "docassemble.base:data/questions/examples/device-ip.yml"
    Then I should see the phrase "Your IP address is"

  Scenario: Test the interview "User device"
    Given I start the interview "docassemble.base:data/questions/examples/device.yml"
    Then I should see the phrase "You"

  Scenario: Test the interview "Dialog box"
    Given I start the interview "docassemble.base:data/questions/examples/dialog-box.yml"
    Then I should see the phrase "The current date is"
    And I click the button "Ok"
    Then I should see the phrase "Ok, the interview is now over."

  Scenario: Test the interview "Dispatch"
    Given I start the interview "docassemble.base:data/questions/examples/dispatch-count.yml"
    Then I should see the phrase "Main menu"
    And I click the button "Apple"
    Then I should see the phrase "Apple screen"
    And I click the button "Continue"
    Then I should see the phrase "Main menu"
    And I click the button "Apple"
    Then I should see the phrase "Apple screen"
    And I click the button "Continue"
    Then I should see the phrase "Main menu"
    And I click the button "Orange"
    Then I should see the phrase "Orange screen"
    And I click the button "Continue"
    Then I should see the phrase "Main menu"
    And I click the button "Continue"
    Then I should see the phrase "You visited the apple screen two times."
    And I should see the phrase "You visited the orange screen one times."

  Scenario: Test the interview "Dispatch"
    Given I start the interview "docassemble.base:data/questions/examples/dispatch-track.yml"
    Then I should see the phrase "Main menu"
    And I click the button "Apple"
    Then I should see the phrase "Apple screen"
    And I click the button "Continue"
    Then I should see the phrase "Main menu"
    And I click the button "Continue"
    Then I should see the phrase "All done."
    And I should see the phrase "You visited the apple menu."
    And I should not see the phrase "You visited the orange menu."

  Scenario: Test the interview "Dispatch"
    Given I start the interview "docassemble.base:data/questions/examples/dispatch.yml"
    Then I should see the phrase "Main menu"
    And I click the button "Fruit"
    Then I should see the phrase "Fruit menu"
    And I click the "Peach" option
    And I click the button "Continue"
    Then I should see the phrase "Peaches screen"
    And I should see the phrase "You selected fruit_menu on the main menu and peach on the fruit menu."
    And I click the button "Continue"
    Then I should see the phrase "Fruit menu"
    And I click the "Apple" option
    And I click the button "Continue"
    Then I should see the phrase "Do you like apples?"
    And I click the button "Yes"
    Then I should see the phrase "Apples screen"
    And I should see the phrase "You like apples."
    And I click the button "Continue"
    Then I should see the phrase "Fruit menu"
    And I click the "Back" option
    And I click the button "Continue"
    Then I should see the phrase "Main menu"
    And I click the button "Rocks"
    Then I should see the phrase "Rocks screen"
    And I click the button "Continue"
    Then I should see the phrase "Main menu"
    And I click the button "Continue"
    Then I should see the phrase "Done with the interview."

  Scenario: Test the interview "Reassembling a document"
    Given I start the interview "docassemble.base:data/questions/examples/document-cache-invalidate.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."
    And I click the button "Continue"
    Then I should see the phrase "Here is your document again."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Document caching"
    Given I start the interview "docassemble.base:data/questions/examples/document-cache.yml"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I click the button "Continue"
    Then I should see the phrase "Here are your documents, Jöhn."
    And I click the button "Continue"
    Then I should see the phrase "Here is another set of documents, Jöhn."
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Sally"
    And I click the button "Continue"
    Then I should see the phrase "Here is your final set of documents, Sally."
    And I click the link "Preview"
    And I wait 1 second
    Then I should see the phrase "Jöhn"

  Scenario: Test the interview "DOCX format"
    Given I start the interview "docassemble.base:data/questions/examples/document-docx.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "From .md file"
    Given I start the interview "docassemble.base:data/questions/examples/document-file.yml"
    Then I should see the phrase "Your document is ready."
    And I should see the phrase "The following document has been created for you."
    And I click the link "Preview"
    And I wait 1 second
    Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "Language"
    Given I start the interview "docassemble.base:data/questions/examples/document-language-docx.yml"
    Then I should see the phrase "El documento está listo."
    And I should see the phrase "Alimentos"


  Scenario: Test the interview "Language"
    Given I start the interview "docassemble.base:data/questions/examples/document-language.yml"
    Then I should see the phrase "El documento está listo."
    And I should see the phrase "Alimentos"
    And I click the link "Preview"
    And I wait 1 second
    Then I should see the phrase "This customer would like to order fries and a Coke."

  Scenario: Test the interview "Document links"
    Given I start the interview "docassemble.base:data/questions/examples/document-links-limited.yml"
    Then I should see the phrase "This interview is all done."

  Scenario: Test the interview "Document links"
    Given I start the interview "docassemble.base:data/questions/examples/document-links.yml"
    Then I should see the phrase "This interview is all done."
    And I should see the phrase "To start your case, download your pleading, print it, and take it to clerk’s office at the court."

  Scenario: Test the interview "Document formatting"
    Given I start the interview "docassemble.base:data/questions/examples/document-markup.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Documents as links"
    Given I start the interview "docassemble.base:data/questions/examples/document-variable-name-link.yml"
    Then I should see the phrase "All done."

  # Scenario: Test the interview "Document as variable"
  #   Given I start the interview "docassemble.base:data/questions/examples/document-variable-name.yml"

  Scenario: Test the interview "Assembling a document"
    Given I start the interview "docassemble.base:data/questions/examples/document.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields in a DOCX template"
    Given I start the interview "docassemble.base:data/questions/examples/docx-jinja2-demo.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What fruits do you like?"
    And I click the option "peaches" under "Favorite fruits"
    And I click the button "Continue"
    Then I should see the phrase "Is the sky blue?"
    And I click the button "Yes"
    Then I should see the phrase "Do you have any children?"
    And I click the button "No"
    Then I should see the phrase "Here is the document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields in a DOCX template"
    Given I start the interview "docassemble.base:data/questions/examples/docx-recipe.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "What is the maximum temperature setting of your oven?"
    And I set "Degrees" to "500"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite thing to eat?"
    And I set "Favorite food" to "peäches"
    And I click the button "Continue"
    Then I should see the phrase "Here is your recipe. Enjoy!"

  Scenario: Test the interview "Automatically fill fields in a DOCX template"
    Given I start the interview "docassemble.base:data/questions/examples/docx-template-auto.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields in a DOCX template with code"
    Given I start the interview "docassemble.base:data/questions/examples/docx-template-code.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of your complaint?"
    And I click the "world peace" option
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "What is the adverse party’s name?"
    And I set "First Name" to "David"
    And I set "Last Name" to "Defendant"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of David Defendant?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Missouri" as the "State"
    And I set "Zip" to "12121"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields in DOCX templates"
    Given I start the interview "docassemble.base:data/questions/examples/docx-template-multiple.yml"
    Then I should see the phrase "Assembling document from .docx templates"
    And I click the button "Continue"
    Then I should see the phrase "What is the adverse party’s name?"
    And I set "First Name" to "David"
    And I set "Last Name" to "Defendant"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of David Defendant?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Missouri" as the "State"
    And I set "Zip" to "12121"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of your complaint?"
    And I click the "world peace" option
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Tell me about a fruit."
    And I set "Name" to "äpple"
    And I set "Seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruits you would like to describe?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about a fruit."
    And I set "Name" to "orange"
    And I set "Seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruits you would like to describe?"
    And I click the button "No"
    Then I should see the phrase "Here are your documents."
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "Tables in a DOCX template"
    Given I start the interview "docassemble.base:data/questions/examples/docx-template-table.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "Tell me about a fruit."
    And I set "Name" to "äpple"
    And I set "Seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruits you would like to describe?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about a fruit."
    And I set "Name" to "orange"
    And I set "Seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruits you would like to describe?"
    And I click the button "No"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields in a DOCX template"
    Given I start the interview "docassemble.base:data/questions/examples/docx-template.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "What is the adverse party’s name?"
    And I set "First Name" to "David"
    And I set "Last Name" to "Defendant"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of David Defendant?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Missouri" as the "State"
    And I set "Zip" to "12121"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of your complaint?"
    And I click the "world peace" option
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."
    And I should see the phrase "Does it meet your approval?"
    And I click the button "No"
    Then I should see the phrase "Sorry to hear that!"

  Scenario: Test the interview "Ending screens"
    Given I start the interview "docassemble.base:data/questions/examples/doors.yml"
    Then I should see the phrase "Which door do you choose?"
    And I click the "Door Number 1" option
    And I click the button "Continue"
    Then I should see the phrase "You walk into a field of clover."

  Scenario: Test the interview "Edit list"
    Given I start the interview "docassemble.base:data/questions/examples/edit-list.yml"
    Then I should see the phrase "Who is the first person?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is Jöhn Smith’s favorite fruit?"
    And I set "Fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the second person?"
    And I set "First Name" to "Amanda"
    And I set "Last Name" to "Martin"
    And I click the button "Continue"
    Then I should see the phrase "What is Amanda Martin’s favorite fruit?"
    And I set "Fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "No"
    Then I should see the phrase "Who is your favorite person?"
    And I select "Jöhn Smith" as the "Favorite"
    And I click the button "Continue"
    Then I should see the phrase "All done"

  Scenario: Test the interview "E-mail address"
    Given I start the interview "docassemble.base:data/questions/examples/email-field.yml"
    Then I should see the phrase "What is your e-mail address?"
    And I set "E-mail" to "admin@admin.com"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “admin@admin.com”"

  # Scenario: Test the interview "E-mailing the interview"
  #   Given I start the interview "docassemble.base:data/questions/examples/email-to-case-simple.yml"

  # Scenario: Test the interview "Running code upon receipt of e-mail"
  #   Given I start the interview "docassemble.base:data/questions/examples/email-to-case.yml"

  Scenario: Test the interview "Embedded fields"
    Given I start the interview "docassemble.base:data/questions/examples/embed.yml"
    Then I should see the phrase "Fill in the blanks."
    And I set the text box to "orange juice"
    And I choose "storm drain"
    And I click the button "Continue"
    Then I should see the phrase "While shopping for orange juice, you took a spill and ended up in the storm drain."

  Scenario: Test the interview "Inline emoji"
    Given I start the interview "docassemble.base:data/questions/examples/emoji-inline.yml"
    Then I should see the phrase "What is your gender?"
    And I click the "Other" option
    And I click the button "Continue"
    Then I should see the phrase "Your gender is other."

  Scenario: Test the interview "Empty choices list" with no checkboxes
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-checkboxes-solo.yml"
    Then I should see the phrase "Should the list of choices for the checkboxes field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "No doors could be chosen."

  Scenario: Test the interview "Empty choices list" with checkboxes
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-checkboxes-solo.yml"
    Then I should see the phrase "Should the list of choices for the checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I click the "Door Number 1" option
    And I click the button "Continue"
    Then I should see the phrase "You chose Door Number 1."

  Scenario: Test the interview "Empty choices list" with checkboxes and no selection
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-checkboxes-solo.yml"
    Then I should see the phrase "Should the list of choices for the checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I click the "None of the above" option
    And I click the button "Continue"
    Then I should see the phrase "You chose no doors."

  Scenario: Test the interview "Empty choices list" with empty list
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-checkboxes.yml"
    Then I should see the phrase "Should the list of choices for the checkboxes field be empty?"
    And I click the button "Yes"
    Then I should not see the phrase "Door Number 1"
    And I set "Favorite fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "No doors could be chosen."

  Scenario: Test the interview "Empty choices list" with non-empty list
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-checkboxes.yml"
    Then I should see the phrase "Should the list of choices for the checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I set "Favorite fruit" to "äpples"
    And I click the "Door Number 1" option
    And I click the button "Continue"
    Then I should see the phrase "You chose Door Number 1."

  Scenario: Test the interview "Empty choices list in fields" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-fields-multiple.yml"
    Then I should see the phrase "Should the list of choices for the radio field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "There were no choices available."
    And I should see the phrase "door is None."
    And I should see the phrase "bucket is None."

  Scenario: Test the interview "Empty choices list in fields" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-fields-multiple.yml"
    Then I should see the phrase "Should the list of choices for the radio field be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I click the "Door Number 1" option
    And I click the "Green Bucket" option
    And I click the button "Continue"
    Then I should see the phrase "door is Door Number 1."
    And I should see the phrase "bucket is Green Bucket."

  Scenario: Test the interview "Empty choices list in fields" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-fields-solo.yml"
    Then I should see the phrase "Should the list of choices for the radio field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "There were no choices available."
    And I should see the phrase "door is None."

  Scenario: Test the interview "Empty choices list in fields" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-fields-solo.yml"
    Then I should see the phrase "Should the list of choices for the radio field be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I click the "Door Number 1" option
    And I click the button "Continue"
    Then I should see the phrase "door is Door Number 1."

  Scenario: Test the interview "Empty choices list in fields" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-fields.yml"
    Then I should see the phrase "Should the list of choices for the radio field be empty?"
    And I click the button "Yes"
    Then I should not see the phrase "Door Number 1."
    And I set "Fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "door is None."

  Scenario: Test the interview "Empty choices list in fields" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-fields.yml"
    Then I should see the phrase "Should the list of choices for the radio field be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I set "Fruit" to "äpples"
    And I click the "Door Number 1" option
    And I click the button "Continue"
    Then I should see the phrase "door is Door Number 1."

  Scenario: Test the interview "Empty object checkboxes" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-create.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "Please answer this."
    And I should not see the phrase "Harry Potter"
    And I set "Favorite fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "There are no villains here. In fact, no villains ever existed."

  Scenario: Test the interview "Empty object checkboxes" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-create.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "Please answer this."
    And I set "Favorite fruit" to "äpples"
    And I click the "Harry Potter" option
    And I click the button "Continue"
    Then I should see the phrase "The villain includes Harry Potter."

  Scenario: Test the interview "Empty object checkboxes" with non-empty choices and nota
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-create.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "Please answer this."
    And I set "Favorite fruit" to "äpples"
    And I click the "None of the above" option
    And I click the button "Continue"
    Then I should see the phrase "There are no villains here."

  Scenario: Test the interview "Empty object checkboxes" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-solo-create.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "There are no villains here. In fact, no villains ever existed."

  Scenario: Test the interview "Empty object checkboxes" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-solo-create.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "Who are the villains, if any?"
    And I click the "Harry Potter" option
    And I click the button "Continue"
    Then I should see the phrase "The villain includes Harry Potter."

  Scenario: Test the interview "Empty object checkboxes" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-solo.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "There are no villains here. In fact, no villains ever existed."

  Scenario: Test the interview "Empty object checkboxes" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes-solo.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "Who are the villains, if any?"
    And I click the "Tom Riddle" option
    And I click the button "Continue"
    Then I should see the phrase "The villain includes Tom Riddle."

  Scenario: Test the interview "Empty object checkboxes" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "Yes"
    Then I should see the phrase "Please answer this."
    And I should not see the phrase "Tom Riddle"
    And I set "Favorite fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "There are no villains here. In fact, no villains ever existed."
    And I should see the phrase "Your favorite fruit is äpples."

  Scenario: Test the interview "Empty object checkboxes" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices-object-checkboxes.yml"
    Then I should see the phrase "Should the list of choices for the object_checkboxes field be empty?"
    And I click the button "No"
    Then I should see the phrase "Please answer this."
    And I set "Favorite fruit" to "äpples"
    And I click the "Tom Riddle" option
    And I click the button "Continue"
    Then I should see the phrase "The villain includes Tom Riddle."
    And I should see the phrase "Your favorite fruit is äpples."

  Scenario: Test the interview "Empty choices list" with empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices.yml"
    Then I should see the phrase "Should the list of choices for the multiple choice question be empty?"
    And I click the button "Yes"
    Then I should see the phrase "There were no choices available."
    And I should see the phrase "door is None"

  Scenario: Test the interview "Empty choices list" with non-empty choices
    Given I start the interview "docassemble.base:data/questions/examples/empty-choices.yml"
    Then I should see the phrase "Should the list of choices for the multiple choice question be empty?"
    And I click the button "No"
    Then I should see the phrase "What do you choose?"
    And I click the "Door Number 1" option
    And I click the button "Continue"
    Then I should see the phrase "You chose Door Number 1."
    And I should see the phrase "door is Door Number 1"

  Scenario: Test the interview "Special screen"
    Given I start the interview "docassemble.base:data/questions/examples/event-example.yml"
    Then I should see the phrase "This is a special screen."

  # Scenario: Test the interview "Event"
  #   Given I start the interview "docassemble.base:data/questions/examples/event-role-event.yml"

  Scenario: Test the interview "Value attributes" with answer yes
    Given I start the interview "docassemble.base:data/questions/examples/exists.yml"
    Then I should see the phrase "Do you have real estate holdings?"
    And I click the button "Yes"
    Then I should see the phrase "How much real estate do you own?"
    And I set "Value" to "100000"
    And I click the button "Continue"
    Then I should see the phrase "The value of your real estate holdings is $100,000.00."

  Scenario: Test the interview "Value attributes" with answer yes
    Given I start the interview "docassemble.base:data/questions/examples/exists.yml"
    Then I should see the phrase "Do you have real estate holdings?"
    And I click the button "No"
    Then I should see the phrase "You do not have real estate."

  Scenario: Test the interview "Mixing special buttons"
    Given I start the interview "docassemble.base:data/questions/examples/exit-buttons-mixed-code.yml"
    Then I should see the phrase "Warning!"
    And I should see the phrase "Proceeding with this interview may result in despair-inducing levels of liability."
    And I click the button "Keep going"
    Then I should see the phrase "Hey, I warned you."

  Scenario: Test the interview "Mixing special buttons" with button 1
    Given I start the interview "docassemble.base:data/questions/examples/exit-buttons-mixed.yml"
    Then I should see the phrase "Warning!"
    And I should see the phrase "Proceeding with this interview may result in despair-inducing levels of liability."
    And I click the button "I understand"
    Then I should see the phrase "Ok, we are proceeding with caution."

  Scenario: Test the interview "Mixing special buttons" with button 2
    Given I start the interview "docassemble.base:data/questions/examples/exit-buttons-mixed.yml"
    Then I should see the phrase "Warning!"
    And I should see the phrase "Proceeding with this interview may result in despair-inducing levels of liability."
    And I click the button "I do not care"
    Then I should see the phrase "You are foolish!"

  # Scenario: Test the interview "Exit or restart"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit-buttons.yml"

  # Scenario: Test the interview "Exit or restart with choices"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit-choices.yml"

  # Scenario: Test the interview "Going full screen"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit-url-referer-fullscreen-mobile.yml"

  # Scenario: Test the interview "Going full screen"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit-url-referer-fullscreen.yml"

  # Scenario: Test the interview "Exit to referring URL"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit-url-referer.yml"

  # Scenario: Test the interview "Exit or restart with url"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit-url.yml"

  # Scenario: Test the interview "Exit programmatically"
  #   Given I start the interview "docassemble.base:data/questions/examples/exit.yml"

  Scenario: Test the interview "Javascript and CSS files"
    Given I start the interview "docassemble.base:data/questions/examples/external_files.yml"
    Then I should see the phrase "A test of Javascript and CSS"
    And I should see the phrase "I am purple"

  Scenario: Test the interview "Optional override of question"
    Given I start the interview "docassemble.base:data/questions/examples/fallback2.yml"
    Then I should see the phrase "Nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "I forgot, did we already agree to go to the dance together?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Optional override of question" version one
    Given I start the interview "docassemble.base:data/questions/examples/fallback.yml"
    Then I should see the phrase "Nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "Which of these statements is true?"
    And I click the option "I am old-fashioned"
    And I click the button "Continue"
    Then I should see the phrase "My darling, would you do me the honor of accompanying me to the dance this fine evening?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Optional override of question" version one
    Given I start the interview "docassemble.base:data/questions/examples/fallback.yml"
    Then I should see the phrase "Nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "Which of these statements is true?"
    And I click the option "I am old-fashioned"
    And I click the button "Continue"
    Then I should see the phrase "My darling, would you do me the honor of accompanying me to the dance this fine evening?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Optional override of question" version two
    Given I start the interview "docassemble.base:data/questions/examples/fallback.yml"
    Then I should see the phrase "Nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "Which of these statements is true?"
    And I click the option "I don’t care for flowerly language"
    And I click the button "Continue"
    Then I should see the phrase "Interested in going to the dance tonight?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Checkbox method"
    Given I start the interview "docassemble.base:data/questions/examples/false-values.yml"
    Then I should see the phrase "Please tell me what you think."
    And I click the option "Apples"
    And I click the option "Peaches"
    And I click the button "Continue"
    Then I should see the phrase "You do not like Pears and Plums."

  Scenario: Test the interview "Note among fields"
    Given I start the interview "docassemble.base:data/questions/examples/field-note.yml"
    Then I should see the phrase "Tell me more about you."
    And I set "Favorite fruit" to "melon"
    And I set "Favorite vegetable" to "carrots"
    Then I should see the phrase "I understand that this next question is particularly difficult to answer, but please bear with me. We are almost done."
    And I set "Favorite tree" to "maple"
    And I click the button "Continue"
    Then I should see the phrase "If a maple falls in the forest, and there is no melon to hear it, would you eat carrots?"

  Scenario: Test the interview "Checkboxes with code"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-code.yml"
    Then I should see the phrase "Please tell me what you think."
    And I click the "Pears" option
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like pears."
    And I should see the phrase "Your favorite, though, is mango."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-0.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like pears."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-1.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You like pears."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-2.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You like pears."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-3.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You like pears."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-4.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-5.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-default-6.yml"
    Then I should see the phrase "Please tell me what you think."
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."

  Scenario: Test the interview "Checkboxes with different labels"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-different-labels.yml"
    Then I should see the phrase "Please tell me what you think."
    And I click the "Apples" option
    And I click the "Pears" option
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You like pears."
    And I should see the phrase "'pear': True"
    And I should see the phrase "'apple': True"
    And I should see the phrase "'peach': False"

  Scenario: Test the interview "None of the above off"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-nota-false.yml"
    Then I should see the phrase "Please tell me what you think."
    And I should not see the phrase "None of the above"
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "'Peaches': False"
    And I should see the phrase "'Apples': False"
    And I should see the phrase "'Pears': False"

  Scenario: Test the interview "None of the above default"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes-nota.yml"
    Then I should see the phrase "Please tell me what you think."
    And I click the option "None of the above"
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "'Peaches': False"
    And I should see the phrase "'Apples': False"
    And I should see the phrase "'Pears': False"

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-checkboxes.yml"
    Then I should see the phrase "Please tell me what you think."
    And I click the "apple" option
    And I click the "pear" option
    And I set "What is your favorite fruit overall?" to "mango"
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You like pears."
    And I should see the phrase "'apple': True"
    And I should see the phrase "'peach': False"
    And I should see the phrase "'pear': True"

  # Scenario: Test the interview "Combobox within fields"
  #   Given I start the interview "docassemble.base:data/questions/examples/fields-choices-combobox.yml"

  Scenario: Test the interview "Multiple choice pulldown"
    Given I start the interview "docassemble.base:data/questions/examples/fields-choices-dropdown.yml"
    And I select "Clogs" as the "Shoe Type"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “Clogs”"

  Scenario: Test the interview "Multiple choice pulldown"
    Given I start the interview "docassemble.base:data/questions/examples/fields-choices.yml"
    And I select "Apples" as the "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the apple, which is the king of all fruits."

  Scenario: Test the interview "Multiple choice with code"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-2.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Pears" option
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the "Oranges" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the pear, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the orange."

  Scenario: Test the interview "Multiple choice with code"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-3.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Pears" option
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the "Oranges" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the Pears, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the Oranges."

  Scenario: Test the interview "Multiple choice with code"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-4.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Pears" option
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the "Oranges" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the pear, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the orange."

  Scenario: Test the interview "Multiple choice with code and default"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-5.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the orange, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the orange."

  Scenario: Test the interview "Multiple choice with code and help"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-6.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Apples" option
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the "Oranges" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the apple, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the orange."

  Scenario: Test the interview "Multiple choice with code and default"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-7.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the apple, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the apple."

  Scenario: Test the interview "Multiple choice with default and help"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-8.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the apple, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the apple."

  Scenario: Test the interview "With exclusion"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-exclude-manual.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the option "Apples" under "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your brother, who is not so wise, is partial to the None."

  Scenario: Test the interview "With exclusion"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-exclude.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the option "Apples" under "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit, assuming he does not like apple?"
    And I should not see the phrase "Apples"
    And I click the option "Oranges" under "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the apple, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the orange."

  Scenario: Test the interview "None of the above customized"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-nota.yml"
    Then I should see the phrase "Please fill in the following information."
    And I click the button "Continue"
    Then I should see the phrase "Check at least one option, or check “Nothing at all”"
    And I click the option "Sunroof" under "Requested options"
    And I click the option "Automatic transmission" under "Requested options"
    And I click the option "Heated seats" under "Requested options"
    And I click the option "Nothing at all" under "Requested options"
    And I click the button "Continue"
    Then I should see the phrase "'Heated seats': False"
    And I should see the phrase "'Automatic transmission': False"
    And I should see the phrase "'Sunroof': False"

  Scenario: Test the interview "Conditionally show"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc-with-showif.yml"
    Then I should see the phrase "Please fill in the following information."
    And I should not see the phrase "What’s your favorite fruit?"
    And I should not see the phrase "Options"
    And I click the "Yes" option under "Do you like fruit?"
    Then I should see the phrase "What’s your favorite fruit?"
    And I should see the phrase "Options"

  Scenario: Test the interview "Multiple choice with code"
    Given I start the interview "docassemble.base:data/questions/examples/fields-mc.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Apples" option under "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I click the "Oranges" option under "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is the apple, which is the king of all fruits."
    And I should see the phrase "Your brother, who is not so wise, is partial to the orange."

  Scenario: Test the interview "Yes/no/maybe within fields (reversed)" with yes
    Given I start the interview "docassemble.base:data/questions/examples/fields-noyesmaybe.yml"
    Then I should see the phrase "Please answer the following question."
    And I click the "Yes" option under "Was Washington the first U.S. president?"
    And I click the button "Continue"
    Then I should see the phrase "You were correct that Washington was the first President."

  Scenario: Test the interview "Yes/no/maybe within fields (reversed)" with no
    Given I start the interview "docassemble.base:data/questions/examples/fields-noyesmaybe.yml"
    Then I should see the phrase "Please answer the following question."
    And I click the "No" option under "Was Washington the first U.S. president?"
    And I click the button "Continue"
    Then I should see the phrase "You fool, of course Washington was the first president!"

  Scenario: Test the interview "Yes/no/maybe within fields (reversed)" with I don't know
    Given I start the interview "docassemble.base:data/questions/examples/fields-noyesmaybe.yml"
    Then I should see the phrase "Please answer the following question."
    And I click the "I don’t know" option under "Was Washington the first U.S. president?"
    And I click the button "Continue"
    Then I should see the phrase "Don’t you know anything about your U.S. presidents?"

  Scenario: Test the interview "Yes/no/maybe within fields" with yes
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnomaybe.yml"
    Then I should see the phrase "Please answer the following question."
    And I click the "No" option under "Is Topeka the capital of Kansas?"
    And I click the button "Continue"
    Then I should see the phrase "Actually, Topeka is the capital of Kansas."

  Scenario: Test the interview "Yes/no/maybe within fields" with don't know
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnomaybe.yml"
    Then I should see the phrase "Please answer the following question."
    And I click the "I don’t know" option under "Is Topeka the capital of Kansas?"
    And I click the button "Continue"
    Then I should see the phrase "You should know your state capitals!"

  Scenario: Test the interview "Yes/no radio buttons" with apricots
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnoradio.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Yes" option under "Do you like apricots?"
    And I click the "No" option under "Do you like pineapple?"
    And I click the button "Continue"
    Then I should see the phrase "You like apricots."
    Then I should see the phrase "You do not like pineapple."

  Scenario: Test the interview "Yes/no radio buttons" with pineapple
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnoradio.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "No" option under "Do you like apricots?"
    And I click the "Yes" option under "Do you like pineapple?"
    And I click the button "Continue"
    Then I should not see the phrase "You like apricots."
    Then I should not see the phrase "You do not like pineapple."

  Scenario: Test the interview "Yes/no radio buttons" with apricots and pineapple
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnoradio.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Yes" option under "Do you like apricots?"
    And I click the "Yes" option under "Do you like pineapple?"
    And I click the button "Continue"
    Then I should see the phrase "You like apricots."
    Then I should not see the phrase "You do not like pineapple."

  Scenario: Test the interview "Yes/no radio buttons" with neither apricots nor pineapple
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnoradio.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "No" option under "Do you like apricots?"
    And I click the "No" option under "Do you like pineapple?"
    And I click the button "Continue"
    Then I should not see the phrase "You like apricots."
    Then I should see the phrase "You do not like pineapple."

  Scenario: Test the interview "Yes/no checkboxes with None of the above"
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno-uncheck-others-list.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the button "Continue"
    Then I should see the phrase 'Check at least one option, or check “Neither”'
    And I should see the phrase 'Check at least one option, or check “I do not like these rocks”'
    And I click the "Apples" option
    And I click the "Obsidian" option
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You like obsidian."

  Scenario: Test the interview "Yes/no checkboxes with None of the above" with nota checked
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno-uncheck-others-list.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the "Apples" option
    And I click the "Neither" option
    And I click the "Obsidian" option
    And I click the "I do not like these rocks" option
    And I click the button "Continue"
    Then I should see the phrase "Thank you for that information."
    And I should not see the phrase "You like apples."
    And I should not see the phrase "You like obsidian."

  Scenario: Test the interview "Yes/no checkboxes with None of the above"
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno-uncheck-others.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the "Apples" option
    And I click the button "Continue"
    Then I should see the phrase "Thank you for that information."
    And I should see the phrase "You like apples."

  Scenario: Test the interview "Yes/no checkboxes with None of the above" with neither
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno-uncheck-others.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the "Apples" option
    And I click the "Neither" option
    And I click the button "Continue"
    Then I should see the phrase "Thank you for that information."
    And I should not see the phrase "You like apples."

  Scenario: Test the interview "Yes/no checkboxes (wide)" with peaches
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnowide.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Peaches" option
    And I click the button "Continue"
    Then I should see the phrase "You like peaches."
    And I should see the phrase "You dislike pears."

  Scenario: Test the interview "Yes/no checkboxes (wide)" with pears
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnowide.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Pears" option
    And I click the button "Continue"
    Then I should not see the phrase "You like peaches."
    And I should not see the phrase "You dislike pears."

  Scenario: Test the interview "Yes/no checkboxes (wide)" with peaches and pears
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnowide.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Peaches" option
    And I click the "Pears" option
    And I click the button "Continue"
    Then I should see the phrase "You like peaches."
    And I should not see the phrase "You dislike pears."

  Scenario: Test the interview "Yes/no checkboxes (wide)" with neither peaches nor pears
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesnowide.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the button "Continue"
    Then I should not see the phrase "You like peaches."
    And I should see the phrase "You dislike pears."

  Scenario: Test the interview "Yes/no checkboxes" with apples
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the "Apples" option
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should see the phrase "You do not like turnips."

  Scenario: Test the interview "Yes/no checkboxes" with turnips
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the "Turnips" option
    And I click the button "Continue"
    Then I should not see the phrase "You like apples."
    And I should not see the phrase "You do not like turnips."

  Scenario: Test the interview "Yes/no checkboxes" with apples and turnips
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the "Apples" option
    And I click the "Turnips" option
    And I click the button "Continue"
    Then I should see the phrase "You like apples."
    And I should not see the phrase "You do not like turnips."

  Scenario: Test the interview "Yes/no checkboxes" without apples or turnips
    Given I start the interview "docassemble.base:data/questions/examples/fields-yesno.yml"
    Then I should see the phrase "Please provide the following information."
    And I set "What is your favorite food?" to "apple pie"
    And I click the button "Continue"
    Then I should not see the phrase "You like apples."
    And I should see the phrase "You do not like turnips."

  Scenario: Test the interview "Fields example"
    Given I start the interview "docassemble.base:data/questions/examples/fields.yml"
    And I set "Description" to "five foot two, eyes of blue"
    And I set "Annual income" to "50001"
    And I set "E-mail address" to "turnip@vegetable.com"
    And I click the "Been vaccinated" option
    And I click the "Seen Mount Rushmore" option
    And I click the "Outie" option under "Belly button type"
    And I click the "One" option under "Number of friends"
    And I click the "College" option under "Degrees obtained"
    And I select "Alabama" as the "State you grew up in"
    And I click the "Independent" option under "Party"
    And I click the button "Continue"
    Then I should see the phrase "All done"
    And I should see the phrase "Your income is 50001.0."

  Scenario: Test the interview "End-of-sentence punctuation" with no period
    Given I start the interview "docassemble.base:data/questions/examples/fix-punctuation.yml"
    And I set the text area to "The other side is evil"
    And I click the button "Continue"
    Then I should see the phrase "Tell the court, “Please grant my petition. The other side is evil.”"

  Scenario: Test the interview "End-of-sentence punctuation" with period
    Given I start the interview "docassemble.base:data/questions/examples/fix-punctuation.yml"
    And I set the text area to "The other side is stupid."
    And I click the button "Continue"
    Then I should see the phrase "Tell the court, “Please grant my petition. The other side is stupid.”"

  Scenario: Test the interview "Flushleft"
    Given I start the interview "docassemble.base:data/questions/examples/flushleft.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Flushright"
    Given I start the interview "docassemble.base:data/questions/examples/flushright.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Force asking a question" part 1
    Given I start the interview "docassemble.base:data/questions/examples/force-ask-full.yml"
    Then I should see the phrase "Are you a communist?"
    And I click the button "Yes"
    Then I should see the phrase "I suggest you reconsider your answer."
    And I click the button "Continue"
    Then I should see the phrase "Are you a communist?"
    And I click the button "Yes"
    Then I should see the phrase "I am referring your case to Mr. McCarthy."

  Scenario: Test the interview "Force asking a question" part 2
    Given I start the interview "docassemble.base:data/questions/examples/force-ask-full.yml"
    Then I should see the phrase "Are you a communist?"
    And I click the button "Yes"
    Then I should see the phrase "I suggest you reconsider your answer."
    And I click the button "Continue"
    Then I should see the phrase "Are you a communist?"
    And I click the button "No"
    Then I should see the phrase "I am glad you are a true American."

  Scenario: Test the interview "Force asking several questions"
    Given I start the interview "docassemble.base:data/questions/examples/force-ask-multiple.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Favorite fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Favorite vegetable" to "turnips"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungus?"
    And I set "Favorite" to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "Please verify your answers."
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungus?"
    And I click the button "Continue"
    Then I should see the phrase "You like äpples, turnips, and button mushrooms."

  Scenario: Test the interview "Force asking a question"
    Given I start the interview "docassemble.base:data/questions/examples/force-ask.yml"
    Then I should see the phrase "Are you a communist?"
    And I click the button "Yes"
    Then I should see the phrase "I suggest you reconsider your answer."
    And I click the button "Continue"
    Then I should see the phrase "Are you a communist?"
    And I click the button "Yes"
    Then I should see the phrase "I am referring your case to Mr. McCarthy."

  Scenario: Test the interview "Insist question be asked"
    Given I start the interview "docassemble.base:data/questions/examples/force-gather.yml"
    Then I should see the phrase "All done with the interview!"
    And I click the link "Ask about food"
    Then I should see the phrase "What is your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "Ok, are any of these your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "I give up. Just tell me your favorite food."
    And I set "Favorite food" to "cake"
    And I click the button "Continue"
    Then I should see the phrase "All done with the interview!"

  Scenario: Test the interview "Simple for loop"
    Given I start the interview "docassemble.base:data/questions/examples/for_fruit.yml"
    Then I should see the phrase "I assume you like peaches. I assume you like pears. I assume you like apricots."

  Scenario: Test the interview "Miscellaneous formatting"
    Given I start the interview "docassemble.base:data/questions/examples/formatting.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Forward chaining"
    Given I start the interview "docassemble.base:data/questions/examples/forward-chaining.yml"
    Then I should see the phrase "George is green"

  Scenario: Test the interview "Fill fields with Mako"
    Given I start the interview "docassemble.base:data/questions/examples/fruit-template-alt-1.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Favorite fruit" to "äpples"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Favorite vegetable" to "turnips"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite legume?"
    And I set "Favorite legume" to "peas"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungus?"
    And I set "Favorite fungus" to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  # Scenario: Test the interview "Fill fields with variables"
  #   Given I start the interview "docassemble.base:data/questions/examples/fruit-template-alt-2.yml"

  Scenario: Test the interview "Function"
    Given I start the interview "docassemble.base:data/questions/examples/function.yml"
    Then I should see the phrase "The word green becomes Green when passed through the capitalize() function."

  Scenario: Test the interview "Gather"
    Given I start the interview "docassemble.base:data/questions/examples/gather-another.yml"
    Then I should see the phrase "What’s the first fruit?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "Are there more fruits?"
    And I click the button "Yes"
    Then I should see the phrase "What’s the second fruit?"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "Are there more fruits?"
    And I click the button "Yes"
    Then I should see the phrase "What’s the third fruit?"
    And I set "Fruit" to "pear"
    And I click the button "Continue"
    Then I should see the phrase "Are there more fruits?"
    And I click the button "No"
    Then I should see the phrase "äpple"
    And I should see the phrase "orange"
    And I should see the phrase "pear"

  Scenario: Test the interview "Dictionary: ask number"
    Given I start the interview "docassemble.base:data/questions/examples/gather-dict-number.yml"
    Then I should see the phrase "How many fruit should be added to the database?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "What fruit should be added to the database?"
    And I set "Fruit" to "peach"
    And I click the button "Continue"
    Then I should see the phrase "How many seeds does a peach have?"
    And I set "Number of seeds" to "1"
    And I click the button "Continue"
    Then I should see the phrase "What fruit should be added to the database?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "How many seeds does a äpple have?"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruit äpple has 10 seeds."
    And I should see the phrase "The fruit peach has 1 seeds."

  Scenario: Test the interview "Dictionary: gather keys, objects"
    Given I start the interview "docassemble.base:data/questions/examples/gather-dict-object.yml"
    Then I should see the phrase "Do you have any pets?"
    And I click the button "Yes"
    Then I should see the phrase "What kind of pet do you have?"
    And I set "Type of pet" to "rabbit"
    And I click the button "Continue"
    Then I should see the phrase "So far, you have told me about your rabbit. Do you have any other pets?"
    And I click the button "Yes"
    Then I should see the phrase "What kind of pet do you have?"
    And I set "Type of pet" to "worm"
    And I click the button "Continue"
    Then I should see the phrase "So far, you have told me about your rabbit and worm. Do you have any other pets?"
    And I click the button "No"
    Then I should see the phrase "Describe your pet"
    And I set "Name" to "Freddy"
    And I set "Number of feet" to "3"
    And I click the button "Continue"
    Then I should see the phrase "Describe your pet"
    And I set "Name" to "Buddy"
    And I set "Number of feet" to "2"
    And I click the button "Continue"
    Then I should see the phrase "You have two pets."

  Scenario: Test the interview "Dictionary: gather keys, values"
    Given I start the interview "docassemble.base:data/questions/examples/gather-dict-value.yml"
    Then I should see the phrase "What fruit should be added to the database?"
    And I set "Fruit" to "peach"
    And I set "Number of seeds" to "1"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits in the database include peach. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the database?"
    And I set "Fruit" to "äpple"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits in the database include peach and äpple. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruit äpple has 10 seeds."
    And I should see the phrase "The fruit peach has 1 seeds."

  Scenario: Test the interview "Dictionary: gather keys, values"
    Given I start the interview "docassemble.base:data/questions/examples/gather-dict.yml"
    Then I should see the phrase "What fruit should be added to the database?"
    And I set "Fruit" to "peach"
    And I click the button "Continue"
    Then I should see the phrase "How many seeds does a peach have?"
    And I set "Number of seeds" to "1"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits in the database include peach. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the database?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "How many seeds does a äpple have?"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits in the database include peach and äpple. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruit äpple has 10 seeds."
    And I should see the phrase "The fruit peach has 1 seeds."

  Scenario: Test the interview "List: gather with minimum number"
    Given I start the interview "docassemble.base:data/questions/examples/gather-fruit-at-least-two.yml"
    Then I should see the phrase "What is the first fruit?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "What is the second fruit?"
    And I set "Fruit" to "peach"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include äpple and peach. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What is the third fruit?"
    And I set "Fruit" to "pear"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include äpple, peach, and pear. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "There are three fruits in all."
    And I should see the phrase "The fruits are äpple, peach, and pear."

  Scenario: Test the interview "List: the .gather method"
    Given I start the interview "docassemble.base:data/questions/examples/gather-fruit-gather.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include äpple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include äpple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "The fruits are äpple and orange."

  Scenario: Test the interview "List: gather by total number"
    Given I start the interview "docassemble.base:data/questions/examples/gather-fruit-number.yml"
    Then I should see the phrase "How many fruits are there?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the first fruit?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the second fruit?"
    And I should see the phrase "So far, you have mentioned äpple."
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "There are 2 fruits in all."
    And I should see the phrase "The fruits are äpple and orange."

  Scenario: Test the interview "List: gathering"
    Given I start the interview "docassemble.base:data/questions/examples/gather-fruit.yml"
    Then I should see the phrase "Are there any fruit that you would like to add to the list?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include äpple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include äpple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruits are äpple and orange."

  Scenario: Test the interview "Gathering a list of e-mail recipients"
    Given I start the interview "docassemble.base:data/questions/examples/gather-list-email-recipients.yml"
    Then I should see the phrase "What is the first e-mail address?"
    And I set "E-mail" to "fred@docassemble.org"
    And I click the button "Continue"
    Then I should see the phrase "Would you like to add another e-mail recipient?"
    And I click the button "Yes"
    Then I should see the phrase "What is the second e-mail address?"
    And I set "E-mail" to "sally@docassemble.org"
    And I click the button "Continue"
    Then I should see the phrase "Would you like to add another e-mail recipient?"
    And I click the button "No"
    Then I should see the phrase "The list of recipients"
    And I should see the phrase "fred@docassemble.org"
    And I should see the phrase "sally@docassemble.org"

  Scenario: Test the interview "Gathering a list of people"
    Given I start the interview "docassemble.base:data/questions/examples/gather-list-friend-bad-order.yml"
    Then I should see the phrase "What is the name of your first friend?"
    And I set "First Name" to "Fred"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other friends?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of your second friend?"
    And I set "First Name" to "Sälly"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other friends?"
    And I click the button "No"
    Then I should see the phrase "What is Fred’s favorite animal?"
    And I set "Favorite animal" to "toad"
    And I click the button "Continue"
    Then I should see the phrase "What is Fred’s birthdate?"
    And I set "Birthdate" to "03/01/2000"
    And I click the button "Continue"
    Then I should see the phrase "What is Sälly’s favorite animal?"
    And I set "Favorite animal" to "frog"
    And I click the button "Continue"
    Then I should see the phrase "What is Sälly’s birthdate?"
    And I set "Birthdate" to "06/04/2003"
    And I click the button "Continue"
    Then I should see the phrase "Your friends"
    And I should see the phrase "Fred likes toads and is"
    And I should see the phrase "Sälly likes frogs and is"

  Scenario: Test the interview "Gathering a list of people"
    Given I start the interview "docassemble.base:data/questions/examples/gather-list-friend-good-order.yml"
    Then I should see the phrase "What is the name of your first friend?"
    And I set "First Name" to "Fred"
    And I click the button "Continue"
    Then I should see the phrase "What is Fred’s birthdate?"
    And I set "Birthdate" to "03/01/2000"
    And I click the button "Continue"
    Then I should see the phrase "What is Fred’s favorite animal?"
    And I set "Favorite animal" to "toad"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other friends?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of your second friend?"
    And I set "First Name" to "Sälly"
    And I click the button "Continue"
    Then I should see the phrase "What is Sälly’s birthdate?"
    And I set "Birthdate" to "06/04/2003"
    And I click the button "Continue"
    Then I should see the phrase "What is Sälly’s favorite animal?"
    And I set "Favorite animal" to "frog"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other friends?"
    And I click the button "No"
    Then I should see the phrase "Your friends"
    And I should see the phrase "Fred likes toads and is"
    And I should see the phrase "Sälly likes frogs and is"

  Scenario: Test the interview "Gathering a list of objects"
    Given I start the interview "docassemble.base:data/questions/examples/gather-list-objects.yml"
    Then I should see the phrase "What is the address of the first location?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "Would you like to add another location?"
    And I click the button "Yes"
    Then I should see the phrase "What is the address of the second location?"
    And I set "Address" to "432 Elm St"
    And I set "City" to "Oak Grove"
    And I select "Louisiana" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "Would you like to add another location?"
    And I click the button "No"
    Then I should see the phrase "The locations"
    And I should see the phrase "432 Elm St"
    And I should see the phrase "123 Main St"

  Scenario: Test the interview "List: gathering other attributes"
    Given I start the interview "docassemble.base:data/questions/examples/gather-manual-gathered-object-simple.yml"
    Then I should see the phrase "Do you know about any fruit?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about the first fruit."
    And I set "Name" to "äpple"
    And I set "Seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "Do you know about any other fruit?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about another fruit."
    And I set "Name" to "pear"
    And I set "Seeds" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Do you know about any other fruit?"
    And I click the button "No"
    Then I should see the phrase "Your knowledge of fruit."
    And I should see the phrase "äpple has 10 seeds."
    And I should see the phrase "pear has 0 seeds."

  Scenario: Test the interview "List: gathering other attributes"
    Given I start the interview "docassemble.base:data/questions/examples/gather-manual-gathered-object.yml"
    Then I should see the phrase "Do you know about any fruit?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about the first fruit."
    And I set "Name" to "äpple"
    And I set "Seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "Do you know about any other fruit?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about another fruit."
    And I set "Name" to "pear"
    And I set "Seeds" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Do you know about any other fruit?"
    And I click the button "No"

  Scenario: Test the interview "List: .auto_gather and .gathered"
    Given I start the interview "docassemble.base:data/questions/examples/gather-manual-gathered.yml"
    Then I should see the phrase "The fruits are apple, orange, and grape."

  Scenario: Test the interview "Set: gathering"
    Given I start the interview "docassemble.base:data/questions/examples/gather-set-number.yml"
    Then I should see the phrase "How many fruit should be added to the set?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "What fruit should be added to the set?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "What fruit should be added to the set?"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruit include orange and äpple."

  Scenario: Test the interview "Set: gather objects"
    Given I start the interview "docassemble.base:data/questions/examples/gather-set-object.yml"
    Then I should see the phrase "Do you like apples, oranges, pears, plums, or grapes?"
    And I click the button "Yes"
    Then I should see the phrase "Pick a fruit that you like."
    And I select "apples" as the "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "So far, you have indicated you like apples. Are there any other fruits you like?"
    And I click the button "Yes"
    Then I should see the phrase "Pick a fruit that you like."
    And I select "pears" as the "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "So far, you have indicated you like apples and pears. Are there any other fruits you like?"
    And I click the button "No"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruits you like include apples and pears."
    And I should see the phrase "The fruits we both like are apples and pears."

  Scenario: Test the interview "Set: gather values"
    Given I start the interview "docassemble.base:data/questions/examples/gather-set.yml"
    Then I should see the phrase "Should there be any fruits in the set?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the set?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits in the set include äpple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the set?"
    And I set "Fruit" to "pear"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits in the set include pear and äpple. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "There are two fruits in all."
    And I should see the phrase "The fruit include pear and äpple."

  Scenario: Test the interview "Gather"
    Given I start the interview "docassemble.base:data/questions/examples/gather-simple.yml"
    Then I should see the phrase "How many fruits are there?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "What’s the first fruit?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "What’s the second fruit?"
    And I set "Fruit" to "pear"
    And I click the button "Continue"
    Then I should see the phrase "Fruits"
    And I should see the phrase "The fruits are:"
    And I should see the phrase "äpple"
    And I should see the phrase "pear"

  Scenario: Test the interview "Generic object fallback"
    Given I start the interview "docassemble.base:data/questions/examples/generic-object-ein.yml"
    Then I should see the phrase "What is the tax status of ABC Incorporated?"
    And I click the "Non-profit" option
    And I click the button "Continue"
    Then I should see the phrase "What is the tax status of XYZ Incorporated?"
    And I click the "For-profit" option
    And I click the button "Continue"
    Then I should see the phrase "What is the EIN of XYZ Incorporated?"
    And I set "EIN" to "98-23423423"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I should see the phrase "ABC Incorporated is a non-profit. Its EIN is 54-54349343."
    And I should see the phrase "XYZ Incorporated is not a non-profit. Its EIN is 98-23423423."

  Scenario: Test the interview "generic objects"
    Given I start the interview "docassemble.base:data/questions/examples/generic-object-phone-number.yml"
    Then I should see the phrase "What is the grantor’s name?"
    And I set "First Name" to "Graham"
    And I set "Last Name" to "Grantor"
    And I click the button "Continue"
    Then I should see the phrase "What is Graham Grantor’s phone number?"
    And I set "Phone Number" to "202-555-2032"
    And I click the button "Continue"
    Then I should see the phrase "What is the grantee’s name?"
    And I set "First Name" to "George"
    And I set "Last Name" to "Grantee"
    And I click the button "Continue"
    Then I should see the phrase "What is George Grantee’s phone number?"
    And I set "Phone Number" to "202-555-8932"
    And I click the button "Continue"
    Then I should see the phrase "What is the trustee’s name?"
    And I set "First Name" to "Trävis"
    And I set "Last Name" to "Trustee"
    And I click the button "Continue"
    Then I should see the phrase "What is Trävis Trustee’s phone number?"
    And I set "Phone Number" to "202-555-2544"
    And I click the button "Continue"
    Then I should see the phrase "How to reach people"
    And I should see the phrase "You can reach the grantor at 202-555-2032."
    And I should see the phrase "You can reach the grantee at 202-555-8932."
    And I should see the phrase "You can reach the trustee at 202-555-2544."

  Scenario: Test the interview "Generic object"
    Given I start the interview "docassemble.base:data/questions/examples/generic-object.yml"
    Then I should see the phrase "Does John Smith like cats?"
    And I click the button "Yes"
    Then I should see the phrase "Does Randy Jones like cats?"
    And I click the button "Yes"
    Then I should see the phrase "John Smith and Randy Jones both like cats."

  Scenario: Test the interview "Default timezone"
    Given I start the interview "docassemble.base:data/questions/examples/get-default-timezone.yml"
    Then I should see the phrase "The default time zone is America/New_York."

  Scenario: Test the interview "Not object oriented"
    Given I start the interview "docassemble.base:data/questions/examples/hello-not-oop.yml"
    Then I should see the phrase "What is your name?"
    And I set "First" to "Jöhn"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Hello, Jöhn Smith!"

  Scenario: Test the interview "Object oriented"
    Given I start the interview "docassemble.base:data/questions/examples/hello-oop.yml"
    Then I should see the phrase "What’s your name?"
    And I set "First" to "Jöhn"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Hello, Jöhn Smith!"

  Scenario: Test the interview "Audio help"
    Given I start the interview "docassemble.base:data/questions/examples/help-damages-audio.yml"
    Then I should see the phrase "How much money do you wish to seek in damages?"
    And I go to the help screen
    Then I should see the phrase "If you are not sure how much money to seek in damages, just ask for a million dollars, since you want Dastardly Defendant to suffer."
    And I go back to the question screen
    And I set "Money" to "500"
    And I click the button "Continue"
    Then I should see the phrase "You are seeking $500.00 in damages."

  Scenario: Test the interview "Help with question"
    Given I start the interview "docassemble.base:data/questions/examples/help-damages.yml"
    Then I should see the phrase "How much money do you wish to seek in damages?"
    And I go to the help screen
    Then I should see the phrase "If you are not sure how much money to seek in damages, just ask for a million dollars, since you want Dastardly Defendant to suffer."
    And I go back to the question screen
    And I set "Money" to "40000"
    And I click the button "Continue"
    Then I should see the phrase "You are seeking $40,000.00 in damages."

  Scenario: Test the interview "Help with question"
    Given I start the interview "docassemble.base:data/questions/examples/help.yml"
    Then I should see the phrase "What is 2+2?"
    And I go to the help screen
    Then I should see the phrase "Hint: 2 + 2 = 4."
    And I go back to the question screen
    And I click the "4" option
    And I click the button "Continue"
    Then I should see the phrase "You are brilliant!"

  Scenario: Test the interview "Conditionally hide" with hiding
    Given I start the interview "docassemble.base:data/questions/examples/hideif-boolean.yml"
    Then I should see the phrase "Please fill in the following information."
    And I should see the phrase "What fruit do you need?"
    And I click the "Yes" option under "Do you have fruit?"
    And I wait 1 second
    And I should not see the phrase "What fruit do you need?"
    And I click the button "Continue"
    Then I should see the phrase "You have fruit."

  Scenario: Test the interview "Conditionally hide" with showing
    Given I start the interview "docassemble.base:data/questions/examples/hideif-boolean.yml"
    Then I should see the phrase "Please fill in the following information."
    And I click the "No" option under "Do you have fruit?"
    And I set "What fruit do you need?" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "You need some äpple."

  # Scenario: Test the interview "HTML"
  #   Given I start the interview "docassemble.base:data/questions/examples/html.yml"

  Scenario: Test the interview "Conditional question"
    Given I start the interview "docassemble.base:data/questions/examples/if.yml"
    Then I should see the phrase "Describe your intelligence."
    And I click the "Smart" option
    And I click the button "Continue"
    Then I should see the phrase "What is the square root of 50% of 32?"
    And I set "Answer" to "4"
    And I click the button "Continue"
    Then I should see the phrase "That is correct."

  Scenario: Test the interview "Images with attribution"
    Given I start the interview "docassemble.base:data/questions/examples/image-sets.yml"
    Then I should see the phrase "Icon made by Freepik"

  # Scenario: Test the interview "Images without attribution"
  #   Given I start the interview "docassemble.base:data/questions/examples/images.yml"

  # Scenario: Test the interview "Immediate file"
  #   Given I start the interview "docassemble.base:data/questions/examples/immediate_file.yml"

  Scenario: Test the interview "Import Python module"
    Given I start the interview "docassemble.base:data/questions/examples/imports.yml"
    Then I should see the phrase "Please write a sentence."
    And I set the text area to "I am a cöw."
    And I click the button "Continue"
    Then I should see the phrase "Here is your transformed sentence."
    And I should see the phrase "I am AARGH! cöw."

  Scenario: Test the interview "Include YAML file"
    Given I start the interview "docassemble.base:data/questions/examples/include.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is äpple and your favorite vegetable is turnip."

  Scenario: Test the interview "List of periods"
    Given I start the interview "docassemble.base:data/questions/examples/income.yml"
    Then I should see the phrase "What is your income?"
    And I set "Income" to "5000"
    And I select "Per Week" as the "Period"
    And I click the button "Continue"
    Then I should see the phrase "Your income"
    And I should see the phrase "You earn $260,000.00 per year."

  Scenario: Test the interview "Indefinite article"
    Given I start the interview "docassemble.base:data/questions/examples/indefinite-article.yml"
    Then I should see the phrase "Would you prefer to have an apple as opposed to a squash?"
    And I click the button "Yes"
    Then I should see the phrase "You would prefer the apple"

  Scenario: Test the interview "Indent paragraphs"
    Given I start the interview "docassemble.base:data/questions/examples/indent.yml"
    Then I should see the phrase "Your allegations"
    And I should see the phrase "You have a house."

  Scenario: Test the interview "Index variables"
    Given I start the interview "docassemble.base:data/questions/examples/index-variable.yml"
    Then I should see the phrase "What is the first person’s name?"
    And I set "First" to "Härry"
    And I set "Last" to "Jones"
    And I click the button "Continue"
    Then I should see the phrase "Are there more people involved?"
    And I click the button "Yes"
    Then I should see the phrase "What is the second person’s name?"
    And I set "First" to "Larry"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Are there more people involved?"
    And I click the button "No"
    Then I should see the phrase "Härry Jones and Larry Smith"

  Scenario: Test the interview "Infinite loop"
    Given I start the interview "docassemble.base:data/questions/examples/infinite-loop.yml"
    Then I should see the phrase "The variable is foo."

  Scenario: Test the interview "Initial code" with counter on
    Given I start the interview "docassemble.base:data/questions/examples/initial-code.yml"
    Then I should see the phrase "Do you want to turn on the counter?"
    And I click the button "Yes"
    Then I should see the phrase "How many peaches do you have?"
    And I should see the phrase "The value of the counter is"
    And I set the text box to "2"
    And I click the button "Continue"
    Then I should see the phrase "How many pears do you have?"
    And I should see the phrase "The value of the counter is"
    And I set the text box to "1"
    And I click the button "Continue"
    Then I should see the phrase "You have 3 pieces of fruit."
    And I should see the phrase "The value of the counter is"

  Scenario: Test the interview "Initial code" with counter off
    Given I start the interview "docassemble.base:data/questions/examples/initial-code.yml"
    Then I should see the phrase "Do you want to turn on the counter?"
    And I click the button "No"
    Then I should see the phrase "How many peaches do you have?"
    And I should see the phrase "The value of the counter is 0."
    And I set the text box to "2"
    And I click the button "Continue"
    Then I should see the phrase "How many pears do you have?"
    And I should see the phrase "The value of the counter is 0."
    And I set the text box to "1"
    And I click the button "Continue"
    Then I should see the phrase "You have 3 pieces of fruit."
    And I should see the phrase "The value of the counter is 0."

  Scenario: Test the interview "Initial code"
    Given I start the interview "docassemble.base:data/questions/examples/initial.yml"
    Then I should see the phrase "How many peaches do you have?"
    And I should see the phrase "The value of the counter is"
    And I set the text box to "2"
    And I click the button "Continue"
    Then I should see the phrase "How many pears do you have?"
    And I should see the phrase "The value of the counter is"
    And I set the text box to "1"
    And I click the button "Continue"
    Then I should see the phrase "You have 3 pieces of fruit."
    And I should see the phrase "The value of the counter is"

  Scenario: Test the interview "Interface in use"
    Given I start the interview "docassemble.base:data/questions/examples/interface.yml"
    Then I should see the phrase "You are using the web interface."

  Scenario: Test the interview "Interview help"
    Given I start the interview "docassemble.base:data/questions/examples/interview-help.yml"
    Then I should see the phrase "Are you ready to start the interview?"
    And I go to the help screen
    Then I should see the phrase "About this interview"
    And I should see the phrase "Answer each question to the best of your ability. If you do not know the answer to any question, panic."
    And I go back to the question screen
    And I click the button "Yes"
    Then I should see the phrase "This is the end of the interview."
    And I go to the help screen
    Then I should see the phrase "About this interview"
    And I should see the phrase "Answer each question to the best of your ability. If you do not know the answer to any question, panic."

  Scenario: Test the interview "Action from anywhere"
    Given I start the interview "docassemble.base:data/questions/examples/interview_url_action.yml"
    Then I should see the phrase "The current status is normal."
  #   And I click the link "danger"
  #   Then I should see the phrase "The current status is danger."
  #   And I click the link "normal"
  #   Then I should see the phrase "The current status is normal."

  Scenario: Test the interview "Several interviews in one" with first interview
    Given I start the interview "docassemble.base:data/questions/examples/interview-url-refer.yml"
    Then I should see the phrase "What interview would you like to use?"
  #  And I click the link "Fruit"
  #  Then I should see the phrase "What is your favorite fruit?"

  # Scenario: Test the interview "Several interviews in one" with second interview
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-url-refer.yml"
  #   Then I should see the phrase "What interview would you like to use?"
  #   And I click the link "Vegetables"
  #   Then I should see the phrase "What is your favorite vegetable?"

  # Scenario: Test the interview "Destination interview"
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-url-session-two.yml"

  # Scenario: Test the interview "Link for sharing"
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-url-session.yml"

  # Scenario: Test the interview "Link for sharing"
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-url.yml"

  # Scenario: Test the interview "Join from monitor"
  #   Given I start the interview "docassemble.base:data/questions/examples/join.yml"

  Scenario: Test the interview "Calling actions"
    Given I start the interview "docassemble.base:data/questions/examples/js_action_call.yml"
    Then I should see the phrase "The pie"
    And I should not see the phrase "The pie is called apple pie."
    And I click the button "Run"
    And I wait 4 seconds
    Then I should see the phrase "The pie is called apple pie."

  Scenario: Test the interview "Action links"
    Given I start the interview "docassemble.base:data/questions/examples/js_url_action.yml"
    Then I should see the phrase "Your dessert is cod liver oil."
    And I click the link "choose something tastier"
    Then I should see the phrase "Your dessert is apple pie."

  Scenario: Test the interview "Separate label and field"
    Given I start the interview "docassemble.base:data/questions/examples/label.yml"
    Then I should see the phrase "What are your favorite things to eat?"
    And I set "Vegetable" to "turnip"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "You must love turnip and apple pancakes. I know I do!"

  Scenario: Test the interview "User language from browser (restricted)"
    Given I start the interview "docassemble.base:data/questions/examples/language_from_browser_restricted.yml"
    Then I should see the phrase "I guess you do not speak Spanish or French."

  Scenario: Test the interview "User language from browser"
    Given I start the interview "docassemble.base:data/questions/examples/language_from_browser.yml"
    Then I should see the phrase "I think your language code is"

  Scenario: Test the interview "The lastfirst method"
    Given I start the interview "docassemble.base:data/questions/examples/lastfirst.yml"
    Then I should see the phrase "Vader, Darth"
    And I should see the phrase "Death Star Corporation"
    And I should see the phrase "Ren, Kylo"

  # Scenario: Test the interview "Command: leave"
  #   Given I start the interview "docassemble.base:data/questions/examples/leave.yml"

  Scenario: Test the interview "Lists"
    Given I start the interview "docassemble.base:data/questions/examples/lists.yml"
    Then I should see the phrase "Your fears"
    Then I should see the phrase "You are afraid of spiders, snakes, and fish."

  # Scenario: Test the interview "Live chat"
  #   Given I start the interview "docassemble.base:data/questions/examples/live_chat.yml"

  Scenario: Test the interview "Loading legal module"
    Given I start the interview "docassemble.base:data/questions/examples/loading-legal.yml"
    Then I should see the phrase "Using legal functions"

  Scenario: Test the interview "Loading"
    Given I start the interview "docassemble.base:data/questions/examples/loading-util.yml"
    Then I should see the phrase "Using utility functions"

  Scenario: Test the interview "Actions"
    Given I start the interview "docassemble.base:data/questions/examples/lucky-number.yml"
    Then I should see the phrase "What is your lucky color?"
    And I set "Color" to "green"
    And I click the button "Continue"
    Then I should see the phrase "Please confirm the following information."
    And I should see the phrase "Your lucky number is 2."
    And I should see the phrase "Also, your lucky color is green."
    And I click the link "Increase"
    And I wait 1 second
    Then I should see the phrase "Your lucky number is 3."
    And I click the link "Decrease"
    And I wait 1 second
    Then I should see the phrase "Your lucky number is 2."
    And I click the link "Edit"
    Then I should see the phrase "What is your lucky color?"
    And I set "Color" to "red"
    And I click the button "Continue"
    Then I should see the phrase "Also, your lucky color is red."

  Scenario: Test the interview "Mad libs"
    Given I start the interview "docassemble.base:data/questions/examples/madlibs.yml"
    Then I should see the phrase "Give me a person."
    And I set the text box to "Sälly"
    And I click the button "Continue"
    Then I should see the phrase "Give me a place."
    And I set the text box to "McDonalds"
    And I click the button "Continue"
    Then I should see the phrase "Give me a noun."
    And I set the text box to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "Give me an adjective."
    And I set the text box to "silly"
    And I click the button "Continue"
    Then I should see the phrase "Give me another noun."
    And I set the text box to "shark"
    And I click the button "Continue"
    Then I should see the phrase "Give me another person."
    And I set the text box to "Antonio"
    And I click the button "Continue"
    Then I should see the phrase "A funny story"
    And I should see the phrase "Sälly went to McDonalds to buy a turnip."
    And I should see the phrase "At the McDonalds, there was a silly shark, which tried to zap Sälly."
    And I should see the phrase "But luckily, Antonio came out of the back room just in time and lunged at the shark, thereby saving the day."

  Scenario: Test the interview "Insert variable"
    Given I start the interview "docassemble.base:data/questions/examples/mako-01.yml"
    Then I should see the phrase "A summary"
    And I should see the phrase "You like apples and potatoes."

  Scenario: Test the interview "If statement"
    Given I start the interview "docassemble.base:data/questions/examples/mako-02.yml"
    Then I should see the phrase "Hello!"
    And I should see the phrase "I hope you are having a good day."

  Scenario: Test the interview "If/else statement"
    Given I start the interview "docassemble.base:data/questions/examples/mako-03.yml"
    Then I should see the phrase "Commentary on the day of the month"
    Then I should see the phrase "Let me tell you about today."

  Scenario: Test the interview "Nested if/else"
    Given I start the interview "docassemble.base:data/questions/examples/mako-04.yml"
    Then I should see the phrase "Commentary on the day of the month"
    Then I should see the phrase "Let me tell you about today."

  Scenario: Test the interview "For loop"
    Given I start the interview "docassemble.base:data/questions/examples/mako-05.yml"
    Then I should see the phrase "Foods I like"
    And I should see the phrase "I like plums. I like pears. I like peas."

  Scenario: Test the interview "For loop over list"
    Given I start the interview "docassemble.base:data/questions/examples/mako-06.yml"
    Then I should see the phrase "Were there any witnesses?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the first witness?"
    And I set "First Name" to "William"
    And I set "Last Name" to "Witness"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other witnesses?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second witness?"
    And I set "First Name" to "Wanda"
    And I set "Last Name" to "Witness"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other witnesses?"
    And I click the button "No"
    Then I should see the phrase "The witness"
    And I should see the phrase "William Witness is a witness. Wanda Witness is a witness."

  Scenario: Test the interview "Python in template"
    Given I start the interview "docassemble.base:data/questions/examples/mako-07.yml"
    Then I should see the phrase "The answer is 5."

  Scenario: Test the interview "Stop rendering Mako" type one
    Given I start the interview "docassemble.base:data/questions/examples/mako-08.yml"
    Then I should see the phrase "Do you like apples?"
    And I click the button "Yes"
    Then I should see the phrase "They have stems and seeds."

  Scenario: Test the interview "Stop rendering Mako" type two
    Given I start the interview "docassemble.base:data/questions/examples/mako-08.yml"
    Then I should see the phrase "Do you like apples?"
    And I click the button "No"
    Then I should see the phrase "Oh well, never mind."
    And I should not see the phrase "They have stems and seeds."

  Scenario: Test the interview "Loop object"
    Given I start the interview "docassemble.base:data/questions/examples/mako-09.yml"
    Then I should see the phrase "Foods I like"
    Then I should see the phrase "First, I like apples. The second food I like is peaches. I also like pears. The fourth food I like is plums. I also like turnips. Last but not least, I am a big fan of raspberries."

  Scenario: Test the interview "Mandatory code" with apples
    Given I start the interview "docassemble.base:data/questions/examples/mandatory-code.yml"
    Then I should see the phrase "What is your favorite food?"
    And I set the text box to "apples"
    And I click the button "Continue"
    Then I should see the phrase "You have good taste in food."
    And I click the button "Continue"
    Then I should see the phrase "Thank you for your input."

  Scenario: Test the interview "Mandatory code" with turnips
    Given I start the interview "docassemble.base:data/questions/examples/mandatory-code.yml"
    Then I should see the phrase "What is your favorite food?"
    And I set the text box to "türnips"
    And I click the button "Continue"
    Then I should see the phrase "Thank you for your input."

  Scenario: Test the interview "Mandatory code"
    Given I start the interview "docassemble.base:data/questions/examples/mandatory.yml"
    Then I should see the phrase "How many peaches do you have?"
    And I set the text box to "2"
    And I click the button "Continue"
    Then I should see the phrase "How many pears do you have?"
    And I set the text box to "1"
    And I click the button "Continue"
    Then I should see the phrase "This is the end of the interview"

  Scenario: Test the interview "Markdown demonstration"
    Given I start the interview "docassemble.base:data/questions/examples/markdown-demo.yml"
    Then I should see the phrase "Markdown demonstration"

  Scenario: Test the interview "Marking up text"
    Given I start the interview "docassemble.base:data/questions/examples/markdown.yml"
    Then I should see the phrase "Introduction to Markdown"

  Scenario: Test the interview "Several interviews in one" with fruit interview
    Given I start the interview "docassemble.base:data/questions/examples/menu-items-refer.yml"
    Then I should see the phrase "Select an option from the menu in the upper right."
    And I select "Fruit" from the menu
    Then I should see the phrase "What is your favorite fruit?"

  # Scenario: Test the interview "Several interviews in one" with vegetables interview
  #   Given I start the interview "docassemble.base:data/questions/examples/menu-items-refer.yml"
  #   Then I should see the phrase "Select an option from the menu in the upper right."
  #   And I select "Vegetables" from the menu
  #   Then I should see the phrase "What is your favorite vegetable?"

  # Scenario: Test the interview "Several interviews in one" with flowers interview
  #   Given I start the interview "docassemble.base:data/questions/examples/menu-items-refer.yml"
  #   Then I should see the phrase "Select an option from the menu in the upper right."
  #   And I select "Flowers" from the menu
  #   Then I should see the phrase "What is your favorite flower?"

  Scenario: Test the interview "Menu item"
    Given I start the interview "docassemble.base:data/questions/examples/menu-item.yml"
    Then I should see the phrase "Welcome to the interview"
    And I should see the phrase "Check out the menu in the upper-right corner."
    And I select "Visit Cow" from the menu
    Then I should see the phrase "Moo!"

  Scenario: Test the interview "Question generated with code"
    Given I start the interview "docassemble.base:data/questions/examples/message.yml"
    Then I should see the phrase "The interview is over."
    And I should see the phrase "Better luck next time!"
    And I should see the phrase "Exit"
    And I should see the phrase "Restart"

  Scenario: Test the interview "metadata"
    Given I start the interview "docassemble.base:data/questions/examples/metadata.yml"
    Then I should see the phrase "What is your docket number?"
    And I set "Docket Number" to "023023423"
    And I click the button "Continue"
    Then I should see the phrase "End of interview"
    And I should see the phrase "Your docket number is “023023423.”"

  Scenario: Test the interview "Min/max length"
    Given I start the interview "docassemble.base:data/questions/examples/minlength.yml"
    Then I should see the phrase "What is the nuclear launch code?"
    And I set "Code" to "42"
    And I click the button "Continue"
    Then I should see the phrase "You must type at least 5 characters"
    And I set "Code" to "4210022"
    And I click the button "Continue"
    Then I should see the phrase "Thank you for giving me the launch code (4210022)."
    And I should see the phrase "Countdown commencing."

  Scenario: Test the interview "Min/Max value"
    Given I start the interview "docassemble.base:data/questions/examples/min.yml"
    Then I should see the phrase "What percentage of your friends are turnips?"
    And I set "Percent" to "-1"
    And I click the button "Continue"
    Then I should see the phrase "You need to enter a number that is at least 0"
    And I set "Percent" to "200"
    And I click the button "Continue"
    Then I should see the phrase "You need to enter a number that is at most 100"
    And I set "Percent" to "50"
    And I click the button "Continue"
    Then I should see the phrase "50.0% of your friends are turnips."

  Scenario: Test the interview "List: mixed object types"
    Given I start the interview "docassemble.base:data/questions/examples/mixed-list.yml"
    Then I should see the phrase "Do you know the full address of the first location?"
    And I click the button "Yes"
    Then I should see the phrase "What is the address of the first location?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Would you like to add another location?"
    And I click the button "Yes"
    Then I should see the phrase "Do you know the full address of the second location?"
    And I click the button "No"
    Then I should see the phrase "What is the city of the second location?"
    And I set "City" to "Glen Falls"
    And I select "South Dakota" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "Would you like to add another location?"
    And I click the button "No"
    Then I should see the phrase "The locations"
    And I should see the phrase "123 Main St"
    And I should see the phrase "Springfield, GA 02001"
    And I should see the phrase "Glen Falls, SD"

  Scenario: Test the interview "Import names from module"
    Given I start the interview "docassemble.base:data/questions/examples/modules.yml"
    Then I should see the phrase "All done"
    And I should see the phrase 'Your list in JSON format looks like ["apple", "orange", ["peach", "pear"]]'

  Scenario: Test the interview "Money"
    Given I start the interview "docassemble.base:data/questions/examples/money-field.yml"
    Then I should see the phrase "How much is your house worth?"
    And I should see the phrase "$"
    And I set "Value" to "100000"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "target_variable is: “100000.0”"

  Scenario: Test the interview "Name in Mako template"
    Given I start the interview "docassemble.base:data/questions/examples/name-company-question.yml"
    Then I should see the phrase "What is the name of the company?"
    And I set "Company name" to "Exämple Inc."
    And I click the button "Continue"
    Then I should see the phrase "Do you wish to sue Exämple Inc.?"
    And I click the button "Yes"
    Then I should see the phrase "You will need a lawyer."

  Scenario: Test the interview "Name in Mako template"
    Given I start the interview "docassemble.base:data/questions/examples/name-company.yml"
    Then I should see the phrase "Do you wish to sue ABC Corporation?"
    And I click the button "Yes"
    Then I should see the phrase "You will need a lawyer."

  Scenario: Test the interview "Names"
    Given I start the interview "docassemble.base:data/questions/examples/name.yml"
    Then I should see the phrase "What are you fighting?"
    And I click the option "the Empire"
    And I click the button "Continue"
    Then I should see the phrase "You are fighting the Empire."
    And I should see the phrase "Your enemy is the Empire."
    And I should see the phrase "Your opponent is the Empire."

  Scenario: Test the interview "Need specifier"
    Given I start the interview "docassemble.base:data/questions/examples/need-specifier.yml"
    Then I should see the phrase "How old are you?"
    And I set "Age in years" to "23"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite animal?"
    And I set "Favorite animal" to "Ocelöt"
    And I click the button "Continue"
    Then I should see the phrase "Thank you for that information."
    And I should see the phrase "My favorite animal is Ocelöt, too!"

  Scenario: Test the interview "Need"
    Given I start the interview "docassemble.base:data/questions/examples/need.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "äpple"
    And I click the button "Continue"
    Then I should see the phrase "Done with the interview"

  Scenario: Test the interview "Nested loop"
    Given I start the interview "docassemble.base:data/questions/examples/nested-loop.yml"
    Then I should see the phrase "What is the name of the first person?"
    And I set "First" to "Rälph"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Does Rälph Smith have any allergies?"
    And I click the button "No"
    Then I should see the phrase "Does Rälph Smith have any children?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of Rälph Smith’s first child?"
    And I set "First" to "Peter"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Does Peter Smith have any allergies?"
    And I click the button "No"
    Then I should see the phrase "Does Rälph Smith have any children other than Peter Smith?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of Rälph Smith’s second child?"
    And I set "First" to "Sälly"
    And I set "Last" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Does Sälly Smith have any allergies?"
    And I click the button "Yes"
    Then I should see the phrase "What allergy does Sälly Smith have?"
    And I set "Allergy" to "cotton"
    And I click the button "Continue"
    Then I should see the phrase "Does Sälly Smith have any allergies other than cotton?"
    And I click the button "Yes"
    Then I should see the phrase "What allergy does Sälly Smith have?"
    And I set "Allergy" to "grapes"
    And I click the button "Continue"
    Then I should see the phrase "Does Sälly Smith have any allergies other than cotton and grapes?"
    And I click the button "No"
    Then I should see the phrase "Does Rälph Smith have any children other than Peter Smith and Sälly Smith?"
    And I click the button "No"
    Then I should see the phrase "Is there another person?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second person?"
    And I set "First" to "Henry"
    And I set "Last" to "Jones"
    And I click the button "Continue"
    Then I should see the phrase "Does Henry Jones have any allergies?"
    And I click the button "Yes"
    Then I should see the phrase "What allergy does Henry Jones have?"
    And I set "Allergy" to "spiders"
    And I click the button "Continue"
    Then I should see the phrase "Does Henry Jones have any allergies other than spiders?"
    And I click the button "Yes"
    Then I should see the phrase "What allergy does Henry Jones have?"
    And I set "Allergy" to "beet roots"
    And I click the button "Continue"
    Then I should see the phrase "Does Henry Jones have any allergies other than spiders and beet roots?"
    And I click the button "No"
    Then I should see the phrase "Does Henry Jones have any children?"
    And I click the button "No"
    Then I should see the phrase "Is there another person?"
    And I click the button "No"
    Then I should see the phrase "Information retrieved"
    And I should see the phrase "You told me about two individuals, their allergies, their children, and their children’s allergies."
    And I should see the phrase "You told me about Rälph Smith. Rälph Smith has a child named Peter Smith. Rälph Smith has a child named Sälly Smith. Sälly Smith is allergic to cotton and grapes."
    And I should see the phrase "You told me about Henry Jones. Henry Jones is allergic to spiders and beet roots."

  Scenario: Test the interview "Mako for loops"
    Given I start the interview "docassemble.base:data/questions/examples/nested-gather.yml"
    Then I should see the phrase "What is the name of the first witness?"
    And I set "First Name" to "Härold"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other witnesses?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second witness?"
    And I set "First Name" to "Henry"
    And I set "Last Name" to "Harrison"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other witnesses?"
    And I click the button "No"
    Then I should see the phrase "What food does Härold Smith like?"
    And I set "Food" to "turnips"
    And I click the button "Continue"
    Then I should see the phrase "Is there any other food that Härold Smith likes, besides turnips?"
    And I click the button "Yes"
    Then I should see the phrase "What food does Härold Smith like?"
    And I set "Food" to "radishes"
    And I click the button "Continue"
    Then I should see the phrase "Is there any other food that Härold Smith likes, besides turnips and radishes?"
    And I click the button "No"
    Then I should see the phrase "What food does Henry Harrison like?"
    And I set "Food" to "pie"
    And I click the button "Continue"
    Then I should see the phrase "Is there any other food that Henry Harrison likes, besides pie?"
    And I click the button "No"
    Then I should see the phrase "Witnesses"
    And I should see the phrase "Härold Smith is a witness who likes turnips and radishes."
    And I should see the phrase "Henry Harrison is a witness who likes pie."

  Scenario: Test the interview "Specific and general index variable questions"
    Given I start the interview "docassemble.base:data/questions/examples/nested-veggies-override.yml"
    Then I should see the phrase "How much does the first potato weigh?"
    And I set "Grams" to "90"
    And I click the button "Continue"
    Then I should see the phrase "Is there another potato?"
    And I click the button "No"
    Then I should see the phrase "How much does the first turnip weigh?"
    And I set "Grams" to "40"
    And I click the button "Continue"
    Then I should see the phrase "Is there another turnip?"
    And I click the button "Yes"
    Then I should see the phrase "How much does the other turnip weigh?"
    And I set "Grams" to "30"
    And I click the button "Continue"
    Then I should see the phrase "Is there another turnip?"
    And I click the button "No"
    Then I should see the phrase "Summary of weights"
    And I should see the phrase "A turnip weighs 40.0 grams. A turnip weighs 30.0 grams."
    And I should see the phrase "A potato weighs 90.0 grams."

  Scenario: Test the interview "Nested index variables"
    Given I start the interview "docassemble.base:data/questions/examples/nested-veggies.yml"
    Then I should see the phrase "How much does the first potato weigh?"
    And I set "Grams" to "90"
    And I click the button "Continue"
    Then I should see the phrase "Is there another potato?"
    And I click the button "No"
    Then I should see the phrase "How much does the first turnip weigh?"
    And I set "Grams" to "40"
    And I click the button "Continue"
    Then I should see the phrase "Is there another turnip?"
    And I click the button "Yes"
    Then I should see the phrase "How much does the second turnip weigh?"
    And I set "Grams" to "30"
    And I click the button "Continue"
    Then I should see the phrase "Is there another turnip?"
    And I click the button "No"
    Then I should see the phrase "Summary of weights"
    And I should see the phrase "A turnip weighs 40.0 grams. A turnip weighs 30.0 grams."
    And I should see the phrase "A potato weighs 90.0 grams."

  # Scenario: Test the interview "Number as word"
  #   Given I start the interview "docassemble.base:data/questions/examples/nice-number.yml"

  Scenario: Test the interview "No label"
    Given I start the interview "docassemble.base:data/questions/examples/no-label-field.yml"
    Then I should see the phrase "What is your Zodiac sign?"
    And I set the text box to "Aries"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "target_variable is: “Aries”"

  Scenario: Test the interview "Notes among fields"
    Given I start the interview "docassemble.base:data/questions/examples/note.yml"
    Then I should see the phrase "Please fill in the following information."
    And I set "Favorite fruit" to "apple"
    And I set "Favorite vegetable" to "turnip"
    Then I should see the phrase "In case you did not know, a mushroom is a fungus, not a vegetable."
    And I set "Favorite fungus" to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like apple, turnip, and button mushrooms."

  # Scenario: Test the interview "Pluralizing"
  #   Given I start the interview "docassemble.base:data/questions/examples/noun-plural.yml"

  Scenario: Test the interview "Yes means false"
    Given I start the interview "docassemble.base:data/questions/examples/noyes.yml"
    Then I should see the phrase "Are you at least 18 years of age?"
    And I click the button "Yes"
    Then I should see the phrase "user_is_minor is: “False”"

  Scenario: Test the interview "Yes means false" with other possibility
    Given I start the interview "docassemble.base:data/questions/examples/noyes.yml"
    Then I should see the phrase "Are you at least 18 years of age?"
    And I click the button "No"
    Then I should see the phrase "user_is_minor is: “True”"

  Scenario: Test the interview "Numbers"
    Given I start the interview "docassemble.base:data/questions/examples/number-field.yml"
    Then I should see the phrase "Describe your possessions."
    And I set "Number of cars" to "1"
    And I set "Ounces of gold" to "539"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "You have only one car. You also have 539.0 ounces of gold."

  Scenario: Test the interview "Set variable to list of objects"
    Given I start the interview "docassemble.base:data/questions/examples/object-checkboxes-dalist.yml"
    Then I should see the phrase "Who are the villains, if any?"
    And I click the option "Harry Potter"
    And I click the option "Tom Riddle"
    And I click the button "Continue"
    Then I should see the phrase "The villains include"
    And I should see the phrase "Harry Potter"
    And I should see the phrase "and"
    And I should see the phrase "Tom Riddle"

  Scenario: Test the interview "Set variable to list of objects"
    Given I start the interview "docassemble.base:data/questions/examples/object-checkboxes-default.yml"
    Then I should see the phrase "Who are the villains, if any?"
    And I click the button "Continue"
    Then I should see the phrase "The villain includes Tom Riddle."

  Scenario: Test the interview "Set variable to list of objects"
    Given I start the interview "docassemble.base:data/questions/examples/object-checkboxes.yml"
    Then I should see the phrase "Who are the villains, if any?"
    And I click the option "Harry Potter"
    And I click the option "Tom Riddle"
    And I click the button "Continue"
    Then I should see the phrase "The villains include"
    And I should see the phrase "Harry Potter"
    And I should see the phrase "and"
    And I should see the phrase "Tom Riddle"

  Scenario: Test the interview "Groups"
    Given I start the interview "docassemble.base:data/questions/examples/object-demo.yml"
    Then I should see the phrase "Summary of groups"
    And I should see the phrase "The fruits include apple, pear, and orange"
    And I should see the phrase "A dog has 4 feet."
    And I should see the phrase "A human has 2 feet."
    And I should see the phrase "A bird has 2 feet."
    And I should see the phrase "There are 4 feet on a dog."
    And I should see the phrase "There are 2 feet on a human."
    And I should see the phrase "There are 2 feet on a bird."
    And I should see the phrase "The colors are blue, green, and red."

  Scenario: Test the interview "Existing or new" by selecting object
    Given I start the interview "docassemble.base:data/questions/examples/object-disable-others.yml"
    Then I should see the phrase "Who is the villain?"
    And I select "Tom Riddle" as the "One of these"
    And I click the button "Continue"
    Then I should see the phrase "Tom Riddle will surely be defeated!"

  Scenario: Test the interview "Existing or new" by typing name
    Given I start the interview "docassemble.base:data/questions/examples/object-disable-others.yml"
    Then I should see the phrase "Who is the villain?"
    And I set "First Name" to "Damon"
    And I set "Last Name" to "Barry"
    And I click the button "Continue"
    Then I should see the phrase "Damon Barry will surely be defeated!"

  Scenario: Test the interview "Object radio buttons"
    Given I start the interview "docassemble.base:data/questions/examples/object-radio.yml"
    Then I should see the phrase "Who is the villain?"
    And I click the button "Continue"
    Then I should see the phrase "Tom Riddle will surely be defeated!"

  Scenario: Test the interview "Selections from variable"
    Given I start the interview "docassemble.base:data/questions/examples/object-selections.yml"
    Then I should see the phrase "Who is the villain?"
    And I select "Harry Potter" as the "The villain is"
    And I click the button "Continue"
    Then I should see the phrase "Harry Potter will surely be defeated!"

  Scenario: Test the interview "Define objects"
    Given I start the interview "docassemble.base:data/questions/examples/objects.yml"
    Then I should see the phrase "What is the hero’s name?"
    And I set "First Name" to "Tobias"
    And I set "Last Name" to "Hortter"
    And I click the button "Continue"
    Then I should see the phrase "What is the villain’s name?"
    And I set "First Name" to "Petunia"
    And I set "Last Name" to "Smiley"
    And I click the button "Continue"
    Then I should see the phrase "End of interview"
    And I should see the phrase "The hero is Tobias Hortter and the villain is Petunia Smiley."

  Scenario: Test the interview "Bad example 1"
    Given I start the interview "docassemble.base:data/questions/examples/object-try-1.yml"
    Then I should see the phrase "What is your date of birth?"
    And I set "Date of Birth" to "03/03/2003"
    And I click the button "Continue"
    Then I should see the phrase "What is the advocate’s name?"
    And I set "First Name" to "Andrew"
    And I set "Last Name" to "Advocate"
    And I click the button "Continue"
    Then I should see the phrase "What is Andrew Advocate’s date of birth?"
    And I set "Date of Birth" to "04/04/2004"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite date?"
    And I select "April 4, 2004" as the "Greatest Date Ever"
    And I click the button "Continue"
    Then I should see the phrase "The best day in the history of the world was April 4, 2004."

  Scenario: Test the interview "Bad example 2"
    Given I start the interview "docassemble.base:data/questions/examples/object-try-2.yml"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Stëphen"
    And I set "Last Name" to "Green"
    And I click the button "Continue"
    Then I should see the phrase "What is the advocate’s name?"
    And I set "First Name" to "Andrew"
    And I set "Last Name" to "Advocate"
    And I click the button "Continue"
    Then I should see the phrase "Who is the tallest?"
    And I select "Andrew Advocate" as the "Tallest person"
    And I click the button "Continue"
    Then I should see the phrase "The tallest person is Andrew Advocate."

  Scenario: Test the interview "Setting variable to object"
    Given I start the interview "docassemble.base:data/questions/examples/object-try-3.yml"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Härry"
    And I set "Last Name" to "Hallinan"
    And I click the button "Continue"
    Then I should see the phrase "What is the advocate’s name?"
    And I set "First Name" to "Andrew"
    And I set "Last Name" to "Advocate"
    And I click the button "Continue"
    Then I should see the phrase "Who is the villain?"
    And I choose "Andrew Advocate"
    And I click the button "Continue"
    Then I should see the phrase "What is Andrew Advocate’s date of birth?"
    And I set "Date of Birth" to "04/04/2004"
    And I click the button "Continue"
    Then I should see the phrase "The villain, Andrew Advocate, was born on April 4, 2004."

  Scenario: Test the interview "Set variable to object"
    Given I start the interview "docassemble.base:data/questions/examples/object.yml"
    Then I should see the phrase "Who is the villain?"
    And I click the button "Continue"
    Then I should see the phrase "Tom Riddle will surely be defeated!"

  # Scenario: Test the interview "OCR text in the background "
  #   Given I start the interview "docassemble.base:data/questions/examples/ocr-background.yml"

  # Scenario: Test the interview "Optical character recognition in the background"
  #   Given I start the interview "docassemble.base:data/questions/examples/ocr-chord-refresh.yml"

  # Scenario: Test the interview "Optical character recognition in the background"
  #   Given I start the interview "docassemble.base:data/questions/examples/ocr-chord.yml"

  # Scenario: Test the interview "OCR machine learning"
  #   Given I start the interview "docassemble.base:data/questions/examples/ocr-classify.yml"

  # Scenario: Test the interview "OCR machine learning"
  #   Given I start the interview "docassemble.base:data/questions/examples/ocr-save-and-predict.yml"

  # Scenario: Test the interview "Optical character recognition"
  #   Given I start the interview "docassemble.base:data/questions/examples/ocr.yml"

  Scenario: Test the interview "Optional field"
    Given I start the interview "docassemble.base:data/questions/examples/optional-field.yml"
    Then I should see the phrase "What are your favorite things to eat?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "target_variable is: “”"
    And I should see the phrase "other_target_variable is: “apple”"

  Scenario: Test the interview "Order of blocks"
    Given I start the interview "docassemble.base:data/questions/examples/order-of-blocks.yml"
    Then I should see the phrase "Hello!"
    And I click the button "Hello to you"
    Then I should see the phrase "What is your name?"
    And I set "Name" to "Fred Graham"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite food?"
    And I set "Favorite food" to "apple cake"
    And I click the button "Continue"
    Then I should see the phrase "Do you like penguins?"
    And I click the button "Yes"
    Then I should see the phrase "Your favorite food is apple cake."
    And I should see the phrase "You are a fan of penguins."

  # Scenario: Test the interview "Ordinal numbers"
  #   Given I start the interview "docassemble.base:data/questions/examples/ordinal-number.yml"

  Scenario: Test the interview "Other field" with pull-down
    Given I start the interview "docassemble.base:data/questions/examples/other.yml"
    Then I should see the phrase "What kind of car do you drive?"
    And I select "Toyota" as the "Make"
    Then I should not see the phrase "Other make"
    And I click the button "Continue"
    Then I should see the phrase "You drive a Toyota."

  Scenario: Test the interview "Other field" with other
    Given I start the interview "docassemble.base:data/questions/examples/other.yml"
    Then I should see the phrase "What kind of car do you drive?"
    And I select "Other" as the "Make"
    And I wait 1 second
    And I set "Other make" to "Ferrari"
    And I click the button "Continue"
    Then I should see the phrase "You drive a Ferrari."

  Scenario: Test the interview "Overriding a question"
    Given I start the interview "docassemble.base:data/questions/examples/override.yml"
    Then I should see the phrase "Nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "So, about that dance tonight … wanna go?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Adding page numbers"
    Given I start the interview "docassemble.base:data/questions/examples/page-numbers.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Password"
    Given I start the interview "docassemble.base:data/questions/examples/password-field.yml"
    Then I should see the phrase "Enter your username and password."
    And I set "Username" to "jsmith"
    And I set "Password" to "xxsecretxx"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “xxsecretxx”"

  Scenario: Test the interview "Past tense"
    Given I start the interview "docassemble.base:data/questions/examples/past-tense.yml"
    Then I should see the phrase "I ate the apple."
    And I set "Present tense verb" to "finish"
    And I click the button "Continue"
    Then I should see the phrase "I finished the apple."

  Scenario: Test the interview "File path and MIME type"
    Given I start the interview "docassemble.base:data/questions/examples/path-and-mimetype.yml"
    Then I should see the phrase "File locations and MIME types"
    And I should see the phrase "hello.pdf has MIME type application/pdf."
    And I should see the phrase "docassemble.demo:data/static/house.png"
    And I should see the phrase "house.png has MIME type image/png."
    And I should see the phrase "https://docassemble.org/img/docassemble-logo.jpg"
    And I should see the phrase "jpg has MIME type image/jpeg."

  Scenario: Test the interview "PDF/A files"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-a.yml"
    Then I should see the phrase "If you open the PDF file and look at its properties, you will see that it is a PDF/A file."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "PDF fill-in with code"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-fill-code.yml"
    Then I should see the phrase "Please fill in the following information."
    And I set "Your First Name" to "Jöhn"
    And I set "Your Last Name" to "Smith"
    And I set "Your Organization" to "Example, Inc."
    And I click the button "Continue"
    Then I should see the phrase "Do you like apples?"
    And I click the button "Yes"
    Then I should see the phrase "Do you like oranges?"
    And I click the button "No"
    Then I should see the phrase "Do you like pears?"
    And I click the button "No"
    Then I should see the phrase "Do you like toast?"
    And I click the button "Yes"
    Then I should see the phrase "Here is your PDF form"

  Scenario: Test the interview "PDF fill-in not editable"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-fill-not-editable.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "Please fill in the following information."
    And I set "Your First Name" to "Jöhn"
    And I set "Your Last Name" to "Smith"
    And I set "Your Organization" to "Example, Inc."
    And I click the button "Continue"
    Then I should see the phrase "Do you like apples?"
    And I click the button "Yes"
    Then I should see the phrase "Do you like oranges?"
    And I click the button "No"
    Then I should see the phrase "Do you like pears?"
    And I click the button "No"
    Then I should see the phrase "Do you like toast?"
    And I click the button "Yes"
    Then I should see the phrase "Here is your PDF form"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "PDF fill-in with signature"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-fill-signature.yml"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is your best friend’s name?"
    And I set "First Name" to "Amy"
    And I set "Last Name" to "Jones"
    And I click the button "Continue"
    Then I should see the phrase "What objects do you collect?"
    And I set "Collection" to "dominoes"
    And I click the button "Continue"
    Then I should see the phrase "Please sign your name below."
    And I wait 5 seconds
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "You have now transferred everything you own to Amy Jones."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "PDF fill-in"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-fill.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "Please fill in the following information."
    And I set "Your First Name" to "Jöhn"
    And I set "Your Last Name" to "Smith"
    And I set "Your Organization" to "Example, Inc."
    And I click the button "Continue"
    Then I should see the phrase "Do you like apples?"
    And I click the button "Yes"
    Then I should see the phrase "Do you like oranges?"
    And I click the button "No"
    Then I should see the phrase "Do you like pears?"
    And I click the button "No"
    Then I should see the phrase "Do you like toast?"
    And I click the button "Yes"
    Then I should see the phrase "Here is your PDF form"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields with code in Mako"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-template-alt-1.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of the letter?"
    And I click the option "Breakfast cereals in late antiquity"
    And I click the button "Continue"
    Then I should see the phrase "To whom shall the letter be sent?"
    And I set "First Name" to "George"
    And I set "Last Name" to "Älexander"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of George Älexander?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields with field code"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-template-alt-2.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of the letter?"
    And I click the option "Breakfast cereals in late antiquity"
    And I click the button "Continue"
    Then I should see the phrase "To whom shall the letter be sent?"
    And I set "First Name" to "George"
    And I set "Last Name" to "Älexander"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of George Älexander?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields with code"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-template-alt-3.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of the letter?"
    And I click the option "Breakfast cereals in late antiquity"
    And I click the button "Continue"
    Then I should see the phrase "To whom shall the letter be sent?"
    And I set "First Name" to "George"
    And I set "Last Name" to "Älexander"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of George Älexander?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Fill fields with code"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-template-alt-4.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    Then I should see the phrase "What type of letter do you want to send?"
    And I click the option "Litigation threat"
    And I click the button "Continue"
    Then I should see the phrase "To whom shall the letter be sent?"
    And I set "First Name" to "George"
    And I set "Last Name" to "Älexander"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of George Älexander?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Periodic amount"
    Given I start the interview "docassemble.base:data/questions/examples/periodic-amount.yml"
    Then I should see the phrase "What is your salary?"
    And I set "Amount" to "400"
    And I select "Per Week" as the "Period"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "user_salary is 400.0 and period is 52."

  Scenario: Test the interview "Periodic value attributes"
    Given I start the interview "docassemble.base:data/questions/examples/periodic-value.yml"
    Then I should see the phrase "Do you make money from working?"
    And I click the button "Yes"
    Then I should see the phrase "What is your salary?"
    And I set "Amount" to "1200"
    And I select "Per week" as the "Period"
    And I click the button "Continue"
    Then I should see the phrase "You make $64,800.00 per year."

  Scenario: Test the interview "Disable back button"
    Given I start the interview "docassemble.base:data/questions/examples/prevent-back.yml"
    Then I should see the phrase "For what service would you like to apply?"
    And I click the option "Tutoring"
    And I click the button "Continue"
    Then I should see the phrase "Your application for Tutoring has been submitted."
    Then I should not see the phrase "Back"

  Scenario: Test the interview "Disable back button"
    Given I start the interview "docassemble.base:data/questions/examples/prevent-going-back.yml"
    Then I should see the phrase "For what service would you like to apply?"
    And I click the option "Tutoring"
    And I click the button "Continue"
    Then I should see the phrase "Your application for Tutoring has been submitted."
    Then I should not see the phrase "Back"

  Scenario: Test the interview "Progress bar"
    Given I start the interview "docassemble.base:data/questions/examples/progress-features.yml"
    Then I should see the phrase "Are you doing well?"
    And I click the button "Yes"
    Then I should see the phrase "Done with the interview."
    And I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "Progress meter"
    Given I start the interview "docassemble.base:data/questions/examples/progress.yml"
    Then I should see the phrase "Are you doing well?"
    And I click the button "Yes"
    Then I should see the phrase "Done with the interview."
    And I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "Pulldown with code"
    Given I start the interview "docassemble.base:data/questions/examples/pull-down-with-code.yml"
    Then I should see the phrase "Describe yourself."
    And I select "High School" as the "Level of education"
    And I select "Connecticut" as the "State of birth"
    And I select "Male" as the "Gender"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "Dear Sir,"
    And I should see the phrase "You have a High School education and you were born in CT."

  Scenario: Test the interview "Pulldown"
    Given I start the interview "docassemble.base:data/questions/examples/pull-down.yml"
    Then I should see the phrase "Describe yourself."
    And I select "High School" as the "Level of education"
    And I select "Pear" as the "Favorite fruit"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "Your favorite fruit is pears, which is not surprising given that you have only a High School education."

  Scenario: Test the interview "QR code"
    Given I start the interview "docassemble.base:data/questions/examples/qr-code-demo.yml"
    Then I should see the phrase "Here is a URL for you in a QR code"
    And I click the link "Preview"
    And I wait 1 second
    Then I should see the phrase "Use the QR reader on your smartphone to take a picture of this:"

  Scenario: Test the interview "QR code"
    Given I start the interview "docassemble.base:data/questions/examples/qr-code.yml"
    Then I should see the phrase "Read the news on your mobile phone"
    And I should see the phrase "If you have a QR code reader on your phone, point it here:"

  Scenario: Test the interview "Quantity of noun"
    Given I start the interview "docassemble.base:data/questions/examples/quantity-noun.yml"
    Then I should see the phrase "You have four apples."

  Scenario: Test the interview "Vocabulary"
    Given I start the interview "docassemble.base:data/questions/examples/question-autoterms.yml"
    Then I should see the phrase "Have you ever met a creeper?"
    And I should see the phrase "If you have met a zombie pigman, you have almost certainly met a creeper."
    And I click the link "creeper"
    And I wait 1 second
    Then I should see the phrase "A tall green creature that explodes if you get too close."
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "A tall green creature that explodes if you get too close."
    And I click the link "zombie pigman"
    And I wait 1 second
    Then I should see the phrase "A harmless creature who carries a gold sword."
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "A harmless creature who carries a gold sword."
    And I click the button "Yes"
    Then I should see the phrase "Thank you for telling me about your creeper experience."
    And I should see the phrase "You are not a noob!"

  Scenario: Test the interview "Question text with markup"
    Given I start the interview "docassemble.base:data/questions/examples/question-markup.yml"
    Then I should see the phrase "What is the airspeed velocity of an unladen African swallow?"
    And I set "Velocity" to "500"
    And I click the button "Continue"
    Then I should see the phrase "The velocity is 500"

  Scenario: Test the interview "Question sequence"
    Given I start the interview "docassemble.base:data/questions/examples/question-sequence.yml"
    Then I should see the phrase "Let’s think about apples."
    And I click the option "Yes" under "Are apples good?"
    And I set "Your favorite variety" to "Red Delicious"
    And I click the button "Continue"
    Then I should see the phrase "Are peaches good?"
    And I click the button "Yes"
    Then I should see the phrase "Are turnips good?"
    And I click the button "Yes"
    Then I should see the phrase "Is linoleum good?"
    And I click the button "No"
    Then I should see the phrase "Are automobiles good?"
    And I click the button "No"
    Then I should see the phrase "Is furniture good?"
    And I click the button "Yes"
    Then I should see the phrase "Was this interview good?"
    And I click the button "No"
    Then I should see the phrase "Thanks for answering my questions!"

  Scenario: Test the interview "Vocabulary"
    Given I start the interview "docassemble.base:data/questions/examples/question-terms.yml"
    Then I should see the phrase "Have you ever met a creeper?"
    And I should see the phrase "If you have met a zombie pigman, you have almost certainly met a creeper."
    And I click the link "creeper"
    And I wait 1 second
    Then I should see the phrase "A tall green creature that explodes if you get too close."
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "A tall green creature that explodes if you get too close."
    And I click the link "zombie pigman"
    And I wait 1 second
    Then I should see the phrase "A harmless creature who carries a gold sword."
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "A harmless creature who carries a gold sword."
    And I click the button "No"
    Then I should see the phrase "Thank you for telling me about your creeper experience."
    And I should see the phrase "You clearly need to play more Minecraft."

  Scenario: Test the interview "Question text"
    Given I start the interview "docassemble.base:data/questions/examples/question.yml"
    Then I should see the phrase "What is the airspeed velocity of an unladen swallow?"
    And I set "Velocity" to "400 mph"
    And I click the button "Continue"
    Then I should see the phrase "The velocity is 400 mph"

  Scenario: Test the interview "Quote paragraphs"
    Given I start the interview "docassemble.base:data/questions/examples/quote_paragraphs.yml"
    Then I should see the phrase "What do you allege?"
    And I should see the phrase "Be verbose."
    And I set "Allegations" to "The force is with me."
    And I click the button "Continue"
    Then I should see the phrase "Your allegations"
    And I should see the phrase "You allege that:"
    And I should see the phrase "The force is with me."

  Scenario: Test the interview "Radio buttons within fields"
    Given I start the interview "docassemble.base:data/questions/examples/radio-list.yml"
    Then I should see the phrase "Describe your car."
    And I set "Number of wheels" to "4"
    And I click the option "Convertible" under "Type"
    And I click the option "Honda" under "Model"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "Your Convertible, which is from Japan, has 4 wheels."

  Scenario: Test the interview "Range slider"
    Given I start the interview "docassemble.base:data/questions/examples/range.yml"
    Then I should see the phrase "On a scale from 1 to 10, how much do you like these animals?"
    And I click the button "Continue"
    Then I should see the phrase "You think possums are ok. You think rabbits are ok."

  Scenario: Test the interview "Read QR code"
    Given I start the interview "docassemble.base:data/questions/examples/read-qr.yml"
    Then I should see the phrase "Please upload a file (or files) with a QR code."

  Scenario: Test the interview "Reconsidering computed values" with yes
    Given I start the interview "docassemble.base:data/questions/examples/reconsider.yml"
    Then I should see the phrase "How many cats do you have?"
    And I set "Cats" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Does your neighbor’s cat sometimes eat at your house?"
    And I should see the phrase "To feed your own cat, you will need 8 cans of cat food, but you might need more for your neighbor’s cat."
    And I click the button "Yes"
    Then I should see the phrase "To feed your cat and your neighbor’s cat you will need to buy 12 cans of cat food."

  Scenario: Test the interview "Reconsidering computed values" with no
    Given I start the interview "docassemble.base:data/questions/examples/reconsider.yml"
    Then I should see the phrase "How many cats do you have?"
    And I set "Cats" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Does your neighbor’s cat sometimes eat at your house?"
    And I should see the phrase "To feed your own cat, you will need 8 cans of cat food, but you might need more for your neighbor’s cat."
    And I click the button "No"
    Then I should see the phrase "To feed your cat you will need to buy 8 cans of cat food."

  Scenario: Test the interview "Using redis"
    Given I start the interview "docassemble.base:data/questions/examples/redis.yml"
    Then I should see the phrase "Value has been retrieved from the redis server."
    Then I should see the phrase "The key is docassemble.base:data/questions/examples/redis.yml:my_variable."
    Then I should see the phrase "The value is “hello world”."

  Scenario: Test the interview "Refresh button"
    Given I start the interview "docassemble.base:data/questions/examples/refresh.yml"
    Then I should see the phrase "The current time is"
    And I click the button "Tell me again"
    Then I should see the phrase "The current time is"

  Scenario: Test the interview "Auto reload"
    Given I start the interview "docassemble.base:data/questions/examples/reload.yml"
    Then I should see the phrase "You have viewed this screen 1 time."
    And I click the button "Continue"
    Then I should see the phrase "All done with the interview."

  Scenario: Test the interview "Optional field with code"
    Given I start the interview "docassemble.base:data/questions/examples/required-code.yml"
    Then I should see the phrase "Do you like soda?"
    And I click the button "Yes"
    Then I should see the phrase "What are your favorite things to drink?"
    And I set "Favorite Beverage Overall" to "orange juice"
    And I set "Favorite Soda" to "Coke"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "favorite_beverage is: “orange juice”"
    And I should see the phrase "favorite_soda is: “Coke”"

  Scenario: Test the interview "Resetting variables"
    Given I start the interview "docassemble.base:data/questions/examples/reset.yml"
    Then I should see the phrase "How many cats do you have?"
    And I set "Cats" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Does your neighbor’s cat sometimes eat at your house?"
    And I should see the phrase "To feed your own cat, you will need 8 cans of cat food, but you might need more for your neighbor’s cat."
    And I click the button "Yes"
    Then I should see the phrase "To feed your cat and your neighbor’s cat you will need to buy 12 cans of cat food."

  # Scenario: Test the interview "Custom response"
  #   Given I start the interview "docassemble.base:data/questions/examples/response-hello.yml"
  #   Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "JSON response"
    Given I start the interview "docassemble.base:data/questions/examples/response-json.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "How many pieces of apple do you have?"
    And I set "Pieces" to "4"
    And I click the button "Continue"
    Then I should see the phrase "You currently have four pieces of apple."
    And I click the link "fruit"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "You currently have four pieces of orange."
    And I click the link "number of pieces"
    Then I should see the phrase "How many pieces of orange do you have?"
    And I set "Pieces" to "2"
    And I click the button "Continue"
    Then I should see the phrase "You currently have two pieces of orange."

  # Scenario: Test the interview "Binary response"
  #   Given I start the interview "docassemble.base:data/questions/examples/response-svg.yml"

  # Scenario: Test the interview "Custom response"
  #   Given I start the interview "docassemble.base:data/questions/examples/response.yml"
  #   Then I should see the phrase '{"fruit": "apple", "pieces": 2}'

  Scenario: Test the interview "Custom button on review screen"
    Given I start the interview "docassemble.base:data/questions/examples/resume-button-label.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "apples"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "potatoes"
    And I click the button "Continue"
    And I select "Review Answers" from the menu
    Then I should see the phrase "You indicated you liked apples."
    And I click the button "Keep going"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like apples, potatoes, and button mushrooms."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-1.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like orange, turnip, and button mushrooms."
    And I select "Review Answers" from the menu
    Then I should see the phrase "These are the questions you have answered so far. Click to revisit."
    And I click the link "Favorite vegetable"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "potato"
    And I click the button "Continue"
    Then I should see the phrase "Revisit questions"
    And I click the button "Resume"
    Then I should see the phrase "You like orange, potato, and button mushrooms."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-2.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    And I should see the phrase "You said your favorite fruit was orange."
    And I click the link "Revisit fruit"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Revisit your answers"
    And I should see the phrase "You said your favorite fruit was apple."
    And I click the button "Resume"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "potato"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "cremini mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like apple, potato, and cremini mushrooms."
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    And I should see the phrase "You said your favorite fruit was apple."
    Then I should see the phrase "You said your favorite vegetable was potato."
    Then I should see the phrase "You said your favorite fungus was cremini mushrooms."
    And I click the link "Revisit fungus"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "Revisit your answers"
    And I click the button "Resume"
    Then I should see the phrase "You like apple, potato, and button mushrooms."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-3.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    Then I should see the phrase "Revisit your food preferences."
    And I click the link "Favorite fruit"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "apple"
    And I click the button "Continue"
    And I click the button "Resume"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "potato"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like apple, potato, and button mushrooms."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-4.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    Then I should see the phrase "You indicated you liked orange."
    And I click the link "Favorite fruit"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "apple"
    And I click the button "Continue"
    Then I should see the phrase "You indicated you liked apple."
    And I click the button "Resume"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "All done"
    Then I should see the phrase "You like apple, turnip, and button mushrooms."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review.yml"
    Then I should see the phrase "Review your answers"
    And I should see the phrase "Welcome to the review of answers."
    And I should see the phrase "Your favorite foods"
    And I should see the phrase "You said you liked apples."
    And I click the link "Revisit Fruit"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "oranges"
    And I click the button "Continue"
    Then I should see the phrase "You said you liked oranges."
    And I click the button "Resume"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "Ok, John Doe, you like oranges, turnips, and button mushrooms."
    Then I should see the phrase "You can revisit your answers by selecting “Review Answers” from the menu."

  Scenario: Test the interview "Salutation"
    Given I start the interview "docassemble.base:data/questions/examples/salutation.yml"
    Then I should see the phrase "Tell me about the client."
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the option "Male" under "Gender"
    And I click the button "Continue"
    Then I should see the phrase "Dear Mr. Smith:"
    And I click the back button
    And I select "MD" as the "Suffix"
    And I click the button "Continue"
    Then I should see the phrase "Dear Dr. Smith:"

  Scenario: Test the interview "Custom function in module"
    Given I start the interview "docassemble.base:data/questions/examples/sample-function.yml"
    Then I should see the phrase "The number after 3 is 4."

  # Scenario: Test the interview "Save for classification"
  #   Given I start the interview "docassemble.base:data/questions/examples/save-and-predict.yml"

  Scenario: Test the interview "Save URL to file"
    Given I start the interview "docassemble.base:data/questions/examples/save-url-to-file.yml"
    Then I should see the phrase "Obtained file"
    And I should see the phrase "The URL https://docassemble.org/img/docassemble-logo.jpg has been saved to a file."
    And I should see the phrase "It has a MIME type of image/jpeg."
    And I should see the phrase "Click “Continue” to see it."
    And I click the button "Continue"
    Then I should see the phrase "Here is the file."

  Scenario: Test the interview "Opt out of variable seeking"
    Given I start the interview "docassemble.base:data/questions/examples/scan-for-variables-original.yml"
    Then I should see the phrase "What is the time of day?"
    And I click the option "Night"
    And I click the button "Continue"
    Then I should see the phrase "The best color is black."
    And I click the back button
    And I click the option "Day"
    And I click the button "Continue"
    Then I should see the phrase "The best color is blue."
    And I click the button "Continue"
    Then I should see the phrase "The best color is now blue."

  Scenario: Test the interview "Opt out of variable seeking"
    Given I start the interview "docassemble.base:data/questions/examples/scan-for-variables-sets.yml"
    Then I should see the phrase "What is the best color?"
    And I set "Color" to "green"
    And I click the button "Continue"
    Then I should see the phrase "According to you, the best color is green."
    And I click the button "Continue"
    Then I should see the phrase "What is the time of day?"
    And I click the option "Night"
    And I click the button "Continue"
    Then I should see the phrase "Since the best thing is astronomy, the best color is black."

  Scenario: Test the interview "Only sets"
    Given I start the interview "docassemble.base:data/questions/examples/only-sets.yml"
    Then I should see the phrase "What is the best color?"
    And I set "Color" to "green"
    And I click the button "Continue"
    Then I should see the phrase "According to you, the best color is green."
    And I click the button "Continue"
    Then I should see the phrase "What is the time of day?"
    And I click the option "Night"
    And I click the button "Continue"
    Then I should see the phrase "Since the best thing is astronomy, the best color is black."

  Scenario: Test the interview "Opt out of variable seeking"
    Given I start the interview "docassemble.base:data/questions/examples/scan-for-variables.yml"
    Then I should see the phrase "What is the best color?"
    And I set "Color" to "red"
    And I click the button "Continue"
    Then I should see the phrase "The best color is red."
    And I click the button "Continue"
    Then I should see the phrase "What is the time of day?"
    And I click the option "Day"
    And I click the button "Continue"
    Then I should see the phrase "The best color is now blue."

  Scenario: Test the interview "Javascript"
    Given I start the interview "docassemble.base:data/questions/examples/script.yml"
    Then I should see the phrase "Do you want to build a snowman?"
    And I should not see the phrase "Pretty please?"
    And I wait 4 seconds
    Then I should see the phrase "Pretty please?"
    And I click the button "Yes"
    Then I should see the phrase "Great! Too bad there is no snow."

  Scenario: Test the interview "Navigation with code"
    Given I start the interview "docassemble.base:data/questions/examples/sections-keywords-code.yml"
    Then I should see the phrase "Welcome to the interview"

  Scenario: Test the interview "Sections as list"
    Given I start the interview "docassemble.base:data/questions/examples/sections-keywords-get-sections.yml"
    Then I should see the phrase "Welcome to the interview"
    Then I should see the phrase "[{'intro': 'Introduction'}"
    And I should see the phrase "'about': 'About you'"
    And I should see the phrase "'subsections': [{'contact': 'Contact info'}, {'demographic': 'Demographics'}]"
    And I should see the phrase "{'prefs': 'Preferences'}, {'conclusion': 'Conclusion'}"

  Scenario: Test the interview "Navigation with review pages"
    Given I start the interview "docassemble.base:data/questions/examples/sections-keywords-review.yml"
    Then I should see the phrase "Welcome to the interview"

  Scenario: Test the interview "Redefine sections"
    Given I start the interview "docassemble.base:data/questions/examples/sections-keywords-set-sections.yml"
    Then I should see the phrase "What additional section would you like to add to this interview?"
    And I set "Name" to "Apple Cake"
    And I set "Keyword" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Welcome to the interview"

  Scenario: Test the interview "Navigation with keywords"
    Given I start the interview "docassemble.base:data/questions/examples/sections-keywords.yml"
    Then I should see the phrase "Welcome to the interview"

  Scenario: Test the interview "Navigation bar"
    Given I start the interview "docassemble.base:data/questions/examples/sections.yml"
    Then I should see the phrase "Welcome to the interview"

  # Scenario: Test the interview "Send e-mail with attachment"
  #   Given I start the interview "docassemble.base:data/questions/examples/send-email-with-attachment.yml"

  # Scenario: Test the interview "Send e-mail"
  #   Given I start the interview "docassemble.base:data/questions/examples/send-email.yml"

  # Scenario: Test the interview "Send SMS message"
  #   Given I start the interview "docassemble.base:data/questions/examples/send-sms.yml"

  Scenario: Test the interview "Conditionally show" with yes
    Given I start the interview "docassemble.base:data/questions/examples/showif-boolean.yml"
    Then I should see the phrase "Please fill in the following information."
    And I click the option "Yes" under "Do you like fruit?"
    And I wait 1 second
    And I set "What’s your favorite fruit?" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "You like apple."

  Scenario: Test the interview "Conditionally show" with no
    Given I start the interview "docassemble.base:data/questions/examples/showif-boolean.yml"
    Then I should see the phrase "Please fill in the following information."
    And I click the option "No" under "Do you like fruit?"
    And I click the button "Continue"
    Then I should see the phrase "You do not like fruit."

  Scenario: Test the interview "Conditionally show" with yesno set to False
    Given I start the interview "docassemble.base:data/questions/examples/showif-boolean-yesno-false.yml"
    Then I should see the phrase "Please fill in the following information."
    And I should see the phrase "Why do you not like fruit"
    And I click the option "I like fruit"
    And I wait 1 second
    Then I should not see the phrase "Why do you not like fruit"
    And I click the button "Continue"
    Then I should see the phrase "You like fruit."

  Scenario: Test the interview "Hide fields"
    Given I start the interview "docassemble.base:data/questions/examples/showif.yml"
    Then I should see the phrase "Please fill in the following information."
    And I set "Favorite fruit" to "apple"
    And I set "Favorite vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "Please fill in the following information."
    And I select "French food" as the "Favorite cuisine"
    And I set "Favorite TV show" to "Cops"
    And I click the button "Continue"
    Then I should see the phrase "You like apple, turnip, French food, and Cops."

  Scenario: Test the interview "Nested show if"
    Given I start the interview "docassemble.base:data/questions/examples/showif-nested.yml"
    Then I should see the phrase "Please fill in the following information."
    And I should not see the phrase "Do you like apples?"
    And I should not see the phrase "Why do you like Fuji apples?"
    And I click the option "Yes" under "Do you like fruit?"
    And I wait 1 second
    And I should see the phrase "Do you like apples?"
    And I should not see the phrase "Why do you like Fuji apples?"
    And I click the option "Yes" under "Do you like apples?"
    And I wait 1 second
    Then I should see the phrase "Why do you like apples?"
    And I set "Why do you like apples?" to "Because they are sweet."
    And I should see the phrase "Do you like Fuji apples?"
    And I click the option "Yes" under "Do you like Fuji apples?"
    And I wait 1 second
    Then I should see the phrase "Why do you like Fuji apples?"
    And I click the option "No" under "Do you like fruit?"
    And I wait 1 second
    And I should not see the phrase "Do you like apples?"
    And I should not see the phrase "Why do you like Fuji apples?"
    And I click the button "Continue"
    Then I should see the phrase "You do not like fruit."

  Scenario: Test the interview "Shuffle"
    Given I start the interview "docassemble.base:data/questions/examples/shuffle.yml"
    Then I should see the phrase "For which of the following obscure candidates do you wish to vote?"
    And I click the option "Albert Arnold" under "Candidate"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "You voted for Albert Arnold. Thanks!"

  Scenario: Test the interview "Signature"
    Given I start the interview "docassemble.base:data/questions/examples/signature.yml"
    And I wait 5 seconds
    Then I should see the phrase "Sign your name"
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Result of question"

  Scenario: Test the interview "Sign in button"
    Given I start the interview "docassemble.base:data/questions/examples/signin.yml"
    Then I should see the phrase "Please sign in"
    And I click the button "Sign in"
    Then I should see the phrase "Password"

  Scenario: Test the interview "Spacing"
    Given I start the interview "docassemble.base:data/questions/examples/single-spacing.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  # Scenario: Test the interview "SMS interface"
  #   Given I start the interview "docassemble.base:data/questions/examples/sms.yml"

  Scenario: Test the interview "someone already mentioned"
    Given I start the interview "docassemble.base:data/questions/examples/someone-already-mentioned2.yml"
    Then I should see the phrase "Who is the successor agent?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Who is the conservator?"
    And I select "Jöhn Smith" as the "Somebody already mentioned"
    And I click the button "Continue"
    Then I should see the phrase "Who is the guardian?"
    And I set "First Name" to "Sälly"
    And I set "Last Name" to "Jones"
    And I click the button "Continue"
    Then I should see the phrase "The successor agent is Jöhn Smith."
    And I should see the phrase "The conservator is Jöhn Smith."
    And I should see the phrase "The guardian is Sälly Jones."

  Scenario: Test the interview "Space to underscore"
    Given I start the interview "docassemble.base:data/questions/examples/space-underscore.yml"
    Then I should see the phrase "Removing spaces"
    And I should see the phrase "Your book is Cat in the Hat and without underscores, it is Cat_in_the_Hat."

  Scenario: Test the interview "State selection"
    Given I start the interview "docassemble.base:data/questions/examples/state.yml"
    Then I should see the phrase "Where do you live?"
    And I select "Arizona" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "You live in Arizona, which is abbreviated AZ."

  Scenario: Test the interview "Insert image with code"
    Given I start the interview "docassemble.base:data/questions/examples/static_image.yml"
    Then I should see the phrase "An image created by code"
    And I should see the phrase "This is the “court” image."

  Scenario: Test the interview "Subdivision type"
    Given I start the interview "docassemble.base:data/questions/examples/subdivision-type.yml"
    Then I should see the phrase "Geography lesson"
    And I should see the phrase "In Bulgaria, you live in a Region."
    And I should see the phrase "In Sweden, you live in a County."
    And I should see the phrase "In Tunisia, you live in a Governorate."
    And I should see the phrase "In Viet Nam, you live in a Province."
    And I should see the phrase "In Latvia, you live in a Municipality."
    And I should see the phrase "In United States, you live in a State."

  Scenario: Test the interview "Question text"
    Given I start the interview "docassemble.base:data/questions/examples/subquestion.yml"
    Then I should see the phrase "What is the airspeed velocity of an unladen swallow?"
    And I should see the phrase "Be careful how you answer."
    And I set "Velocity" to "24 mph"
    And I click the button "Continue"
    Then I should see the phrase "The velocity is 24 mph"

  Scenario: Test the interview "Precedence of blocks"
    Given I start the interview "docassemble.base:data/questions/examples/supersede-order.yml"
    Then I should see the phrase "What the heck is your favorite fruit?"
    And I set "Fruit" to "kiwi"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is kiwi."

  Scenario: Test the interview "Precedence of blocks"
    Given I start the interview "docassemble.base:data/questions/examples/supersede-regular.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "kiwi"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is kiwi."

  Scenario: Test the interview "Precedence of blocks"
    Given I start the interview "docassemble.base:data/questions/examples/supersede.yml"
    Then I should see the phrase "What the heck is your favorite fruit?"
    And I set "Fruit" to "kiwi"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is kiwi."

  Scenario: Test the interview "Table block"
    Given I start the interview "docassemble.base:data/questions/examples/table-alt.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "apple"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I set "Number of seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "Here is a fruity summary."

  Scenario: Test the interview "Empty table"
    Given I start the interview "docassemble.base:data/questions/examples/table-empty-message.yml"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "Here is a fruity summary."
    And I should see the phrase "I’m very sorry, but there are no fruits to display today."

  Scenario: Test the interview "Empty table"
    Given I start the interview "docassemble.base:data/questions/examples/table-empty.yml"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "Here is a fruity summary."

  Scenario: Test the interview "Table block"
    Given I start the interview "docassemble.base:data/questions/examples/table-if-then.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "apple"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I set "Number of seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "Here is a fruity summary."

  Scenario: Test the interview "Table with Mako"
    Given I start the interview "docassemble.base:data/questions/examples/table-mako.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "apple"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I set "Number of seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "Here is a fruity summary."

  Scenario: Test the interview "Tables in Markdown"
    Given I start the interview "docassemble.base:data/questions/examples/table-markdown-noheader.yml"
    Then I should see the phrase "Your vegetable inventory"
    And I should see the phrase "This describes your vegetable collection."

  Scenario: Test the interview "Tables in Markdown"
    Given I start the interview "docassemble.base:data/questions/examples/table-markdown-unaligned.yml"
    Then I should see the phrase "Your vegetable inventory"
    And I should see the phrase "This describes your vegetable collection."

  Scenario: Test the interview "Tables in Markdown"
    Given I start the interview "docassemble.base:data/questions/examples/table-markdown.yml"
    Then I should see the phrase "Your fruit inventory"
    And I should see the phrase "This describes your fruit collection."

  Scenario: Test the interview "Table block"
    Given I start the interview "docassemble.base:data/questions/examples/table-python.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I should see the phrase "When entering fruit names, use the singular rather than the plural."
    And I set "Fruit" to "apple"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I set "Number of seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "The fruits you mentioned were apple and orange."
    And I should see the phrase "Here is a fruity summary."

  Scenario: Test the interview "Table block"
    Given I start the interview "docassemble.base:data/questions/examples/table-width.yml"
    Then I should see the phrase "Information about fruit"
    Then I should see the phrase "Open the attachment to see a table with information about fruit."
    And I click the link "Preview"
    Then I should see the phrase "Fruit with an extremely long name because this fruit needs to demonstrate what happens when a table is wide."
    And I should see the phrase "Grape"

  Scenario: Test the interview "Table block"
    Given I start the interview "docassemble.base:data/questions/examples/table.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "apple"
    And I set "Number of seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple. Are there any others?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "orange"
    And I set "Number of seeds" to "5"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple and orange. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "Information about fruit"
    And I should see the phrase "Here is a fruity summary."

  Scenario: Test the interview "Check in feedback"
    Given I start the interview "docassemble.base:data/questions/examples/target-code-multiple.yml"
    Then I should see the phrase "What is your favorite food?"
    And I set "Favorite food" to "soup"
    Then I should not see the phrase "Please don't be gross."
    And I should not see the phrase "What? You like SOUP?"
    And I wait 8 seconds
    Then I should see the phrase "Please don't be gross."
    And I should see the phrase "What? You like SOUP?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is soup."

  Scenario: Test the interview "Check in, run code, and return template"
    Given I start the interview "docassemble.base:data/questions/examples/target-code-template.yml"
    Then I should see the phrase "What is your favorite food?"
    And I wait 2 seconds
    Then I should see the phrase "What? You like nothing?"
    And I set "Favorite food" to "soup"
    And I wait 8 seconds
    Then I should see the phrase "What? You like SOUP?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is soup."

  Scenario: Test the interview "Check in and run code"
    Given I start the interview "docassemble.base:data/questions/examples/target-code.yml"
    Then I should see the phrase "What is your favorite food?"
    And I set "Favorite food" to "soup"
    And I wait 8 seconds
    Then I should see the phrase "What? You like SOUP?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is soup."

  Scenario: Test the interview "Check in and return template"
    Given I start the interview "docassemble.base:data/questions/examples/target-template.yml"
    Then I should see the phrase "What is your favorite food?"
    And I set "Favorite food" to "soup"
    And I wait 8 seconds
    Then I should see the phrase "What? You like SOUP?"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is soup."

  # Scenario: Test the interview "Computed template filename"
  #   Given I start the interview "docassemble.base:data/questions/examples/template-code.yml"

  Scenario: Test the interview "Template from file"
    Given I start the interview "docassemble.base:data/questions/examples/template-file.yml"
    Then I should see the phrase "Welcome to the interview!"
    And I should see the phrase "Greetings. We hope you learn something from this guided interview."
    And I click the button "Continue"
    And I should see the phrase "This is the end of the interview."

  Scenario: Test the interview "Template subject"
    Given I start the interview "docassemble.base:data/questions/examples/template-subject.yml"
    Then I should see the phrase "Welcome to the interview!"
    And I should see the phrase "Please be advised"
    And I should see the phrase "The opinions expressed herein do not necessarily reflect the views of ABC Widgets, Incorporated."
    And I click the button "Continue"
    And I should see the phrase "This is the end of the interview."

  Scenario: Test the interview "Template"
    Given I start the interview "docassemble.base:data/questions/examples/template.yml"
    Then I should see the phrase "Welcome to the interview!"
    Then I should see the phrase "Greetings. We hope you learn something from this guided interview."
    And I click the button "Continue"
    And I should see the phrase "This is the end of the interview."

  Scenario: Test the interview "Final screen"
    Given I start the interview "docassemble.base:data/questions/examples/terminal-screen.yml"
    Then I should see the phrase "Congratulations!"
    And I should see the phrase "You are all done with the interview."

  Scenario: Test the interview "Vocabulary"
    Given I start the interview "docassemble.base:data/questions/examples/terms.yml"
    Then I should see the phrase "Have you ever met a creeper?"
    And I should see the phrase "If you have met a zombie pigman, you have almost certainly met a creeper."
    And I click the link "creeper"
    And I wait 1 second
    Then I should see the phrase "A tall green creature that explodes if you get too close."
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "A tall green creature that explodes if you get too close."
    And I click the link "zombie pigman"
    And I wait 1 second
    Then I should see the phrase "A harmless creature who carries a gold sword."
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "A harmless creature who carries a gold sword."
    And I click the button "No"
    Then I should see the phrase "Thank you for telling me about your creeper experience."
    And I should see the phrase "You clearly need to play more Minecraft."

  Scenario: Test the interview "Age"
    Given I start the interview "docassemble.base:data/questions/examples/testage2.yml"
    Then I should see the phrase "How old are you?"
    And I set "Age in years" to "23"
    And I click the button "Continue"
    Then I should see the phrase "You are 23 years old."

  Scenario: Test the interview "DAList"
    Given I start the interview "docassemble.base:data/questions/examples/testdalist.yml"
    Then I should see the phrase "What is the name of the trustee?"
    And I set "First Name" to "Thomas"
    And I set "Last Name" to "Trustee"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the beneficiary?"
    And I set "First Name" to "Bernard"
    And I set "Last Name" to "Beneficiary"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the grantor?"
    And I set "First Name" to "George"
    And I set "Last Name" to "Grantor"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the fourth recipient?"
    And I set "First Name" to "Joseph"
    And I set "Last Name" to "Bertie"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the fifth recipient?"
    And I set "First Name" to "Tabitha"
    And I set "Last Name" to "Tertiary"
    And I click the button "Continue"
    Then I should see the phrase "The recipients"
    And I should see the phrase "Thomas Trustee is a recipient. Bernard Beneficiary is a recipient. George Grantor is a recipient. Joseph Bertie is a recipient. Tabitha Tertiary is a recipient."

  Scenario: Test the interview "Text box"
    Given I start the interview "docassemble.base:data/questions/examples/text-box-field.yml"
    Then I should see the phrase "Tell me the story of your life."
    And I set "Life Story" to "I was born in a bayou."
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "I was born in a bayou."

  Scenario: Test the interview "Text box rows"
    Given I start the interview "docassemble.base:data/questions/examples/text-box-field-rows.yml"
    Then I should see the phrase "Tell me the story of your life."
    And I set "Life Story" to "I was born in a bayou."
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "I was born in a bayou."

  Scenario: Test the interview "Default value with Mako"
    Given I start the interview "docassemble.base:data/questions/examples/text-default.yml"
    Then I should see the phrase "What are your favorite things to eat?"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “eggplant”"

  Scenario: Test the interview "Text example"
    Given I start the interview "docassemble.base:data/questions/examples/text-field-example.yml"
    Then I should see the phrase "Tell me about yourself"
    And I set "Favorite color" to "blue"
    And I set "Description of your ideal vacation" to "In a library"
    And I click the button "Continue"
    Then I should see the phrase "user_favorite_color is: “blue”"

  Scenario: Test the interview "Text"
    Given I start the interview "docassemble.base:data/questions/examples/text-field.yml"
    Then I should see the phrase "What are your favorite things to eat?"
    And I should see the phrase "Please be specific."
    And I set "Vegetable" to "turnip"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “turnip”"

  Scenario: Test the interview "Help on label"
    Given I start the interview "docassemble.base:data/questions/examples/text-help.yml"
    Then I should see the phrase "What are your favorite things to eat?"
    And I should see the phrase "If you don’t know what a vegetable or fruit is, click the green text."
    And I click the link "Vegetable"
    And I wait 1 second
    Then I should see the phrase "A plant."
    And I unfocus
    And I wait 1 second
    And I click the link "Fruit"
    And I wait 1 second
    Then I should see the phrase "The pulpy, edible seed vessels of certain plants."
    And I unfocus
    And I wait 1 second
    And I set "Vegetable" to "turnip"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “turnip”"

  Scenario: Test the interview "Hints"
    Given I start the interview "docassemble.base:data/questions/examples/text-hint.yml"
    Then I should see the phrase "What are your favorite things to eat?"
    And I should see the phrase "Please be specific."
    And I set "Vegetable" to "turnips"
    And I set "Fruit" to "oranges"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “turnips”"

  Scenario: Test the interview "Selecting a timezone"
    Given I start the interview "docassemble.base:data/questions/examples/timezone-list.yml"
    Then I should see the phrase "What is your time zone?"
    And I select "America/Sitka" as the "Time zone"
    And I click the button "Continue"
    Then I should see the phrase "The time in your timezone is"

  Scenario: Test the interview "Title case"
    Given I start the interview "docassemble.base:data/questions/examples/title-case.yml"
    Then I should see the phrase "Title of your book"
    Then I should see the phrase "If your book is about the politics of turtles, its title should be “The Politics of Turtles.”"

  Scenario: Test the interview "Today's date"
    Given I start the interview "docassemble.base:data/questions/examples/today.yml"
    Then I should see the phrase "Today’s date is"

  Scenario: Test the interview "Checkbox method"
    Given I start the interview "docassemble.base:data/questions/examples/true-values.yml"
    Then I should see the phrase "Please tell me what you think."
    And I click the option "Apples" under "Select the fruits you like"
    And I click the option "Pears" under "Select the fruits you like"
    And I click the option "Plums" under "Select the fruits you like"
    And I click the button "Continue"
    Then I should see the phrase "Summary of your answer"
    And I should see the phrase "You like Apples, Pears, and Plums."

  Scenario: Test the interview "Two columns"
    Given I start the interview "docassemble.base:data/questions/examples/twocol.yml"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Please sign your name below."
    And I wait 5 seconds
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Where do you live?"
    And I set "Address" to "123 Main St"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Your document is ready."
    And I should see the phrase "A two column document"
    And I should see the phrase "A document with a two column area"
    And I click the link "Preview"
    Then I should see the phrase "Line four"

  Scenario: Test the interview "Several interviews in one"
    Given I start the interview "docassemble.base:data/questions/examples/umbrella-interview.yml"
    Then I should see the phrase "What interview would you like to do?"
    And I click the option "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is apple"

  Scenario: Test the interview "Text underneath"
    Given I start the interview "docassemble.base:data/questions/examples/under.yml"
    Then I should see the phrase "What is the airspeed velocity of an unladen swallow?"
    And I set "Velocity" to "40 mph"
    Then I should see the phrase "Note: if you did not catch this movie reference, you need to improve your cultural literacy."
    And I click the button "Continue"
    Then I should see the phrase "The velocity is 40 mph"

  # Scenario: Test the interview "Upload and listen to audio"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload_audio_microphone.yml"

  # Scenario: Test the interview "Upload and listen to audio"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload_audio.yml"

  # Scenario: Test the interview "Upload photos"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload_images.yml"

  # Scenario: Test the interview "Maximum image size"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload-max-image-size-features.yml"

  # Scenario: Test the interview "Maximum image size"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload-max-image-size.yml"

  # Scenario: Test the interview "Upload multiple files"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload-multiple.yml"

  # Scenario: Test the interview "Upload file"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload-show-width.yml"

  # Scenario: Test the interview "Upload file"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload-show.yml"

  # Scenario: Test the interview "Upload file"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload.yml"

  Scenario: Test the interview "Link to static file"
    Given I start the interview "docassemble.base:data/questions/examples/url-of.yml"
    Then I should see the phrase "Read more about this interview."
    And I should see the phrase "Feel free to read more about this interview before proceeding."
    And I click the button "Continue"
    Then I should see the phrase "All done with the interview"

  Scenario: Test the interview "Including a question library"
    Given I start the interview "docassemble.base:data/questions/examples/use-question-library.yml"
    Then I should see the phrase "Nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "Interested in going to the dance tonight?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Objects have independent existence"
    Given I start the interview "docassemble.base:data/questions/examples/user-is-trustee.yml"
    Then I should see the phrase "As the trustee of the estate, you need to understand that it is your fiduciary duty to safeguard the assets of the estate."

  Scenario: Test the interview "Output formats"
    Given I start the interview "docassemble.base:data/questions/examples/valid-formats.yml"
    Then I should see the phrase "Your document is ready."
    And I should see the phrase "The following document has been created for you."
    And I should not see the phrase "RTF"
    And I click the link "Markdown"
    Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "Value of a variable"
    Given I start the interview "docassemble.base:data/questions/examples/value.yml"
    Then I should see the phrase "Tell me about your favorite fruit."
    And I set "Favorite fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is apple."

  Scenario: Test the interview "Variables as JSON"
    Given I start the interview "docassemble.base:data/questions/examples/variables_as_json.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "How many pieces of apple do you have?"
    And I set "Pieces" to "10"
    And I click the button "Continue"
    Then I should see the phrase "You currently have ten pieces of apple."

  Scenario: Test the interview "Video with YouTube"
    Given I start the interview "docassemble.base:data/questions/examples/video.yml"
    Then I should see the phrase "Welcome to the interview."
    And I click the button "Continue"
    Then I should see the phrase "This concludes the interview."

  Scenario: Test the interview "Video with Vimeo"
    Given I start the interview "docassemble.base:data/questions/examples/vimeo.yml"
    Then I should see the phrase "Welcome to the interview."
    And I click the button "Continue"
    Then I should see the phrase "This concludes the interview."

  Scenario: Test the interview "Interview, tweaked"
    Given I start the interview "docassemble.base:data/questions/examples/with-mandatory-tweak-a.yml"
    Then I should see the phrase "How are you doing?"
    And I click the option "Fine"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite color?"
    And I set "Color" to "purple"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is purple."
    And I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "Interview, tweaked"
    Given I start the interview "docassemble.base:data/questions/examples/with-mandatory-tweak-b.yml"
    Then I should see the phrase "How are you doing?"
    And I click the option "Fine"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite color?"
    And I set "Color" to "purple"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is purple."
    And I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "Interview"
    Given I start the interview "docassemble.base:data/questions/examples/with-mandatory.yml"
    Then I should see the phrase "What is your favorite color?"
    And I set "Color" to "purple"
    And I click the button "Continue"
    Then I should see the phrase "How are you doing?"
    And I click the option "Fine"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is purple."
    And I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "An Interview"
    Given I start the interview "docassemble.base:data/questions/examples/yaml-markdown-python.yml"
    Then I should see the phrase "What is your favorite number?"
    And I set "Favorite number" to "3"
    And I click the button "Continue"
    Then I should see the phrase "What a lousy favorite number."

  Scenario: Test the interview "Custom yes/no"
    Given I start the interview "docassemble.base:data/questions/examples/yesno-custom.yml"
    Then I should see the phrase "Are you satisfied?"
    And I click the button "No way"
    Then I should see the phrase "Result of question"
    And I should see the phrase "I’m sorry to hear that. We will strive to do better next time."

  Scenario: Test the interview "Yes/no/maybe" with yes
    Given I start the interview "docassemble.base:data/questions/examples/yesnomaybe.yml"
    Then I should see the phrase "Is Topeka the capital of Kansas?"
    And I click the button "Yes"
    Then I should see the phrase "You were right that Topeka is the capital of Kansas."

  Scenario: Test the interview "Yes/no/maybe" with no
    Given I start the interview "docassemble.base:data/questions/examples/yesnomaybe.yml"
    Then I should see the phrase "Is Topeka the capital of Kansas?"
    And I click the button "No"
    Then I should see the phrase "Actually, Topeka is the capital of Kansas."

  Scenario: Test the interview "Yes/no/maybe" with maybe
    Given I start the interview "docassemble.base:data/questions/examples/yesnomaybe.yml"
    Then I should see the phrase "Is Topeka the capital of Kansas?"
    And I click the button "I don’t know"
    Then I should see the phrase "You should know your state capitals!"

  Scenario: Test the interview "Yes/no" with yes
    Given I start the interview "docassemble.base:data/questions/examples/yesno.yml"
    Then I should see the phrase "Are you at least 18 years of age?"
    And I click the button "Yes"
    Then I should see the phrase "over_eighteen is: “True”"

  Scenario: Test the interview "Yes/no" with no
    Given I start the interview "docassemble.base:data/questions/examples/yesno.yml"
    Then I should see the phrase "Are you at least 18 years of age?"
    And I click the button "No"
    Then I should see the phrase "over_eighteen is: “False”"

  Scenario: Test the interview "Custom objects from file"
    Given I start the interview "docassemble.demo:data/questions/examples/fish-example.yml"
    Then I should see the phrase "Fish summary"
    And I should see the phrase "Fred Halibut has 500 scales."
    And I should see the phrase "Larry Halibut has 600 scales."

  # Scenario: Test the interview "Multi-user interview"
  #   Given I start the interview "docassemble.demo:data/questions/examples/multi-user.yml"

  Scenario: Test the interview "Import dictionary"
    Given I start the interview "docassemble.demo:data/questions/examples/objects-from-file-dadict.yml"
    Then I should see the phrase "Summary of three fruit"
    And I should see the phrase "The seeds of orange are 10 in number."
    And I should see the phrase "The seeds of apple are 4 in number."
    And I should see the phrase "The seeds of peach are 5 in number."

  Scenario: Test the interview "Import and gather more"
    Given I start the interview "docassemble.demo:data/questions/examples/objects-from-file-gather.yml"
    Then I should see the phrase "The fruits so far are apple, orange, and peach. Are there more?"
    And I click the button "Yes"
    Then I should see the phrase "What fruit would you like to add?"
    And I set "Fruit" to "kiwi"
    And I set "Seeds" to "101"
    And I click the button "Continue"
    Then I should see the phrase "The fruits so far are apple, kiwi, orange, and peach. Are there more?"
    And I click the button "No"
    Then I should see the phrase "Summary of four fruit"
    And I should see the phrase "The seeds of orange are 10 in number."
    And I should see the phrase "The seeds of kiwi are 101 in number."
    And I should see the phrase "The seeds of apple are 4 in number."
    And I should see the phrase "The seeds of peach are 5 in number."

  Scenario: Test the interview "Objects from file"
    Given I start the interview "docassemble.demo:data/questions/examples/objects-from-file.yml"
    Then I should see the phrase "How to contact us"
    And I should see the phrase "You can e-mail Fred Smith at fred@example.com."
    And I should see the phrase "You can e-mail Larry Jönes at larry@example.com."

  Scenario: Test the interview "Objects from file"
    Given I start the interview "docassemble.demo:data/questions/examples/raw-data-example.yml"
    Then I should see the phrase "The imported data"
    And I should see the phrase "'items': ['nuts', 'bolts']"
    And I should see the phrase "'object': 'InventoryItem'"
    And I should see the phrase "'items': ['paper', 'staplers', 'toner']"

  Scenario: Test the interview "Run a Python module"
    Given I start the interview "docassemble.demo:data/questions/examples/run-python-module-2.yml"
    Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "Run a Python module"
    Given I start the interview "docassemble.demo:data/questions/examples/run-python-module-3.yml"
    Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "Run a Python module"
    Given I start the interview "docassemble.demo:data/questions/examples/run-python-module-tests.yml"
    Then I should see the phrase "Result of unit tests"
    And I should see the phrase "Ran 2 tests"

  Scenario: Test the interview "Run a Python module"
    Given I start the interview "docassemble.demo:data/questions/examples/run-python-module.yml"
    Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "Object with disable others"
    Given I start the interview "docassemble.demo:data/questions/examples/someone-already-mentioned.yml"
    Then I should see the phrase "Who is the cook?"
    And I set "First Name" to "Geraldine"
    And I set "Last Name" to "Penna"
    And I click the button "Continue"
    Then I should see the phrase "Who is the gardener?"
    And I set "First Name" to "Robert"
    And I set "Last Name" to "Tabor"
    And I click the button "Continue"
    Then I should see the phrase "Who is the maid?"
    And I select "Geraldine Penna" as the "Somebody already mentioned"
    And I click the button "Continue"
    Then I should see the phrase "The cook is Geraldine Penna."
    And I should see the phrase "The gardener is Robert Tabor."
    And I should see the phrase "The maid is Geraldine Penna."

  Scenario: Test the interview "Recipe"
    Given I start the interview "docassemble.demo:data/questions/examples/testcooking.yml"
    Then I should see the phrase "What do you want to cook?"
    And I set "Food" to "a stir fry"
    And I click the button "Continue"
    Then I should see the phrase "What are the ingredients in a stir fry?"
    And I set the text area to "rice, mushrooms, broccoli, onion, soy sauce"
    And I click the button "Continue"
    Then I should see the phrase "What are the instructions for cooking a stir fry?"
    And I set the text area to "Make the rice in a rice cooker.  Put the other ingredients in a frying pan, turn on the heat, and stir."
    And I click the button "Continue"
    Then I should see the phrase "Recipe for a stir fry"
    And I should see the phrase "Ingredients:"
    And I should see the phrase "Instructions:"

  Scenario: Test the interview "Input validation"
    Given I start the interview "docassemble.demo:data/questions/examples/validation-code.yml"
    Then I should see the phrase "There are 10 fruit in all."
    And I should see the phrase "How many apples and oranges are there?"
    And I set "Apples" to "10"
    And I set "Oranges" to "5"
    And I click the button "Continue"
    Then I should see the phrase "The number of fruit must add up to 10!"
    And I set "Apples" to "6"
    And I set "Oranges" to "4"
    And I click the button "Continue"
    Then I should see the phrase "There were 6 apples and 4 oranges."

  Scenario: Test the interview "Input validation"
    Given I start the interview "docassemble.demo:data/questions/examples/validation-test-two.yml"
    Then I should see the phrase "How many car tires are in the garage?"
    And I set "Tires" to "5"
    And I click the button "Continue"
    Then I should see the phrase "The number must be a multiple of four"
    And I set "Tires" to "8"
    And I click the button "Continue"
    Then I should see the phrase "There were 8 tires in the garage."

  Scenario: Test the interview "Input validation"
    Given I start the interview "docassemble.demo:data/questions/examples/validation-test.yml"
    Then I should see the phrase "How many car tires are in the garage?"
    And I set "Tires" to "5"
    And I click the button "Continue"
    Then I should see the phrase "Please enter a valid value."
    And I set "Tires" to "8"
    And I click the button "Continue"
    Then I should see the phrase "There were 8 tires in the garage."

  Scenario: Test the interview "Alter fields with Javascript"
    Given I start the interview "docassemble.base:data/questions/examples/ajax-calc-javascript.yml"
    Then I should see the phrase "Let’s calculate some stuff."
    And I set "A" to "4"
    And I set "B" to "5"
    And I set "C" to "20"
    And I click the button "Continue"
    Then I should see the phrase "The correct answer is 20.0."

  Scenario: Test the interview "Alter fields"
    Given I start the interview "docassemble.base:data/questions/examples/ajax-calc.yml"
    Then I should see the phrase "Let’s calculate some stuff."
    And I set "A" to "4"
    And I unfocus
    And I set "B" to "5"
    And I unfocus
    And I wait 4 seconds
    And I click the button "Continue"
    Then I should see the phrase "The correct answer is 20.0."

  Scenario: Test the interview "Assemble a document in the background"
    Given I start the interview "docassemble.base:data/questions/examples/assemble-in-background.yml"
    Then I should see the phrase "What is the name of your sweetheart?"
    And I set "Name" to "Olíve Oil"
    And I click the button "Continue"
    Then I should see the phrase "Please wait"
    And I wait 12 seconds
    Then I should see the phrase "Document created"
    And I should see the phrase "The following document has been created for you."
    And I click the link "Preview"
    Then I should see the phrase "Olíve Oil, will you marry me?"

  Scenario: Test the interview "Background error callback" with error
    Given I start the interview "docassemble.base:data/questions/examples/background-error-action-demo.yml"
    Then I should see the phrase "Give me some numbers."
    And I set "Numerator" to "4"
    And I set "Denominator" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Waiting for result"
    And I wait 12 seconds
    Then I should see the phrase "There was an error."

  Scenario: Test the interview "Background error callback" without error
    Given I start the interview "docassemble.base:data/questions/examples/background-error-action-demo.yml"
    Then I should see the phrase "Give me some numbers."
    And I set "Numerator" to "8"
    And I set "Denominator" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Waiting for result"
    And I wait 12 seconds
    Then I should see the phrase "The result was 4.0."

  Scenario: Test the interview "Background error callback"
    Given I start the interview "docassemble.base:data/questions/examples/background-error-action.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Hang tight. Still waiting for an answer."
    And I wait 20 seconds
    Then I should see the phrase "The saved error message was Failure at the calculation stage due to a ZeroDivisionError error."
    Then I should see the phrase "The value was handled_error."
    Then I should see the phrase "The error was ZeroDivisionError."

  Scenario: Test the interview "Return a value and populate fields"
    Given I start the interview "docassemble.base:data/questions/examples/background_action_fields.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Your answer will appear shortly."
    Then I should see the phrase "Wait for it!"
    And I wait 12 seconds
    And I click the button "Continue"
    Then I should see the phrase "{‘the_number’: 555}"

  Scenario: Test the interview "Return a value"
    Given I start the interview "docassemble.base:data/questions/examples/background_action_test_timing.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Hang tight. Still waiting for an answer."
    And I wait 12 seconds
    Then I should see the phrase "The answer is 555."

  Scenario: Test the interview "Object"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/branch-error.yml"
    Then I should see the phrase "Interview has an error. There was a reference to a variable 'long_branch.length' that could not be looked up in the question file (for language 'en') or in any of the files incorporated by reference into the question file."

  Scenario: Test the interview "Checkboxes within fields"
    Given I start the interview "docassemble.base:data/questions/examples/checkbox-dict-dict.yml"
    Then I should see the phrase "Do you have any fr.uit bowls?"
    And I click the button "Yes"
    Then I should see the phrase "Describe your first fruit bowl."
    And I set "Name of the bowl" to "red apple bowl"
    And I click the option "Apples" under "What is in it?"
    And I click the button "Continue"
    Then I should see the phrase "Do you have another fr.uit bowl?"
    And I click the button "No"
    Then I should see the phrase "Do you have any ve.get$able bowls?"
    And I click the button "Yes"
    Then I should see the phrase "What is in your first vegetable bowl?"
    And I set "Name of the bowl" to "turnip bowl"
    And I click the option "Spinach" under "What is in it?"
    And I click the button "Continue"

  Scenario: Test the interview "Checkbox export value"
    Given I start the interview "docassemble.base:data/questions/examples/checkbox-export-value.yml"
    Then I should see the phrase "Assembling a document from a PDF template"
    And I click the button "Continue"
    And I set "Your First Name" to "Jöhn"
    And I set "Your Last Name" to "Smith"
    And I set "Your Organization" to "Example, Inc."
    And I click the button "Continue"
    Then I should see the phrase "Do you like apples?"
    And I click the button "Yes"
    Then I should see the phrase "Do you like oranges?"
    And I click the button "No"
    Then I should see the phrase "Do you like pears?"
    And I click the button "No"
    Then I should see the phrase "Do you like toast?"
    And I click the button "Yes"
    Then I should see the phrase "Here is your PDF form"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Data structure from code"
    Given I start the interview "docassemble.base:data/questions/examples/data-code.yml"
    Then I should see the phrase "How many seeds in an orange?"
    And I click the button "Continue"
    Then I should see the phrase "How would you describe a peach?"
    And I set the text box to "yellow"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the option "Peach"
    And I click the button "Continue"
    Then I should see the phrase "Summary of Peach"
    And I should see the phrase "yellow"
    And I should see the phrase "The Peach has 1,000,000 seeds."

  Scenario: Test the interview "Data structure"
    Given I start the interview "docassemble.base:data/questions/examples/data-simple.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I choose "Orange"
    And I click the button "Continue"
    Then I should see the phrase "What is your brother’s favorite fruit?"
    And I choose "Peach"
    And I click the button "Continue"
    Then I should see the phrase "Among the fruits Apple, Orange, Peach, and Pear"
    And I should see the phrase "You like Orange."
    Then I should see the phrase "Your brother, on the other hand, likes Peach."

  Scenario: Test the interview "Data structure"
    Given I start the interview "docassemble.base:data/questions/examples/data.yml"
    Then I should see the phrase "On what planet were you born?"
    And I set "Planet" to "Mars"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the option "Apple"
    And I click the button "Continue"
    Then I should see the phrase "Summary of Apple"
    And I should see the phrase "The apple is a tasty red fruit."
    And I should see the phrase "Everyone on Mars loves to eat apples."
    And I should see the phrase "The Apple has five seeds."

  Scenario: Test the interview "Date and time"
    Given I start the interview "docassemble.base:data/questions/examples/date-and-time-fields.yml"
    Then I should see the phrase "When is your appointment?"
    And I set "Date" to "03/30/2018"
    And I set "Time" to "04:05PM"
    And I click the button "Continue"
    Then I should see the phrase "Time until your appointment"
    And I should see the phrase "Your appointment is on March 30, 2018."
    And I should see the phrase "minutes remaining until your appointment"

  Scenario: Test the interview "Date as object"
    Given I start the interview "docassemble.base:data/questions/examples/date-demo.yml"
    Then I should see the phrase "When did you file the complaint?"
    And I set "Date" to "03/30/2018"
    And I click the button "Continue"
    Then I should see the phrase "Your response is due"

  Scenario: Test the interview "Date and time"
    Given I start the interview "docassemble.base:data/questions/examples/datetime-field.yml"
    Then I should see the phrase "When is your appointment?"
    And I set "Date and time" to "05/06/2018	05:00PM"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "When inserted in into a question, target_variable looks like May 6, 2018."
    And I should see the phrase "For example, using the .format_datetime() method, the date/time can be expressed as 5:00 in May."
    And I should see the phrase "Using the .minus() method, 24 hours before the date/time can be expressed as May 5, 2018."

  # Scenario: Test the interview "declarative classes"
  #  Given I start the interview "docassemble.base:data/questions/examples/declarative-classes.yml"

  # Scenario: Test the interview "Declarative style"
  #   Given I start the interview "docassemble.base:data/questions/examples/declarative.yml"

  Scenario: Test the interview "DOCX format from RTF"
    Given I start the interview "docassemble.base:data/questions/examples/document-docx-from-rtf.yml"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."
    And I click the link "Markdown"
    Then I should see the phrase "benefits plan G-432."

  Scenario: Test the interview "Fill fields in a DOCX template with code"
    Given I start the interview "docassemble.base:data/questions/examples/docx-template-code-2.yml"
    Then I should see the phrase "Assembling a document from a .docx template"
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is the subject of your complaint?"
    And I click the option "overpriced coffee"
    And I click the button "Continue"
    Then I should see the phrase "What is the adverse party’s name?"
    And I set "First Name" to "Antonio"
    And I set "Last Name" to "Vasquez"
    And I click the button "Continue"
    Then I should see the phrase "What is the address of Antonio Vasquez?"
    And I set "Address" to "123 Main St"
    And I set "Unit" to "Suite 300"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I set "Zip" to "02001"
    And I click the button "Continue"
    Then I should see the phrase "Please sign your name below."
    And I wait 5 seconds
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "Your letter"
    And I should see the phrase "The following document has been created for you."

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.base:data/questions/examples/dual-dict.yml"

  Scenario: Test the interview "Code-generated fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-code-embed.yml"
    Then I should see the phrase "How many people are there?"
    And I set "Number" to "4"
    And I click the button "Continue"
    Then I should see the phrase "What are the peoples’ names?"
    And I set text box 1 to "Fred"
    And I set text box 2 to "Smith"
    And I set text box 3 to "Donald"
    And I set text box 4 to "Cooper"
    And I set text box 5 to "Anthony"
    And I set text box 6 to "Tolstoy"
    And I set text box 7 to "Rebecca"
    And I set text box 8 to "Holmes"
    And I click the button "Continue"
    Then I should see the phrase "List of people"
    And I should see the phrase "The people include:"
    And I should see the phrase "Rebecca Holmes"

  Scenario: Test the interview "Code-generated fields"
    Given I start the interview "docassemble.base:data/questions/examples/fields-code.yml"
    Then I should see the phrase "How many people are there?"
    And I set "Number" to "2"
    And I click the button "Continue"
    Then I should see the phrase "What are the peoples’ names?"
    And I set "First person’s given name" to "Frederick"
    And I set "First person’s surname" to "Baker"
    And I set "Second person’s given name" to "Paul"
    And I set "Second person’s surname" to "Clark"
    And I click the button "Continue"
    Then I should see the phrase "List of people"
    And I should see the phrase "The people include:"
    And I should see the phrase "Paul Clark"

  Scenario: Test the interview "File types" with static
    Given I start the interview "docassemble.base:data/questions/examples/file-types.yml"
    Then I should see the phrase "What type of file do you want?"
    And I click the option "Static"
    And I click the button "Continue"
    Then I should see the phrase "cow.jpg"
    And I should see the phrase "/packagestatic/docassemble.base/cow.jpg"
    Then I should see the phrase "image/jpeg"

  Scenario: Test the interview "File types" with assembled
    Given I start the interview "docassemble.base:data/questions/examples/file-types.yml"
    Then I should see the phrase "What type of file do you want?"
    And I click the option "Assembled"
    And I click the button "Continue"
    Then I should see the phrase "Your document"
    Then I should see the phrase "application/pdf"

  Scenario: Test the interview "Flash messages"
    Given I start the interview "docassemble.base:data/questions/examples/flash.yml"
    Then I should see the phrase "Hello, user!"
    And I should see the phrase "Lookout, user!"
    And I should see the phrase "The interview is complete."

  # Scenario: Test the interview "forward chaining assumptions"
  #   Given I start the interview "docassemble.base:data/questions/examples/forward-chaining-assumptions.yml"

  Scenario: Test the interview "Gather"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/gather-fruit-incomplete.yml"
    Then I should see the phrase "Interview has an error. There was a reference to a variable 'fruit.there_are_any' that could not be looked up in the question file (for language 'en') or in any of the files incorporated by reference into the question file."

  Scenario: Test the interview "Mako for loops"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/gather.yml"
    Then I should see the phrase "Interview has an error. There was a reference to a variable 'witness.there_are_any' that could not be looked up in the question file (for language 'en') or in any of the files incorporated by reference into the question file."

  Scenario: Test the interview "Infinite loop"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/infinite-loop-2.yml"
    Then I should see the phrase "There appears to be an infinite loop."
    And I should see the phrase "Variables in stack are bar, foo."

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-flowers.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-fruit.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-vegetables.yml"

  Scenario: Test the interview "Inverted navbar"
    Given I start the interview "docassemble.base:data/questions/examples/inverse-navbar.yml"
    Then I should see the phrase "Welcome to the interview!"
    Then I should see the phrase "Do you like the style of the navigation bar?"
    And I click the button "No"
    Then I should see the phrase "Yeah, I don’t care for it either."

  Scenario: Test the interview ""Dictionary: gather keys, values""
    Given I start the interview "docassemble.base:data/questions/examples/item-dict.yml"
    Then I should see the phrase "What type of pet do you have?"
    And I select "rock" as the "Type"
    And I click the button "Continue"
    Then I should see the phrase "Describe your pet rock."
    And I set "Name" to "Rocky"
    And I set "Color" to "grey"
    And I set "Legs" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other pets?"
    And I click the button "Yes"
    Then I should see the phrase "What type of pet do you have?"
    And I select "rat" as the "Type"
    And I click the button "Continue"
    Then I should see the phrase "Describe your pet rat."
    And I set "Name" to "Toto"
    And I set "Color" to "black"
    And I set "Legs" to "4"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other pets?"
    And I click the button "No"
    Then I should see the phrase "Description of ten pets."
    And I should see the phrase "The name of your pet hamster is . It is and it has legs."

  Scenario: Test the interview "The item method"
    Given I start the interview "docassemble.base:data/questions/examples/item.yml"
    Then I should see the phrase "Describe the first fruit."
    And I set "Name" to "Apple"
    And I set "Color" to "red"
    And I set "Seeds" to "10"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more fruit?"
    And I click the button "No"
    Then I should see the phrase "The name of the first fruit is Apple. It is red and it has 10 seeds."
    And I should see the phrase "The name of the tenth fruit is . It is and it has seeds."

  Scenario: Test the interview "Available interviews"
    Given I start the interview "docassemble.base:data/questions/examples/list-interview.yml"
    Then I should see the phrase "Available interviews"

  Scenario: Test the interview "Message log"
    Given I start the interview "docassemble.base:data/questions/examples/log.yml"
    Then I should see the phrase "The interview is complete."

  # Scenario: Test the interview "Save training set to playground"
  #   Given I start the interview "docassemble.base:data/questions/examples/ml-export-playground.yml"

  Scenario: Test the interview "Nested groups"
    Given I start the interview "docassemble.base:data/questions/examples/nested-objects.yml"
    Then I should see the phrase "Do you have any siblings?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of your first sibling?"
    And I set "First Name" to "Thomas"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other siblings besides Thomas?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of your second sibling?"
    And I set "First Name" to "Rebecca"
    And I click the button "Continue"
    Then I should see the phrase "Do you have any other siblings besides Thomas and Rebecca?"
    And I click the button "No"
    Then I should see the phrase "Which of the following types of companies has Thomas hired?"
    And I click the option "Financial Advisor"
    And I click the option "Law Firm"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of Thomas’s Financial Advisor?"
    And I set "Company name" to "Expert Financial Analysts"
    And I click the button "Continue"
    Then I should see the phrase "In what city does Expert Financial Analysts do business?"
    And I set "City" to "Springfield"
    And I select "Georgia" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of Thomas’s Law Firm?"
    And I set "Company name" to "Baker & Banks LLP"
    And I click the button "Continue"
    Then I should see the phrase "In what city does Baker & Banks LLP do business?"
    And I set "City" to "Atlanta"
    And I select "Georgia" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "Which of the following types of companies has Rebecca hired?"
    And I click the option "Exterminator"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of Rebecca’s Exterminator?"
    And I set "Company name" to "Mice Are Toast, Inc."
    And I click the button "Continue"
    Then I should see the phrase "In what city does Mice Are Toast, Inc. do business?"
    And I set "City" to "Boston"
    And I select "Massachusetts" as the "State"
    And I click the button "Continue"
    Then I should see the phrase "All done"
    And I should see the phrase "You have a sibling named Thomas."
    And I should see the phrase "Thomas has hired a Financial Advisor called Expert Financial Analysts, which has a principal place of business in Springfield, GA."
    And I should see the phrase "Thomas has hired a Law Firm called Baker & Banks LLP, which has a principal place of business in Atlanta, GA."
    And I should see the phrase "You have a sibling named Rebecca."
    And I should see the phrase "Rebecca has hired a Exterminator called Mice Are Toast, Inc., which has a principal place of business in Boston, MA."

  Scenario: Test the interview "Missing mandatory"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/no-mandatory.yml"
    Then I should see the phrase "Error"
    And I should see the phrase "Docassemble has finished executing all code blocks marked as initial or mandatory, and finished asking all questions marked as mandatory (if any). It is a best practice to end your interview with a question that says goodbye and offers an Exit button."

  Scenario: Test the interview "Number format"
    Given I start the interview "docassemble.base:data/questions/examples/number-formatting.yml"
    Then I should see the phrase "Your monthly income"
    Then I should see the phrase "Your monthly income is 3595.2716"
    Then I should see the phrase "But it would be better to say your monthly income is 3595.27 dollars per month, or 3595.27 dollars per month, or 3,595.27 dollars per month, or 3595 dollars per month, or best of all, $3,595.27 per month."

  Scenario: Test the interview "Set variable to object"
    Given I start the interview "docassemble.base:data/questions/examples/object-default.yml"
    Then I should see the phrase "Who is the villain?"
    And I click the button "Continue"
    Then I should see the phrase "Tom Riddle will surely be defeated!"

  # Scenario: Test the interview "PDF Concatenation"
  #   Given I start the interview "docassemble.base:data/questions/examples/pdf-concatenate.yml"

  Scenario: Test the interview "PDF fill-in with signature"
    Given I start the interview "docassemble.base:data/questions/examples/pdf-fill-signature-alt.yml"
    Then I should see the phrase "What is your name?"
    And I set "First Name" to "Thomas"
    And I set "Last Name" to "Dyer"
    And I click the button "Continue"
    Then I should see the phrase "What is your best friend’s name?"
    And I set "First Name" to "Preston"
    And I set "Last Name" to "Nelson"
    And I click the button "Continue"
    Then I should see the phrase "What objects do you collect?"
    And I set "Collection" to "turníp seeds"
    And I click the button "Continue"
    Then I should see the phrase "Please sign your name below."
    And I wait 5 seconds
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Congratulations!"
    And I should see the phrase "You have now transferred everything you own to Preston Nelson."
    And I should see the phrase "Transfer of Ownership"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Postpopulate lists"
    Given I start the interview "docassemble.base:data/questions/examples/postpopulate-list.yml"
    Then I should see the phrase "Do you have any favorite things?"
    And I click the button "Yes"
    Then I should see the phrase "What is your first favorite thing?"
    And I set "Thing" to "turnip seeds"
    And I click the button "Continue"
    Then I should see the phrase "Besides turnip seeds, do you have any other favorite things?"
    And I click the button "No"
    Then I should see the phrase "What is your mother’s name?"
    And I set "First name" to "Holly"
    And I set "Last name" to "Baker"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite things are turnip seeds, Holly Baker, and apple pie."

  Scenario: Test the interview "Prepopulate lists"
    Given I start the interview "docassemble.base:data/questions/examples/prepopulate-list.yml"
    Then I should see the phrase "What is your mother’s name?"
    And I set "First name" to "Holly"
    And I set "Last name" to "Baker"
    And I click the button "Continue"
    Then I should see the phrase "Besides Holly Baker and apple pie, do you have any other favorite things?"
    And I click the button "Yes"
    Then I should see the phrase "What is your third favorite thing?"
    And I set "Thing" to "toasters"
    And I click the button "Continue"
    Then I should see the phrase "Besides Holly Baker, apple pie, and toasters, do you have any other favorite things?"
    And I click the button "No"
    Then I should see the phrase "Your favorite things are Holly Baker, apple pie, and toasters."

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.base:data/questions/examples/question-library.yml"

  Scenario: Test the interview "Questionless interview"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/questionless.yml"
    Then I should see the phrase "Interview has an error. There was a reference to a variable 'favorite_number' that could not be looked up in the question file (for language 'en') or in any of the files incorporated by reference into the question file."

  # Scenario: Test the interview "Redis with objects"
  #   Given I start the interview "docassemble.base:data/questions/examples/redis-data.yml"

  Scenario: Test the interview "Server capabilities"
    Given I start the interview "docassemble.base:data/questions/examples/server-capabilities.yml"
    Then I should see the phrase "Server capabilities"

  Scenario: Test the interview "Interviews"
    Given I start the interview "docassemble.base:data/questions/examples/session-interview-redirect.yml"
    And I wait 3 seconds
    Then I should see the phrase "Sign in"

  Scenario: Test the interview "Interviews"
    Given I start the interview "docassemble.base:data/questions/examples/session-interview.yml"
    And I wait 3 seconds
    Then I should see the phrase "Sign in"

  Scenario: Test the interview "Logo title"
    Given I start the interview "docassemble.base:data/questions/examples/set-logo-title.yml"
    Then I should see the phrase "Welcome to the Example Inc. interview!"
    And I click the button "Continue"
    Then I should see the phrase "All done"

  Scenario: Test the interview "Set the interview parts"
    Given I start the interview "docassemble.base:data/questions/examples/set-parts.yml"
    Then I should see "The Title" as the title of the page
    And I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see "TabTab" as the title of the page
    And I should see the phrase "Apples rule"
    Then I should see the phrase "The interview titles have been changed."

  Scenario: Test the interview "bad interview"
    Given I start the interview "docassemble.base:data/questions/examples/someone-already-mentioned-bad.yml"
    Then I should see the phrase "Who is the successor agent?"
    And I set "First Name" to "Oliver"
    And I set "Middle Name" to "Wendell"
    And I set "Last Name" to "Holmes"
    And I select "Esq" as the "Suffix"
    And I click the button "Continue"
    Then I should see the phrase "Who is the conservator?"
    And I select "Oliver W. Holmes Esq" as the "Somebody already mentioned"
    And I click the button "Continue"
    Then I should see the phrase "Who is the guardian?"
    And I set "First Name" to "Turnip"
    And I set "Last Name" to "Head"
    And I click the button "Continue"
    Then I should see the phrase "The successor agent is Oliver W. Holmes Esq."
    And I should see the phrase "The conservator is Oliver W. Holmes Esq."
    And I should see the phrase "The guardian is Turnip Head."

  Scenario: Test the interview "Static file"
    Given I start the interview "docassemble.base:data/questions/examples/static-file.yml"
    Then I should see the phrase "What is your gender?"
    And I click the option "Male"
    And I click the button "Continue"
    Then I should see the phrase "The image"

  Scenario: Test the interview "Tags"
    Given I start the interview "docassemble.base:data/questions/examples/tags.yml"
    Then I should see the phrase "The tags are:"
    And I should see the phrase "apples"
    And I should see the phrase "oranges"

  Scenario: Test the interview "Time"
    Given I start the interview "docassemble.base:data/questions/examples/time-field.yml"
    Then I should see the phrase "What time is your appointment?"
    And I set "Time" to "04:05PM"
    And I click the button "Continue"
    Then I should see the phrase "Result of question"
    And I should see the phrase "When inserted in into a question, target_variable looks like 16:05:00."
    And I should see the phrase "For example, using the .strftime() method, the time can be expressed as 16:05 PM."

  Scenario: Test the interview "Video from static file"
    Given I start the interview "docassemble.base:data/questions/examples/video-static.yml"
    Then I should see the phrase "Are you traveling to New York City?"
    And I click the button "Yes"
    Then I should see the phrase "You are going to New York City."

  Scenario: Test the interview "Animal"
    Given I start the interview "docassemble.demo:data/questions/animal.yml"
    Then I should see the phrase "What is your favorite animal?"
    And I set "Animal" to "snail"
    And I click the button "Continue"
    Then I should see the phrase "What a coincidence!"
    And I should see the phrase "My favorite animal is the snail, too!"

  # Scenario: Test the interview "Event"
  #   Given I start the interview "docassemble.demo:data/questions/event-role-event.yml"

  Scenario: Test the interview "Bootstrap theme"
    Given I start the interview "docassemble.demo:data/questions/examples/bootstrap-theme.yml"
    Then I should see the phrase "Welcome to the interview!"
    Then I should see the phrase "Do you like the style of this interview?"
    And I click the button "No"
    Then I should see the phrase "Yeah, I don’t care for it either."

  Scenario: Test the interview "Custody"
    Given I start the interview "docassemble.demo:data/questions/examples/custody.yml"
    Then I should see the phrase "What is your relationship to the child over which you want to have custody?"
    And I click the option "Grandparent"
    And I click the button "Continue"
    Then I should see the phrase "Are you currently acting as the child’s guardian?"
    And I click the button "No"
    Then I should see the phrase "At some point, did one of the child’s parents agree to let you care for the child?"
    And I click the button "Yes"
    Then I should see the phrase "Are you willing to assume responsibility for the child?"
    And I click the button "Yes"
    Then I should see the phrase "To your knowledge, has the child ever been put under the care of the Family Court?"
    And I click the button "No"
    Then I should see the phrase "If the child is not put under your care, do you think the child would be at risk of harm due to parental abuse, neglect, drug or alcohol abuse or incapacity?"
    And I click the button "Yes"
    Then I should see the phrase "I understand you are the child’s grandparent. Is your child (the parent of the child over whom you wish to have custody), still alive?"
    And I click the button "Yes"
    Then I should see the phrase "Are the child’s parents currently separated?"
    And I click the button "Yes"
    Then I should see the phrase "Have the child’s parents been separated for the last six months?"
    And I click the button "Yes"
    Then I should see the phrase "Filing for custody"
    And I should see the phrase "partial physical custody"
    And I should see the phrase "primary physical custody"
    And I should see the phrase "shared legal custody"
    And I should see the phrase "shared physical custody"
    And I should see the phrase "sole legal custody"
    And I should see the phrase "sole physical custody"
    And I should see the phrase "supervised physical custody"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/examples/discovery.yml"

  # Scenario: Test the interview "Objects from file"
  #   Given I start the interview "docassemble.demo:data/questions/examples/objects-from-file-template.yml"

  # Scenario: Test the interview "Questionless interview"
  #   Given I start the interview "docassemble.demo:data/questions/examples/questionless.yml"

  Scenario: Test the interview "Including one .docx in another"
    Given I start the interview "docassemble.demo:data/questions/examples/subdocument.yml"
    Then I should see the phrase "Including one .docx file in another .docx file"
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First name" to "Theodore"
    And I set "Last name" to "Morton"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Favorite fruit" to "Kíwi"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "hello world"
    Given I start the interview "docassemble.demo:data/questions/hello.yml"
    Then I should see the phrase "Hello, world!"

  Scenario: Test the interview "hello world iteration 2"
    Given I start the interview "docassemble.demo:data/questions/hello2.yml"
    Then I should see the phrase "What is your planet’s name?"
    And I set "Your Planet" to "Mars"
    And I click the button "Continue"
    Then I should see the phrase "Hello, Mars!"

  Scenario: Test the interview "hello world iteration 3"
    Given I start the interview "docassemble.demo:data/questions/hello3.yml"
    Then I should see the phrase "What is your planet’s name?"
    And I set "Your Planet" to "Mars"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite number?"
    And I set "Number" to "42"
    And I click the button "Continue"
    Then I should see the phrase "Hello, Mars!"
    Then I should see the phrase "I surmise that your planet has no more than 2 inhabitants."

  Scenario: Test the interview "hello world iteration 4"
    Given I start the interview "docassemble.demo:data/questions/hello4.yml"
    Then I should see the phrase "What is your planet’s name?"
    And I set "Your Planet" to "Mars"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite number?"
    And I set "Number" to "42"
    And I click the button "Continue"
    Then I should see the phrase "I surmise that you have no more than 2 inhabitants."
    And I click the link "Preview"
    Then I should see the phrase "Hello to all 2 of you."

  Scenario: Test the interview "hello world iteration 5"
    Given I start the interview "docassemble.demo:data/questions/hello5.yml"
    Then I should see the phrase "What is your planet’s name?"
    And I set "Your Planet" to "Mars"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite number?"
    And I set "Number" to "42"
    And I click the button "Continue"
    Then I should see the phrase "I surmise that you have no more than 2 inhabitants."
    And I click the link "Preview"
    Then I should see the phrase "Hello to all 2 of you."

  Scenario: Test the interview "hello world iteration 6"
    Given I start the interview "docassemble.demo:data/questions/hello6.yml"
    Then I should see the phrase "What is your planet’s name?"
    And I set "Your Planet" to "Mars"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite number?"
    And I set "Number" to "42"
    And I click the button "Continue"
    Then I should see the phrase "I surmise that you have no more than 2 inhabitants."

  Scenario: Test the interview "income"
    Given I start the interview "docassemble.demo:data/questions/income.yml"
    Then I should see the phrase "What is your income?"
    And I set "Income" to "400"
    And I select "Twice Per Month" as the "Period"
    And I click the button "Continue"
    Then I should see the phrase "You earn $9,600 per year."

  # Scenario: Test the interview "Interview about Flowers"
  #   Given I start the interview "docassemble.demo:data/questions/interview-about-flowers.yml"

  # Scenario: Test the interview "Interview about Fruit"
  #   Given I start the interview "docassemble.demo:data/questions/interview-about-fruit.yml"

  # Scenario: Test the interview "Interview about Vegetables"
  #   Given I start the interview "docassemble.demo:data/questions/interview-about-vegetables.yml"

  Scenario: Test the interview "List"
    Given I start the interview "docassemble.demo:data/questions/list.yml"
    Then I should see the phrase "Who is the first party?"
    And I set "First Name" to "Sanford"
    And I set "Last Name" to "Williams"
    And I click the button "Continue"
    Then I should see the phrase "Who is the second party?"
    And I set "First Name" to "Laura"
    And I set "Last Name" to "Thompson"
    And I click the button "Continue"
    Then I should see the phrase "Who is the third party?"
    And I set "First Name" to "Michael"
    And I set "Last Name" to "Taylor"
    And I click the button "Continue"
    Then I should see the phrase "Summary of the parties in this case"
    And I should see the phrase "The parties in this case are Sanford Williams, Laura Thompson, and Michael Taylor."

  # Scenario: Test the interview "demo interview"
  #   Given I start the interview "docassemble.demo:data/questions/questions.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/roletest.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/roletestmany.yml"

  # Scenario: Test the interview "sample function"
  #   Given I start the interview "docassemble.demo:data/questions/sample-function.yml"

  Scenario: Test the interview "Sample"
    Given I start the interview "docassemble.demo:data/questions/samplequestion.yml"
    Then I should see the phrase "This is the title"
    Then I should see the phrase "This is the body"

  # Scenario: Test the interview "Sample"
  #   Given I start the interview "docassemble.demo:data/questions/samplesignature.yml"
  #   Then I should see the phrase "This is the main message"
  #   And I click inside the signature area
  #   And I click the button "Continue"

  Scenario: Test the interview "Exit or restart with choices"
    Given I start the interview "docassemble.demo:data/questions/sets-exit-choices.yml"
    Then I should see the phrase "We are all done."
    And I click the option "Exit"
    And I click the button "Continue"

  Scenario: Test the interview "Exit or restart with url"
    Given I start the interview "docassemble.demo:data/questions/sets-exit-url.yml"
    Then I should see the phrase "Congratulations, you found Nemo!"
    And I click the option "Try again"
    And I click the button "Continue"
    Then I should see the phrase "Congratulations, you found Nemo!"
    And I click the option "Learn More"
  #   Then I should see "https://en.wikipedia.org/wiki/Amphiprioninae" as the URL of the page

  Scenario: Test the interview "Exit or restart" with restart
    Given I start the interview "docassemble.demo:data/questions/sets-exit.yml"
    Then I should see the phrase "We are all done."
    And I click the button "Restart"
    Then I should see the phrase "We are all done."

  # Scenario: Test the interview "Some questions"
  #   Given I start the interview "docassemble.demo:data/questions/some-questions.yml"

  Scenario: Test the interview "Test DOCX template"
    Given I start the interview "docassemble.demo:data/questions/test-docx-template.yml"
    Then I should see the phrase "All done"
    Then I should see the phrase "The following document has been created for you."

  # Scenario: Test the interview "test URL"
  #   Given I start the interview "docassemble.demo:data/questions/test-url.yml"

  Scenario: Test the interview "Test fields"
    Given I start the interview "docassemble.demo:data/questions/test.yml"
    Then I should see the phrase "Tell me more about yourself"
    And I set "Description" to "Small and green"
    And I set "Annual income" to "405302"
    And I set "E-mail address" to "jpyle@docassemble.org"
    And I click the option "Been vaccinated"
    And I click the option "Seen Mount Rushmore"
    And I click the option "Innie" under "Belly button type"
    And I click the option "2" under "Number of friends"
    And I click the option "High school" under "Degrees obtained"
    And I click the option "College" under "Degrees obtained"
    And I select "Pennsylvania" as the "State you grew up in"
    And I click the option "Independent" under "Political preference"
    And I click the button "Continue"
    Then I should see the phrase "It’s a nice evening, isn’t it?"
    And I click the button "Yes"
    Then I should see the phrase "Which of these statements is true?"
    And I click the option "I am old-fashioned"
    And I click the button "Continue"
    Then I should see the phrase "My darling, would you do me the honor of accompanying me to the dance this fine evening?"
    And I click the button "Yes"
    Then I should see the phrase "That is splendid news!"

  Scenario: Test the interview "Test action"
    Given I start the interview "docassemble.demo:data/questions/testaction.yml"
    Then I should see the phrase "What is your lucky color?"
    And I set "Color" to "red"
    And I click the button "Continue"
    Then I should see the phrase "Please confirm the following information."
    And I should see the phrase "Your lucky number is 2."
    And I should see the phrase "Also, your lucky color is red."
    And I click the link "Increase"
    Then I should see the phrase "Your lucky number is 3."
    And I click the link "Decrease"
    Then I should see the phrase "Your lucky number is 2."
    And I click the link "Edit"
    Then I should see the phrase "What is your lucky color?"
    And I set "Color" to "blue"
    And I click the button "Continue"
    Then I should see the phrase "Also, your lucky color is blue."

  # Scenario: Test the interview "Test action 2"
  #   Given I start the interview "docassemble.demo:data/questions/testaction2.yml"

  Scenario: Test the interview "Test age"
    Given I start the interview "docassemble.demo:data/questions/testage.yml"
    Then I should see the phrase "What is your date of birth?"
    And I set the text box to "08/01/1989"
    And I click the button "Continue"
    Then I should see the phrase "You are 31 years old."

  # Scenario: Test the interview "Test e-mail attachment"
  #   Given I start the interview "docassemble.demo:data/questions/testattach.yml"
  #   Then I should see the phrase "Please fill in the following information."
  #   And I set "Your First Name" to "Thomas"
  #   And I set "Your Last Name" to "Wilson"
  #   And I set "Your E-mail" to "jpyle@docassemble.org"
  #   And I click the button "Continue"
  #   Then I should see the phrase "So long, Thomas Wilson!"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testbuildfl.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testbuildfl2.yml"

  # Scenario: Test the interview "Cron test 1"
  #   Given I start the interview "docassemble.demo:data/questions/testcron.yml"

  # Scenario: Test the interview "Cron test 2"
  #   Given I start the interview "docassemble.demo:data/questions/testcron2.yml"

  # Scenario: Test the interview "Cron test background"
  #   Given I start the interview "docassemble.demo:data/questions/testcronbg.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testdadict.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testdalist2.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testdaobjectfail.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testdaobjectsucceed.yml"

  Scenario: Test the interview "Divorce advice"
    Given I start the interview "docassemble.demo:data/questions/testdivorce.yml"
    Then I should see the phrase "On a scale from 1 to 10:"
    And I click the button "Continue"
    Then I should see the phrase "It is unclear who will get the most out of a divorce."

  Scenario: Test the interview "DOCX assembly"
    Given I start the interview "docassemble.demo:data/questions/testdocx.yml"
    Then I should see the phrase "Your document is ready."
    And I click the link "Markdown"
    Then I should see the phrase "Hello, world!"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testemail.yml"

  Scenario: Test the interview "Test fields"
    Given I start the interview "docassemble.demo:data/questions/testfields.yml"
    Then I should see the phrase "Tell me more about yourself"
    And I set "Description" to "Small and green"
    And I set "Annual income" to "405302"
    And I set "E-mail address" to "jpyle@docassemble.org"
    And I click the option "Been vaccinated"
    And I click the option "Seen Mount Rushmore"
    And I click the option "Innie" under "Belly button type"
    And I click the option "Two" under "Number of friends"
    And I click the option "High school" under "Degrees obtained"
    And I click the option "College" under "Degrees obtained"
    And I select "Pennsylvania" as the "State you grew up in"
    And I click the option "Independent" under "Political preference"
    And I click the button "Continue"
    Then I should see the phrase "Your income is 405302.0."

  # Scenario: Test the interview "Release Forms Demo"
  #   Given I start the interview "docassemble.demo:data/questions/testfillsig.yml"

  Scenario: Test the interview "Test for loop"
    Given I start the interview "docassemble.demo:data/questions/testforloop.yml"
    Then I should see the phrase "What is the name of the first plaintiff in the case?"
    And I set "First Name" to "Peter"
    And I set "Last Name" to "Plaintiff"
    And I click the button "Continue"
    Then I should see the phrase "You have told me that there is one plaintiff, Peter Plaintiff. Is there another plaintiff?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second plaintiff in the case?"
    And I set "First Name" to "Paul"
    And I set "Last Name" to "Plaintiff"
    And I click the button "Continue"
    Then I should see the phrase "You have told me that there are two plaintiffs, Peter Plaintiff and Paul Plaintiff. Is there another plaintiff?"
    And I click the button "No"
    Then I should see the phrase "The number of plaintiffs is 2."
    And I should see the phrase "Peter Plaintiff is a plaintiff."
    And I should see the phrase "Paul Plaintiff is a plaintiff."

  # Scenario: Test the interview "Generic objects"
  #   Given I start the interview "docassemble.demo:data/questions/testgeneric.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testimage.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testlist0.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testlist1.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testlist2.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testlist3.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testmcmako.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testobjectfield.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testobjectfieldradio.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testobjectlist.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testobjects.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testperson.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testpg.yml"

  Scenario: Test the interview "Test pickling lots of objects"
    Given I start the interview "docassemble.demo:data/questions/testpickle.yml"
    Then I should see the phrase "What is the name of your cat?"
    And I set "Cat Name" to "Spot"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of your mouse?"
    And I set "Mouse Name" to "Seymour"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of your panda?"
    And I set "Panda Name" to "Pandemonium"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of your pumpkin?"
    And I set "Pumpkin Name" to "Jöhn"
    And I click the button "Continue"
    Then I should see the phrase "Your cat is named Spot."
    And I should see the phrase "Your mouse is named Seymour."
    And I should see the phrase "Your panda is named Pandemonium."
    And I should see the phrase "Your pumpkin is named Jöhn."

  # Scenario: Test the interview "Linguistics"
  #   Given I start the interview "docassemble.demo:data/questions/testplural.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testproblem.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testpulldown.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testqr.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testqr2.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testresponse.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testreview.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testreview2.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testreview3.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testreview4.yml"

  # Scenario: Test the interview ""
  #   Given I start the interview "docassemble.demo:data/questions/testsandbox.yml"

  # Scenario: Test the interview "Testing unicode"
  #   Given I start the interview "docassemble.demo:data/questions/testunicode.yml"

  Scenario: Test the interview "Test URL args" without argument
    Given I start the interview "docassemble.demo:data/questions/testurlarg.yml"
    Then I should see the phrase "You came from the unknown."

  Scenario: Test the interview "Test URL args version 2"
    Given I start the interview "docassemble.demo:data/questions/testurlarg2.yml"
    Then I should see the phrase "You came from the unknown."
    And I should see the phrase "I think your favorite fruit is an apple"
    And I click the link "click here"
    Then I should see the phrase "I see that your favorite fruit is not an apple."

  Scenario: Test the interview "Best number"
    Given I start the interview "docassemble.demo:data/questions/bestnumber/interview.yml"
    Then I should see the phrase "What language do you speak?"
    And I click the option "English"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite number?"
    And I set "Number" to "42"
    And I click the button "Continue"
    Then I should see the phrase "All done."
    And I should see the phrase "The best number in the world is not 42.0, but 43.0."

  Scenario: Test the interview "Define variable"
    Given I start the interview "docassemble.base:data/questions/examples/define.yml"
    Then I should see the phrase "Your favorite fruit is apple."

  Scenario: Test the interview "Help with question"
    Given I start the interview "docassemble.base:data/questions/examples/help-damages-label.yml"
    Then I should see the phrase "How much money do you wish to seek in damages?"
    And I should see the phrase "More info"
    And I set "Money" to "400"
    And I click the button "Continue"
    Then I should see the phrase "You are seeking $400.00 in damages."
    And I should not see the phrase "More info"

  # Scenario: Test the interview "Material icons"
  #   Given I start the interview "docassemble.base:data/questions/examples/material-icons.yml"

  Scenario: Test the interview "Question help button enabled"
    Given I start the interview "docassemble.base:data/questions/examples/question-help-button-off.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I should see the phrase "Huh?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite color?"
    And I should see the phrase "More info"
    And I set "Color" to "red"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I should see the phrase "More info"
    And I set "Vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is apple."
    And I should see the phrase "More info"

  Scenario: Test the interview "Question help button enabled"
    Given I start the interview "docassemble.base:data/questions/examples/question-help-button.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I should see the phrase "More info"
    And I click the button "Huh?"
    Then I should see the phrase "A fruit is a fleshy edible part of a plant that has seeds."
    And I go back to the question screen
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite color?"
    And I should see the phrase "More info"
    And I click the button "Help"
    Then I should see the phrase "Every photon has a frequency, which determines its color."
    And I go back to the question screen
    And I set "Color" to "red"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I should see the phrase "More info"
    And I set "Vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is apple."
    And I should see the phrase "More info"

  Scenario: Test the interview "HTML in main page"
    Given I start the interview "docassemble.base:data/questions/examples/main-page.yml"
    Then I should see the phrase "What is your name?"
    And I should see the phrase "Click here to buy now!"
    And I should see the phrase "Need help? Call 888-555-3933 now!!!"
    And I should see the phrase "You click this button under the pains and penalties of perjury"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I should see the phrase "Click here to buy now!"
    And I should see the phrase "Need help? Call 888-555-3933 now!!!"
    And I should see the phrase "You click this button under the pains and penalties of perjury"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Thank you, Jöhn Smith."
    And I should see the phrase "Click here to buy now!"
    And I should see the phrase "Need help? Call 888-555-3933 now!!!"
    And I should not see the phrase "You click this button under the pains and penalties of perjury"

  Scenario: Test the interview "Hyperlink"
    Given I start the interview "docassemble.base:data/questions/examples/dalink.yml"
    Then I should see the phrase "Tell me about a hyperlink."
    And I set "URL" to "https://docassemble.org"
    And I set "Anchor text" to "Dòcassemble"
    And I click the button "Continue"
    Then I should see the phrase "Hyperlinks"
    And I should see the phrase "Hyperlink demonstration"
    And I should see the phrase "You can find all the information you need at Dòcassemble."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Progress meter"
    Given I start the interview "docassemble.base:data/questions/examples/progress-multi.yml"
    Then I should see the phrase "Are you doing well?"
    And I click the button "Yes"
    Then I should see the phrase "Are you bigger than a breadbox?"
    And I click the button "Yes"
    Then I should see the phrase "Great! Are you ready to go on to the next part?"
    And I click the button "Continue"
    Then I should see the phrase "Do you like turnips?"
    And I click the button "No"
    Then I should see the phrase "Do you like clownfish?"
    And I click the button "Yes"
    Then I should see the phrase "Done with the interview."

  Scenario: Test the interview "Logarithmic range slider"
    Given I start the interview "docassemble.base:data/questions/examples/range-log.yml"
    Then I should see the phrase "What is the airspeed velocity, in miles per hour, of an unladen swallow?"
    And I click the button "Continue"
    Then I should see the phrase "That’s probably about right."

  Scenario: Test the interview "Review answers as part of interview"
    Given I start the interview "docassemble.base:data/questions/examples/review-field.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set "Fungi" to "button mushroom"
    And I click the button "Continue"
    Then I should see the phrase "Revisit your answers"
    And I click the button "Revisit vegetable"
    And I set "Vegetable" to "potato"
    And I click the button "Continue"
    Then I should see the phrase "You said your favorite vegetable was potato."
    And I click the button "Continue"
    Then I should see the phrase "All done"
    And I should see the phrase "You like apple, potato, and button mushroom."

  Scenario: Test the interview "Require user to log in"
    Given I start the interview "docassemble.base:data/questions/examples/user-logged-in.yml"
    And I wait 1 second
    Then I should see the phrase "Sign in"

  Scenario: Test the interview ".docx include with parameters"
    Given I start the interview "docassemble.demo:data/questions/examples/subdoc-params.yml"
    Then I should see the phrase "Including one .docx file in another .docx file with different variables each time"
    And I click the button "Continue"
    Then I should see the phrase "Give me some information."
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  # Scenario: Test the interview "Zip files"
  #   Given I start the interview "docassemble.base:data/questions/examples/zip-file.yml"

  Scenario: Test the interview "Allowing documents to be downloaded"
    Given I start the interview "docassemble.base:data/questions/examples/allow-downloading-true.yml"
    Then I should see the phrase "Your documents are ready."
    And I should see the phrase "Download all documents as a ZIP file"

  Scenario: Test the interview "Allowing documents to be downloaded with special name"
    Given I start the interview "docassemble.base:data/questions/examples/allow-downloading-true-zip-filename.yml"
    Then I should see the phrase "Your documents are ready."
    And I should see the phrase "Download all documents as a ZIP file"

  Scenario: Test the interview "Centered"
    Given I start the interview "docassemble.base:data/questions/examples/centered.yml"
    Then I should see the phrase "Are you doing well?"
    And I click the button "Yes"
    Then I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "Text to the right of the question"
    Given I start the interview "docassemble.base:data/questions/examples/right.yml"
    Then I should see the phrase "What is the airspeed velocity of an unladen swallow?"
    And I should see the phrase "Note"
    And I should see the phrase "If you did not catch this movie reference, you need to improve your cultural literacy."
    And I set "Velocity" to "40 mph"
    And I click the button "Continue"
    Then I should see the phrase "The velocity is 40 mph."

  # Scenario: Test the interview "Address autocomplete in New Zealand"
  #   Given I start the interview "docassemble.base:data/questions/examples/address-autocomplete-nz.yml"

  # Scenario: Test the interview "Address autocomplete test"
  #   Given I start the interview "docassemble.base:data/questions/examples/address-autocomplete-test.yml"

  Scenario: Test the interview "Radio buttons within fields"
    Given I start the interview "docassemble.base:data/questions/examples/radio-list-mobile.yml"
    Then I should see the phrase "Describe your car."
    And I set "Number of wheels" to "4"
    And I click the option "Hatchback" under "Type"
    And I click the option "Buick" under "Model"
    And I click the button "Continue"
    Then I should see the phrase "Your Hatchback, which is from United States, has 4 wheels."

  Scenario: Test the interview "Text to the right of the question"
    Given I start the interview "docassemble.base:data/questions/examples/right-centered.yml"
    Then I should see the phrase "What is the airspeed velocity of an unladen swallow?"
    And I should see the phrase "If you did not catch this movie reference, you need to improve your cultural literacy."
    And I set "Velocity" to "2"
    And I click the button "Continue"
    Then I should see the phrase "The velocity is 2."

  Scenario: Test the interview "Interview inside interview"
    Given I start the interview "docassemble.demo:data/questions/examples/interview_in_interview.yml"
    Then I should see the phrase "What interview would you like to complete?"
    And I click the option "Vegetable quiz"
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "First name" to "Jöhn"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "How old are you, Jöhn Smith?"
    And I click the option "Spring chicken"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Favorite vegetable" to "potato"
    And I click the button "Continue"
    Then I should see the phrase "Vegetable quiz results"
    And I should see the phrase "You are still growing, Jöhn Smith, so you should eat lots of vegetables."
    And I should see the phrase "Your favorite vegetable is potato."
    And I click the button "Try again"
    Then I should see the phrase "What interview would you like to complete?"
    And I click the option "Legume quiz"
    And I click the button "Continue"
    Then I should see the phrase "Which of these are legumes?"
    And I click the option "Mango"
    And I click the option "Peanut"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite legume?"
    And I set "Favorite legume" to "peas"
    And I click the button "Continue"
    Then I should see the phrase "Legume quiz results"
    And I should see the phrase "You don’t know what a legume is."
    And I should see the phrase "You are still growing, Jöhn Smith, so you should eat lots of legumes."
    And I should see the phrase "Your favorite legume is peas."
    And I click the button "Try again"
    Then I should see the phrase "What interview would you like to complete?"

  # Scenario: Test the interview "Common file for workers compensation questions"
  #   Given I start the interview "docassemble.demo:data/questions/examples/wc_common.yml"

  # Scenario: Test the interview "Side of the bed"
  #   Given I start the interview "docassemble.demo:data/questions/examples/wc_side_of_bed.yml"

  # Scenario: Test the interview "List of interviews"
  #   Given I start the interview "docassemble.base:data/questions/examples/interview-list.yml"

  Scenario: Test the interview "Horizontal navigation bar"
    Given I start the interview "docassemble.base:data/questions/examples/sections-horizontal.yml"
    Then I should see the phrase "Welcome to the interview"

  # Scenario: Test the interview "Harry Potter or Heidegger?"
  #   Given I start the interview "docassemble.demo:data/questions/examples/harry-potter-or-heidegger.yml"

  # Scenario: Test the interview "Test signature on multiple pages"
  #   Given I start the interview "docassemble.demo:data/questions/test-sig-form.yml"

  Scenario: Test the interview "Disable others, with selecting color"
    Given I start the interview "docassemble.base:data/questions/examples/disable-others.yml"
    Then I should see the phrase "What is your favorite color?"
    And I select "Red" as the "Favorite color"
    And I wait 1 second
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is Red."

  Scenario: Test the interview "Disable others, with selecting other"
    Given I start the interview "docassemble.base:data/questions/examples/disable-others.yml"
    Then I should see the phrase "What is your favorite color?"
    And I set "Other" to "Orange"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is Orange."

  Scenario: Test the interview "Disable others with list, with selecting color"
    Given I start the interview "docassemble.base:data/questions/examples/disable-others-list.yml"
    Then I should see the phrase "What is your favorite color?"
    And I select "Blue" as the "Favorite color"
    And I wait 1 second
    And I set "Explain your reasoning" to "Because I like it."
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is Blue."

  Scenario: Test the interview "Disable others with list, with selecting other"
    Given I start the interview "docassemble.base:data/questions/examples/disable-others-list.yml"
    Then I should see the phrase "What is your favorite color?"
    And I set "Other" to "Orange"
    And I set "Second favorite color" to "Pink"
    And I set "Explain your reasoning" to "Because I like it"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is Orange."

  Scenario: Test the interview "Raise validation error, typing correct thing"
    Given I start the interview "docassemble.base:data/questions/examples/validation-error.yml"
    Then I should see the phrase "Repeat after me."
    And I set the text box to "I solemnly swear that I am up to no good."
    And I click the button "Continue"
    Then I should see the phrase "You are now allowed to use the Marauder’s Map."

  Scenario: Test the interview "Raise validation error, typing incorrect thing"
    Given I start the interview "docassemble.base:data/questions/examples/validation-error.yml"
    Then I should see the phrase "Repeat after me."
    And I set the text box to "I refuse."
    And I click the button "Continue"
    And I wait 2 seconds
    Then I should see the phrase "No, you typed it wrong."

  Scenario: Test the interview "Change language"
    Given I start the interview "docassemble.base:data/questions/examples/language-change.yml"
    Then I should see the phrase "What language do you speak?"
    And I click the "Español" option
    And I click the button "Continue"
    Then I should see the phrase "¿Cuál es el significado de la vida?"
    And I select "Cambiar idioma" from the menu
    Then I should see the phrase "What language do you speak?"
    And I click the "English" option
    And I click the button "Continue"
    Then I should see the phrase "What is the meaning of life?"

  Scenario: Test the interview "Combobox" in fields with selection
    Given I start the interview "docassemble.base:data/questions/examples/choices-combobox.yml"
    Then I should see the phrase "What is your favorite color?"
    And I select "Green" in the combobox
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is green."

  Scenario: Test the interview "Combobox" in fields with typing
    Given I start the interview "docassemble.base:data/questions/examples/choices-combobox.yml"
    Then I should see the phrase "What is your favorite color?"
    And I set the combobox text to "Orange"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is Orange."

  Scenario: Test the interview "Combobox" with selection
    Given I start the interview "docassemble.base:data/questions/examples/combobox.yml"
    Then I should see the phrase "What is your favorite color?"
    And I select "Green" in the combobox
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is green."

  Scenario: Test the interview "Combobox" in fields with typing
    Given I start the interview "docassemble.base:data/questions/examples/combobox.yml"
    Then I should see the phrase "What is your favorite color?"
    And I set the combobox text to "Orange"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite color is Orange."

  Scenario: Test the interview "Chart"
    Given I start the interview "docassemble.base:data/questions/examples/chart.yml"
    Then I should see the phrase "How many computers do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "How many books do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "How many pets do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "How many windows do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "Your stuff"

  Scenario: Test the interview "Google Chart"
    Given I start the interview "docassemble.base:data/questions/examples/googlechart.yml"
    Then I should see the phrase "How many computers do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "How many books do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "How many pets do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "How many windows do you have in your house?"
    And I click the button "Continue"
    Then I should see the phrase "Your stuff"

  Scenario: Test the interview "Non-required radio buttons" leaving field blank
    Given I start the interview "docassemble.base:data/questions/examples/non-required-radio.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Yes" option under "Do you like apricots?"
    And I click the button "Continue"
    Then I should see the phrase "likes_apricots is True"
    Then I should see the phrase "fruit_favorites is None"

  Scenario: Test the interview "Non-required radio buttons" filling out field
    Given I start the interview "docassemble.base:data/questions/examples/non-required-radio.yml"
    Then I should see the phrase "Please provide the following information."
    And I click the "Yes" option under "Do you like apricots?"
    And I click the "Apples" option under "Which of these do you like best?"
    And I click the button "Continue"
    Then I should see the phrase "likes_apricots is True."
    Then I should see the phrase "fruit_favorites is Apples."

  Scenario: Test the interview "Edit list"
    Given I start the interview "docassemble.base:data/questions/examples/edit-list-manual.yml"
    Then I should see the phrase "Who is the first person?"
    And I set "First Name" to "Jane"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is Jane Smith’s favorite fruit?"
    And I set "Fruit" to "kiwi"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the second person?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Doe"
    And I click the button "Continue"
    Then I should see the phrase "What is Jöhn Doe’s favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "No"
    Then I should see the phrase "Who is your favorite person?"
    And I select "Jöhn Doe" as the "Favorite"
    And I click the button "Continue"
    Then I should see the phrase "All done"
    And I should see the phrase "The people are Jane Smith and Jöhn Doe."
    And I should see the phrase "Your favorite is Jöhn Doe."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-5.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like orange, turnip, and button mushrooms."
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    And I should see the phrase "Your favorite fruit is orange."
    And I should see the phrase "Your favorite vegetable is turnip."
    And I should see the phrase "Your favorite fungus is button mushrooms."
    And I click the link "Edit"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "potato"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I click the button "Continue"
    Then I should see the phrase "Revisit your answers"
    And I should see the phrase "Your favorite fruit is orange."
    And I should see the phrase "Your favorite vegetable is potato."
    And I should see the phrase "Your favorite fungus is button mushrooms."
    And I click the button "Resume"
    Then I should see the phrase "You like orange, potato, and button mushrooms."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-6.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    And I should not see the phrase "Thank you for telling me about your food preferences."
    And I click the button "Resume"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "You like orange, turnip, and button mushrooms."
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    And I should see the phrase "Thank you for telling me about your food preferences."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-7.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "orange"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set the text box to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I set the text box to "button mushrooms"
    And I click the button "Continue"
    Then I should see the phrase "Since you like orange and turnip, you would probably enjoy a orange-turnip salad."
    And I should see the phrase "Maybe with button mushrooms on top."
    And I select "Review Answers" from the menu
    Then I should see the phrase "Revisit your answers"
    Then I should see the phrase "We expect you would enjoy a orange-turnip salad."
    And I click the link "Edit"
    Then I should see the phrase "What is your favorite fruit?"
    And I set the text box to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fungi?"
    And I click the button "Continue"
    Then I should see the phrase "We expect you would enjoy a apple-turnip salad."
    And I click the button "Resume"
    Then I should see the phrase "Since you like apple and turnip, you would probably enjoy a apple-turnip salad."

  Scenario: Test the interview "Edit list"
    Given I start the interview "docassemble.base:data/questions/examples/review-edit-list.yml"
    Then I should see the phrase "Who is the first person?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is Jöhn Smith’s favorite fruit?"
    And I set "Fruit" to "apples"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the second person?"
    And I set "First Name" to "Jane"
    And I set "Last Name" to "Doe"
    And I click the button "Continue"
    Then I should see the phrase "What is Jane Doe’s favorite fruit?"
    And I set "Fruit" to "kiwi"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "No"
    Then I should see the phrase "Who is your favorite person?"
    And I select "Jane Doe" as the "Favorite"
    And I click the button "Continue"
    Then I should see the phrase "Thank you for your answers!"
    And I should see the phrase "The people are Jöhn Smith and Jane Doe and your favorite is Jane Doe."
    And I click the link "edit your answers"
    Then I should see the phrase "Edit your answers"
    And I click the second link "Edit"
    Then I should see the phrase "Edit the people"
    And I click the button "Continue"
    Then I should see the phrase "Edit your answers"
    And I click the button "Resume"
    Then I should see the phrase "Thank you for your answers!"

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-9.yml"
    Then I should see the phrase "What is a?"
    And I set "a" to "10"
    And I click the button "Continue"
    Then I should see the phrase "What is b?"
    And I set "b" to "5"
    And I click the button "Continue"
    Then I should see the phrase "What is c?"
    And I set "c" to "2"
    And I click the button "Continue"
    Then I should see the phrase "The answer is 13.0."
    And I click the link "change this"
    Then I should see the phrase "Revisit the equation"
    And I should see the phrase "10.0 + 5.0 - 2.0 = 13.0"
    And I click the link "Change this"
    Then I should see the phrase "What is a?"
    And I set "a" to "15"
    And I click the button "Continue"
    Then I should see the phrase "What is b?"
    And I set "b" to "13"
    And I click the button "Continue"
    Then I should see the phrase "What is c?"
    And I set "c" to "12"
    And I click the button "Continue"
    Then I should see the phrase "Revisit the equation"
    And I should see the phrase "15.0 + 13.0 - 12.0 = 16.0"
    And I click the button "Resume"
    Then I should see the phrase "The answer is 16.0."

  Scenario: Test the interview "Error help"
    Given I start the possibly error-producing interview "docassemble.base:data/questions/examples/error-help.yml"
    Then I should see the phrase "We are sorry."

  Scenario: Test the interview "Adding object to list"
    Given I start the interview "docassemble.base:data/questions/examples/append-list.yml"
    Then I should see the phrase "What is the name of the first person?"
    And I set "First name" to "Fred"
    And I set "Last name" to "Flinstone"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second person?"
    And I set "First name" to "Barney"
    And I set "Last name" to "Rubble"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "No"
    Then I should see the phrase "Who is your doctor?"
    And I set "First name" to "Bamm-Bamm"
    And I set "Last name" to "Rubble"
    And I click the button "Continue"
    Then I should see the phrase "What Fred Flinstone’s age?"
    And I set "Age in years" to "40"
    And I click the button "Continue"
    Then I should see the phrase "What Barney Rubble’s age?"
    And I set "Age in years" to "38"
    And I click the button "Continue"
    Then I should see the phrase "What Bamm-Bamm Rubble’s age?"
    And I set "Age in years" to "4"
    And I click the button "Continue"
    Then I should see the phrase "The people are:"
    And I should see the phrase "Fred Flinstone is 40 years old."
    And I should see the phrase "Barney Rubble is 38 years old."
    And I should see the phrase "Bamm-Bamm Rubble is 4 years old."

  Scenario: Test the interview "Shallow copy"
    Given I start the interview "docassemble.base:data/questions/examples/copy-shallow.yml"
    Then I should see the phrase "What is the company’s name?"
    And I set "Name" to "ABC"
    And I click the button "Continue"
    Then I should see the phrase "Who is the CEO of ABC?"
    And I set "First Name" to "Abe"
    And I set "Last Name" to "Brown"
    And I click the button "Continue"
    Then I should see the phrase "Who is the CFO of ABC?"
    And I set "First Name" to "Fred"
    And I set "Last Name" to "Farley"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the first employee of ABC?"
    And I set "First Name" to "Emily"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other employees of ABC?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second employee of ABC?"
    And I set "First Name" to "Thomas"
    And I set "Last Name" to "Miller"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other employees of ABC?"
    And I click the button "No"
    Then I should see the phrase "Edit company info"
    And I click the second link "Edit"
    Then I should see the phrase "Who is the CEO of ABC?"
    And I set "First Name" to "Abraham"
    And I click the button "Continue"
    Then I should not see the phrase "Abe Brown"
    And I click the first link "Edit"
    Then I should see the phrase "What is the company’s name?"
    And I set "Name" to "Abbott Bouvier Centurion"
    And I click the button "Continue"
    Then I should see the phrase "ABC"

  Scenario: Test the interview "Deep copy"
    Given I start the interview "docassemble.base:data/questions/examples/copy-deep.yml"
    Then I should see the phrase "What is the company’s name?"
    And I set "Name" to "ABC"
    And I click the button "Continue"
    Then I should see the phrase "Who is the CEO of ABC?"
    And I set "First Name" to "Abe"
    And I set "Last Name" to "Brown"
    And I click the button "Continue"
    Then I should see the phrase "Who is the CFO of ABC?"
    And I set "First Name" to "Fred"
    And I set "Last Name" to "Farley"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the first employee of ABC?"
    And I set "First Name" to "Emily"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other employees of ABC?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second employee of ABC?"
    And I set "First Name" to "Thomas"
    And I set "Last Name" to "Miller"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other employees of ABC?"
    And I click the button "No"
    Then I should see the phrase "Edit company info"
    And I click the second link "Edit"
    Then I should see the phrase "Who is the CEO of ABC?"
    And I set "First Name" to "Abraham"
    And I click the button "Continue"
    Then I should see the phrase "Abe Brown"
    And I click the fourth link "Edit"
    And I click the second link " Delete"
    Then I should not see the phrase "Thomas Miller"
    And I click the button "Continue"
    Then I should see the phrase "Thomas Miller"

  Scenario: Test the interview "Numbers"
    Given I start the interview "docassemble.base:data/questions/examples/number-field-step.yml"
    Then I should see the phrase "How much gold and silver do you have?"
    And I set "Ounces of gold" to "1.01002121"
    And I set "Ounces of silver" to "2.012"
    And I click the button "Continue"
    Then I should see the phrase "You have 1.01002121 ounces of gold."
    And I should see the phrase "You have 2.012 ounces of silver"

  Scenario: Test the interview "Continue button variable"
    Given I start the interview "docassemble.base:data/questions/examples/continue-button-field.yml"
    Then I should see the phrase "Welcome to the interview!"
    And I set "Your phone number" to "202-555-2323"
    And I click the button "Continue"
    Then I should see the phrase "user_saw_intro is True"

  Scenario: Test the interview "Show fields with JavaScript"
    Given I start the interview "docassemble.base:data/questions/examples/jsshowif.yml"
    Then I should see the phrase "Please fill in the following information."
    And I should not see the phrase "Favorite fungus"
    And I set "Favorite fruit" to "apple"
    And I unfocus
    And I wait 1 second
    Then I should see the phrase "Favorite fungus"
    And I set "Favorite fruit" to "mango"
    And I unfocus
    And I wait 1 second
    Then I should not see the phrase "Favorite fungus"
    And I should not see the phrase "Favorite spice"
    And I set "Favorite fruit" to "banana"
    And I unfocus
    And I wait 1 second
    Then I should see the phrase "Favorite spice"
    And I set "Favorite vegetable" to "potato"
    And I set "Favorite spice" to "coriander"
    And I click the button "Continue"
    Then I should see the phrase "Please fill in the following information."
    And I should not see the phrase "Favorite dish"
    And I select "Chinese food" as the "Favorite cuisine"
    And I wait 1 second
    Then I should see the phrase "Favorite dish"
    And I set "Favorite dish" to "lo mein"
    And I click the button "Continue"
    Then I should see the phrase "Please fill in the following information."
    And I should not see the phrase "Favorite TV show"
    And I should not see the phrase "Favorite radio station"
    And I should not see the phrase "Favorite modulation type"
    And I should not see the phrase "Favorite antenna style"
    And I click the option "Yes" under "Do you watch TV?"
    And I wait 1 second
    And I set "Favorite TV show" to "Chips"
    And I click the option "I listen to the radio"
    And I wait 1 second
    Then I should see the phrase "Favorite radio station"
    And I should see the phrase "Favorite modulation type"
    And I set "Favorite radio station" to "WABC"
    And I click the option "AM" under "Favorite modulation type"
    And I wait 1 second
    Then I should not see the phrase "Favorite antenna style"
    And I click the option "FM" under "Favorite modulation type"
    And I wait 1 second
    Then I should see the phrase "Favorite antenna style"
    And I set "Favorite antenna style" to "rooftop"
    And I click the button "Continue"
    Then I should see the phrase "Please fill in the following information."
    And I should not see the phrase "Favorite way to eat apples and plums"
    And I click the option "Apple" under "Select the fruits you like"
    And I wait 1 second
    Then I should not see the phrase "Favorite way to eat apples and plums"
    And I click the option "Plum" under "Select the fruits you like"
    And I wait 1 second
    Then I should see the phrase "Favorite way to eat apples and plums"
    And I click the option "Plum" under "Select the fruits you like"
    And I wait 1 second
    Then I should not see the phrase "Favorite way to eat apples and plums"
    And I click the button "Continue"
    Then I should see the phrase "Thank you for that information."
    And I should see the phrase "You like banana, Chinese food."
    And I should see the phrase "Your favorite TV show is Chips."
    And I should see the phrase "Your favorite radio station is WABC."
    And I should see the phrase "You like Apple."

  Scenario: Test the interview "Field value"
    Given I start the interview "docassemble.base:data/questions/examples/val.yml"
    Then I should see the phrase "What do you want for dessert?"
    And I set "Dessert" to "apple pie"
    And I unfocus
    And I click the button "Eat it"
    Then I should see the phrase "What do you want for dessert besides apple pie?"
    And I click the button "Continue"
    Then I should see the phrase "Your last dessert was apple pie."

  Scenario: Test the interview "Nested checkbox show if"
    Given I start the interview "docassemble.base:data/questions/examples/showif-nested-checkbox.yml"
    Then I should see the phrase "Please fill in the following information."
    Then I should not see the phrase "Do you like apples?"
    Then I should not see the phrase "Favorite varieties"
    Then I should not see the phrase "Why do you like Fuji apples?"
    And I click the "Yes" option under "Do you like fruit?"
    And I wait 1 second
    Then I should not see the phrase "Favorite varieties"
    Then I should not see the phrase "Why do you like Fuji apples?"
    And I click the "Yes" option under "Do you like apples?"
    And I wait 1 second
    Then I should not see the phrase "Why do you like Fuji apples?"
    And I click the "Gala" option under "Favorite varieties"
    And I wait 1 second
    Then I should not see the phrase "Why do you like Fuji apples?"
    And I click the "Fuji" option under "Favorite varieties"
    And I wait 1 second
    And I set "Why do you like Fuji apples?" to "because they are good in pies"
    And I click the button "Continue"

  Scenario: Test the interview "Field element"
    Given I start the interview "docassemble.base:data/questions/examples/getField.yml"
    Then I should see the phrase "What do you want for dessert?"
    And I set "Dessert" to "apple pie"
    And I unfocus
    And I click the button "Eat it"
    Then I should see the phrase "What do you want for dessert besides apple pie?"
    And I click the button "Continue"
    Then I should see the phrase "Your last dessert was apple pie."

  Scenario: Test the interview "Set field"
    Given I start the interview "docassemble.base:data/questions/examples/setField.yml"
    Then I should see the phrase "What groceries should we buy for tomorrow’s breakfast?"
    And I click the button "Decide for me"
    And I wait 1 second
    And I click the button "Continue"
    Then I should see the phrase "We will buy the following."
    And I should see the phrase "Lucky Charms"
    And I should see the phrase "Cream of wheat"
    And I should see the phrase "Apple and Orange juice"
    And I should see the phrase "Bread and jam"

  Scenario: Test the interview "Refresh"
    Given I start the interview "docassemble.base:data/questions/examples/ajax-refresh.yml"
    Then I should see the phrase "Tell me which thing you want."
    And I set "How many things are there?" to "5"
    And I unfocus
    And I wait 8 seconds
    And I click the option "4" under "Which thing do you want?"
    And I wait 2 seconds
    And I click the button "Continue"
    Then I should see the phrase "You picked thing 4."

  Scenario: Test the interview "Progress bar with %"
    Given I start the interview "docassemble.base:data/questions/examples/progress-features-percentage.yml"
    Then I should see the phrase "Are you doing well?"
    And I should see the phrase "20%"
    And I click the button "Yes"
    Then I should see the phrase "Done with the interview."
    And I should see the phrase "I am glad you are doing well."

  Scenario: Test the interview "Redact text Markdown"
    Given I start the interview "docassemble.base:data/questions/examples/redact.yml"
    Then I should see the phrase "Tell me about yourself."
    And I set "First name" to "Jöhn"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Where do you live?"
    And I set "Address" to "82 New Saddle Ave."
    And I set "City" to "Maplewood"
    And I select "New Jersey" as the "State"
    And I set "Zip" to "07040"
    And I click the button "Continue"
    Then I should see the phrase "How much do you want to sue for?"
    And I set "Amount" to "500"
    And I click the button "Continue"
    Then I should see the phrase "Unredacted petition"
    And I should see the phrase "Redacted petition"
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "Redact text DOCX"
    Given I start the interview "docassemble.demo:data/questions/examples/redact-docx.yml"
    Then I should see the phrase "Tell me about yourself."
    And I set "First name" to "Jöhn"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Where do you live?"
    And I set "Address" to "82 New Saddle Ave."
    And I set "City" to "Maplewood"
    And I select "New Jersey" as the "State"
    And I set "Zip" to "07040"
    And I click the button "Continue"
    Then I should see the phrase "How much do you want to sue for?"
    And I set "Amount" to "500"
    And I click the button "Continue"
    Then I should see the phrase "Unredacted petition"
    And I should see the phrase "Redacted petition"
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "Redact text PDF"
    Given I start the interview "docassemble.demo:data/questions/examples/redact-pdf.yml"
    Then I should see the phrase "Tell me about yourself."
    And I set "First name" to "Jöhn"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "How much do you want to sue for?"
    And I set "Amount" to "500"
    And I click the button "Continue"
    Then I should see the phrase "Where do you live?"
    And I set "Address" to "82 New Saddle Ave."
    And I set "City" to "Maplewood"
    And I select "New Jersey" as the "State"
    And I set "Zip" to "07040"
    And I click the button "Continue"
    Then I should see the phrase "Unredacted petition"
    And I should see the phrase "Redacted petition"
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "Update references"
    Given I start the interview "docassemble.demo:data/questions/examples/update-references.yml"
    Then I should see the phrase "How verbose are you?"
    And I click the button "Continue"
    Then I should see the phrase "Do you want to include a jurisdiction section?"
    And I click the button "No"
    Then I should see the phrase "Here is your document"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Markdown template in .docx"
    Given I start the interview "docassemble.demo:data/questions/examples/markdown-template.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "péaches"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Debug mode"
    Given I start the interview "docassemble.base:data/questions/examples/debug-mode.yml"
    Then I should not see the phrase "Source"
    And I click the button "Continue"
    Then I should see the phrase "Thanks for completing the interview!"
    And I should not see the phrase "Markdown"

  Scenario: Test the interview "Multiple choice pulldown with explicit input type"
    Given I start the interview "docassemble.base:data/questions/examples/fields-choices-dropdown-input-type.yml"
    And I select "Clogs" as the "Shoe Type"
    And I click the button "Continue"
    Then I should see the phrase "target_variable is: “Clogs”"

  Scenario: Test the interview "Hide login"
    Given I start the interview "docassemble.base:data/questions/examples/show-login.yml"
    Then I should not see the phrase "Sign in or sign up to save answers"

  Scenario: Test the interview "A/B Test"
    Given I start the interview "docassemble.demo:data/questions/examples/ab-test.yml"
    Then I should see the phrase "Continue"

  Scenario: Test the interview "Back button inside question on some questions"
    Given I start the interview "docassemble.base:data/questions/examples/question-back-button-sometimes.yml"
    Then I should see the phrase "Are you doing well?"
    And I click the button "No"
    Then I should see the phrase "Is the sky blue?"
    And I click the button "Yes"
    Then I should see the phrase "Done with the interview."

  Scenario: Test the interview "Back button inside question on some questions"
    Given I start the interview "docassemble.base:data/questions/examples/question-back-button-sometimes-label.yml"
    Then I should see the phrase "Are you doing well?"
    And I click the button "No"
    Then I should see the phrase "Is the sky blue?"
    And I should see the phrase "Wait, go back"
    And I click the button "Yes"
    Then I should see the phrase "Done with the interview."
    And I should not see the phrase "Wait, go back"

  Scenario: Test the interview "Curly quotes in Jinja2"
    Given I start the interview "docassemble.demo:data/questions/examples/quotes-in-code.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "applés"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Vegetable" to "turnips"
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Looping over columns in .docx"
    Given I start the interview "docassemble.base:data/questions/examples/docx-table-columns.yml"
    Then I should see the phrase "Looping over the columns of a table"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the grantor?"
    And I set "First name" to "Jöhn"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the grantee?"
    And I set "First name" to "Jane"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Which income types do Jöhn Smith or Jane Smith receive?"
    And I click the option "Employment" under "Types of income"
    And I click the option "Benefits" under "Types of income"
    And I click the button "Continue"
    Then I should see the phrase "How much does Jöhn Smith receive"
    And I set "Income" to "0"
    And I click the button "Continue"
    Then I should see the phrase "How much does Jöhn Smith receive"
    And I set "Income" to "405"
    And I click the button "Continue"
    Then I should see the phrase "How much does Jane Smith receive"
    And I set "Income" to "106"
    And I click the button "Continue"
    Then I should see the phrase "How much does Jane Smith receive"
    And I set "Income" to "76"
    And I click the button "Continue"
    Then I should see the phrase "Here is a summary of the income of the grantor and grantee."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Notes on side"
    Given I start the interview "docassemble.base:data/questions/examples/side-note.yml"
    Then I should see the phrase "What is 2+2?"
    And I should see the phrase "Hint: 2 + 2 = 4."
    And I select "4" as the "Answer"
    And I click the button "Continue"
    Then I should see the phrase "You are brilliant!"

  Scenario: Test the interview "HTML on side"
    Given I start the interview "docassemble.base:data/questions/examples/side-html.yml"
    Then I should see the phrase "What is 2+2?"
    And I should see the phrase "Hint: 2 + 2 = 4."
    And I select "4" as the "Answer"
    And I click the button "Continue"
    Then I should see the phrase "You are brilliant!"

  Scenario: Test the interview "Notes on review side"
    Given I start the interview "docassemble.base:data/questions/examples/review-side-note.yml"
    Then I should see the phrase "Review your answers"
    And I should see the phrase "Do not use a pseudonym, please."
    And I should see the phrase "This should be a tasty fruit."
    And I click the button "Continue"
    Then I should see the phrase "You are done with the interview."

  Scenario: Test the interview "Redo multiple choice"
    Given I start the interview "docassemble.base:data/questions/examples/forget-result-of.yml"
    Then I should see the phrase "What is your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "Ok, are any of these your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "I give up. Just tell me your favorite food."
    And I set "Favorite food" to "pasta"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is pasta."
    And I click the link "Ask it again"
    Then I should see the phrase "What is your favorite food?"
    And I click the "Something else" option
    And I click the button "Continue"
    Then I should see the phrase "Ok, are any of these your favorite food?"
    And I click the "Grapes" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite food is grapes."

  Scenario: Test the interview "Redo mandatory"
    Given I start the interview "docassemble.base:data/questions/examples/forget-result-of-mandatory.yml"
    Then I should see the phrase "You said your favorite fruit is apple and your favorite vegetable is turnip."
    And I click the button "No"
    Then I should see the phrase "What are your favorites?"
    And I set "Favorite fruit" to "peaches"
    And I set "Favorite vegetable" to "potatoes"
    And I click the button "Continue"
    Then I should see the phrase "You said your favorite fruit is peaches and your favorite vegetable is potatoes."
    And I click the button "Continue"
    Then I should see the phrase "You said your favorite fruit is apple and your favorite vegetable is turnip."

  Scenario: Test the interview "Temporary URL"
    Given I start the interview "docassemble.base:data/questions/examples/dafile-url-for-temporary.yml"
    Then I should see the phrase "This interview is all done."

  Scenario: Test the interview "Review answers"
    Given I start the interview "docassemble.base:data/questions/examples/review-conditional.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Apple" option
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite apple?"
    And I set "Favorite apple variety" to "Granny Smith"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is Apple."
    Then I should see the phrase "Your favorite apple is Granny Smith."
    And I click the button "Continue"
    Then I should see the phrase "Please review the results."
    And I click the link "Edit"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Orange" option
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is Orange."
    And I click the link "Edit"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the "Apple" option
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite apple?"
    And I set "Favorite apple variety" to "Red Delicious"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is Apple."
    Then I should see the phrase "Your favorite apple is Red Delicious."
    And I click the button "Continue"
    Then I should see the phrase "Thank you for your time."

  Scenario: Test the interview "Reconsidering computed values"
    Given I start the interview "docassemble.base:data/questions/examples/reconsider-function.yml"
    Then I should see the phrase "How many cats do you have?"
    And I set "Cats" to "3"
    And I click the button "Continue"
    Then I should see the phrase "How many dogs do you have?"
    And I set "Dogs" to "0"
    And I click the button "Continue"
    Then I should see the phrase "You have three pets."
    And I click the button "Continue"
    Then I should see the phrase "How many dogs do you really have?"
    And I set "Dogs" to "2"
    And I click the button "Continue"
    Then I should see the phrase "Do you want a goldfish?"
    And I click the button "No"
    Then I should see the phrase "You really have five pets."

  Scenario: Test the interview "Table for dictionary"
    Given I start the interview "docassemble.base:data/questions/examples/table-dict.yml"
    Then I should see the phrase "Summary"
    And I should see the phrase "benefits"
    And I should see the phrase "employment"
    And I should see the phrase "interest"
    And I should see the phrase "237.00"
    And I should see the phrase "23.00"

  Scenario: Test the interview "Review table"
    Given I start the interview "docassemble.base:data/questions/examples/review-edit-list-table.yml"
    Then I should see the phrase "Who is the first person?"
    And I set "First Name" to "Jöhn"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is Jöhn Smith’s favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the second person?"
    And I set "First Name" to "Sally"
    And I set "Last Name" to "Jones"
    And I click the button "Continue"
    Then I should see the phrase "What is Sally Jones’s favorite fruit?"
    And I set "Fruit" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "No"
    And I click the link "edit your answers"
    And I click the first link " Edit"
    Then I should see the phrase "Who is the first person?"
    And I set "First Name" to "Jöhnny"
    And I click the button "Continue"
    Then I should see the phrase "What is Jöhnny Smith’s favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "Jöhnny Smith"
    And I click the button "Resume"
    Then I should see the phrase "Thank you for your answers!"

  Scenario: Test the interview "Delete buttons"
    Given I start the interview "docassemble.base:data/questions/examples/table-dict-delete-buttons.yml"
    Then I should see the phrase "Income from benefits"
    And I click the option "Yes" under "Do you get income from benefits?"
    And I wait 1 second
    And I set "How much do you get from benefits?" to "434"
    And I click the button "Continue"
    Then I should see the phrase "Income from employment"
    And I click the option "No" under "Do you get income from employment?"
    And I click the button "Continue"
    Then I should see the phrase "Income from interest"
    And I click the option "Yes" under "Do you get income from interest?"
    And I wait 1 second
    And I set "How much do you get from interest?" to "532"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I should see the phrase "benefits"
    And I should not see the phrase "Edit"
    And I should see the phrase "Delete"
    And I click the first link " Delete"
    Then I should see the phrase "Summary"
    And I should not see the phrase "benefits"

  Scenario: Test the interview "No delete buttons"
    Given I start the interview "docassemble.base:data/questions/examples/table-dict-edit-delete-buttons.yml"
    Then I should see the phrase "Income from benefits"
    And I click the option "Yes" under "Do you get income from benefits?"
    And I wait 1 second
    And I set "How much do you get from benefits?" to "434"
    And I click the button "Continue"
    Then I should see the phrase "Income from employment"
    And I click the option "No" under "Do you get income from employment?"
    And I click the button "Continue"
    Then I should see the phrase "Income from interest"
    And I click the option "Yes" under "Do you get income from interest?"
    And I wait 1 second
    And I set "How much do you get from interest?" to "532"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I should not see the phrase "Delete"
    And I click the second link " Edit"
    Then I should see the phrase "Income from employment"
    And I click the option "Yes" under "Do you get income from employment?"
    And I wait 1 second
    And I set "How much do you get from employment?" to "559"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I should see the phrase "559"

  Scenario: Test the interview "Minimum number"
    Given I start the interview "docassemble.base:data/questions/examples/table-dict-edit-minimum-number.yml"
    And I click the option "Yes" under "Do you get income from benefits?"
    And I wait 1 second
    And I set "How much do you get from benefits?" to "434"
    And I click the button "Continue"
    Then I should see the phrase "Income from employment"
    And I click the option "No" under "Do you get income from employment?"
    And I click the button "Continue"
    Then I should see the phrase "Income from interest"
    And I click the option "Yes" under "Do you get income from interest?"
    And I wait 1 second
    And I set "How much do you get from interest?" to "532"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I should not see the phrase "Delete"
    And I click the button " Add another"
    Then I should see the phrase "What new income type would you like to add?"
    And I set "Type" to "dividends"
    And I click the button "Continue"
    Then I should see the phrase "Income from dividends"
    And I click the option "Yes" under "Do you get income from dividends?"
    And I wait 1 second
    And I set "How much do you get from dividends?" to "987"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I click the first link " Delete"
    Then I should see the phrase "Summary"
    And I should not see the phrase "Delete"

  Scenario: Test the interview "Edit table for dictionary"
    Given I start the interview "docassemble.base:data/questions/examples/table-dict-edit.yml"
    And I click the option "Yes" under "Do you get income from benefits?"
    And I wait 1 second
    And I set "How much do you get from benefits?" to "434"
    And I click the button "Continue"
    Then I should see the phrase "Income from employment"
    And I click the option "No" under "Do you get income from employment?"
    And I click the button "Continue"
    Then I should see the phrase "Income from interest"
    And I click the option "Yes" under "Do you get income from interest?"
    And I wait 1 second
    And I set "How much do you get from interest?" to "532"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I click the first link " Edit"
    Then I should see the phrase "Income from benefits"
    And I set "How much do you get from benefits?" to "343"
    And I click the button "Continue"
    Then I should see the phrase "343"
    And I click the third link " Delete"
    Then I should not see the phrase "interest"
    And I click the link " Add another"
    Then I should see the phrase "What new income type would you like to add?"
    And I set "Type" to "dividends"
    And I click the button "Continue"
    Then I should see the phrase "Income from dividends"
    And I click the option "Yes" under "Do you get income from dividends?"
    And I wait 1 second
    And I set "How much do you get from dividends?" to "987"
    And I click the button "Continue"
    Then I should see the phrase "Summary"
    And I should see the phrase "dividends"
    And I should see the phrase "987"

  Scenario: Test the interview "Table with read only"
    Given I start the interview "docassemble.base:data/questions/examples/table-read-only.yml"
    Then I should see the phrase "Do you want to add another fruit to the list?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about the fruit."
    And I set "Name" to "Grape"
    And I set "Seeds" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Do you want to add another fruit to the list?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about the fruit."
    And I set "Name" to "Watermelon"
    And I set "Seeds" to "43"
    And I click the button "Continue"
    Then I should see the phrase "Do you want to add another fruit to the list?"
    And I click the button "No"
    Then I should see the phrase "Table of fruits"
    And I should see the phrase "Grape"
    And I should see the phrase "Watermelon"
    And I click the first link " Edit"
    Then I should see the phrase "Tell me about the fruit."
    And I set "Name" to "Peach"
    And I set "Seeds" to "1"
    And I click the button "Continue"
    Then I should see the phrase "Table of fruits"
    And I should not see the phrase "Grape"

  Scenario: Test the interview "Table with read only specific"
    Given I start the interview "docassemble.base:data/questions/examples/table-read-only-2.yml"
    Then I should see the phrase "Do you want to add another fruit to the list?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about the fruit."
    And I set "Name" to "Grape"
    And I set "Seeds" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Do you want to add another fruit to the list?"
    And I click the button "Yes"
    Then I should see the phrase "Tell me about the fruit."
    And I set "Name" to "Watermelon"
    And I set "Seeds" to "43"
    And I click the button "Continue"
    Then I should see the phrase "Do you want to add another fruit to the list?"
    And I click the button "No"
    Then I should see the phrase "Table of fruits"
    And I should see the phrase "Apple"
    And I should see the phrase "Grape"
    And I should see the phrase "Watermelon"
    And I click the first link " Delete"
    Then I should see the phrase "Table of fruits"
    And I should not see the phrase "Apple"

  # Scenario: Test the interview "Command"
  #   Given I start the interview "docassemble.base:data/questions/examples/command.yml"

  Scenario: Test the interview "Default validation messages"
    Given I start the interview "docassemble.base:data/questions/examples/default-validation-messages.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "I would really like to know this. Please tell me!"
    And I set "Favorite Fruit" to "apples"
    And I set "How many seeds does it have?" to "542"
    And I unfocus
    Then I should see the phrase "No more than 100, please!"
    And I set "How many seeds does it have?" to "98"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit, apples, has 98 seeds."

  # Scenario: Test the interview "Edit list"
  #   Given I start the interview "docassemble.base:data/questions/examples/edit-list-non-editable.yml"

  Scenario: Test the interview "Mermaid"
    Given I start the interview "docassemble.base:data/questions/examples/mermaid.yml"
    Then I should see the phrase "Give me some names."
    And I click the button "Continue"
    Then I should see the phrase "Here is your diagram."

  Scenario: Test the interview "Non-progressive Navigation"
    Given I start the interview "docassemble.base:data/questions/examples/sections-non-progressive.yml"
    Then I should see the phrase "Welcome to the interview"

  Scenario: Test the interview "Table export"
    Given I start the interview "docassemble.base:data/questions/examples/table-export.yml"
    Then I should see the phrase "What fruit should be added to the list?"
    And I set "Fruit" to "apple"
    And I set "Number of seeds" to "4"
    And I set "When did you last eat one?" to "04/01/2018"
    And I click the button "Continue"
    Then I should see the phrase "So far, the fruits include apple. Are there any others?"
    And I click the button "No"
    Then I should see the phrase "Information about fruit"

  # Scenario: Test the interview "Upload specific file types"
  #   Given I start the interview "docassemble.base:data/questions/examples/upload-accept.yml"

  Scenario: Test the interview "Validation messages"
    Given I start the interview "docassemble.base:data/questions/examples/validation-messages.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I click the button "Continue"
    Then I should see the phrase "Come on, everyone has a favorite fruit."
    And I should see the phrase "I really need to know this."
    And I set "Favorite Fruit" to "apples"
    And I set "How many seeds does it have?" to "542"
    And I click the button "Continue"
    Then I should see the phrase "No fruit has that many seeds!"
    And I set "How many seeds does it have?" to "98"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit, apples, has 98 seeds."

  # Scenario: Test the interview "Overlay"
  #   Given I start the interview "docassemble.demo:data/questions/examples/overlay-pdf.yml"

  Scenario: Test the interview "Default screen parts"
    Given I start the interview "docassemble.base:data/questions/examples/default-screen-parts-override.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I should see the phrase "You all can just forget it, I am actually the under!!!"

  Scenario: Test the interview "Default screen parts"
    Given I start the interview "docassemble.base:data/questions/examples/default-screen-parts.yml"
    Then I should see the phrase "This interview was generously sponsored by Example, Inc."

  Scenario: Test the interview "Edit list"
    Given I start the interview "docassemble.base:data/questions/examples/edit-list-complete-complex.yml"
    Then I should see the phrase "Who is the first person?"
    And I set "First Name" to "John"
    And I set "Last Name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "What is John Smith’s favorite fruit?"
    And I set "Fruit" to "peach"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "No"
    Then I should see the phrase "Summary of answers"
    And I click the first link " Edit"
    Then I should see the phrase "Who is the first person?"
    And I click the button "Continue"
    Then I should see the phrase "What is John Smith’s favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is John Smith’s favorite apple?"
    And I set "Variety" to "Fuji"
    And I click the button "Continue"
    Then I should see the phrase "Summary of answers"
    And I click the button " Add another"
    Then I should see the phrase "Who is the second person?"
    And I set "First Name" to "Jane"
    And I set "Last Name" to "Doe"
    And I click the button "Continue"
    Then I should see the phrase "What is Jane Doe’s favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is Jane Doe’s favorite apple?"
    And I set "Variety" to "Granny Smith"
    And I click the button "Continue"
    Then I should see the phrase "Summary of answers"

  # Scenario: Test the interview "Config screen parts"
  #   Given I start the interview "docassemble.base:data/questions/examples/mainpage-demo-parts.yml"

  Scenario: Test the interview "Title"
    Given I start the interview "docassemble.base:data/questions/examples/metadata-screen-parts.yml"
    Then I should see the phrase "This is the pre part."
    And I should see the phrase "This is the right part."
    And I should see the phrase "This is the under part."
    And I should see the phrase "This is the post part."
    And I should see the phrase "This is the submit part."
    And I click the button "Help label"
    And I go back to the question screen
    And I set "Favorite fruit" to "apple"
    And I click the button "Continue button label"
    Then I should see the phrase "What is your favorite vegetable?"
    And I should see the phrase "Back button label"
    And I set "Favorite vegetable" to "turnip"
    And I click the button "Continue button label"
    Then I should see the phrase "Summary"

  Scenario: Test the interview "Code screen parts"
    Given I start the interview "docassemble.base:data/questions/examples/setparts-demo.yml"
    Then I should see the phrase "This is the pre part."
    And I should see the phrase "This is the right part."
    And I should see the phrase "This is the under part."
    And I should see the phrase "This is the post part."
    And I should see the phrase "This is the submit part."
    And I set "Favorite fruit" to "apple"
    And I click the button "Continue button label"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Favorite vegetable" to "turnip"
    And I click the button "Continue button label"

  Scenario: Test the interview "Complete method"
    Given I start the interview "docassemble.demo:data/questions/examples/complete-attribute-method.yml"
    Then I should see the phrase "Are there any fish?"
    And I click the button "Yes"
    Then I should see the phrase "What is the first fish’s common name?"
    And I set "Name" to "trout"
    And I click the button "Continue"
    Then I should see the phrase "Tell me more about the trout."
    And I set "Species name" to "Troutus magnificus"
    And I set "Number of scales" to "3"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more fish?"
    And I click the button "No"
    Then I should see the phrase "Thank you for telling me about trout."

  Scenario: Test the interview "Progressive disclosure"
    Given I start the interview "docassemble.demo:data/questions/examples/progressive-disclosure.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I should not see the phrase "What is a fruit?"
    And I click the link " Tell me more about fruit"
    And I wait 1 second
    Then I should see the phrase "What is a fruit?"

  Scenario: Test the interview "Error action"
    Given I start the interview "docassemble.base:data/questions/examples/error-action-2.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "We encountered an error, so we did the best we could to fill out the document."

  Scenario: Test the interview "Error action"
    Given I start the interview "docassemble.base:data/questions/examples/error-action.yml"
    Then I should see the phrase "This interview will encounter an error when you press Continue."
    And I click the button "Continue"
    Then I should see the phrase "Sorry, we have encountered an error."

  Scenario: Test the interview "Error help"
    Given I start the interview "docassemble.base:data/questions/examples/error-help-language.yml"
    Then I should see the phrase "We are sorry. An error has occurred."

  Scenario: Test the interview "Object radio buttons"
    Given I start the interview "docassemble.base:data/questions/examples/object-radio-nota.yml"
    Then I should see the phrase "Who is the villain?"
    And I click the "Someone else" option
    And I wait 1 second
    And I set "First name" to "John"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "John Smith will surely be defeated!"

  Scenario: Test the interview "Object radio buttons, picking existing object"
    Given I start the interview "docassemble.base:data/questions/examples/object-radio-nota.yml"
    Then I should see the phrase "Who is the villain?"
    And I click the "Harry Potter" option
    And I click the button "Continue"
    Then I should see the phrase "Harry Potter will surely be defeated!"

  Scenario: Test the interview "Disable others radio"
    Given I start the interview "docassemble.base:data/questions/examples/someone-already-mentioned3.yml"
    Then I should see the phrase "Who is the agent?"
    And I set "First name" to "John"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Who is the trustee?"
    And I set "First name" to "Jane"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "Who is the beneficiary?"
    And I click the "Jane Smith" option
    And I click the button "Continue"
    Then I should see the phrase "The agent is John Smith."
    And I should see the phrase "The trustee is Jane Smith."
    And I should see the phrase "The beneficiary is Jane Smith."

  Scenario: Test the interview "Suppress loading util"
    Given I start the interview "docassemble.base:data/questions/examples/suppress-loading-util.yml"
    Then I should see the phrase "Individual is not defined."

  # Scenario: Test the interview "Table reordering"
  #   Given I start the interview "docassemble.base:data/questions/examples/table-reorder.yml"

  Scenario: Test the interview "New or existing object"
    Given I start the interview "docassemble.demo:data/questions/examples/new-or-existing.yml"
    Then I should see the phrase "Who is the boss?"
    And I click the option "New" under "Existing or New"
    And I wait 1 second
    And I set "First Name" to "John"
    And I set "Last Name" to "Smith"
    And I set "Birthday" to "04/06/2000"
    And I click the button "Continue"
    Then I should see the phrase "Who is the employee?"
    And I select "John Smith" as the "Person"
    And I click the button "Continue"
    Then I should see the phrase "Are there any customers?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the first customer?"
    And I click the option "New" under "Existing or New"
    And I wait 1 second
    And I set "First Name" to "Fred"
    And I set "Last Name" to "Jones"
    And I set "Birthday" to "02/16/1995"
    And I click the button "Continue"
    Then I should see the phrase "Is there another customer?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the second customer?"
    And I select "John Smith" as the "Person"
    And I click the button "Continue"
    Then I should see the phrase "Is there another customer?"
    And I click the button "No"
    Then I should see the phrase "Summary"
    And I should see the phrase "The boss is John Smith."
    And I should see the phrase "The employee is John Smith."
    And I should see the phrase "The customers are Fred Jones and John Smith."
    And I should see the phrase "Either the boss or the employee is also a customer."

  Scenario: Test the interview "Resume via e-mail link"
    Given I start the interview "docassemble.demo:data/questions/examples/save-continue-later.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Favorite fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I click the link "Save and resume later"
    Then I should see the phrase "How to resume your interview later"
    And I click the "No thanks" option
    And I wait 1 second
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"

  Scenario: Test the interview "Tagged PDF file"
    Given I start the interview "docassemble.demo:data/questions/examples/tagged-pdf.yml"
    Then I should see the phrase "Your document is ready."
    And I should see the phrase "The following document has been created for you."

  # Scenario: Test the interview "JSON response"
  #   Given I start the interview "docassemble.base:data/questions/examples/json-response.yml"

  # Scenario: Test the interview "API"
  #   Given I start the interview "docassemble.demo:data/questions/examples/get-time.yml"
  #   Then I should see the phrase "The time"
  #   And I should see the phrase "According to the World Clock API, the current time in the Eastern time zone is"

  Scenario: Test the interview "Sample version 1"
    Given I start the interview "docassemble.demo:data/questions/examples/turnips-worms.yml"
    Then I should see the phrase "Do you like turnips?"
    And I click the button "Yes"
    Then I should see the phrase "When did you stop idolizing worms?"
    And I set "Date" to "04/01/2010"
    And I click the button "Continue"
    Then I should see the phrase "Turnips are gross."
    And I should see the phrase "Wow, you idolize worms. That is very odd!"

  Scenario: Test the interview "Sample version 2"
    Given I start the interview "docassemble.demo:data/questions/examples/turnips-worms.yml"
    Then I should see the phrase "Do you like turnips?"
    And I click the button "No"
    Then I should see the phrase "When did you stop idolizing worms?"
    And I set "Date" to "04/01/2024"
    And I click the button "Continue"
    Then I should see the phrase "I can’t believe you don’t like turnips."
    And I should see the phrase "So, you idolize worms now, but plan to stop on April 1, 2024."
    And I should see the phrase "Interesting."

  Scenario: Test the interview "Buttons that run code"
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-color-iterator.yml"
    Then I should see the phrase "What is the name of the first person?"
    And I set "Name" to "Edward Ableton"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second person?"
    And I set "Name" to "Melissa Duncan"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "No"
    Then I should see the phrase "What is Edward Ableton’s favorite color?"
    And I click the button "Red"
    Then I should see the phrase "Does Edward Ableton prefer dark red or light red?"
    And I click the button "Light Red"
    Then I should see the phrase "What is Melissa Duncan’s favorite color?"
    And I click the button "Green"
    Then I should see the phrase "Does Melissa Duncan prefer dark green or light green?"
    And I click the button "Dark Green"
    Then I should see the phrase "Edward Ableton’s favorite color is Light Red."
    And I should see the phrase "Melissa Duncan’s favorite color is Dark Green."

  Scenario: Test the interview "Buttons that run code"
    Given I start the interview "docassemble.base:data/questions/examples/buttons-code-iterator.yml"
    Then I should see the phrase "What is the name of the first person?"
    And I set "Name" to "Edward Ableton"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second person?"
    And I set "Name" to "Melissa Duncan"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "No"
    Then I should see the phrase "What kind of car does Edward Ableton want?"
    And I click the button "Ford Focus"
    Then I should see the phrase "What kind of car does Melissa Duncan want?"
    And I click the button "Toyota Camry"
    Then I should see the phrase "Edward Ableton needs to go to a Ford dealership and ask if they have a Focus for sale."
    And I should see the phrase "Melissa Duncan needs to go to a Toyota dealership and ask if they have a Camry for sale."

  Scenario: Test the interview "Collect"
    Given I start the interview "docassemble.base:data/questions/examples/list-collect-options.yml"
    Then I should see the phrase "Tell me about the fruit."
    And I set the second "Fruit name" to "orange"
    And I set the second "Number of seeds" to "2"
    And I click the button " Add another"
    And I wait 1 second
    And I set the third "Fruit name" to "grapes"
    And I set the third "Number of seeds" to "0"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more fruit?"
    And I click the button "No"
    Then I should see the phrase "Summary of fruit"
    And I click the button " Add another"
    Then I should see the phrase "Tell me about the fruit."
    And I set "Fruit name" to "banana"
    And I set "Number of seeds" to "100"
    And I click the button "Continue"
    Then I should see the phrase "apple"
    And I should see the phrase "orange"
    And I should see the phrase "grapes"
    And I should see the phrase "banana"
    And I click the second link " Edit"
    And I set "Fruit name" to "starfruit"
    And I set "Number of seeds" to "9"
    And I click the button "Continue"
    Then I should not see the phrase "orange"
    And I should see the phrase "starfruit"

  Scenario: Test the interview "Collect"
    Given I start the interview "docassemble.base:data/questions/examples/list-collect.yml"
    Then I should see the phrase "Tell me about the fruit."
    And I set the second "Fruit name" to "orange"
    And I set the second "Number of seeds" to "2"
    And I click the button " Add another"
    And I wait 1 second
    And I set the third "Fruit name" to "grapes"
    And I set the third "Number of seeds" to "0"
    And I click the button "Continue"
    Then I should see the phrase "apple"
    And I should see the phrase "orange"
    And I should see the phrase "grapes"
    And I click the second link " Edit"
    And I click the button " Add another"
    And I wait 1 second
    And I set the fourth "Fruit name" to "starfruit"
    And I set the fourth "Number of seeds" to "9"
    And I click the button "Continue"
    Then I should see the phrase "apple"
    And I should see the phrase "orange"
    And I should see the phrase "grapes"
    And I should see the phrase "starfruit"

  Scenario: Test the interview "Image upload type"
    Given I start the interview "docassemble.base:data/questions/examples/upload-max-image-size-type-features.yml"
    Then I should see the phrase "Please upload a picture of yourself."

  Scenario: Test the interview "Image upload type"
    Given I start the interview "docassemble.base:data/questions/examples/upload-max-image-size-type.yml"
    Then I should see the phrase "Please upload a picture of yourself."

  Scenario: Test the interview "Hybrid desktop/smartphone"
    Given I start the interview "docassemble.demo:data/questions/examples/food-with-sig.yml"
    Then I should see the phrase "What is your name?"
    And I set "First name" to "Eduardo"
    And I set "Last name" to "Fuentes"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apricot"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I set "Vegetable" to "turnip"
    And I click the button "Continue"
    Then I should see the phrase "Now we need your signature."
    And I click the button "Continue"
    Then I should see the phrase "Do you have a mobile device?"
    And I click the button "No"
    Then I should see the phrase "Sign your name"
    And I click inside the signature area
    And I click the button "Continue"
    Then I should see the phrase "Here is your document."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Sign"
    Given I start the interview "docassemble.demo:data/questions/examples/sign.yml"
    Then I should see the phrase "Collect an electronic signature"
    And I click the button "Continue"
    Then I should see the phrase "What is your e-mail address?"
    And I set "E-mail" to "info@docassemble.org"
    And I click the button "Continue"
    Then I should see the phrase "Please upload the document you want to be signed."

  # Scenario: Test the interview "Signature diversion"
  #   Given I start the interview "docassemble.demo:data/questions/examples/signature-diversion.yml"

  Scenario: Test the interview "Single to double newlines"
    Given I start the interview "docassemble.base:data/questions/examples/single_to_double_newlines.yml"
    Then I should see the phrase "Tell me your life story."
    And I set the text area to "I was born.  I went to school.  I went to work."
    And I click the button "Continue"
    Then I should see the phrase "Here is your first book."
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Advice"
    Given I start the interview "docassemble.demo:data/questions/examples/advocate.yml"
    Then I should see the phrase "What is your child’s name?"
    And I set "First name" to "Sally"
    And I click the button "Continue"
    Then I should see the phrase "Please explain how the custody arrangement you propose would meet Sally’s need for stability and continuity in her education, family life and community life."
    And I set the text area to "She would like it better."
    And I click the button "Continue"
    Then I should see the phrase "Please wait."

  # Scenario: Test the interview "Get data from Google Sheet"
  #   Given I start the interview "docassemble.demo:data/questions/examples/google-sheet-2.yml"

  # Scenario: Test the interview "Google Sheets mail merge"
  #   Given I start the interview "docassemble.demo:data/questions/examples/google-sheet-3.yml"

  # Scenario: Test the interview "Upload file size"
  #   Given I start the interview "docassemble.demo:data/questions/examples/upload-file-size.yml"

  Scenario: Test the interview "Get DOCX variables"
    Given I start the interview "docassemble.base:data/questions/examples/get-docx-variables.yml"
    Then I should see the phrase "The variables in the DOCX file"
    And I should see the phrase "adverse_party"
    And I should see the phrase "subject_matter"

  Scenario: Test the interview "Get PDF fields"
    Given I start the interview "docassemble.base:data/questions/examples/get-pdf-fields.yml"
    Then I should see the phrase "The field names in the PDF file"
    And I should see the phrase "favorite_fruit"
    And I should see the phrase "favorite_fungus"

  Scenario: Test the interview "Life story"
    Given I start the interview "docassemble.demo:data/questions/examples/life_story.yml"
    Then I should see the phrase "Tell me your life story."
    And I set the text area to "I was born in a fjord.  I left the fjord when I was 10 to start my first company."
    And I click the button "Continue"
    Then I should see the phrase "Here is your first book."
    And I should see the phrase "The following document has been created for you."
    And I should see the phrase "Story of My Life"

  Scenario: Test the interview "Two-stage assembly"
    Given I start the interview "docassemble.demo:data/questions/examples/twostage.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Favorite fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "All done"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Hello World"
    Given I start the interview "docassemble.demo:data/questions/hello7.yml"
    Then I should see the phrase "What is your planet’s name?"
    And I set "Your Planet" to "Pluto"
    And I click the button "Continue"
    Then I should see the phrase "Hello, Pluto!"

  # Scenario: Test the interview "Relationships"
  #   Given I start the interview "docassemble.base:data/questions/examples/relationships.yml"

  Scenario: Test the interview "DAContext"
    Given I start the interview "docassemble.demo:data/questions/examples/context.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I select "Orange" as the "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is Orange."
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "DAContext from code"
    Given I start the interview "docassemble.demo:data/questions/examples/context-code.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I select "Peach" as the "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is Peach."
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "DAContext initialization"
    Given I start the interview "docassemble.demo:data/questions/examples/context-manual.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I select "Orange" as the "Fruit"
    And I click the button "Continue"
    Then I should see the phrase "Your favorite fruit is Orange."
    And I should see the phrase "The following documents have been created for you."

  Scenario: Test the interview "DADateTime API"
    Given I start the interview "docassemble.base:data/questions/examples/dadatetime.yml"
    Then I should see the phrase "The session ID of this interview is"
    And I set "Date" to "01/01/2019"
    And I click the button "Continue"
    Then I should see the phrase "The date you entered was January 1, 2019."

  Scenario: Test the interview "Edit list"
    Given I start the interview "docassemble.base:data/questions/examples/edit-list-string.yml"
    Then I should see the phrase "Who is the first person?"
    And I set "Name" to "Fred"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "Yes"
    Then I should see the phrase "Who is the second person?"
    And I set "Name" to "Ralph"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more people you would like to mention?"
    And I click the button "No"
    Then I should see the phrase "The people are Fred and Ralph."
    And I click the button " Add another"
    Then I should see the phrase "Who is the third person?"
    And I set "Name" to "Sally"
    And I click the button "Continue"
    Then I should see the phrase "The people are Fred, Ralph, and Sally."
    And I click the first link " Edit"
    And I set "Name" to "Frederick"
    And I click the button "Continue"
    Then I should see the phrase "The people are Frederick, Ralph, and Sally."
    And I click the first link " Delete"
    Then I should see the phrase "The people are Ralph and Sally."

  Scenario: Test the interview "Collect"
    Given I start the interview "docassemble.base:data/questions/examples/list-collect-string.yml"
    Then I should see the phrase "Tell me about the fruit."
    And I click the button " Add another"
    And I wait 1 second
    And I set the second "Fruit name" to "orange"
    And I click the button "Continue"
    Then I should see the phrase "Summary of fruit"
    And I should see the phrase "apple"
    And I should see the phrase "orange"
    And I click the first link " Edit"
    Then I should see the phrase "Tell me about the fruit."
    And I set the first "Fruit name" to "peach"
    And I click the button "Continue"
    Then I should see the phrase "Summary of fruit"
    And I should see the phrase "peach"
    And I should see the phrase "orange"
    And I should not see the phrase "apple"

  Scenario: Test the interview "Sort list"
    Given I start the interview "docassemble.base:data/questions/examples/sort.yml"
    Then I should see the phrase "Tell me about the first building."
    And I set "Name" to "Dirt hut"
    And I set "Stories" to "1"
    And I click the button "Continue"
    Then I should see the phrase "Tell me about the second building."
    And I set "Name" to "Empire State Building"
    And I set "Stories" to "102"
    And I click the button "Continue"
    Then I should see the phrase "Are there any more buildings you would like to list?"
    And I click the button "No"
    Then I should see the phrase "Your buildings"
    And I should see the phrase "Dirt hut is one story tall."
    And I should see the phrase "Empire State Building is 102 stories tall."

  Scenario: Test the interview "Table for dictionary"
    Given I start the interview "docassemble.base:data/questions/examples/table-dict-string.yml"
    Then I should see the phrase "Summary of income"
    And I should see the phrase "benefits"
    And I should see the phrase "employment"
    And I should see the phrase "interest"
    And I click the button " Add another"
    Then I should see the phrase "What type of income would you like to add?"
    And I set "Type of income" to "dividends"
    And I click the button "Continue"
    Then I should see the phrase "Income from dividends"
    And I set "How much income do you get from dividends?" to "102"
    And I click the button "Continue"
    Then I should see the phrase "Summary of income"
    And I should see the phrase "dividends"
    And I click the first link " Edit"
    Then I should see the phrase "Income from"

  Scenario: Test the interview "Flags"
    Given I start the interview "docassemble.demo:data/questions/examples/flags.yml"
    Then I should see the phrase "Pick a language"
    And I click the button "English"
    Then I should see the phrase "You picked en."

  # Scenario: Test the interview "OAuth with Google"
  #   Given I start the interview "docassemble.demo:data/questions/examples/oauth-test.yml"

  Scenario: Test the interview "Signature template"
    Given I start the interview "docassemble.demo:data/questions/examples/signature-template.yml"
    Then I should see the phrase "Tell me about the first signer."
    And I set "First Name" to "Fred"
    And I set "Last Name" to "Jones"
    And I click the button "Continue"
    Then I should see the phrase "Is there another signer?"
    And I click the button "No"
    Then I should see the phrase "The following document has been created for you."
    And I should see the phrase "Here is your document."

  Scenario: Test the interview "DAStore"
    Given I start the interview "docassemble.base:data/questions/examples/dastore.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "sea cucumber"
    And I click the button "Continue"
    Then I should see the phrase "All done"
    And I should see the phrase "sea cucumber"

  Scenario: Test the interview "Temporary link for sharing"
    Given I start the interview "docassemble.base:data/questions/examples/interview-url-temp.yml"
    Then I should see the phrase "Ready to proceed?"
    And I click the button "Yes"
    Then I should see the phrase "All done"

  Scenario: Test the interview "Billing and shipping 2"
    Given I start the interview "docassemble.base:data/questions/examples/object-radio-address-2.yml"
    Then I should see the phrase "What is your billing address?"
    And I set "Address" to "211 S 11th St"
    And I set "City" to "Philadelphia"
    And I select "Pennsylvania" as the "State"
    And I set "Zip" to "19107"
    And I click the button "Continue"
    Then I should see the phrase "What address should I use as your shipping address?"
    And I click the "Your billing address" option
    And I click the button "Continue"
    Then I should see the phrase "Your order"
    And I should see the phrase "I will send your bill to 211 S 11th St, Philadelphia, PA 19107."
    And I should see the phrase "I will ship your order to 211 S 11th St, Philadelphia, PA 19107."
    And I click the back button
    Then I should see the phrase "What address should I use as your shipping address?"
    And I click the "A different address" option
    And I click the button "Continue"
    Then I should see the phrase "What is your shipping address?"
    And I set "Address" to "222 S 13th St"
    And I set "City" to "Philadelphia"
    And I select "Pennsylvania" as the "State"
    And I set "Zip" to "19107"
    And I click the button "Continue"
    Then I should see the phrase "I will send your bill to 211 S 11th St, Philadelphia, PA 19107."
    And I should see the phrase "I will ship your order to 222 S 13th St, Philadelphia, PA 19107."

  Scenario: Test the interview "Billing and shipping 3"
    Given I start the interview "docassemble.base:data/questions/examples/object-radio-address.yml"
    Then I should see the phrase "What is your billing address?"
    And I set "Address" to "211 S 11th St"
    And I set "City" to "Philadelphia"
    And I select "Pennsylvania" as the "State"
    And I set "Zip" to "19107"
    And I click the button "Continue"
    Then I should see the phrase "What is your shipping address?"
    And I click the "211 S 11th St, Philadelphia, PA 19107" option
    And I wait 1 second
    And I click the button "Continue"
    And I should see the phrase "I will send your bill to 211 S 11th St, Philadelphia, PA 19107."
    And I should see the phrase "I will ship your order to 211 S 11th St, Philadelphia, PA 19107."
    And I click the back button
    Then I should see the phrase "What is your shipping address?"
    And I click the "A new address" option
    And I wait 1 second
    And I set "Address" to "222 S 13th St"
    And I set "City" to "Philadelphia"
    And I select "Pennsylvania" as the "State"
    And I set "Zip" to "19107"
    And I click the button "Continue"
    Then I should see the phrase "I will send your bill to 211 S 11th St, Philadelphia, PA 19107."
    And I should see the phrase "I will ship your order to 222 S 13th St, Philadelphia, PA 19107."

  Scenario: Test the interview "Displaying progress"
    Given I start the interview "docassemble.demo:data/questions/examples/background-tail.yml"
    Then I should see the phrase "How much shall I add to 553?"
    And I set "Number" to "2"
    And I click the button "Continue"
    And I wait 7 seconds
    Then I should see the phrase "Waking up"
    And I wait 12 seconds
    Then I should see the phrase "Ok, I am awake now."
    And I wait 18 seconds
    Then I should see the phrase "I did the hard work."
    And I wait 18 seconds
    Then I should see the phrase "Ok, I am done"
    And I should see the phrase "The answer is 555."

  Scenario: Test the interview "DOCX properties"
    Given I start the interview "docassemble.demo:data/questions/examples/docxproperties.yml"
    Then I should see the phrase "What planet are you from?"
    And I set "Planet" to "the Moon"
    And I click the button "Continue"
    Then I should see the phrase "What is your name?"
    And I set "Name" to "John Smith"
    And I click the button "Continue"
    Then I should see the phrase "Your document"
    And I should see the phrase "The following document has been created for you."

  Scenario: Test the interview "Explain"
    Given I start the interview "docassemble.demo:data/questions/examples/explain.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I select "orange" as the "Favorite fruit"
    And I click the button "Continue"
    Then I should see the phrase "What is your favorite vegetable?"
    And I select "turnip" as the "Favorite vegetable"
    And I click the button "Continue"
    Then I should see the phrase "You are not allowed to enter the space program."
    And I should see the phrase "You said your favorite fruit was orange."
    And I should see the phrase "You also said your favorite vegetable was turnip."
    And I should see the phrase "Because your favorite vegetable is disgusting, you are not eligible for the space program."

  Scenario: Test the interview "Generic document"
    Given I start the interview "docassemble.demo:data/questions/examples/generic-document.yml"
    Then I should see the phrase "What is the name of the plaintiff?"
    And I set "Name" to "Graham"
    And I click the button "Continue"
    Then I should see the phrase "What is the name of the defendant?"
    And I set "Name" to "Michael"
    And I click the button "Continue"
    Then I should see the phrase "Here are your documents."
    And I should see the phrase "The following documents have been created for you."
    And I should see the phrase "Document for Graham"
    And I should see the phrase "Document for Michael"

  Scenario: Test the interview "Action buttons"
    Given I start the interview "docassemble.base:data/questions/examples/action-buttons-before.yml"
    Then I should see the phrase "I will give you four apples."
    And I click the link " More"
    Then I should see the phrase "I will give you five apples"
    And I click the link " Less"
    Then I should see the phrase "I will give you four apples."
    And I click the button "Continue"
    Then I should see the phrase "Enjoy eating your four apples!"

  Scenario: Test the interview "Action buttons code"
    Given I start the interview "docassemble.base:data/questions/examples/action-buttons-code.yml"
    Then I should see the phrase "What is your favorite fruit?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Thank you for that information."
    And I click the link "Eat apple"
    Then I should see the phrase "Nom nom nom."
    And I click the button "Continue"
    Then I should see the phrase "This concludes the interview."

  Scenario: Test the interview "Action buttons"
    Given I start the interview "docassemble.base:data/questions/examples/action-buttons.yml"
    Then I should see the phrase "I will give you four apples."
    And I click the link " More"
    Then I should see the phrase "I will give you five apples"
    And I click the link " Less"
    Then I should see the phrase "I will give you four apples."
    And I click the button "Continue"
    Then I should see the phrase "Enjoy eating your four apples!"

  Scenario: Test the interview "Add separators"
    Given I start the interview "docassemble.base:data/questions/examples/add-separators.yml"
    Then I should see the phrase "Are there any fruit that you like?"
    And I click the button "Yes"
    Then I should see the phrase "What is the first fruit that you like?"
    And I set "Fruit" to "apple"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruit that you like?"
    And I click the button "Yes"
    Then I should see the phrase "What is the second fruit that you like?"
    And I set "Fruit" to "peach"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruit that you like?"
    And I click the button "Yes"
    Then I should see the phrase "What is the third fruit that you like?"
    And I set "Fruit" to "pear"
    And I click the button "Continue"
    Then I should see the phrase "Are there any other fruit that you like?"
    And I click the button "No"
    Then I should see the phrase "Fruits"
    And I should see the phrase "apple;"
    And I should see the phrase "peach; and"
    And I should see the phrase "pear."

  Scenario: Test the interview "CSS class for question"
    Given I start the interview "docassemble.base:data/questions/examples/css-class.yml"
    Then I should see the phrase "View the source and look for the word"

  Scenario: Test the interview "Dependencies"
    Given I start the interview "docassemble.base:data/questions/examples/depends-on-code.yml"
    Then I should see the phrase "What is A?"
    And I set "A" to "5"
    And I click the button "Continue"
    Then I should see the phrase "Review your answers."
    And I should see the phrase "A is 5.0."
    And I should see the phrase "B is 25.0."
    And I should see the phrase "C is 30.0."
    And I click the link "Edit A"
    Then I should see the phrase "What is A?"
    And I set "A" to "4"
    And I click the button "Continue"
    Then I should see the phrase "Review your answers."
    And I should see the phrase "A is 4.0."
    And I should see the phrase "B is 16.0."
    And I should see the phrase "C is 20.0."

  Scenario: Test the interview "Dependencies"
    Given I start the interview "docassemble.base:data/questions/examples/depends-on-iterator.yml"
    Then I should see the phrase "What is the name of the first person?"
    And I set "First name" to "John"
    And I set "Last name" to "Smith"
    And I click the button "Continue"
    Then I should see the phrase "How frequently does John Smith get paid?"
    And I choose "Monthly"
    And I click the button "Continue"
    Then I should see the phrase "How much does John Smith get paid per pay period?"
    And I set "Amount" to "2000"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "Yes"
    Then I should see the phrase "What is the name of the second person?"
    And I set "First name" to "Jane"
    And I set "Last name" to "Doe"
    And I click the button "Continue"
    Then I should see the phrase "How frequently does Jane Doe get paid?"
    And I choose "Weekly"
    And I click the button "Continue"
    Then I should see the phrase "How much does Jane Doe get paid per pay period?"
    And I set "Amount" to "1000"
    And I click the button "Continue"
    Then I should see the phrase "Is there another person?"
    And I click the button "No"
    Then I should see the phrase "Summary"
    And I should see the phrase "John Smith makes $2,000.00 12 times per year, for an annual income of $24,000.00."
    And I should see the phrase "Jane Doe makes $1,000.00 52 times per year, for an annual income of $52,000.00."
    And I click the link "Review"
    Then I should see the phrase "Review"
    And I click the first link " Edit"
    Then I should see the phrase "What is the name of the first person?"
    And I click the button "Continue"
    Then I should see the phrase "How frequently does John Smith get paid?"
    And I choose "Weekly"
    And I click the button "Continue"
    Then I should see the phrase "How much does John Smith get paid per pay period?"

  Scenario: Test the interview "Dependencies"
    Given I start the interview "docassemble.base:data/questions/examples/depends-on.yml"
    Then I should see the phrase "What is A?"
    And I set "A" to "5"
    And I click the button "Continue"
    Then I should see the phrase "What is the square of 5.0?"
    And I set "B" to "25"
    And I click the button "Continue"
    Then I should see the phrase "Review your answers."
    And I should see the phrase "A is 5.0."
    And I should see the phrase "B is 25.0."
    And I should see the phrase "C is 30.0."
    And I click the link "Edit A"
    Then I should see the phrase "What is A?"
    And I set "A" to "4"
    And I click the button "Continue"
    Then I should see the phrase "What is the square of 4.0?"
    And I set "B" to "16"
    And I click the button "Continue"
    Then I should see the phrase "Review your answers."
    And I should see the phrase "A is 4.0."
    And I should see the phrase "B is 16.0."
    And I should see the phrase "C is 20.0."
